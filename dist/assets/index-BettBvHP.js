var FN=e=>{throw TypeError(e)};var jx=(e,t,r)=>t.has(e)||FN("Cannot "+r);var je=(e,t,r)=>(jx(e,t,"read from private field"),r?r.call(e):t.get(e)),zt=(e,t,r)=>t.has(e)?FN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),yt=(e,t,r,n)=>(jx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),un=(e,t,r)=>(jx(e,t,"access private method"),r);var rm=(e,t,r,n)=>({set _(a){yt(e,t,a,r)},get _(){return je(e,t,n)}});function P8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function z1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r3={exports:{}},Lg={},n3={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=Symbol.for("react.element"),M8=Symbol.for("react.portal"),I8=Symbol.for("react.fragment"),A8=Symbol.for("react.strict_mode"),O8=Symbol.for("react.profiler"),R8=Symbol.for("react.provider"),D8=Symbol.for("react.context"),L8=Symbol.for("react.forward_ref"),$8=Symbol.for("react.suspense"),F8=Symbol.for("react.memo"),z8=Symbol.for("react.lazy"),zN=Symbol.iterator;function B8(e){return e===null||typeof e!="object"?null:(e=zN&&e[zN]||e["@@iterator"],typeof e=="function"?e:null)}var s3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a3=Object.assign,o3={};function Ad(e,t,r){this.props=e,this.context=t,this.refs=o3,this.updater=r||s3}Ad.prototype.isReactComponent={};Ad.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ad.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function i3(){}i3.prototype=Ad.prototype;function B1(e,t,r){this.props=e,this.context=t,this.refs=o3,this.updater=r||s3}var U1=B1.prototype=new i3;U1.constructor=B1;a3(U1,Ad.prototype);U1.isPureReactComponent=!0;var BN=Array.isArray,l3=Object.prototype.hasOwnProperty,V1={current:null},c3={key:!0,ref:!0,__self:!0,__source:!0};function d3(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)l3.call(t,n)&&!c3.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:th,type:e,key:o,ref:i,props:a,_owner:V1.current}}function U8(e,t){return{$$typeof:th,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function H1(e){return typeof e=="object"&&e!==null&&e.$$typeof===th}function V8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var UN=/\/+/g;function Nx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?V8(""+e.key):t.toString(36)}function Jm(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case th:case M8:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Nx(i,0):n,BN(a)?(r="",e!=null&&(r=e.replace(UN,"$&/")+"/"),Jm(a,t,r,"",function(d){return d})):a!=null&&(H1(a)&&(a=U8(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(UN,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",BN(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Nx(o,l);i+=Jm(o,t,r,c,a)}else if(c=B8(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Nx(o,l++),i+=Jm(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function nm(e,t,r){if(e==null)return e;var n=[],a=0;return Jm(e,n,"","",function(o){return t.call(r,o,a++)}),n}function H8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var An={current:null},Zm={transition:null},W8={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:Zm,ReactCurrentOwner:V1};function u3(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:nm,forEach:function(e,t,r){nm(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nm(e,function(){t++}),t},toArray:function(e){return nm(e,function(t){return t})||[]},only:function(e){if(!H1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Et.Component=Ad;Et.Fragment=I8;Et.Profiler=O8;Et.PureComponent=B1;Et.StrictMode=A8;Et.Suspense=$8;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W8;Et.act=u3;Et.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=a3({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=V1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)l3.call(t,c)&&!c3.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:th,type:e.type,key:a,ref:o,props:n,_owner:i}};Et.createContext=function(e){return e={$$typeof:D8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:R8,_context:e},e.Consumer=e};Et.createElement=d3;Et.createFactory=function(e){var t=d3.bind(null,e);return t.type=e,t};Et.createRef=function(){return{current:null}};Et.forwardRef=function(e){return{$$typeof:L8,render:e}};Et.isValidElement=H1;Et.lazy=function(e){return{$$typeof:z8,_payload:{_status:-1,_result:e},_init:H8}};Et.memo=function(e,t){return{$$typeof:F8,type:e,compare:t===void 0?null:t}};Et.startTransition=function(e){var t=Zm.transition;Zm.transition={};try{e()}finally{Zm.transition=t}};Et.unstable_act=u3;Et.useCallback=function(e,t){return An.current.useCallback(e,t)};Et.useContext=function(e){return An.current.useContext(e)};Et.useDebugValue=function(){};Et.useDeferredValue=function(e){return An.current.useDeferredValue(e)};Et.useEffect=function(e,t){return An.current.useEffect(e,t)};Et.useId=function(){return An.current.useId()};Et.useImperativeHandle=function(e,t,r){return An.current.useImperativeHandle(e,t,r)};Et.useInsertionEffect=function(e,t){return An.current.useInsertionEffect(e,t)};Et.useLayoutEffect=function(e,t){return An.current.useLayoutEffect(e,t)};Et.useMemo=function(e,t){return An.current.useMemo(e,t)};Et.useReducer=function(e,t,r){return An.current.useReducer(e,t,r)};Et.useRef=function(e){return An.current.useRef(e)};Et.useState=function(e){return An.current.useState(e)};Et.useSyncExternalStore=function(e,t,r){return An.current.useSyncExternalStore(e,t,r)};Et.useTransition=function(){return An.current.useTransition()};Et.version="18.3.1";n3.exports=Et;var u=n3.exports;const ue=z1(u),W1=P8({__proto__:null,default:ue},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G8=u,q8=Symbol.for("react.element"),K8=Symbol.for("react.fragment"),Y8=Object.prototype.hasOwnProperty,X8=G8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q8={key:!0,ref:!0,__self:!0,__source:!0};function f3(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Y8.call(t,n)&&!Q8.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:q8,type:e,key:o,ref:i,props:a,_owner:X8.current}}Lg.Fragment=K8;Lg.jsx=f3;Lg.jsxs=f3;r3.exports=Lg;var s=r3.exports,h3={exports:{}},xs={},m3={exports:{}},p3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,I){var R=D.length;D.push(I);e:for(;0<R;){var q=R-1>>>1,z=D[q];if(0<a(z,I))D[q]=I,D[R]=z,R=q;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var I=D[0],R=D.pop();if(R!==I){D[0]=R;e:for(var q=0,z=D.length,Z=z>>>1;q<Z;){var ce=2*(q+1)-1,F=D[ce],J=ce+1,L=D[J];if(0>a(F,R))J<z&&0>a(L,F)?(D[q]=L,D[J]=R,q=J):(D[q]=F,D[ce]=R,q=ce);else if(J<z&&0>a(L,R))D[q]=L,D[J]=R,q=J;else break e}}return I}function a(D,I){var R=D.sortIndex-I.sortIndex;return R!==0?R:D.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],f=1,h=null,m=3,p=!1,g=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var I=r(d);I!==null;){if(I.callback===null)n(d);else if(I.startTime<=D)n(d),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(d)}}function j(D){if(x=!1,w(D),!g)if(r(c)!==null)g=!0,le(N);else{var I=r(d);I!==null&&K(j,I.startTime-D)}}function N(D,I){g=!1,x&&(x=!1,y(_),_=-1),p=!0;var R=m;try{for(w(I),h=r(c);h!==null&&(!(h.expirationTime>I)||D&&!T());){var q=h.callback;if(typeof q=="function"){h.callback=null,m=h.priorityLevel;var z=q(h.expirationTime<=I);I=e.unstable_now(),typeof z=="function"?h.callback=z:h===r(c)&&n(c),w(I)}else n(c);h=r(c)}if(h!==null)var Z=!0;else{var ce=r(d);ce!==null&&K(j,ce.startTime-I),Z=!1}return Z}finally{h=null,m=R,p=!1}}var S=!1,k=null,_=-1,C=5,E=-1;function T(){return!(e.unstable_now()-E<C)}function A(){if(k!==null){var D=e.unstable_now();E=D;var I=!0;try{I=k(!0,D)}finally{I?W():(S=!1,k=null)}}else S=!1}var W;if(typeof v=="function")W=function(){v(A)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,te=P.port2;P.port1.onmessage=A,W=function(){te.postMessage(null)}}else W=function(){b(A,0)};function le(D){k=D,S||(S=!0,W())}function K(D,I){_=b(function(){D(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,le(N))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var R=m;m=I;try{return D()}finally{m=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,I){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var R=m;m=D;try{return I()}finally{m=R}},e.unstable_scheduleCallback=function(D,I,R){var q=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?q+R:q):R=q,D){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=R+z,D={id:f++,callback:I,priorityLevel:D,startTime:R,expirationTime:z,sortIndex:-1},R>q?(D.sortIndex=R,t(d,D),r(c)===null&&D===r(d)&&(x?(y(_),_=-1):x=!0,K(j,R-q))):(D.sortIndex=z,t(c,D),g||p||(g=!0,le(N))),D},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(D){var I=m;return function(){var R=m;m=I;try{return D.apply(this,arguments)}finally{m=R}}}})(p3);m3.exports=p3;var J8=m3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z8=u,us=J8;function Ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g3=new Set,af={};function Vl(e,t){ud(e,t),ud(e+"Capture",t)}function ud(e,t){for(af[e]=t,e=0;e<t.length;e++)g3.add(t[e])}var ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vv=Object.prototype.hasOwnProperty,eL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VN={},HN={};function tL(e){return vv.call(HN,e)?!0:vv.call(VN,e)?!1:eL.test(e)?HN[e]=!0:(VN[e]=!0,!1)}function rL(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nL(e,t,r,n){if(t===null||typeof t>"u"||rL(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function On(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){an[e]=new On(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];an[t]=new On(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){an[e]=new On(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){an[e]=new On(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){an[e]=new On(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){an[e]=new On(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){an[e]=new On(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){an[e]=new On(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){an[e]=new On(e,5,!1,e.toLowerCase(),null,!1,!1)});var G1=/[\-:]([a-z])/g;function q1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(G1,q1);an[t]=new On(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(G1,q1);an[t]=new On(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(G1,q1);an[t]=new On(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){an[e]=new On(e,1,!1,e.toLowerCase(),null,!1,!1)});an.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){an[e]=new On(e,1,!1,e.toLowerCase(),null,!0,!0)});function K1(e,t,r,n){var a=an.hasOwnProperty(t)?an[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nL(t,r,a,n)&&(r=null),n||a===null?tL(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ko=Z8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sm=Symbol.for("react.element"),Nc=Symbol.for("react.portal"),Sc=Symbol.for("react.fragment"),Y1=Symbol.for("react.strict_mode"),bv=Symbol.for("react.profiler"),x3=Symbol.for("react.provider"),y3=Symbol.for("react.context"),X1=Symbol.for("react.forward_ref"),wv=Symbol.for("react.suspense"),jv=Symbol.for("react.suspense_list"),Q1=Symbol.for("react.memo"),Bo=Symbol.for("react.lazy"),v3=Symbol.for("react.offscreen"),WN=Symbol.iterator;function ou(e){return e===null||typeof e!="object"?null:(e=WN&&e[WN]||e["@@iterator"],typeof e=="function"?e:null)}var jr=Object.assign,Sx;function Eu(e){if(Sx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Sx=t&&t[1]||""}return`
`+Sx+e}var kx=!1;function Cx(e,t){if(!e||kx)return"";kx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{kx=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Eu(e):""}function sL(e){switch(e.tag){case 5:return Eu(e.type);case 16:return Eu("Lazy");case 13:return Eu("Suspense");case 19:return Eu("SuspenseList");case 0:case 2:case 15:return e=Cx(e.type,!1),e;case 11:return e=Cx(e.type.render,!1),e;case 1:return e=Cx(e.type,!0),e;default:return""}}function Nv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sc:return"Fragment";case Nc:return"Portal";case bv:return"Profiler";case Y1:return"StrictMode";case wv:return"Suspense";case jv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case y3:return(e.displayName||"Context")+".Consumer";case x3:return(e._context.displayName||"Context")+".Provider";case X1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q1:return t=e.displayName||null,t!==null?t:Nv(e.type)||"Memo";case Bo:t=e._payload,e=e._init;try{return Nv(e(t))}catch{}}return null}function aL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nv(t);case 8:return t===Y1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function b3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oL(e){var t=b3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function am(e){e._valueTracker||(e._valueTracker=oL(e))}function w3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=b3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Mp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sv(e,t){var r=t.checked;return jr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function GN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=bi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function j3(e,t){t=t.checked,t!=null&&K1(e,"checked",t,!1)}function kv(e,t){j3(e,t);var r=bi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cv(e,t.type,r):t.hasOwnProperty("defaultValue")&&Cv(e,t.type,bi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Cv(e,t,r){(t!=="number"||Mp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Tu=Array.isArray;function Bc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+bi(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function _v(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ae(91));return jr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function KN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ae(92));if(Tu(r)){if(1<r.length)throw Error(Ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:bi(r)}}function N3(e,t){var r=bi(t.value),n=bi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function YN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function S3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ev(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?S3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var om,k3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(om=om||document.createElement("div"),om.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=om.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function of(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $u={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iL=["Webkit","ms","Moz","O"];Object.keys($u).forEach(function(e){iL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$u[t]=$u[e]})});function C3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$u.hasOwnProperty(e)&&$u[e]?(""+t).trim():t+"px"}function _3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=C3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var lL=jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tv(e,t){if(t){if(lL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ae(62))}}function Pv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mv=null;function J1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Iv=null,Uc=null,Vc=null;function XN(e){if(e=sh(e)){if(typeof Iv!="function")throw Error(Ae(280));var t=e.stateNode;t&&(t=Ug(t),Iv(e.stateNode,e.type,t))}}function E3(e){Uc?Vc?Vc.push(e):Vc=[e]:Uc=e}function T3(){if(Uc){var e=Uc,t=Vc;if(Vc=Uc=null,XN(e),t)for(e=0;e<t.length;e++)XN(t[e])}}function P3(e,t){return e(t)}function M3(){}var _x=!1;function I3(e,t,r){if(_x)return e(t,r);_x=!0;try{return P3(e,t,r)}finally{_x=!1,(Uc!==null||Vc!==null)&&(M3(),T3())}}function lf(e,t){var r=e.stateNode;if(r===null)return null;var n=Ug(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ae(231,t,typeof r));return r}var Av=!1;if(ho)try{var iu={};Object.defineProperty(iu,"passive",{get:function(){Av=!0}}),window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{Av=!1}function cL(e,t,r,n,a,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var Fu=!1,Ip=null,Ap=!1,Ov=null,dL={onError:function(e){Fu=!0,Ip=e}};function uL(e,t,r,n,a,o,i,l,c){Fu=!1,Ip=null,cL.apply(dL,arguments)}function fL(e,t,r,n,a,o,i,l,c){if(uL.apply(this,arguments),Fu){if(Fu){var d=Ip;Fu=!1,Ip=null}else throw Error(Ae(198));Ap||(Ap=!0,Ov=d)}}function Hl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function A3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function QN(e){if(Hl(e)!==e)throw Error(Ae(188))}function hL(e){var t=e.alternate;if(!t){if(t=Hl(e),t===null)throw Error(Ae(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return QN(a),e;if(o===n)return QN(a),t;o=o.sibling}throw Error(Ae(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(Ae(189))}}if(r.alternate!==n)throw Error(Ae(190))}if(r.tag!==3)throw Error(Ae(188));return r.stateNode.current===r?e:t}function O3(e){return e=hL(e),e!==null?R3(e):null}function R3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=R3(e);if(t!==null)return t;e=e.sibling}return null}var D3=us.unstable_scheduleCallback,JN=us.unstable_cancelCallback,mL=us.unstable_shouldYield,pL=us.unstable_requestPaint,Lr=us.unstable_now,gL=us.unstable_getCurrentPriorityLevel,Z1=us.unstable_ImmediatePriority,L3=us.unstable_UserBlockingPriority,Op=us.unstable_NormalPriority,xL=us.unstable_LowPriority,$3=us.unstable_IdlePriority,$g=null,Ra=null;function yL(e){if(Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot($g,e,void 0,(e.current.flags&128)===128)}catch{}}var aa=Math.clz32?Math.clz32:wL,vL=Math.log,bL=Math.LN2;function wL(e){return e>>>=0,e===0?32:31-(vL(e)/bL|0)|0}var im=64,lm=4194304;function Pu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=Pu(l):(o&=i,o!==0&&(n=Pu(o)))}else i=r&~a,i!==0?n=Pu(i):o!==0&&(n=Pu(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-aa(t),a=1<<r,n|=e[r],t&=~a;return n}function jL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-aa(o),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=jL(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Rv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function F3(){var e=im;return im<<=1,!(im&4194240)&&(im=64),e}function Ex(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-aa(t),e[t]=r}function SL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-aa(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function ew(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-aa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Xt=0;function z3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var B3,tw,U3,V3,H3,Dv=!1,cm=[],ai=null,oi=null,ii=null,cf=new Map,df=new Map,Wo=[],kL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZN(e,t){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":cf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":df.delete(t.pointerId)}}function lu(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=sh(t),t!==null&&tw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function CL(e,t,r,n,a){switch(t){case"focusin":return ai=lu(ai,e,t,r,n,a),!0;case"dragenter":return oi=lu(oi,e,t,r,n,a),!0;case"mouseover":return ii=lu(ii,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return cf.set(o,lu(cf.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,df.set(o,lu(df.get(o)||null,e,t,r,n,a)),!0}return!1}function W3(e){var t=ll(e.target);if(t!==null){var r=Hl(t);if(r!==null){if(t=r.tag,t===13){if(t=A3(r),t!==null){e.blockedOn=t,H3(e.priority,function(){U3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ep(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Mv=n,r.target.dispatchEvent(n),Mv=null}else return t=sh(r),t!==null&&tw(t),e.blockedOn=r,!1;t.shift()}return!0}function eS(e,t,r){ep(e)&&r.delete(t)}function _L(){Dv=!1,ai!==null&&ep(ai)&&(ai=null),oi!==null&&ep(oi)&&(oi=null),ii!==null&&ep(ii)&&(ii=null),cf.forEach(eS),df.forEach(eS)}function cu(e,t){e.blockedOn===t&&(e.blockedOn=null,Dv||(Dv=!0,us.unstable_scheduleCallback(us.unstable_NormalPriority,_L)))}function uf(e){function t(a){return cu(a,e)}if(0<cm.length){cu(cm[0],e);for(var r=1;r<cm.length;r++){var n=cm[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ai!==null&&cu(ai,e),oi!==null&&cu(oi,e),ii!==null&&cu(ii,e),cf.forEach(t),df.forEach(t),r=0;r<Wo.length;r++)n=Wo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Wo.length&&(r=Wo[0],r.blockedOn===null);)W3(r),r.blockedOn===null&&Wo.shift()}var Hc=ko.ReactCurrentBatchConfig,Dp=!0;function EL(e,t,r,n){var a=Xt,o=Hc.transition;Hc.transition=null;try{Xt=1,rw(e,t,r,n)}finally{Xt=a,Hc.transition=o}}function TL(e,t,r,n){var a=Xt,o=Hc.transition;Hc.transition=null;try{Xt=4,rw(e,t,r,n)}finally{Xt=a,Hc.transition=o}}function rw(e,t,r,n){if(Dp){var a=Lv(e,t,r,n);if(a===null)$x(e,t,n,Lp,r),ZN(e,n);else if(CL(a,e,t,r,n))n.stopPropagation();else if(ZN(e,n),t&4&&-1<kL.indexOf(e)){for(;a!==null;){var o=sh(a);if(o!==null&&B3(o),o=Lv(e,t,r,n),o===null&&$x(e,t,n,Lp,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else $x(e,t,n,null,r)}}var Lp=null;function Lv(e,t,r,n){if(Lp=null,e=J1(n),e=ll(e),e!==null)if(t=Hl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=A3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lp=e,null}function G3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gL()){case Z1:return 1;case L3:return 4;case Op:case xL:return 16;case $3:return 536870912;default:return 16}default:return 16}}var Zo=null,nw=null,tp=null;function q3(){if(tp)return tp;var e,t=nw,r=t.length,n,a="value"in Zo?Zo.value:Zo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return tp=a.slice(e,1<n?1-n:void 0)}function rp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dm(){return!0}function tS(){return!1}function ys(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?dm:tS,this.isPropagationStopped=tS,this}return jr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dm)},persist:function(){},isPersistent:dm}),t}var Od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sw=ys(Od),nh=jr({},Od,{view:0,detail:0}),PL=ys(nh),Tx,Px,du,Fg=jr({},nh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==du&&(du&&e.type==="mousemove"?(Tx=e.screenX-du.screenX,Px=e.screenY-du.screenY):Px=Tx=0,du=e),Tx)},movementY:function(e){return"movementY"in e?e.movementY:Px}}),rS=ys(Fg),ML=jr({},Fg,{dataTransfer:0}),IL=ys(ML),AL=jr({},nh,{relatedTarget:0}),Mx=ys(AL),OL=jr({},Od,{animationName:0,elapsedTime:0,pseudoElement:0}),RL=ys(OL),DL=jr({},Od,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LL=ys(DL),$L=jr({},Od,{data:0}),nS=ys($L),FL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BL[e])?!!t[e]:!1}function aw(){return UL}var VL=jr({},nh,{key:function(e){if(e.key){var t=FL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aw,charCode:function(e){return e.type==="keypress"?rp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HL=ys(VL),WL=jr({},Fg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sS=ys(WL),GL=jr({},nh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aw}),qL=ys(GL),KL=jr({},Od,{propertyName:0,elapsedTime:0,pseudoElement:0}),YL=ys(KL),XL=jr({},Fg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QL=ys(XL),JL=[9,13,27,32],ow=ho&&"CompositionEvent"in window,zu=null;ho&&"documentMode"in document&&(zu=document.documentMode);var ZL=ho&&"TextEvent"in window&&!zu,K3=ho&&(!ow||zu&&8<zu&&11>=zu),aS=" ",oS=!1;function Y3(e,t){switch(e){case"keyup":return JL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kc=!1;function e$(e,t){switch(e){case"compositionend":return X3(t);case"keypress":return t.which!==32?null:(oS=!0,aS);case"textInput":return e=t.data,e===aS&&oS?null:e;default:return null}}function t$(e,t){if(kc)return e==="compositionend"||!ow&&Y3(e,t)?(e=q3(),tp=nw=Zo=null,kc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return K3&&t.locale!=="ko"?null:t.data;default:return null}}var r$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!r$[e.type]:t==="textarea"}function Q3(e,t,r,n){E3(n),t=$p(t,"onChange"),0<t.length&&(r=new sw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Bu=null,ff=null;function n$(e){lT(e,0)}function zg(e){var t=Ec(e);if(w3(t))return e}function s$(e,t){if(e==="change")return t}var J3=!1;if(ho){var Ix;if(ho){var Ax="oninput"in document;if(!Ax){var lS=document.createElement("div");lS.setAttribute("oninput","return;"),Ax=typeof lS.oninput=="function"}Ix=Ax}else Ix=!1;J3=Ix&&(!document.documentMode||9<document.documentMode)}function cS(){Bu&&(Bu.detachEvent("onpropertychange",Z3),ff=Bu=null)}function Z3(e){if(e.propertyName==="value"&&zg(ff)){var t=[];Q3(t,ff,e,J1(e)),I3(n$,t)}}function a$(e,t,r){e==="focusin"?(cS(),Bu=t,ff=r,Bu.attachEvent("onpropertychange",Z3)):e==="focusout"&&cS()}function o$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zg(ff)}function i$(e,t){if(e==="click")return zg(t)}function l$(e,t){if(e==="input"||e==="change")return zg(t)}function c$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var la=typeof Object.is=="function"?Object.is:c$;function hf(e,t){if(la(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!vv.call(t,a)||!la(e[a],t[a]))return!1}return!0}function dS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uS(e,t){var r=dS(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dS(r)}}function eT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tT(){for(var e=window,t=Mp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Mp(e.document)}return t}function iw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function d$(e){var t=tT(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&eT(r.ownerDocument.documentElement,r)){if(n!==null&&iw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=uS(r,o);var i=uS(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var u$=ho&&"documentMode"in document&&11>=document.documentMode,Cc=null,$v=null,Uu=null,Fv=!1;function fS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fv||Cc==null||Cc!==Mp(n)||(n=Cc,"selectionStart"in n&&iw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Uu&&hf(Uu,n)||(Uu=n,n=$p($v,"onSelect"),0<n.length&&(t=new sw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Cc)))}function um(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _c={animationend:um("Animation","AnimationEnd"),animationiteration:um("Animation","AnimationIteration"),animationstart:um("Animation","AnimationStart"),transitionend:um("Transition","TransitionEnd")},Ox={},rT={};ho&&(rT=document.createElement("div").style,"AnimationEvent"in window||(delete _c.animationend.animation,delete _c.animationiteration.animation,delete _c.animationstart.animation),"TransitionEvent"in window||delete _c.transitionend.transition);function Bg(e){if(Ox[e])return Ox[e];if(!_c[e])return e;var t=_c[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in rT)return Ox[e]=t[r];return e}var nT=Bg("animationend"),sT=Bg("animationiteration"),aT=Bg("animationstart"),oT=Bg("transitionend"),iT=new Map,hS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(e,t){iT.set(e,t),Vl(t,[e])}for(var Rx=0;Rx<hS.length;Rx++){var Dx=hS[Rx],f$=Dx.toLowerCase(),h$=Dx[0].toUpperCase()+Dx.slice(1);Ri(f$,"on"+h$)}Ri(nT,"onAnimationEnd");Ri(sT,"onAnimationIteration");Ri(aT,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri(oT,"onTransitionEnd");ud("onMouseEnter",["mouseout","mouseover"]);ud("onMouseLeave",["mouseout","mouseover"]);ud("onPointerEnter",["pointerout","pointerover"]);ud("onPointerLeave",["pointerout","pointerover"]);Vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mu));function mS(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,fL(n,t,void 0,e),e.currentTarget=null}function lT(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;mS(a,l,d),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;mS(a,l,d),o=c}}}if(Ap)throw e=Ov,Ap=!1,Ov=null,e}function or(e,t){var r=t[Hv];r===void 0&&(r=t[Hv]=new Set);var n=e+"__bubble";r.has(n)||(cT(t,e,2,!1),r.add(n))}function Lx(e,t,r){var n=0;t&&(n|=4),cT(r,e,n,t)}var fm="_reactListening"+Math.random().toString(36).slice(2);function mf(e){if(!e[fm]){e[fm]=!0,g3.forEach(function(r){r!=="selectionchange"&&(m$.has(r)||Lx(r,!1,e),Lx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fm]||(t[fm]=!0,Lx("selectionchange",!1,t))}}function cT(e,t,r,n){switch(G3(t)){case 1:var a=EL;break;case 4:a=TL;break;default:a=rw}r=a.bind(null,t,r,e),a=void 0,!Av||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function $x(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=ll(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}I3(function(){var d=o,f=J1(r),h=[];e:{var m=iT.get(e);if(m!==void 0){var p=sw,g=e;switch(e){case"keypress":if(rp(r)===0)break e;case"keydown":case"keyup":p=HL;break;case"focusin":g="focus",p=Mx;break;case"focusout":g="blur",p=Mx;break;case"beforeblur":case"afterblur":p=Mx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=IL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qL;break;case nT:case sT:case aT:p=RL;break;case oT:p=YL;break;case"scroll":p=PL;break;case"wheel":p=QL;break;case"copy":case"cut":case"paste":p=LL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sS}var x=(t&4)!==0,b=!x&&e==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var v=d,w;v!==null;){w=v;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=lf(v,y),j!=null&&x.push(pf(v,j,w)))),b)break;v=v.return}0<x.length&&(m=new p(m,g,null,r,f),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Mv&&(g=r.relatedTarget||r.fromElement)&&(ll(g)||g[mo]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=d,g=g?ll(g):null,g!==null&&(b=Hl(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(x=rS,j="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=sS,j="onPointerLeave",y="onPointerEnter",v="pointer"),b=p==null?m:Ec(p),w=g==null?m:Ec(g),m=new x(j,v+"leave",p,r,f),m.target=b,m.relatedTarget=w,j=null,ll(f)===d&&(x=new x(y,v+"enter",g,r,f),x.target=w,x.relatedTarget=b,j=x),b=j,p&&g)t:{for(x=p,y=g,v=0,w=x;w;w=oc(w))v++;for(w=0,j=y;j;j=oc(j))w++;for(;0<v-w;)x=oc(x),v--;for(;0<w-v;)y=oc(y),w--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=oc(x),y=oc(y)}x=null}else x=null;p!==null&&pS(h,m,p,x,!1),g!==null&&b!==null&&pS(h,b,g,x,!0)}}e:{if(m=d?Ec(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=s$;else if(iS(m))if(J3)N=l$;else{N=o$;var S=a$}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=i$);if(N&&(N=N(e,d))){Q3(h,N,r,f);break e}S&&S(e,m,d),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Cv(m,"number",m.value)}switch(S=d?Ec(d):window,e){case"focusin":(iS(S)||S.contentEditable==="true")&&(Cc=S,$v=d,Uu=null);break;case"focusout":Uu=$v=Cc=null;break;case"mousedown":Fv=!0;break;case"contextmenu":case"mouseup":case"dragend":Fv=!1,fS(h,r,f);break;case"selectionchange":if(u$)break;case"keydown":case"keyup":fS(h,r,f)}var k;if(ow)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else kc?Y3(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(K3&&r.locale!=="ko"&&(kc||_!=="onCompositionStart"?_==="onCompositionEnd"&&kc&&(k=q3()):(Zo=f,nw="value"in Zo?Zo.value:Zo.textContent,kc=!0)),S=$p(d,_),0<S.length&&(_=new nS(_,e,null,r,f),h.push({event:_,listeners:S}),k?_.data=k:(k=X3(r),k!==null&&(_.data=k)))),(k=ZL?e$(e,r):t$(e,r))&&(d=$p(d,"onBeforeInput"),0<d.length&&(f=new nS("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:d}),f.data=k))}lT(h,t)})}function pf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $p(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=lf(e,r),o!=null&&n.unshift(pf(e,o,a)),o=lf(e,t),o!=null&&n.push(pf(e,o,a))),e=e.return}return n}function oc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pS(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=lf(r,o),c!=null&&i.unshift(pf(r,c,l))):a||(c=lf(r,o),c!=null&&i.push(pf(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var p$=/\r\n?/g,g$=/\u0000|\uFFFD/g;function gS(e){return(typeof e=="string"?e:""+e).replace(p$,`
`).replace(g$,"")}function hm(e,t,r){if(t=gS(t),gS(e)!==t&&r)throw Error(Ae(425))}function Fp(){}var zv=null,Bv=null;function Uv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vv=typeof setTimeout=="function"?setTimeout:void 0,x$=typeof clearTimeout=="function"?clearTimeout:void 0,xS=typeof Promise=="function"?Promise:void 0,y$=typeof queueMicrotask=="function"?queueMicrotask:typeof xS<"u"?function(e){return xS.resolve(null).then(e).catch(v$)}:Vv;function v$(e){setTimeout(function(){throw e})}function Fx(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),uf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);uf(t)}function li(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Rd=Math.random().toString(36).slice(2),Ea="__reactFiber$"+Rd,gf="__reactProps$"+Rd,mo="__reactContainer$"+Rd,Hv="__reactEvents$"+Rd,b$="__reactListeners$"+Rd,w$="__reactHandles$"+Rd;function ll(e){var t=e[Ea];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mo]||r[Ea]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yS(e);e!==null;){if(r=e[Ea])return r;e=yS(e)}return t}e=r,r=e.parentNode}return null}function sh(e){return e=e[Ea]||e[mo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ec(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ae(33))}function Ug(e){return e[gf]||null}var Wv=[],Tc=-1;function Di(e){return{current:e}}function lr(e){0>Tc||(e.current=Wv[Tc],Wv[Tc]=null,Tc--)}function nr(e,t){Tc++,Wv[Tc]=e.current,e.current=t}var wi={},wn=Di(wi),Gn=Di(!1),Tl=wi;function fd(e,t){var r=e.type.contextTypes;if(!r)return wi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function qn(e){return e=e.childContextTypes,e!=null}function zp(){lr(Gn),lr(wn)}function vS(e,t,r){if(wn.current!==wi)throw Error(Ae(168));nr(wn,t),nr(Gn,r)}function dT(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ae(108,aL(e)||"Unknown",a));return jr({},r,n)}function Bp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wi,Tl=wn.current,nr(wn,e),nr(Gn,Gn.current),!0}function bS(e,t,r){var n=e.stateNode;if(!n)throw Error(Ae(169));r?(e=dT(e,t,Tl),n.__reactInternalMemoizedMergedChildContext=e,lr(Gn),lr(wn),nr(wn,e)):lr(Gn),nr(Gn,r)}var ro=null,Vg=!1,zx=!1;function uT(e){ro===null?ro=[e]:ro.push(e)}function j$(e){Vg=!0,uT(e)}function Li(){if(!zx&&ro!==null){zx=!0;var e=0,t=Xt;try{var r=ro;for(Xt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ro=null,Vg=!1}catch(a){throw ro!==null&&(ro=ro.slice(e+1)),D3(Z1,Li),a}finally{Xt=t,zx=!1}}return null}var Pc=[],Mc=0,Up=null,Vp=0,Ns=[],Ss=0,Pl=null,so=1,ao="";function sl(e,t){Pc[Mc++]=Vp,Pc[Mc++]=Up,Up=e,Vp=t}function fT(e,t,r){Ns[Ss++]=so,Ns[Ss++]=ao,Ns[Ss++]=Pl,Pl=e;var n=so;e=ao;var a=32-aa(n)-1;n&=~(1<<a),r+=1;var o=32-aa(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,so=1<<32-aa(t)+a|r<<a|n,ao=o+e}else so=1<<o|r<<a|n,ao=e}function lw(e){e.return!==null&&(sl(e,1),fT(e,1,0))}function cw(e){for(;e===Up;)Up=Pc[--Mc],Pc[Mc]=null,Vp=Pc[--Mc],Pc[Mc]=null;for(;e===Pl;)Pl=Ns[--Ss],Ns[Ss]=null,ao=Ns[--Ss],Ns[Ss]=null,so=Ns[--Ss],Ns[Ss]=null}var ls=null,os=null,hr=!1,na=null;function hT(e,t){var r=Es(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wS(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ls=e,os=li(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ls=e,os=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pl!==null?{id:so,overflow:ao}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Es(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ls=e,os=null,!0):!1;default:return!1}}function Gv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qv(e){if(hr){var t=os;if(t){var r=t;if(!wS(e,t)){if(Gv(e))throw Error(Ae(418));t=li(r.nextSibling);var n=ls;t&&wS(e,t)?hT(n,r):(e.flags=e.flags&-4097|2,hr=!1,ls=e)}}else{if(Gv(e))throw Error(Ae(418));e.flags=e.flags&-4097|2,hr=!1,ls=e}}}function jS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ls=e}function mm(e){if(e!==ls)return!1;if(!hr)return jS(e),hr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uv(e.type,e.memoizedProps)),t&&(t=os)){if(Gv(e))throw mT(),Error(Ae(418));for(;t;)hT(e,t),t=li(t.nextSibling)}if(jS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){os=li(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}os=null}}else os=ls?li(e.stateNode.nextSibling):null;return!0}function mT(){for(var e=os;e;)e=li(e.nextSibling)}function hd(){os=ls=null,hr=!1}function dw(e){na===null?na=[e]:na.push(e)}var N$=ko.ReactCurrentBatchConfig;function uu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ae(309));var n=r.stateNode}if(!n)throw Error(Ae(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(Ae(284));if(!r._owner)throw Error(Ae(290,e))}return e}function pm(e,t){throw e=Object.prototype.toString.call(t),Error(Ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function NS(e){var t=e._init;return t(e._payload)}function pT(e){function t(y,v){if(e){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=fi(y,v),y.index=0,y.sibling=null,y}function o(y,v,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,w,j){return v===null||v.tag!==6?(v=qx(w,y.mode,j),v.return=y,v):(v=a(v,w),v.return=y,v)}function c(y,v,w,j){var N=w.type;return N===Sc?f(y,v,w.props.children,j,w.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bo&&NS(N)===v.type)?(j=a(v,w.props),j.ref=uu(y,v,w),j.return=y,j):(j=cp(w.type,w.key,w.props,null,y.mode,j),j.ref=uu(y,v,w),j.return=y,j)}function d(y,v,w,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Kx(w,y.mode,j),v.return=y,v):(v=a(v,w.children||[]),v.return=y,v)}function f(y,v,w,j,N){return v===null||v.tag!==7?(v=wl(w,y.mode,j,N),v.return=y,v):(v=a(v,w),v.return=y,v)}function h(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=qx(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sm:return w=cp(v.type,v.key,v.props,null,y.mode,w),w.ref=uu(y,null,v),w.return=y,w;case Nc:return v=Kx(v,y.mode,w),v.return=y,v;case Bo:var j=v._init;return h(y,j(v._payload),w)}if(Tu(v)||ou(v))return v=wl(v,y.mode,w,null),v.return=y,v;pm(y,v)}return null}function m(y,v,w,j){var N=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,v,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sm:return w.key===N?c(y,v,w,j):null;case Nc:return w.key===N?d(y,v,w,j):null;case Bo:return N=w._init,m(y,v,N(w._payload),j)}if(Tu(w)||ou(w))return N!==null?null:f(y,v,w,j,null);pm(y,w)}return null}function p(y,v,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(v,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case sm:return y=y.get(j.key===null?w:j.key)||null,c(v,y,j,N);case Nc:return y=y.get(j.key===null?w:j.key)||null,d(v,y,j,N);case Bo:var S=j._init;return p(y,v,w,S(j._payload),N)}if(Tu(j)||ou(j))return y=y.get(w)||null,f(v,y,j,N,null);pm(v,j)}return null}function g(y,v,w,j){for(var N=null,S=null,k=v,_=v=0,C=null;k!==null&&_<w.length;_++){k.index>_?(C=k,k=null):C=k.sibling;var E=m(y,k,w[_],j);if(E===null){k===null&&(k=C);break}e&&k&&E.alternate===null&&t(y,k),v=o(E,v,_),S===null?N=E:S.sibling=E,S=E,k=C}if(_===w.length)return r(y,k),hr&&sl(y,_),N;if(k===null){for(;_<w.length;_++)k=h(y,w[_],j),k!==null&&(v=o(k,v,_),S===null?N=k:S.sibling=k,S=k);return hr&&sl(y,_),N}for(k=n(y,k);_<w.length;_++)C=p(k,y,_,w[_],j),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?_:C.key),v=o(C,v,_),S===null?N=C:S.sibling=C,S=C);return e&&k.forEach(function(T){return t(y,T)}),hr&&sl(y,_),N}function x(y,v,w,j){var N=ou(w);if(typeof N!="function")throw Error(Ae(150));if(w=N.call(w),w==null)throw Error(Ae(151));for(var S=N=null,k=v,_=v=0,C=null,E=w.next();k!==null&&!E.done;_++,E=w.next()){k.index>_?(C=k,k=null):C=k.sibling;var T=m(y,k,E.value,j);if(T===null){k===null&&(k=C);break}e&&k&&T.alternate===null&&t(y,k),v=o(T,v,_),S===null?N=T:S.sibling=T,S=T,k=C}if(E.done)return r(y,k),hr&&sl(y,_),N;if(k===null){for(;!E.done;_++,E=w.next())E=h(y,E.value,j),E!==null&&(v=o(E,v,_),S===null?N=E:S.sibling=E,S=E);return hr&&sl(y,_),N}for(k=n(y,k);!E.done;_++,E=w.next())E=p(k,y,_,E.value,j),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?_:E.key),v=o(E,v,_),S===null?N=E:S.sibling=E,S=E);return e&&k.forEach(function(A){return t(y,A)}),hr&&sl(y,_),N}function b(y,v,w,j){if(typeof w=="object"&&w!==null&&w.type===Sc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case sm:e:{for(var N=w.key,S=v;S!==null;){if(S.key===N){if(N=w.type,N===Sc){if(S.tag===7){r(y,S.sibling),v=a(S,w.props.children),v.return=y,y=v;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bo&&NS(N)===S.type){r(y,S.sibling),v=a(S,w.props),v.ref=uu(y,S,w),v.return=y,y=v;break e}r(y,S);break}else t(y,S);S=S.sibling}w.type===Sc?(v=wl(w.props.children,y.mode,j,w.key),v.return=y,y=v):(j=cp(w.type,w.key,w.props,null,y.mode,j),j.ref=uu(y,v,w),j.return=y,y=j)}return i(y);case Nc:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(y,v.sibling),v=a(v,w.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=Kx(w,y.mode,j),v.return=y,y=v}return i(y);case Bo:return S=w._init,b(y,v,S(w._payload),j)}if(Tu(w))return g(y,v,w,j);if(ou(w))return x(y,v,w,j);pm(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(y,v.sibling),v=a(v,w),v.return=y,y=v):(r(y,v),v=qx(w,y.mode,j),v.return=y,y=v),i(y)):r(y,v)}return b}var md=pT(!0),gT=pT(!1),Hp=Di(null),Wp=null,Ic=null,uw=null;function fw(){uw=Ic=Wp=null}function hw(e){var t=Hp.current;lr(Hp),e._currentValue=t}function Kv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Wc(e,t){Wp=e,uw=Ic=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vn=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(uw!==e)if(e={context:e,memoizedValue:t,next:null},Ic===null){if(Wp===null)throw Error(Ae(308));Ic=e,Wp.dependencies={lanes:0,firstContext:e}}else Ic=Ic.next=e;return t}var cl=null;function mw(e){cl===null?cl=[e]:cl.push(e)}function xT(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,mw(t)):(r.next=a.next,a.next=r),t.interleaved=r,po(e,n)}function po(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Uo=!1;function pw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ci(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Lt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,po(e,r)}return a=n.interleaved,a===null?(t.next=t,mw(n)):(t.next=a.next,a.next=t),n.interleaved=t,po(e,r)}function np(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ew(e,r)}}function SS(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gp(e,t,r,n){var a=e.updateQueue;Uo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(o!==null){var h=a.baseState;i=0,f=d=c=null,l=o;do{var m=l.lane,p=l.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(m=t,p=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(p,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,m=typeof g=="function"?g.call(p,h,m):g,m==null)break e;h=jr({},h,m);break e;case 2:Uo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=p,c=h):f=f.next=p,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(f===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Il|=i,e.lanes=i,e.memoizedState=h}}function kS(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ae(191,a));a.call(n)}}}var ah={},Da=Di(ah),xf=Di(ah),yf=Di(ah);function dl(e){if(e===ah)throw Error(Ae(174));return e}function gw(e,t){switch(nr(yf,t),nr(xf,e),nr(Da,ah),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ev(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ev(t,e)}lr(Da),nr(Da,t)}function pd(){lr(Da),lr(xf),lr(yf)}function vT(e){dl(yf.current);var t=dl(Da.current),r=Ev(t,e.type);t!==r&&(nr(xf,e),nr(Da,r))}function xw(e){xf.current===e&&(lr(Da),lr(xf))}var vr=Di(0);function qp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bx=[];function yw(){for(var e=0;e<Bx.length;e++)Bx[e]._workInProgressVersionPrimary=null;Bx.length=0}var sp=ko.ReactCurrentDispatcher,Ux=ko.ReactCurrentBatchConfig,Ml=0,wr=null,Wr=null,Qr=null,Kp=!1,Vu=!1,vf=0,S$=0;function fn(){throw Error(Ae(321))}function vw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!la(e[r],t[r]))return!1;return!0}function bw(e,t,r,n,a,o){if(Ml=o,wr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sp.current=e===null||e.memoizedState===null?E$:T$,e=r(n,a),Vu){o=0;do{if(Vu=!1,vf=0,25<=o)throw Error(Ae(301));o+=1,Qr=Wr=null,t.updateQueue=null,sp.current=P$,e=r(n,a)}while(Vu)}if(sp.current=Yp,t=Wr!==null&&Wr.next!==null,Ml=0,Qr=Wr=wr=null,Kp=!1,t)throw Error(Ae(300));return e}function ww(){var e=vf!==0;return vf=0,e}function Na(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?wr.memoizedState=Qr=e:Qr=Qr.next=e,Qr}function Ds(){if(Wr===null){var e=wr.alternate;e=e!==null?e.memoizedState:null}else e=Wr.next;var t=Qr===null?wr.memoizedState:Qr.next;if(t!==null)Qr=t,Wr=e;else{if(e===null)throw Error(Ae(310));Wr=e,e={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},Qr===null?wr.memoizedState=Qr=e:Qr=Qr.next=e}return Qr}function bf(e,t){return typeof t=="function"?t(e):t}function Vx(e){var t=Ds(),r=t.queue;if(r===null)throw Error(Ae(311));r.lastRenderedReducer=e;var n=Wr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,c=null,d=o;do{var f=d.lane;if((Ml&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,i=n):c=c.next=h,wr.lanes|=f,Il|=f}d=d.next}while(d!==null&&d!==o);c===null?i=n:c.next=l,la(n,t.memoizedState)||(Vn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,wr.lanes|=o,Il|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hx(e){var t=Ds(),r=t.queue;if(r===null)throw Error(Ae(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);la(o,t.memoizedState)||(Vn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function bT(){}function wT(e,t){var r=wr,n=Ds(),a=t(),o=!la(n.memoizedState,a);if(o&&(n.memoizedState=a,Vn=!0),n=n.queue,jw(ST.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Qr!==null&&Qr.memoizedState.tag&1){if(r.flags|=2048,wf(9,NT.bind(null,r,n,a,t),void 0,null),Jr===null)throw Error(Ae(349));Ml&30||jT(r,t,a)}return a}function jT(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=wr.updateQueue,t===null?(t={lastEffect:null,stores:null},wr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function NT(e,t,r,n){t.value=r,t.getSnapshot=n,kT(t)&&CT(e)}function ST(e,t,r){return r(function(){kT(t)&&CT(e)})}function kT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!la(e,r)}catch{return!0}}function CT(e){var t=po(e,1);t!==null&&oa(t,e,1,-1)}function CS(e){var t=Na();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bf,lastRenderedState:e},t.queue=e,e=e.dispatch=_$.bind(null,wr,e),[t.memoizedState,e]}function wf(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=wr.updateQueue,t===null?(t={lastEffect:null,stores:null},wr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function _T(){return Ds().memoizedState}function ap(e,t,r,n){var a=Na();wr.flags|=e,a.memoizedState=wf(1|t,r,void 0,n===void 0?null:n)}function Hg(e,t,r,n){var a=Ds();n=n===void 0?null:n;var o=void 0;if(Wr!==null){var i=Wr.memoizedState;if(o=i.destroy,n!==null&&vw(n,i.deps)){a.memoizedState=wf(t,r,o,n);return}}wr.flags|=e,a.memoizedState=wf(1|t,r,o,n)}function _S(e,t){return ap(8390656,8,e,t)}function jw(e,t){return Hg(2048,8,e,t)}function ET(e,t){return Hg(4,2,e,t)}function TT(e,t){return Hg(4,4,e,t)}function PT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MT(e,t,r){return r=r!=null?r.concat([e]):null,Hg(4,4,PT.bind(null,t,e),r)}function Nw(){}function IT(e,t){var r=Ds();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function AT(e,t){var r=Ds();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function OT(e,t,r){return Ml&21?(la(r,t)||(r=F3(),wr.lanes|=r,Il|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vn=!0),e.memoizedState=r)}function k$(e,t){var r=Xt;Xt=r!==0&&4>r?r:4,e(!0);var n=Ux.transition;Ux.transition={};try{e(!1),t()}finally{Xt=r,Ux.transition=n}}function RT(){return Ds().memoizedState}function C$(e,t,r){var n=ui(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},DT(e))LT(t,r);else if(r=xT(e,t,r,n),r!==null){var a=Tn();oa(r,e,n,a),$T(r,t,n)}}function _$(e,t,r){var n=ui(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(DT(e))LT(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,la(l,i)){var c=t.interleaved;c===null?(a.next=a,mw(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=xT(e,t,a,n),r!==null&&(a=Tn(),oa(r,e,n,a),$T(r,t,n))}}function DT(e){var t=e.alternate;return e===wr||t!==null&&t===wr}function LT(e,t){Vu=Kp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $T(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ew(e,r)}}var Yp={readContext:Rs,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},E$={readContext:Rs,useCallback:function(e,t){return Na().memoizedState=[e,t===void 0?null:t],e},useContext:Rs,useEffect:_S,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ap(4194308,4,PT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ap(4194308,4,e,t)},useInsertionEffect:function(e,t){return ap(4,2,e,t)},useMemo:function(e,t){var r=Na();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Na();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=C$.bind(null,wr,e),[n.memoizedState,e]},useRef:function(e){var t=Na();return e={current:e},t.memoizedState=e},useState:CS,useDebugValue:Nw,useDeferredValue:function(e){return Na().memoizedState=e},useTransition:function(){var e=CS(!1),t=e[0];return e=k$.bind(null,e[1]),Na().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=wr,a=Na();if(hr){if(r===void 0)throw Error(Ae(407));r=r()}else{if(r=t(),Jr===null)throw Error(Ae(349));Ml&30||jT(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,_S(ST.bind(null,n,o,e),[e]),n.flags|=2048,wf(9,NT.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Na(),t=Jr.identifierPrefix;if(hr){var r=ao,n=so;r=(n&~(1<<32-aa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=vf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=S$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},T$={readContext:Rs,useCallback:IT,useContext:Rs,useEffect:jw,useImperativeHandle:MT,useInsertionEffect:ET,useLayoutEffect:TT,useMemo:AT,useReducer:Vx,useRef:_T,useState:function(){return Vx(bf)},useDebugValue:Nw,useDeferredValue:function(e){var t=Ds();return OT(t,Wr.memoizedState,e)},useTransition:function(){var e=Vx(bf)[0],t=Ds().memoizedState;return[e,t]},useMutableSource:bT,useSyncExternalStore:wT,useId:RT,unstable_isNewReconciler:!1},P$={readContext:Rs,useCallback:IT,useContext:Rs,useEffect:jw,useImperativeHandle:MT,useInsertionEffect:ET,useLayoutEffect:TT,useMemo:AT,useReducer:Hx,useRef:_T,useState:function(){return Hx(bf)},useDebugValue:Nw,useDeferredValue:function(e){var t=Ds();return Wr===null?t.memoizedState=e:OT(t,Wr.memoizedState,e)},useTransition:function(){var e=Hx(bf)[0],t=Ds().memoizedState;return[e,t]},useMutableSource:bT,useSyncExternalStore:wT,useId:RT,unstable_isNewReconciler:!1};function Js(e,t){if(e&&e.defaultProps){t=jr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Yv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:jr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Wg={isMounted:function(e){return(e=e._reactInternals)?Hl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Tn(),a=ui(e),o=co(n,a);o.payload=t,r!=null&&(o.callback=r),t=ci(e,o,a),t!==null&&(oa(t,e,a,n),np(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Tn(),a=ui(e),o=co(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=ci(e,o,a),t!==null&&(oa(t,e,a,n),np(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tn(),n=ui(e),a=co(r,n);a.tag=2,t!=null&&(a.callback=t),t=ci(e,a,n),t!==null&&(oa(t,e,n,r),np(t,e,n))}};function ES(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!hf(r,n)||!hf(a,o):!0}function FT(e,t,r){var n=!1,a=wi,o=t.contextType;return typeof o=="object"&&o!==null?o=Rs(o):(a=qn(t)?Tl:wn.current,n=t.contextTypes,o=(n=n!=null)?fd(e,a):wi),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function TS(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Wg.enqueueReplaceState(t,t.state,null)}function Xv(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},pw(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Rs(o):(o=qn(t)?Tl:wn.current,a.context=fd(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Yv(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Wg.enqueueReplaceState(a,a.state,null),Gp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function gd(e,t){try{var r="",n=t;do r+=sL(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Wx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Qv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var M$=typeof WeakMap=="function"?WeakMap:Map;function zT(e,t,r){r=co(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Qp||(Qp=!0,ib=n),Qv(e,t)},r}function BT(e,t,r){r=co(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Qv(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Qv(e,t),typeof n!="function"&&(di===null?di=new Set([this]):di.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function PS(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new M$;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=W$.bind(null,e,t,r),t.then(e,e))}function MS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function IS(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=co(-1,1),t.tag=2,ci(r,t,1))),r.lanes|=1),e)}var I$=ko.ReactCurrentOwner,Vn=!1;function kn(e,t,r,n){t.child=e===null?gT(t,null,r,n):md(t,e.child,r,n)}function AS(e,t,r,n,a){r=r.render;var o=t.ref;return Wc(t,a),n=bw(e,t,r,n,o,a),r=ww(),e!==null&&!Vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,go(e,t,a)):(hr&&r&&lw(t),t.flags|=1,kn(e,t,n,a),t.child)}function OS(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Mw(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,UT(e,t,o,n,a)):(e=cp(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:hf,r(i,n)&&e.ref===t.ref)return go(e,t,a)}return t.flags|=1,e=fi(o,n),e.ref=t.ref,e.return=t,t.child=e}function UT(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(hf(o,n)&&e.ref===t.ref)if(Vn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Vn=!0);else return t.lanes=e.lanes,go(e,t,a)}return Jv(e,t,r,n,a)}function VT(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(Oc,ts),ts|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nr(Oc,ts),ts|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,nr(Oc,ts),ts|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,nr(Oc,ts),ts|=n;return kn(e,t,a,r),t.child}function HT(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Jv(e,t,r,n,a){var o=qn(r)?Tl:wn.current;return o=fd(t,o),Wc(t,a),r=bw(e,t,r,n,o,a),n=ww(),e!==null&&!Vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,go(e,t,a)):(hr&&n&&lw(t),t.flags|=1,kn(e,t,r,a),t.child)}function RS(e,t,r,n,a){if(qn(r)){var o=!0;Bp(t)}else o=!1;if(Wc(t,a),t.stateNode===null)op(e,t),FT(t,r,n),Xv(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Rs(d):(d=qn(r)?Tl:wn.current,d=fd(t,d));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==d)&&TS(t,i,n,d),Uo=!1;var m=t.memoizedState;i.state=m,Gp(t,n,i,a),c=t.memoizedState,l!==n||m!==c||Gn.current||Uo?(typeof f=="function"&&(Yv(t,r,f,n),c=t.memoizedState),(l=Uo||ES(t,r,l,n,m,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,yT(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Js(t.type,l),i.props=d,h=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Rs(c):(c=qn(r)?Tl:wn.current,c=fd(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||m!==c)&&TS(t,i,n,c),Uo=!1,m=t.memoizedState,i.state=m,Gp(t,n,i,a);var g=t.memoizedState;l!==h||m!==g||Gn.current||Uo?(typeof p=="function"&&(Yv(t,r,p,n),g=t.memoizedState),(d=Uo||ES(t,r,d,n,m,g,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Zv(e,t,r,n,o,a)}function Zv(e,t,r,n,a,o){HT(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&bS(t,r,!1),go(e,t,o);n=t.stateNode,I$.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=md(t,e.child,null,o),t.child=md(t,null,l,o)):kn(e,t,l,o),t.memoizedState=n.state,a&&bS(t,r,!0),t.child}function WT(e){var t=e.stateNode;t.pendingContext?vS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vS(e,t.context,!1),gw(e,t.containerInfo)}function DS(e,t,r,n,a){return hd(),dw(a),t.flags|=256,kn(e,t,r,n),t.child}var eb={dehydrated:null,treeContext:null,retryLane:0};function tb(e){return{baseLanes:e,cachePool:null,transitions:null}}function GT(e,t,r){var n=t.pendingProps,a=vr.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),nr(vr,a&1),e===null)return qv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Kg(i,n,0,null),e=wl(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=tb(r),t.memoizedState=eb,e):Sw(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return A$(e,t,i,n,l,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=fi(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=fi(l,o):(o=wl(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?tb(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=eb,n}return o=e.child,e=o.sibling,n=fi(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Sw(e,t){return t=Kg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gm(e,t,r,n){return n!==null&&dw(n),md(t,e.child,null,r),e=Sw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function A$(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Wx(Error(Ae(422))),gm(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Kg({mode:"visible",children:n.children},a,0,null),o=wl(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&md(t,e.child,null,i),t.child.memoizedState=tb(i),t.memoizedState=eb,o);if(!(t.mode&1))return gm(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(Ae(419)),n=Wx(o,n,void 0),gm(e,t,i,n)}if(l=(i&e.childLanes)!==0,Vn||l){if(n=Jr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,po(e,a),oa(n,e,a,-1))}return Pw(),n=Wx(Error(Ae(421))),gm(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=G$.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,os=li(a.nextSibling),ls=t,hr=!0,na=null,e!==null&&(Ns[Ss++]=so,Ns[Ss++]=ao,Ns[Ss++]=Pl,so=e.id,ao=e.overflow,Pl=t),t=Sw(t,n.children),t.flags|=4096,t)}function LS(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Kv(e.return,t,r)}function Gx(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function qT(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(kn(e,t,n.children,r),n=vr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&LS(e,r,t);else if(e.tag===19)LS(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(nr(vr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&qp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Gx(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&qp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Gx(t,!0,r,null,o);break;case"together":Gx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function op(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function go(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Il|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ae(153));if(t.child!==null){for(e=t.child,r=fi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function O$(e,t,r){switch(t.tag){case 3:WT(t),hd();break;case 5:vT(t);break;case 1:qn(t.type)&&Bp(t);break;case 4:gw(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;nr(Hp,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(nr(vr,vr.current&1),t.flags|=128,null):r&t.child.childLanes?GT(e,t,r):(nr(vr,vr.current&1),e=go(e,t,r),e!==null?e.sibling:null);nr(vr,vr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return qT(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),nr(vr,vr.current),n)break;return null;case 22:case 23:return t.lanes=0,VT(e,t,r)}return go(e,t,r)}var KT,rb,YT,XT;KT=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rb=function(){};YT=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,dl(Da.current);var o=null;switch(r){case"input":a=Sv(e,a),n=Sv(e,n),o=[];break;case"select":a=jr({},a,{value:void 0}),n=jr({},n,{value:void 0}),o=[];break;case"textarea":a=_v(e,a),n=_v(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fp)}Tv(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(af.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(af.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&or("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};XT=function(e,t,r,n){r!==n&&(t.flags|=4)};function fu(e,t){if(!hr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function R$(e,t,r){var n=t.pendingProps;switch(cw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(t),null;case 1:return qn(t.type)&&zp(),hn(t),null;case 3:return n=t.stateNode,pd(),lr(Gn),lr(wn),yw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,na!==null&&(db(na),na=null))),rb(e,t),hn(t),null;case 5:xw(t);var a=dl(yf.current);if(r=t.type,e!==null&&t.stateNode!=null)YT(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ae(166));return hn(t),null}if(e=dl(Da.current),mm(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Ea]=t,n[gf]=o,e=(t.mode&1)!==0,r){case"dialog":or("cancel",n),or("close",n);break;case"iframe":case"object":case"embed":or("load",n);break;case"video":case"audio":for(a=0;a<Mu.length;a++)or(Mu[a],n);break;case"source":or("error",n);break;case"img":case"image":case"link":or("error",n),or("load",n);break;case"details":or("toggle",n);break;case"input":GN(n,o),or("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},or("invalid",n);break;case"textarea":KN(n,o),or("invalid",n)}Tv(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&hm(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&hm(n.textContent,l,e),a=["children",""+l]):af.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&or("scroll",n)}switch(r){case"input":am(n),qN(n,o,!0);break;case"textarea":am(n),YN(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Fp)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=S3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ea]=t,e[gf]=n,KT(e,t,!1,!1),t.stateNode=e;e:{switch(i=Pv(r,n),r){case"dialog":or("cancel",e),or("close",e),a=n;break;case"iframe":case"object":case"embed":or("load",e),a=n;break;case"video":case"audio":for(a=0;a<Mu.length;a++)or(Mu[a],e);a=n;break;case"source":or("error",e),a=n;break;case"img":case"image":case"link":or("error",e),or("load",e),a=n;break;case"details":or("toggle",e),a=n;break;case"input":GN(e,n),a=Sv(e,n),or("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=jr({},n,{value:void 0}),or("invalid",e);break;case"textarea":KN(e,n),a=_v(e,n),or("invalid",e);break;default:a=n}Tv(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?_3(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&k3(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&of(e,c):typeof c=="number"&&of(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(af.hasOwnProperty(o)?c!=null&&o==="onScroll"&&or("scroll",e):c!=null&&K1(e,o,c,i))}switch(r){case"input":am(e),qN(e,n,!1);break;case"textarea":am(e),YN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+bi(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Bc(e,!!n.multiple,o,!1):n.defaultValue!=null&&Bc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Fp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hn(t),null;case 6:if(e&&t.stateNode!=null)XT(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ae(166));if(r=dl(yf.current),dl(Da.current),mm(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ea]=t,(o=n.nodeValue!==r)&&(e=ls,e!==null))switch(e.tag){case 3:hm(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hm(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ea]=t,t.stateNode=n}return hn(t),null;case 13:if(lr(vr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(hr&&os!==null&&t.mode&1&&!(t.flags&128))mT(),hd(),t.flags|=98560,o=!1;else if(o=mm(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(Ae(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ae(317));o[Ea]=t}else hd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hn(t),o=!1}else na!==null&&(db(na),na=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||vr.current&1?qr===0&&(qr=3):Pw())),t.updateQueue!==null&&(t.flags|=4),hn(t),null);case 4:return pd(),rb(e,t),e===null&&mf(t.stateNode.containerInfo),hn(t),null;case 10:return hw(t.type._context),hn(t),null;case 17:return qn(t.type)&&zp(),hn(t),null;case 19:if(lr(vr),o=t.memoizedState,o===null)return hn(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)fu(o,!1);else{if(qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=qp(e),i!==null){for(t.flags|=128,fu(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return nr(vr,vr.current&1|2),t.child}e=e.sibling}o.tail!==null&&Lr()>xd&&(t.flags|=128,n=!0,fu(o,!1),t.lanes=4194304)}else{if(!n)if(e=qp(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!hr)return hn(t),null}else 2*Lr()-o.renderingStartTime>xd&&r!==1073741824&&(t.flags|=128,n=!0,fu(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Lr(),t.sibling=null,r=vr.current,nr(vr,n?r&1|2:r&1),t):(hn(t),null);case 22:case 23:return Tw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ts&1073741824&&(hn(t),t.subtreeFlags&6&&(t.flags|=8192)):hn(t),null;case 24:return null;case 25:return null}throw Error(Ae(156,t.tag))}function D$(e,t){switch(cw(t),t.tag){case 1:return qn(t.type)&&zp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pd(),lr(Gn),lr(wn),yw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xw(t),null;case 13:if(lr(vr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ae(340));hd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lr(vr),null;case 4:return pd(),null;case 10:return hw(t.type._context),null;case 22:case 23:return Tw(),null;case 24:return null;default:return null}}var xm=!1,pn=!1,L$=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Ac(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Er(e,t,n)}else r.current=null}function nb(e,t,r){try{r()}catch(n){Er(e,t,n)}}var $S=!1;function $$(e,t){if(zv=Dp,e=tT(),iw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,d=0,f=0,h=e,m=null;t:for(;;){for(var p;h!==r||a!==0&&h.nodeType!==3||(l=i+a),h!==o||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++d===a&&(l=i),m===o&&++f===n&&(c=i),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bv={focusedElem:e,selectionRange:r},Dp=!1,Qe=t;Qe!==null;)if(t=Qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qe=e;else for(;Qe!==null;){t=Qe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,b=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:Js(t.type,x),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ae(163))}}catch(j){Er(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Qe=e;break}Qe=t.return}return g=$S,$S=!1,g}function Hu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&nb(t,r,o)}a=a.next}while(a!==n)}}function Gg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function sb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function QT(e){var t=e.alternate;t!==null&&(e.alternate=null,QT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ea],delete t[gf],delete t[Hv],delete t[b$],delete t[w$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function JT(e){return e.tag===5||e.tag===3||e.tag===4}function FS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||JT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ab(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fp));else if(n!==4&&(e=e.child,e!==null))for(ab(e,t,r),e=e.sibling;e!==null;)ab(e,t,r),e=e.sibling}function ob(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ob(e,t,r),e=e.sibling;e!==null;)ob(e,t,r),e=e.sibling}var tn=null,ra=!1;function Io(e,t,r){for(r=r.child;r!==null;)ZT(e,t,r),r=r.sibling}function ZT(e,t,r){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount($g,r)}catch{}switch(r.tag){case 5:pn||Ac(r,t);case 6:var n=tn,a=ra;tn=null,Io(e,t,r),tn=n,ra=a,tn!==null&&(ra?(e=tn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tn.removeChild(r.stateNode));break;case 18:tn!==null&&(ra?(e=tn,r=r.stateNode,e.nodeType===8?Fx(e.parentNode,r):e.nodeType===1&&Fx(e,r),uf(e)):Fx(tn,r.stateNode));break;case 4:n=tn,a=ra,tn=r.stateNode.containerInfo,ra=!0,Io(e,t,r),tn=n,ra=a;break;case 0:case 11:case 14:case 15:if(!pn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&nb(r,t,i),a=a.next}while(a!==n)}Io(e,t,r);break;case 1:if(!pn&&(Ac(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Er(r,t,l)}Io(e,t,r);break;case 21:Io(e,t,r);break;case 22:r.mode&1?(pn=(n=pn)||r.memoizedState!==null,Io(e,t,r),pn=n):Io(e,t,r);break;default:Io(e,t,r)}}function zS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new L$),t.forEach(function(n){var a=q$.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Gs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:tn=l.stateNode,ra=!1;break e;case 3:tn=l.stateNode.containerInfo,ra=!0;break e;case 4:tn=l.stateNode.containerInfo,ra=!0;break e}l=l.return}if(tn===null)throw Error(Ae(160));ZT(o,i,a),tn=null,ra=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Er(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)eP(t,e),t=t.sibling}function eP(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gs(t,e),va(e),n&4){try{Hu(3,e,e.return),Gg(3,e)}catch(x){Er(e,e.return,x)}try{Hu(5,e,e.return)}catch(x){Er(e,e.return,x)}}break;case 1:Gs(t,e),va(e),n&512&&r!==null&&Ac(r,r.return);break;case 5:if(Gs(t,e),va(e),n&512&&r!==null&&Ac(r,r.return),e.flags&32){var a=e.stateNode;try{of(a,"")}catch(x){Er(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&j3(a,o),Pv(l,i);var d=Pv(l,o);for(i=0;i<c.length;i+=2){var f=c[i],h=c[i+1];f==="style"?_3(a,h):f==="dangerouslySetInnerHTML"?k3(a,h):f==="children"?of(a,h):K1(a,f,h,d)}switch(l){case"input":kv(a,o);break;case"textarea":N3(a,o);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Bc(a,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?Bc(a,!!o.multiple,o.defaultValue,!0):Bc(a,!!o.multiple,o.multiple?[]:"",!1))}a[gf]=o}catch(x){Er(e,e.return,x)}}break;case 6:if(Gs(t,e),va(e),n&4){if(e.stateNode===null)throw Error(Ae(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){Er(e,e.return,x)}}break;case 3:if(Gs(t,e),va(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{uf(t.containerInfo)}catch(x){Er(e,e.return,x)}break;case 4:Gs(t,e),va(e);break;case 13:Gs(t,e),va(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(_w=Lr())),n&4&&zS(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(pn=(d=pn)||f,Gs(t,e),pn=d):Gs(t,e),va(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(Qe=e,f=e.child;f!==null;){for(h=Qe=f;Qe!==null;){switch(m=Qe,p=m.child,m.tag){case 0:case 11:case 14:case 15:Hu(4,m,m.return);break;case 1:Ac(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){Er(n,r,x)}}break;case 5:Ac(m,m.return);break;case 22:if(m.memoizedState!==null){US(h);continue}}p!==null?(p.return=m,Qe=p):US(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{a=h.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=C3("display",i))}catch(x){Er(e,e.return,x)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){Er(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gs(t,e),va(e),n&4&&zS(e);break;case 21:break;default:Gs(t,e),va(e)}}function va(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(JT(r)){var n=r;break e}r=r.return}throw Error(Ae(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(of(a,""),n.flags&=-33);var o=FS(e);ob(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=FS(e);ab(e,l,i);break;default:throw Error(Ae(161))}}catch(c){Er(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function F$(e,t,r){Qe=e,tP(e)}function tP(e,t,r){for(var n=(e.mode&1)!==0;Qe!==null;){var a=Qe,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||xm;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||pn;l=xm;var d=pn;if(xm=i,(pn=c)&&!d)for(Qe=a;Qe!==null;)i=Qe,c=i.child,i.tag===22&&i.memoizedState!==null?VS(a):c!==null?(c.return=i,Qe=c):VS(a);for(;o!==null;)Qe=o,tP(o),o=o.sibling;Qe=a,xm=l,pn=d}BS(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Qe=o):BS(e)}}function BS(e){for(;Qe!==null;){var t=Qe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pn||Gg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Js(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&kS(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kS(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&uf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ae(163))}pn||t.flags&512&&sb(t)}catch(m){Er(t,t.return,m)}}if(t===e){Qe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Qe=r;break}Qe=t.return}}function US(e){for(;Qe!==null;){var t=Qe;if(t===e){Qe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Qe=r;break}Qe=t.return}}function VS(e){for(;Qe!==null;){var t=Qe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gg(4,t)}catch(c){Er(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Er(t,a,c)}}var o=t.return;try{sb(t)}catch(c){Er(t,o,c)}break;case 5:var i=t.return;try{sb(t)}catch(c){Er(t,i,c)}}}catch(c){Er(t,t.return,c)}if(t===e){Qe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Qe=l;break}Qe=t.return}}var z$=Math.ceil,Xp=ko.ReactCurrentDispatcher,kw=ko.ReactCurrentOwner,Ms=ko.ReactCurrentBatchConfig,Lt=0,Jr=null,Br=null,nn=0,ts=0,Oc=Di(0),qr=0,jf=null,Il=0,qg=0,Cw=0,Wu=null,Bn=null,_w=0,xd=1/0,to=null,Qp=!1,ib=null,di=null,ym=!1,ei=null,Jp=0,Gu=0,lb=null,ip=-1,lp=0;function Tn(){return Lt&6?Lr():ip!==-1?ip:ip=Lr()}function ui(e){return e.mode&1?Lt&2&&nn!==0?nn&-nn:N$.transition!==null?(lp===0&&(lp=F3()),lp):(e=Xt,e!==0||(e=window.event,e=e===void 0?16:G3(e.type)),e):1}function oa(e,t,r,n){if(50<Gu)throw Gu=0,lb=null,Error(Ae(185));rh(e,r,n),(!(Lt&2)||e!==Jr)&&(e===Jr&&(!(Lt&2)&&(qg|=r),qr===4&&Go(e,nn)),Kn(e,n),r===1&&Lt===0&&!(t.mode&1)&&(xd=Lr()+500,Vg&&Li()))}function Kn(e,t){var r=e.callbackNode;NL(e,t);var n=Rp(e,e===Jr?nn:0);if(n===0)r!==null&&JN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&JN(r),t===1)e.tag===0?j$(HS.bind(null,e)):uT(HS.bind(null,e)),y$(function(){!(Lt&6)&&Li()}),r=null;else{switch(z3(n)){case 1:r=Z1;break;case 4:r=L3;break;case 16:r=Op;break;case 536870912:r=$3;break;default:r=Op}r=cP(r,rP.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function rP(e,t){if(ip=-1,lp=0,Lt&6)throw Error(Ae(327));var r=e.callbackNode;if(Gc()&&e.callbackNode!==r)return null;var n=Rp(e,e===Jr?nn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zp(e,n);else{t=n;var a=Lt;Lt|=2;var o=sP();(Jr!==e||nn!==t)&&(to=null,xd=Lr()+500,bl(e,t));do try{V$();break}catch(l){nP(e,l)}while(!0);fw(),Xp.current=o,Lt=a,Br!==null?t=0:(Jr=null,nn=0,t=qr)}if(t!==0){if(t===2&&(a=Rv(e),a!==0&&(n=a,t=cb(e,a))),t===1)throw r=jf,bl(e,0),Go(e,n),Kn(e,Lr()),r;if(t===6)Go(e,n);else{if(a=e.current.alternate,!(n&30)&&!B$(a)&&(t=Zp(e,n),t===2&&(o=Rv(e),o!==0&&(n=o,t=cb(e,o))),t===1))throw r=jf,bl(e,0),Go(e,n),Kn(e,Lr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ae(345));case 2:al(e,Bn,to);break;case 3:if(Go(e,n),(n&130023424)===n&&(t=_w+500-Lr(),10<t)){if(Rp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Tn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Vv(al.bind(null,e,Bn,to),t);break}al(e,Bn,to);break;case 4:if(Go(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-aa(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=Lr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*z$(n/1960))-n,10<n){e.timeoutHandle=Vv(al.bind(null,e,Bn,to),n);break}al(e,Bn,to);break;case 5:al(e,Bn,to);break;default:throw Error(Ae(329))}}}return Kn(e,Lr()),e.callbackNode===r?rP.bind(null,e):null}function cb(e,t){var r=Wu;return e.current.memoizedState.isDehydrated&&(bl(e,t).flags|=256),e=Zp(e,t),e!==2&&(t=Bn,Bn=r,t!==null&&db(t)),e}function db(e){Bn===null?Bn=e:Bn.push.apply(Bn,e)}function B$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!la(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Go(e,t){for(t&=~Cw,t&=~qg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-aa(t),n=1<<r;e[r]=-1,t&=~n}}function HS(e){if(Lt&6)throw Error(Ae(327));Gc();var t=Rp(e,0);if(!(t&1))return Kn(e,Lr()),null;var r=Zp(e,t);if(e.tag!==0&&r===2){var n=Rv(e);n!==0&&(t=n,r=cb(e,n))}if(r===1)throw r=jf,bl(e,0),Go(e,t),Kn(e,Lr()),r;if(r===6)throw Error(Ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,al(e,Bn,to),Kn(e,Lr()),null}function Ew(e,t){var r=Lt;Lt|=1;try{return e(t)}finally{Lt=r,Lt===0&&(xd=Lr()+500,Vg&&Li())}}function Al(e){ei!==null&&ei.tag===0&&!(Lt&6)&&Gc();var t=Lt;Lt|=1;var r=Ms.transition,n=Xt;try{if(Ms.transition=null,Xt=1,e)return e()}finally{Xt=n,Ms.transition=r,Lt=t,!(Lt&6)&&Li()}}function Tw(){ts=Oc.current,lr(Oc)}function bl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,x$(r)),Br!==null)for(r=Br.return;r!==null;){var n=r;switch(cw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zp();break;case 3:pd(),lr(Gn),lr(wn),yw();break;case 5:xw(n);break;case 4:pd();break;case 13:lr(vr);break;case 19:lr(vr);break;case 10:hw(n.type._context);break;case 22:case 23:Tw()}r=r.return}if(Jr=e,Br=e=fi(e.current,null),nn=ts=t,qr=0,jf=null,Cw=qg=Il=0,Bn=Wu=null,cl!==null){for(t=0;t<cl.length;t++)if(r=cl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}cl=null}return e}function nP(e,t){do{var r=Br;try{if(fw(),sp.current=Yp,Kp){for(var n=wr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Kp=!1}if(Ml=0,Qr=Wr=wr=null,Vu=!1,vf=0,kw.current=null,r===null||r.return===null){qr=1,jf=t,Br=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=nn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=MS(i);if(p!==null){p.flags&=-257,IS(p,i,l,o,t),p.mode&1&&PS(o,d,t),t=p,c=d;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){PS(o,d,t),Pw();break e}c=Error(Ae(426))}}else if(hr&&l.mode&1){var b=MS(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),IS(b,i,l,o,t),dw(gd(c,l));break e}}o=c=gd(c,l),qr!==4&&(qr=2),Wu===null?Wu=[o]:Wu.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=zT(o,c,t);SS(o,y);break e;case 1:l=c;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(di===null||!di.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=BT(o,l,t);SS(o,j);break e}}o=o.return}while(o!==null)}oP(r)}catch(N){t=N,Br===r&&r!==null&&(Br=r=r.return);continue}break}while(!0)}function sP(){var e=Xp.current;return Xp.current=Yp,e===null?Yp:e}function Pw(){(qr===0||qr===3||qr===2)&&(qr=4),Jr===null||!(Il&268435455)&&!(qg&268435455)||Go(Jr,nn)}function Zp(e,t){var r=Lt;Lt|=2;var n=sP();(Jr!==e||nn!==t)&&(to=null,bl(e,t));do try{U$();break}catch(a){nP(e,a)}while(!0);if(fw(),Lt=r,Xp.current=n,Br!==null)throw Error(Ae(261));return Jr=null,nn=0,qr}function U$(){for(;Br!==null;)aP(Br)}function V$(){for(;Br!==null&&!mL();)aP(Br)}function aP(e){var t=lP(e.alternate,e,ts);e.memoizedProps=e.pendingProps,t===null?oP(e):Br=t,kw.current=null}function oP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=D$(r,t),r!==null){r.flags&=32767,Br=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qr=6,Br=null;return}}else if(r=R$(r,t,ts),r!==null){Br=r;return}if(t=t.sibling,t!==null){Br=t;return}Br=t=e}while(t!==null);qr===0&&(qr=5)}function al(e,t,r){var n=Xt,a=Ms.transition;try{Ms.transition=null,Xt=1,H$(e,t,r,n)}finally{Ms.transition=a,Xt=n}return null}function H$(e,t,r,n){do Gc();while(ei!==null);if(Lt&6)throw Error(Ae(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ae(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(SL(e,o),e===Jr&&(Br=Jr=null,nn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ym||(ym=!0,cP(Op,function(){return Gc(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ms.transition,Ms.transition=null;var i=Xt;Xt=1;var l=Lt;Lt|=4,kw.current=null,$$(e,r),eP(r,e),d$(Bv),Dp=!!zv,Bv=zv=null,e.current=r,F$(r),pL(),Lt=l,Xt=i,Ms.transition=o}else e.current=r;if(ym&&(ym=!1,ei=e,Jp=a),o=e.pendingLanes,o===0&&(di=null),yL(r.stateNode),Kn(e,Lr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Qp)throw Qp=!1,e=ib,ib=null,e;return Jp&1&&e.tag!==0&&Gc(),o=e.pendingLanes,o&1?e===lb?Gu++:(Gu=0,lb=e):Gu=0,Li(),null}function Gc(){if(ei!==null){var e=z3(Jp),t=Ms.transition,r=Xt;try{if(Ms.transition=null,Xt=16>e?16:e,ei===null)var n=!1;else{if(e=ei,ei=null,Jp=0,Lt&6)throw Error(Ae(331));var a=Lt;for(Lt|=4,Qe=e.current;Qe!==null;){var o=Qe,i=o.child;if(Qe.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Qe=d;Qe!==null;){var f=Qe;switch(f.tag){case 0:case 11:case 15:Hu(8,f,o)}var h=f.child;if(h!==null)h.return=f,Qe=h;else for(;Qe!==null;){f=Qe;var m=f.sibling,p=f.return;if(QT(f),f===d){Qe=null;break}if(m!==null){m.return=p,Qe=m;break}Qe=p}}}var g=o.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}Qe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Qe=i;else e:for(;Qe!==null;){if(o=Qe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hu(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Qe=y;break e}Qe=o.return}}var v=e.current;for(Qe=v;Qe!==null;){i=Qe;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Qe=w;else e:for(i=v;Qe!==null;){if(l=Qe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gg(9,l)}}catch(N){Er(l,l.return,N)}if(l===i){Qe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Qe=j;break e}Qe=l.return}}if(Lt=a,Li(),Ra&&typeof Ra.onPostCommitFiberRoot=="function")try{Ra.onPostCommitFiberRoot($g,e)}catch{}n=!0}return n}finally{Xt=r,Ms.transition=t}}return!1}function WS(e,t,r){t=gd(r,t),t=zT(e,t,1),e=ci(e,t,1),t=Tn(),e!==null&&(rh(e,1,t),Kn(e,t))}function Er(e,t,r){if(e.tag===3)WS(e,e,r);else for(;t!==null;){if(t.tag===3){WS(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(di===null||!di.has(n))){e=gd(r,e),e=BT(t,e,1),t=ci(t,e,1),e=Tn(),t!==null&&(rh(t,1,e),Kn(t,e));break}}t=t.return}}function W$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Tn(),e.pingedLanes|=e.suspendedLanes&r,Jr===e&&(nn&r)===r&&(qr===4||qr===3&&(nn&130023424)===nn&&500>Lr()-_w?bl(e,0):Cw|=r),Kn(e,t)}function iP(e,t){t===0&&(e.mode&1?(t=lm,lm<<=1,!(lm&130023424)&&(lm=4194304)):t=1);var r=Tn();e=po(e,t),e!==null&&(rh(e,t,r),Kn(e,r))}function G$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),iP(e,r)}function q$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ae(314))}n!==null&&n.delete(t),iP(e,r)}var lP;lP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gn.current)Vn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vn=!1,O$(e,t,r);Vn=!!(e.flags&131072)}else Vn=!1,hr&&t.flags&1048576&&fT(t,Vp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;op(e,t),e=t.pendingProps;var a=fd(t,wn.current);Wc(t,r),a=bw(null,t,n,e,a,r);var o=ww();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qn(n)?(o=!0,Bp(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,pw(t),a.updater=Wg,t.stateNode=a,a._reactInternals=t,Xv(t,n,e,r),t=Zv(null,t,n,!0,o,r)):(t.tag=0,hr&&o&&lw(t),kn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(op(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Y$(n),e=Js(n,e),a){case 0:t=Jv(null,t,n,e,r);break e;case 1:t=RS(null,t,n,e,r);break e;case 11:t=AS(null,t,n,e,r);break e;case 14:t=OS(null,t,n,Js(n.type,e),r);break e}throw Error(Ae(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Js(n,a),Jv(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Js(n,a),RS(e,t,n,a,r);case 3:e:{if(WT(t),e===null)throw Error(Ae(387));n=t.pendingProps,o=t.memoizedState,a=o.element,yT(e,t),Gp(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=gd(Error(Ae(423)),t),t=DS(e,t,n,r,a);break e}else if(n!==a){a=gd(Error(Ae(424)),t),t=DS(e,t,n,r,a);break e}else for(os=li(t.stateNode.containerInfo.firstChild),ls=t,hr=!0,na=null,r=gT(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hd(),n===a){t=go(e,t,r);break e}kn(e,t,n,r)}t=t.child}return t;case 5:return vT(t),e===null&&qv(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,Uv(n,a)?i=null:o!==null&&Uv(n,o)&&(t.flags|=32),HT(e,t),kn(e,t,i,r),t.child;case 6:return e===null&&qv(t),null;case 13:return GT(e,t,r);case 4:return gw(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=md(t,null,n,r):kn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Js(n,a),AS(e,t,n,a,r);case 7:return kn(e,t,t.pendingProps,r),t.child;case 8:return kn(e,t,t.pendingProps.children,r),t.child;case 12:return kn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,nr(Hp,n._currentValue),n._currentValue=i,o!==null)if(la(o.value,i)){if(o.children===a.children&&!Gn.current){t=go(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=co(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Kv(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(Ae(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Kv(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}kn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Wc(t,r),a=Rs(a),n=n(a),t.flags|=1,kn(e,t,n,r),t.child;case 14:return n=t.type,a=Js(n,t.pendingProps),a=Js(n.type,a),OS(e,t,n,a,r);case 15:return UT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Js(n,a),op(e,t),t.tag=1,qn(n)?(e=!0,Bp(t)):e=!1,Wc(t,r),FT(t,n,a),Xv(t,n,a,r),Zv(null,t,n,!0,e,r);case 19:return qT(e,t,r);case 22:return VT(e,t,r)}throw Error(Ae(156,t.tag))};function cP(e,t){return D3(e,t)}function K$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(e,t,r,n){return new K$(e,t,r,n)}function Mw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Y$(e){if(typeof e=="function")return Mw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===X1)return 11;if(e===Q1)return 14}return 2}function fi(e,t){var r=e.alternate;return r===null?(r=Es(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function cp(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Mw(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Sc:return wl(r.children,a,o,t);case Y1:i=8,a|=8;break;case bv:return e=Es(12,r,t,a|2),e.elementType=bv,e.lanes=o,e;case wv:return e=Es(13,r,t,a),e.elementType=wv,e.lanes=o,e;case jv:return e=Es(19,r,t,a),e.elementType=jv,e.lanes=o,e;case v3:return Kg(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x3:i=10;break e;case y3:i=9;break e;case X1:i=11;break e;case Q1:i=14;break e;case Bo:i=16,n=null;break e}throw Error(Ae(130,e==null?e:typeof e,""))}return t=Es(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function wl(e,t,r,n){return e=Es(7,e,n,t),e.lanes=r,e}function Kg(e,t,r,n){return e=Es(22,e,n,t),e.elementType=v3,e.lanes=r,e.stateNode={isHidden:!1},e}function qx(e,t,r){return e=Es(6,e,null,t),e.lanes=r,e}function Kx(e,t,r){return t=Es(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function X$(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ex(0),this.expirationTimes=Ex(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ex(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Iw(e,t,r,n,a,o,i,l,c){return e=new X$(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Es(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pw(o),e}function Q$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dP(e){if(!e)return wi;e=e._reactInternals;e:{if(Hl(e)!==e||e.tag!==1)throw Error(Ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ae(171))}if(e.tag===1){var r=e.type;if(qn(r))return dT(e,r,t)}return t}function uP(e,t,r,n,a,o,i,l,c){return e=Iw(r,n,!0,e,a,o,i,l,c),e.context=dP(null),r=e.current,n=Tn(),a=ui(r),o=co(n,a),o.callback=t??null,ci(r,o,a),e.current.lanes=a,rh(e,a,n),Kn(e,n),e}function Yg(e,t,r,n){var a=t.current,o=Tn(),i=ui(a);return r=dP(r),t.context===null?t.context=r:t.pendingContext=r,t=co(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ci(a,t,i),e!==null&&(oa(e,a,i,o),np(e,a,i)),i}function eg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function GS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Aw(e,t){GS(e,t),(e=e.alternate)&&GS(e,t)}function J$(){return null}var fP=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ow(e){this._internalRoot=e}Xg.prototype.render=Ow.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ae(409));Yg(e,t,null,null)};Xg.prototype.unmount=Ow.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Al(function(){Yg(null,e,null,null)}),t[mo]=null}};function Xg(e){this._internalRoot=e}Xg.prototype.unstable_scheduleHydration=function(e){if(e){var t=V3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wo.length&&t!==0&&t<Wo[r].priority;r++);Wo.splice(r,0,e),r===0&&W3(e)}};function Rw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qS(){}function Z$(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var d=eg(i);o.call(d)}}var i=uP(t,n,e,0,null,!1,!1,"",qS);return e._reactRootContainer=i,e[mo]=i.current,mf(e.nodeType===8?e.parentNode:e),Al(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=eg(c);l.call(d)}}var c=Iw(e,0,!1,null,null,!1,!1,"",qS);return e._reactRootContainer=c,e[mo]=c.current,mf(e.nodeType===8?e.parentNode:e),Al(function(){Yg(t,c,r,n)}),c}function Jg(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=eg(i);l.call(c)}}Yg(t,i,e,a)}else i=Z$(r,t,e,a,n);return eg(i)}B3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Pu(t.pendingLanes);r!==0&&(ew(t,r|1),Kn(t,Lr()),!(Lt&6)&&(xd=Lr()+500,Li()))}break;case 13:Al(function(){var n=po(e,1);if(n!==null){var a=Tn();oa(n,e,1,a)}}),Aw(e,1)}};tw=function(e){if(e.tag===13){var t=po(e,134217728);if(t!==null){var r=Tn();oa(t,e,134217728,r)}Aw(e,134217728)}};U3=function(e){if(e.tag===13){var t=ui(e),r=po(e,t);if(r!==null){var n=Tn();oa(r,e,t,n)}Aw(e,t)}};V3=function(){return Xt};H3=function(e,t){var r=Xt;try{return Xt=e,t()}finally{Xt=r}};Iv=function(e,t,r){switch(t){case"input":if(kv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ug(n);if(!a)throw Error(Ae(90));w3(n),kv(n,a)}}}break;case"textarea":N3(e,r);break;case"select":t=r.value,t!=null&&Bc(e,!!r.multiple,t,!1)}};P3=Ew;M3=Al;var e9={usingClientEntryPoint:!1,Events:[sh,Ec,Ug,E3,T3,Ew]},hu={findFiberByHostInstance:ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t9={bundleType:hu.bundleType,version:hu.version,rendererPackageName:hu.rendererPackageName,rendererConfig:hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=O3(e),e===null?null:e.stateNode},findFiberByHostInstance:hu.findFiberByHostInstance||J$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{$g=vm.inject(t9),Ra=vm}catch{}}xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e9;xs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rw(t))throw Error(Ae(200));return Q$(e,t,null,r)};xs.createRoot=function(e,t){if(!Rw(e))throw Error(Ae(299));var r=!1,n="",a=fP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Iw(e,1,!1,null,null,r,!1,n,a),e[mo]=t.current,mf(e.nodeType===8?e.parentNode:e),new Ow(t)};xs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ae(188)):(e=Object.keys(e).join(","),Error(Ae(268,e)));return e=O3(t),e=e===null?null:e.stateNode,e};xs.flushSync=function(e){return Al(e)};xs.hydrate=function(e,t,r){if(!Qg(t))throw Error(Ae(200));return Jg(null,e,t,!0,r)};xs.hydrateRoot=function(e,t,r){if(!Rw(e))throw Error(Ae(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=fP;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=uP(t,null,e,1,r??null,a,!1,o,i),e[mo]=t.current,mf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Xg(t)};xs.render=function(e,t,r){if(!Qg(t))throw Error(Ae(200));return Jg(null,e,t,!1,r)};xs.unmountComponentAtNode=function(e){if(!Qg(e))throw Error(Ae(40));return e._reactRootContainer?(Al(function(){Jg(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0):!1};xs.unstable_batchedUpdates=Ew;xs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qg(r))throw Error(Ae(200));if(e==null||e._reactInternals===void 0)throw Error(Ae(38));return Jg(e,t,r,!1,n)};xs.version="18.3.1-next-f1338f8080-20240426";function hP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hP)}catch(e){console.error(e)}}hP(),h3.exports=xs;var Zt=h3.exports;const Dw=z1(Zt);var mP,KS=Zt;mP=KS.createRoot,KS.hydrateRoot;const r9=1,n9=1e6;let Yx=0;function s9(){return Yx=(Yx+1)%Number.MAX_SAFE_INTEGER,Yx.toString()}const Xx=new Map,YS=e=>{if(Xx.has(e))return;const t=setTimeout(()=>{Xx.delete(e),qu({type:"REMOVE_TOAST",toastId:e})},n9);Xx.set(e,t)},a9=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,r9)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?YS(r):e.toasts.forEach(n=>{YS(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},dp=[];let up={toasts:[]};function qu(e){up=a9(up,e),dp.forEach(t=>{t(up)})}function o9({...e}){const t=s9(),r=a=>qu({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>qu({type:"DISMISS_TOAST",toastId:t});return qu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function pP(){const[e,t]=u.useState(up);return u.useEffect(()=>(dp.push(t),()=>{const r=dp.indexOf(t);r>-1&&dp.splice(r,1)}),[e]),{...e,toast:o9,dismiss:r=>qu({type:"DISMISS_TOAST",toastId:r})}}function ns(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function XS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xo(...e){return t=>{let r=!1;const n=e.map(a=>{const o=XS(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():XS(e[a],null)}}}}function pt(...e){return u.useCallback(xo(...e),e)}function i9(e,t){const r=u.createContext(t),n=o=>{const{children:i,...l}=o,c=u.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(o){const i=u.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,a]}function jn(e,t=[]){let r=[];function n(o,i){const l=u.createContext(i),c=r.length;r=[...r,i];const d=h=>{var y;const{scope:m,children:p,...g}=h,x=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,b=u.useMemo(()=>g,Object.values(g));return s.jsx(x.Provider,{value:b,children:p})};d.displayName=o+"Provider";function f(h,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,g=u.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[d,f]}const a=()=>{const o=r.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,l9(a,...t)]}function l9(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(o)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function ji(e){const t=d9(e),r=u.forwardRef((n,a)=>{const{children:o,...i}=n,l=u.Children.toArray(o),c=l.find(f9);if(c){const d=c.props.children,f=l.map(h=>h===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...i,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return s.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}var c9=ji("Slot");function d9(e){const t=u.forwardRef((r,n)=>{const{children:a,...o}=r;if(u.isValidElement(a)){const i=m9(a),l=h9(o,a.props);return a.type!==u.Fragment&&(l.ref=n?xo(n,i):i),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gP=Symbol("radix.slottable");function u9(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=gP,t}function f9(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gP}function h9(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function m9(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Zg(e){const t=e+"CollectionProvider",[r,n]=jn(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:y}=x,v=ue.useRef(null),w=ue.useRef(new Map).current;return s.jsx(a,{scope:b,itemMap:w,collectionRef:v,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=ji(l),d=ue.forwardRef((x,b)=>{const{scope:y,children:v}=x,w=o(l,y),j=pt(b,w.collectionRef);return s.jsx(c,{ref:j,children:v})});d.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=ji(f),p=ue.forwardRef((x,b)=>{const{scope:y,children:v,...w}=x,j=ue.useRef(null),N=pt(b,j),S=o(f,y);return ue.useEffect(()=>(S.itemMap.set(j,{ref:j,...w}),()=>void S.itemMap.delete(j))),s.jsx(m,{[h]:"",ref:N,children:v})});p.displayName=f;function g(x){const b=o(e+"CollectionConsumer",x);return ue.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((S,k)=>w.indexOf(S.ref.current)-w.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:d,ItemSlot:p},g,n]}var p9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=p9.reduce((e,t)=>{const r=ji(`Primitive.${t}`),n=u.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function e0(e,t){e&&Zt.flushSync(()=>e.dispatchEvent(t))}function pr(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function xP(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e);u.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var g9="DismissableLayer",ub="dismissableLayer.update",x9="dismissableLayer.pointerDownOutside",y9="dismissableLayer.focusOutside",QS,yP=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vP=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=u.useContext(yP),[f,h]=u.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=u.useState({}),g=pt(t,k=>h(k)),x=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(b),v=f?x.indexOf(f):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=y,N=b9(k=>{const _=k.target,C=[...d.branches].some(E=>E.contains(_));!j||C||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},m),S=w9(k=>{const _=k.target;[...d.branches].some(E=>E.contains(_))||(o==null||o(k),i==null||i(k),k.defaultPrevented||l==null||l())},m);return xP(k=>{v===d.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),u.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(QS=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),JS(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=QS)}},[f,m,r,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),JS())},[f,d]),u.useEffect(()=>{const k=()=>p({});return document.addEventListener(ub,k),()=>document.removeEventListener(ub,k)},[]),s.jsx(Ve.div,{...c,ref:g,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:ns(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ns(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ns(e.onPointerDownCapture,N.onPointerDownCapture)})});vP.displayName=g9;var v9="DismissableLayerBranch",bP=u.forwardRef((e,t)=>{const r=u.useContext(yP),n=u.useRef(null),a=pt(t,n);return u.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(Ve.div,{...e,ref:a})});bP.displayName=v9;function b9(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e),n=u.useRef(!1),a=u.useRef(()=>{});return u.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){wP(x9,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function w9(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e),n=u.useRef(!1);return u.useEffect(()=>{const a=o=>{o.target&&!n.current&&wP(y9,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function JS(){const e=new CustomEvent(ub);document.dispatchEvent(e)}function wP(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?e0(a,o):a.dispatchEvent(o)}var j9=vP,N9=bP,Nr=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},S9="Portal",Dd=u.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,o]=u.useState(!1);Nr(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Dw.createPortal(s.jsx(Ve.div,{...n,ref:t}),i):null});Dd.displayName=S9;function k9(e,t){return u.useReducer((r,n)=>t[r][n]??r,e)}var jP=e=>{const{present:t,children:r}=e,n=C9(t),a=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),o=pt(n.ref,_9(a));return typeof r=="function"||n.isPresent?u.cloneElement(a,{ref:o}):null};jP.displayName="Presence";function C9(e){const[t,r]=u.useState(),n=u.useRef(null),a=u.useRef(e),o=u.useRef("none"),i=e?"mounted":"unmounted",[l,c]=k9(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=bm(n.current);o.current=l==="mounted"?d:"none"},[l]),Nr(()=>{const d=n.current,f=a.current;if(f!==e){const m=o.current,p=bm(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Nr(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,h=p=>{const x=bm(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(o.current=bm(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function bm(e){return(e==null?void 0:e.animationName)||"none"}function _9(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var E9=W1[" useInsertionEffect ".trim().toString()]||Nr;function ca({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,o,i]=T9({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const f=u.useRef(e!==void 0);u.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const d=u.useCallback(f=>{var h;if(l){const m=P9(f)?f(e):f;m!==e&&((h=i.current)==null||h.call(i,m))}else o(f)},[l,e,o,i]);return[c,d]}function T9({defaultProp:e,onChange:t}){const[r,n]=u.useState(e),a=u.useRef(r),o=u.useRef(t);return E9(()=>{o.current=t},[t]),u.useEffect(()=>{var i;a.current!==r&&((i=o.current)==null||i.call(o,r),a.current=r)},[r,a]),[r,n,o]}function P9(e){return typeof e=="function"}var NP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),M9="VisuallyHidden",t0=u.forwardRef((e,t)=>s.jsx(Ve.span,{...e,ref:t,style:{...NP,...e.style}}));t0.displayName=M9;var I9=t0,Lw="ToastProvider",[$w,A9,O9]=Zg("Toast"),[SP,Fge]=jn("Toast",[O9]),[R9,r0]=SP(Lw),kP=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=u.useState(null),[d,f]=u.useState(0),h=u.useRef(!1),m=u.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lw}\`. Expected non-empty \`string\`.`),s.jsx($w.Provider,{scope:t,children:s.jsx(R9,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>f(p=>p+1),[]),onToastRemove:u.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:i})})};kP.displayName=Lw;var CP="ToastViewport",D9=["F8"],fb="toast.viewportPause",hb="toast.viewportResume",_P=u.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=D9,label:a="Notifications ({hotkey})",...o}=e,i=r0(CP,r),l=A9(r),c=u.useRef(null),d=u.useRef(null),f=u.useRef(null),h=u.useRef(null),m=pt(t,h,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;u.useEffect(()=>{const b=y=>{var w;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),u.useEffect(()=>{const b=c.current,y=h.current;if(g&&b&&y){const v=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(fb);y.dispatchEvent(S),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(hb);y.dispatchEvent(S),i.isClosePausedRef.current=!1}},j=S=>{!b.contains(S.relatedTarget)&&w()},N=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",v),b.addEventListener("focusout",j),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[g,i.isClosePausedRef]);const x=u.useCallback(({tabbingDirection:b})=>{const v=l().map(w=>{const j=w.ref.current,N=[j,...Y9(j)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?v.reverse():v).flat()},[l]);return u.useEffect(()=>{const b=h.current;if(b){const y=v=>{var N,S,k;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const _=document.activeElement,C=v.shiftKey;if(v.target===b&&C){(N=d.current)==null||N.focus();return}const A=x({tabbingDirection:C?"backwards":"forwards"}),W=A.findIndex(P=>P===_);Qx(A.slice(W+1))?v.preventDefault():C?(S=d.current)==null||S.focus():(k=f.current)==null||k.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,x]),s.jsxs(N9,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(mb,{ref:d,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});Qx(b)}}),s.jsx($w.Slot,{scope:r,children:s.jsx(Ve.ol,{tabIndex:-1,...o,ref:m})}),g&&s.jsx(mb,{ref:f,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});Qx(b)}})]})});_P.displayName=CP;var EP="ToastFocusProxy",mb=u.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,o=r0(EP,r);return s.jsx(t0,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&n()}})});mb.displayName=EP;var oh="Toast",L9="toast.swipeStart",$9="toast.swipeMove",F9="toast.swipeCancel",z9="toast.swipeEnd",TP=u.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:o,...i}=e,[l,c]=ca({prop:n,defaultProp:a??!0,onChange:o,caller:oh});return s.jsx(jP,{present:r||l,children:s.jsx(V9,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:pr(e.onPause),onResume:pr(e.onResume),onSwipeStart:ns(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ns(e.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ns(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ns(e.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});TP.displayName=oh;var[B9,U9]=SP(oh,{onClose(){}}),V9=u.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...g}=e,x=r0(oh,r),[b,y]=u.useState(null),v=pt(t,P=>y(P)),w=u.useRef(null),j=u.useRef(null),N=a||x.duration,S=u.useRef(0),k=u.useRef(N),_=u.useRef(0),{onToastAdd:C,onToastRemove:E}=x,T=pr(()=>{var te;(b==null?void 0:b.contains(document.activeElement))&&((te=x.viewport)==null||te.focus()),i()}),A=u.useCallback(P=>{!P||P===1/0||(window.clearTimeout(_.current),S.current=new Date().getTime(),_.current=window.setTimeout(T,P))},[T]);u.useEffect(()=>{const P=x.viewport;if(P){const te=()=>{A(k.current),d==null||d()},le=()=>{const K=new Date().getTime()-S.current;k.current=k.current-K,window.clearTimeout(_.current),c==null||c()};return P.addEventListener(fb,le),P.addEventListener(hb,te),()=>{P.removeEventListener(fb,le),P.removeEventListener(hb,te)}}},[x.viewport,N,c,d,A]),u.useEffect(()=>{o&&!x.isClosePausedRef.current&&A(N)},[o,N,x.isClosePausedRef,A]),u.useEffect(()=>(C(),()=>E()),[C,E]);const W=u.useMemo(()=>b?DP(b):null,[b]);return x.viewport?s.jsxs(s.Fragment,{children:[W&&s.jsx(H9,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:W}),s.jsx(B9,{scope:r,onClose:T,children:Zt.createPortal(s.jsx($w.ItemSlot,{scope:r,children:s.jsx(j9,{asChild:!0,onEscapeKeyDown:ns(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||T(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ve.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ns(e.onKeyDown,P=>{P.key==="Escape"&&(l==null||l(P.nativeEvent),P.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:ns(e.onPointerDown,P=>{P.button===0&&(w.current={x:P.clientX,y:P.clientY})}),onPointerMove:ns(e.onPointerMove,P=>{if(!w.current)return;const te=P.clientX-w.current.x,le=P.clientY-w.current.y,K=!!j.current,D=["left","right"].includes(x.swipeDirection),I=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,R=D?I(0,te):0,q=D?0:I(0,le),z=P.pointerType==="touch"?10:2,Z={x:R,y:q},ce={originalEvent:P,delta:Z};K?(j.current=Z,wm($9,h,ce,{discrete:!1})):ZS(Z,x.swipeDirection,z)?(j.current=Z,wm(L9,f,ce,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(te)>z||Math.abs(le)>z)&&(w.current=null)}),onPointerUp:ns(e.onPointerUp,P=>{const te=j.current,le=P.target;if(le.hasPointerCapture(P.pointerId)&&le.releasePointerCapture(P.pointerId),j.current=null,w.current=null,te){const K=P.currentTarget,D={originalEvent:P,delta:te};ZS(te,x.swipeDirection,x.swipeThreshold)?wm(z9,p,D,{discrete:!0}):wm(F9,m,D,{discrete:!0}),K.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),H9=e=>{const{__scopeToast:t,children:r,...n}=e,a=r0(oh,t),[o,i]=u.useState(!1),[l,c]=u.useState(!1);return q9(()=>i(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Dd,{asChild:!0,children:s.jsx(t0,{...n,children:o&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},W9="ToastTitle",PP=u.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ve.div,{...n,ref:t})});PP.displayName=W9;var G9="ToastDescription",MP=u.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ve.div,{...n,ref:t})});MP.displayName=G9;var IP="ToastAction",AP=u.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(RP,{altText:r,asChild:!0,children:s.jsx(Fw,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${IP}\`. Expected non-empty \`string\`.`),null)});AP.displayName=IP;var OP="ToastClose",Fw=u.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=U9(OP,r);return s.jsx(RP,{asChild:!0,children:s.jsx(Ve.button,{type:"button",...n,ref:t,onClick:ns(e.onClick,a.onClose)})})});Fw.displayName=OP;var RP=u.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function DP(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),K9(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...DP(n))}}),t}function wm(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?e0(a,o):a.dispatchEvent(o)}var ZS=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return t==="left"||t==="right"?o&&n>r:!o&&a>r};function q9(e=()=>{}){const t=pr(e);Nr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function K9(e){return e.nodeType===e.ELEMENT_NODE}function Y9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Qx(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var X9=kP,LP=_P,$P=TP,FP=PP,zP=MP,BP=AP,UP=Fw;function VP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=VP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function HP(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=VP(e))&&(n&&(n+=" "),n+=t);return n}const ek=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,tk=HP,n0=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return tk(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(d=>{const f=r==null?void 0:r[d],h=o==null?void 0:o[d];if(f===null)return null;const m=ek(f)||ek(h);return a[d][m]}),l=r&&Object.entries(r).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:h,className:m,...p}=f;return Object.entries(p).every(g=>{let[x,b]=g;return Array.isArray(b)?b.includes({...o,...l}[x]):{...o,...l}[x]===b})?[...d,h,m]:d},[]);return tk(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WP=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:i,...l},c)=>u.createElement("svg",{ref:c,...J9,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:WP("lucide",a),...l},[...i.map(([d,f])=>u.createElement(d,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const r=u.forwardRef(({className:n,...a},o)=>u.createElement(Z9,{ref:o,iconNode:t,className:WP(`lucide-${Q9(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=ae("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=ae("ArrowDownAZ",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=ae("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=ae("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=ae("ArrowUpAZ",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=ae("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=ae("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=ae("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=ae("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=ae("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=ae("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=ae("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=ae("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=ae("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=ae("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=ae("ChartColumnIncreasing",[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=ae("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ae("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=ae("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=ae("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=ae("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=ae("CornerDownLeft",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=ae("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=ae("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=ae("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=ae("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=ae("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=ae("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=ae("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=ae("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=ae("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ae("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=ae("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=ae("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=ae("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=ae("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=ae("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=ae("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ae("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=ae("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=ae("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=ae("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=ae("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=ae("Layers3",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1e5n1m"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1iwflc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ae("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=ae("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=ae("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=ae("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=ae("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ae("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=ae("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=ae("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=ae("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=ae("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=ae("MoveLeft",[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=ae("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=ae("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ae("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=ae("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ae("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=ae("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=ae("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=ae("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=ae("PcCase",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",key:"1uq1d7"}],["path",{d:"M15 14h.01",key:"1kp3bh"}],["path",{d:"M9 6h6",key:"dgm16u"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=ae("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ae("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=ae("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=ae("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=ae("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=ae("Projector",[["path",{d:"M5 7 3 5",key:"1yys58"}],["path",{d:"M9 6V3",key:"1ptz9u"}],["path",{d:"m13 7 2-2",key:"1w3vmq"}],["circle",{cx:"9",cy:"13",r:"3",key:"1mma13"}],["path",{d:"M11.83 12H20a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h2.17",key:"2frwzc"}],["path",{d:"M16 16h2",key:"dnq2od"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=ae("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ae("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=ae("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=ae("ScanBarcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=ae("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=ae("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=ae("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=ae("ShieldBan",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=ae("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=ae("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ae("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=ae("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=ae("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=ae("SquareDashed",[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=ae("SquareKanban",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=ae("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ae("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=ae("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=ae("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=ae("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=ae("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=ae("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=ae("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=ae("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=ae("UserSearch",[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=ae("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=ae("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=ae("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ae("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Qw="-",xF=e=>{const t=vF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Qw);return l[0]===""&&l.length!==1&&l.shift(),l4(l,t)||yF(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},l4=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?l4(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Qw);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},lk=/^\[(.+)\]$/,yF=e=>{if(lk.test(e)){const t=lk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},vF=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return wF(Object.entries(e.classGroups),r).forEach(([o,i])=>{Nb(i,n,o,t)}),n},Nb=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:ck(t,a);o.classGroupId=r;return}if(typeof a=="function"){if(bF(a)){Nb(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,i])=>{Nb(i,ck(t,o),r,n)})})},ck=(e,t)=>{let r=e;return t.split(Qw).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},bF=e=>e.isThemeGetter,wF=(e,t)=>t?e.map(([r,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,a]}):e,jF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return a(o,i),i},set(o,i){r.has(o)?r.set(o,i):a(o,i)}}},c4="!",NF=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let d=0,f=0,h;for(let b=0;b<l.length;b++){let y=l[b];if(d===0){if(y===a&&(n||l.slice(b,b+o)===t)){c.push(l.slice(f,b)),f=b+o;continue}if(y==="/"){h=b;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(f),p=m.startsWith(c4),g=p?m.substring(1):m,x=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:i}):i},SF=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},kF=e=>({cache:jF(e.cacheSize),parseClassName:NF(e),...xF(e)}),CF=/\s+/,_F=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(CF);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let g=!!p,x=n(g?m.substring(0,p):m);if(!x){if(!g){l=d+(l.length>0?" "+l:l);continue}if(x=n(m),!x){l=d+(l.length>0?" "+l:l);continue}g=!1}const b=SF(f).join(":"),y=h?b+c4:b,v=y+x;if(o.includes(v))continue;o.push(v);const w=a(x,g);for(let j=0;j<w.length;++j){const N=w[j];o.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function EF(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=d4(t))&&(n&&(n+=" "),n+=r);return n}const d4=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=d4(e[n]))&&(r&&(r+=" "),r+=t);return r};function TF(e,...t){let r,n,a,o=i;function i(c){const d=t.reduce((f,h)=>h(f),e());return r=kF(d),n=r.cache.get,a=r.cache.set,o=l,l(c)}function l(c){const d=n(c);if(d)return d;const f=_F(c,r);return a(c,f),f}return function(){return o(EF.apply(null,arguments))}}const ar=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},u4=/^\[(?:([a-z-]+):)?(.+)\]$/i,PF=/^\d+\/\d+$/,MF=new Set(["px","full","screen"]),IF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qa=e=>Kc(e)||MF.has(e)||PF.test(e),Ao=e=>$d(e,"length",HF),Kc=e=>!!e&&!Number.isNaN(Number(e)),Zx=e=>$d(e,"number",Kc),mu=e=>!!e&&Number.isInteger(Number(e)),LF=e=>e.endsWith("%")&&Kc(e.slice(0,-1)),vt=e=>u4.test(e),Oo=e=>IF.test(e),$F=new Set(["length","size","percentage"]),FF=e=>$d(e,$F,f4),zF=e=>$d(e,"position",f4),BF=new Set(["image","url"]),UF=e=>$d(e,BF,GF),VF=e=>$d(e,"",WF),pu=()=>!0,$d=(e,t,r)=>{const n=u4.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},HF=e=>AF.test(e)&&!OF.test(e),f4=()=>!1,WF=e=>RF.test(e),GF=e=>DF.test(e),qF=()=>{const e=ar("colors"),t=ar("spacing"),r=ar("blur"),n=ar("brightness"),a=ar("borderColor"),o=ar("borderRadius"),i=ar("borderSpacing"),l=ar("borderWidth"),c=ar("contrast"),d=ar("grayscale"),f=ar("hueRotate"),h=ar("invert"),m=ar("gap"),p=ar("gradientColorStops"),g=ar("gradientColorStopPositions"),x=ar("inset"),b=ar("margin"),y=ar("opacity"),v=ar("padding"),w=ar("saturate"),j=ar("scale"),N=ar("sepia"),S=ar("skew"),k=ar("space"),_=ar("translate"),C=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",vt,t],A=()=>[vt,t],W=()=>["",Qa,Ao],P=()=>["auto",Kc,vt],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",vt],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Kc,vt];return{cacheSize:500,separator:":",theme:{colors:[pu],spacing:[Qa,Ao],blur:["none","",Oo,vt],brightness:q(),borderColor:[e],borderRadius:["none","","full",Oo,vt],borderSpacing:A(),borderWidth:W(),contrast:q(),grayscale:I(),hueRotate:q(),invert:I(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[LF,Ao],inset:T(),margin:T(),opacity:q(),padding:A(),saturate:q(),scale:q(),sepia:I(),skew:q(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",vt]}],container:["container"],columns:[{columns:[Oo]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),vt]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mu,vt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",vt]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",mu,vt]}],"grid-cols":[{"grid-cols":[pu]}],"col-start-end":[{col:["auto",{span:["full",mu,vt]},vt]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[pu]}],"row-start-end":[{row:["auto",{span:[mu,vt]},vt]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",vt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",vt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",vt,t]}],"min-w":[{"min-w":[vt,t,"min","max","fit"]}],"max-w":[{"max-w":[vt,t,"none","full","min","max","fit","prose",{screen:[Oo]},Oo]}],h:[{h:[vt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[vt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[vt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[vt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Oo,Ao]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zx]}],"font-family":[{font:[pu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",vt]}],"line-clamp":[{"line-clamp":["none",Kc,Zx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qa,vt]}],"list-image":[{"list-image":["none",vt]}],"list-style-type":[{list:["none","disc","decimal",vt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qa,Ao]}],"underline-offset":[{"underline-offset":["auto",Qa,vt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),zF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",FF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:le()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[Qa,vt]}],"outline-w":[{outline:[Qa,Ao]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Qa,Ao]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Oo,VF]}],"shadow-color":[{shadow:[pu]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Oo,vt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",vt]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",vt]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",vt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[mu,vt]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",vt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qa,Ao,Zx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KF=TF(qF);function se(...e){return KF(HP(e))}const YF="/backend".trim();new URL(YF,window.location.origin).toString().replace(/\/+$/,"");const XF=X9,h4=u.forwardRef(({className:e,...t},r)=>s.jsx(LP,{ref:r,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));h4.displayName=LP.displayName;const QF=n0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),m4=u.forwardRef(({className:e,variant:t,...r},n)=>s.jsx($P,{ref:n,className:se(QF({variant:t}),e),...r}));m4.displayName=$P.displayName;const JF=u.forwardRef(({className:e,...t},r)=>s.jsx(BP,{ref:r,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));JF.displayName=BP.displayName;const p4=u.forwardRef(({className:e,...t},r)=>s.jsx(UP,{ref:r,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Mt,{className:"h-4 w-4"})}));p4.displayName=UP.displayName;const g4=u.forwardRef(({className:e,...t},r)=>s.jsx(FP,{ref:r,className:se("text-sm font-semibold",e),...t}));g4.displayName=FP.displayName;const x4=u.forwardRef(({className:e,...t},r)=>s.jsx(zP,{ref:r,className:se("text-sm opacity-90",e),...t}));x4.displayName=zP.displayName;function ZF(){const{toasts:e}=pP();return s.jsxs(XF,{children:[e.map(function({id:t,title:r,description:n,action:a,...o}){return s.jsxs(m4,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(g4,{children:r}),n&&s.jsx(x4,{children:n})]}),a,s.jsx(p4,{})]},t)}),s.jsx(h4,{})]})}var dk=["light","dark"],ez="(prefers-color-scheme: dark)",tz=u.createContext(void 0),rz={setTheme:e=>{},themes:[]},nz=()=>{var e;return(e=u.useContext(tz))!=null?e:rz};u.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let d=o==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=a?dk.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(g,x=!1,b=!0)=>{let y=i?i[g]:g,v=x?g+"|| ''":`'${y}'`,w="";return a&&b&&!x&&dk.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?x||y?w+=`c.add(${v})`:w+="null":y&&(w+=`d[s](n,${v})`),w},p=e?`!function(){${f}${m(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${ez}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${d?"":"else{"+m(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${h}}catch(t){}}();`;return u.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var sz=e=>{switch(e){case"success":return iz;case"info":return cz;case"warning":return lz;case"error":return dz;default:return null}},az=Array(12).fill(0),oz=({visible:e,className:t})=>ue.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ue.createElement("div",{className:"sonner-spinner"},az.map((r,n)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),iz=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lz=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cz=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dz=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uz=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fz=()=>{let[e,t]=ue.useState(document.hidden);return ue.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Sb=1,hz=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Sb++,o=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],ue.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(pz(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:f})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>i.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Sb++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},zn=new hz,mz=(e,t)=>{let r=(t==null?void 0:t.id)||Sb++;return zn.addToast({title:e,...t,id:r}),r},pz=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",gz=mz,xz=()=>zn.toasts,yz=()=>zn.getActiveToasts();Object.assign(gz,{success:zn.success,info:zn.info,warning:zn.warning,error:zn.error,custom:zn.custom,message:zn.message,promise:zn.promise,dismiss:zn.dismiss,loading:zn.loading},{getHistory:xz,getToasts:yz});function vz(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}vz(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nm(e){return e.label!==void 0}var bz=3,wz="32px",jz="16px",uk=4e3,Nz=356,Sz=14,kz=20,Cz=200;function qs(...e){return e.filter(Boolean).join(" ")}function _z(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Ez=e=>{var t,r,n,a,o,i,l,c,d,f,h;let{invert:m,toast:p,unstyled:g,interacting:x,setHeights:b,visibleToasts:y,heights:v,index:w,toasts:j,expanded:N,removeToast:S,defaultRichColors:k,closeButton:_,style:C,cancelButtonStyle:E,actionButtonStyle:T,className:A="",descriptionClassName:W="",duration:P,position:te,gap:le,loadingIcon:K,expandByDefault:D,classNames:I,icons:R,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:z}=e,[Z,ce]=ue.useState(null),[F,J]=ue.useState(null),[L,U]=ue.useState(!1),[$,M]=ue.useState(!1),[re,de]=ue.useState(!1),[Ee,Ze]=ue.useState(!1),[rt,Xe]=ue.useState(!1),[et,Je]=ue.useState(0),[We,ee]=ue.useState(0),X=ue.useRef(p.duration||P||uk),Te=ue.useRef(null),be=ue.useRef(null),H=w===0,ge=w+1<=y,Ne=p.type,xe=p.dismissible!==!1,Re=p.className||"",at=p.descriptionClassName||"",nt=ue.useMemo(()=>v.findIndex(Q=>Q.toastId===p.id)||0,[v,p.id]),ot=ue.useMemo(()=>{var Q;return(Q=p.closeButton)!=null?Q:_},[p.closeButton,_]),Oe=ue.useMemo(()=>p.duration||P||uk,[p.duration,P]),Ht=ue.useRef(0),Qt=ue.useRef(0),Pr=ue.useRef(0),ht=ue.useRef(null),[Mr,Ir]=te.split("-"),Nt=ue.useMemo(()=>v.reduce((Q,me,ke)=>ke>=nt?Q:Q+me.height,0),[v,nt]),fe=fz(),Se=p.invert||m,pe=Ne==="loading";Qt.current=ue.useMemo(()=>nt*le+Nt,[nt,Nt]),ue.useEffect(()=>{X.current=Oe},[Oe]),ue.useEffect(()=>{U(!0)},[]),ue.useEffect(()=>{let Q=be.current;if(Q){let me=Q.getBoundingClientRect().height;return ee(me),b(ke=>[{toastId:p.id,height:me,position:p.position},...ke]),()=>b(ke=>ke.filter(Ge=>Ge.toastId!==p.id))}},[b,p.id]),ue.useLayoutEffect(()=>{if(!L)return;let Q=be.current,me=Q.style.height;Q.style.height="auto";let ke=Q.getBoundingClientRect().height;Q.style.height=me,ee(ke),b(Ge=>Ge.find(Ct=>Ct.toastId===p.id)?Ge.map(Ct=>Ct.toastId===p.id?{...Ct,height:ke}:Ct):[{toastId:p.id,height:ke,position:p.position},...Ge])},[L,p.title,p.description,b,p.id]);let _e=ue.useCallback(()=>{M(!0),Je(Qt.current),b(Q=>Q.filter(me=>me.toastId!==p.id)),setTimeout(()=>{S(p)},Cz)},[p,S,b,Qt]);ue.useEffect(()=>{if(p.promise&&Ne==="loading"||p.duration===1/0||p.type==="loading")return;let Q;return N||x||z&&fe?(()=>{if(Pr.current<Ht.current){let me=new Date().getTime()-Ht.current;X.current=X.current-me}Pr.current=new Date().getTime()})():X.current!==1/0&&(Ht.current=new Date().getTime(),Q=setTimeout(()=>{var me;(me=p.onAutoClose)==null||me.call(p,p),_e()},X.current)),()=>clearTimeout(Q)},[N,x,p,Ne,z,fe,_e]),ue.useEffect(()=>{p.delete&&_e()},[_e,p.delete]);function qe(){var Q,me,ke;return R!=null&&R.loading?ue.createElement("div",{className:qs(I==null?void 0:I.loader,(Q=p==null?void 0:p.classNames)==null?void 0:Q.loader,"sonner-loader"),"data-visible":Ne==="loading"},R.loading):K?ue.createElement("div",{className:qs(I==null?void 0:I.loader,(me=p==null?void 0:p.classNames)==null?void 0:me.loader,"sonner-loader"),"data-visible":Ne==="loading"},K):ue.createElement(oz,{className:qs(I==null?void 0:I.loader,(ke=p==null?void 0:p.classNames)==null?void 0:ke.loader),visible:Ne==="loading"})}return ue.createElement("li",{tabIndex:0,ref:be,className:qs(A,Re,I==null?void 0:I.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[Ne],(r=p==null?void 0:p.classNames)==null?void 0:r[Ne]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":L,"data-promise":!!p.promise,"data-swiped":rt,"data-removed":$,"data-visible":ge,"data-y-position":Mr,"data-x-position":Ir,"data-index":w,"data-front":H,"data-swiping":re,"data-dismissible":xe,"data-type":Ne,"data-invert":Se,"data-swipe-out":Ee,"data-swipe-direction":F,"data-expanded":!!(N||D&&L),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${$?et:Qt.current}px`,"--initial-height":D?"auto":`${We}px`,...C,...p.style},onDragEnd:()=>{de(!1),ce(null),ht.current=null},onPointerDown:Q=>{pe||!xe||(Te.current=new Date,Je(Qt.current),Q.target.setPointerCapture(Q.pointerId),Q.target.tagName!=="BUTTON"&&(de(!0),ht.current={x:Q.clientX,y:Q.clientY}))},onPointerUp:()=>{var Q,me,ke,Ge;if(Ee||!xe)return;ht.current=null;let Ct=Number(((Q=be.current)==null?void 0:Q.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Tt=Number(((me=be.current)==null?void 0:me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gt=new Date().getTime()-((ke=Te.current)==null?void 0:ke.getTime()),Ut=Z==="x"?Ct:Tt,Hr=Math.abs(Ut)/gt;if(Math.abs(Ut)>=kz||Hr>.11){Je(Qt.current),(Ge=p.onDismiss)==null||Ge.call(p,p),J(Z==="x"?Ct>0?"right":"left":Tt>0?"down":"up"),_e(),Ze(!0),Xe(!1);return}de(!1),ce(null)},onPointerMove:Q=>{var me,ke,Ge,Ct;if(!ht.current||!xe||((me=window.getSelection())==null?void 0:me.toString().length)>0)return;let Tt=Q.clientY-ht.current.y,gt=Q.clientX-ht.current.x,Ut=(ke=e.swipeDirections)!=null?ke:_z(te);!Z&&(Math.abs(gt)>1||Math.abs(Tt)>1)&&ce(Math.abs(gt)>Math.abs(Tt)?"x":"y");let Hr={x:0,y:0};Z==="y"?(Ut.includes("top")||Ut.includes("bottom"))&&(Ut.includes("top")&&Tt<0||Ut.includes("bottom")&&Tt>0)&&(Hr.y=Tt):Z==="x"&&(Ut.includes("left")||Ut.includes("right"))&&(Ut.includes("left")&&gt<0||Ut.includes("right")&&gt>0)&&(Hr.x=gt),(Math.abs(Hr.x)>0||Math.abs(Hr.y)>0)&&Xe(!0),(Ge=be.current)==null||Ge.style.setProperty("--swipe-amount-x",`${Hr.x}px`),(Ct=be.current)==null||Ct.style.setProperty("--swipe-amount-y",`${Hr.y}px`)}},ot&&!p.jsx?ue.createElement("button",{"aria-label":q,"data-disabled":pe,"data-close-button":!0,onClick:pe||!xe?()=>{}:()=>{var Q;_e(),(Q=p.onDismiss)==null||Q.call(p,p)},className:qs(I==null?void 0:I.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(o=R==null?void 0:R.close)!=null?o:uz):null,p.jsx||u.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ue.createElement(ue.Fragment,null,Ne||p.icon||p.promise?ue.createElement("div",{"data-icon":"",className:qs(I==null?void 0:I.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||qe():null,p.type!=="loading"?p.icon||(R==null?void 0:R[Ne])||sz(Ne):null):null,ue.createElement("div",{"data-content":"",className:qs(I==null?void 0:I.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},ue.createElement("div",{"data-title":"",className:qs(I==null?void 0:I.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?ue.createElement("div",{"data-description":"",className:qs(W,at,I==null?void 0:I.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),u.isValidElement(p.cancel)?p.cancel:p.cancel&&Nm(p.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||E,onClick:Q=>{var me,ke;Nm(p.cancel)&&xe&&((ke=(me=p.cancel).onClick)==null||ke.call(me,Q),_e())},className:qs(I==null?void 0:I.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,u.isValidElement(p.action)?p.action:p.action&&Nm(p.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||T,onClick:Q=>{var me,ke;Nm(p.action)&&((ke=(me=p.action).onClick)==null||ke.call(me,Q),!Q.defaultPrevented&&_e())},className:qs(I==null?void 0:I.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function fk(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Tz(e,t){let r={};return[e,t].forEach((n,a)=>{let o=a===1,i=o?"--mobile-offset":"--offset",l=o?jz:wz;function c(d){["top","right","bottom","left"].forEach(f=>{r[`${i}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${i}-${d}`]=l:r[`${i}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var Pz=u.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:d,theme:f="light",richColors:h,duration:m,style:p,visibleToasts:g=bz,toastOptions:x,dir:b=fk(),gap:y=Sz,loadingIcon:v,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:N}=e,[S,k]=ue.useState([]),_=ue.useMemo(()=>Array.from(new Set([n].concat(S.filter(z=>z.position).map(z=>z.position)))),[S,n]),[C,E]=ue.useState([]),[T,A]=ue.useState(!1),[W,P]=ue.useState(!1),[te,le]=ue.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=ue.useRef(null),D=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=ue.useRef(null),R=ue.useRef(!1),q=ue.useCallback(z=>{k(Z=>{var ce;return(ce=Z.find(F=>F.id===z.id))!=null&&ce.delete||zn.dismiss(z.id),Z.filter(({id:F})=>F!==z.id)})},[]);return ue.useEffect(()=>zn.subscribe(z=>{if(z.dismiss){k(Z=>Z.map(ce=>ce.id===z.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{Dw.flushSync(()=>{k(Z=>{let ce=Z.findIndex(F=>F.id===z.id);return ce!==-1?[...Z.slice(0,ce),{...Z[ce],...z},...Z.slice(ce+1)]:[z,...Z]})})})}),[]),ue.useEffect(()=>{if(f!=="system"){le(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:Z})=>{le(Z?"dark":"light")})}catch{z.addListener(({matches:ce})=>{try{le(ce?"dark":"light")}catch(F){console.error(F)}})}},[f]),ue.useEffect(()=>{S.length<=1&&A(!1)},[S]),ue.useEffect(()=>{let z=Z=>{var ce,F;a.every(J=>Z[J]||Z.code===J)&&(A(!0),(ce=K.current)==null||ce.focus()),Z.code==="Escape"&&(document.activeElement===K.current||(F=K.current)!=null&&F.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[a]),ue.useEffect(()=>{if(K.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,R.current=!1)}},[K.current]),ue.createElement("section",{ref:t,"aria-label":`${j} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((z,Z)=>{var ce;let[F,J]=z.split("-");return S.length?ue.createElement("ol",{key:z,dir:b==="auto"?fk():b,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":F,"data-lifted":T&&S.length>1&&!o,"data-x-position":J,style:{"--front-toast-height":`${((ce=C[0])==null?void 0:ce.height)||0}px`,"--width":`${Nz}px`,"--gap":`${y}px`,...p,...Tz(c,d)},onBlur:L=>{R.current&&!L.currentTarget.contains(L.relatedTarget)&&(R.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||R.current||(R.current=!0,I.current=L.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{W||A(!1)},onDragEnd:()=>A(!1),onPointerDown:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},S.filter(L=>!L.position&&Z===0||L.position===z).map((L,U)=>{var $,M;return ue.createElement(Ez,{key:L.id,icons:w,index:U,toast:L,defaultRichColors:h,duration:($=x==null?void 0:x.duration)!=null?$:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:g,closeButton:(M=x==null?void 0:x.closeButton)!=null?M:i,interacting:W,position:z,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:q,toasts:S.filter(re=>re.position==L.position),heights:C.filter(re=>re.position==L.position),setHeights:E,expandByDefault:o,gap:y,loadingIcon:v,expanded:T,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const Mz=({...e})=>{const{theme:t="system"}=nz();return s.jsx(Pz,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function $e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var Iz="DismissableLayer",kb="dismissableLayer.update",Az="dismissableLayer.pointerDownOutside",Oz="dismissableLayer.focusOutside",hk,y4=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ql=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=u.useContext(y4),[f,h]=u.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=u.useState({}),g=pt(t,k=>h(k)),x=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(b),v=f?x.indexOf(f):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=y,N=Lz(k=>{const _=k.target,C=[...d.branches].some(E=>E.contains(_));!j||C||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},m),S=$z(k=>{const _=k.target;[...d.branches].some(E=>E.contains(_))||(o==null||o(k),i==null||i(k),k.defaultPrevented||l==null||l())},m);return xP(k=>{v===d.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),u.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(hk=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),mk(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=hk)}},[f,m,r,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),mk())},[f,d]),u.useEffect(()=>{const k=()=>p({});return document.addEventListener(kb,k),()=>document.removeEventListener(kb,k)},[]),s.jsx(Ve.div,{...c,ref:g,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:$e(e.onFocusCapture,S.onFocusCapture),onBlurCapture:$e(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:$e(e.onPointerDownCapture,N.onPointerDownCapture)})});ql.displayName=Iz;var Rz="DismissableLayerBranch",Dz=u.forwardRef((e,t)=>{const r=u.useContext(y4),n=u.useRef(null),a=pt(t,n);return u.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(Ve.div,{...e,ref:a})});Dz.displayName=Rz;function Lz(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e),n=u.useRef(!1),a=u.useRef(()=>{});return u.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){v4(Az,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function $z(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e),n=u.useRef(!1);return u.useEffect(()=>{const a=o=>{o.target&&!n.current&&v4(Oz,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function mk(){const e=new CustomEvent(kb);document.dispatchEvent(e)}function v4(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?e0(a,o):a.dispatchEvent(o)}var Fz=W1[" useId ".trim().toString()]||(()=>{}),zz=0;function sn(e){const[t,r]=u.useState(Fz());return Nr(()=>{r(n=>n??String(zz++))},[e]),t?`radix-${t}`:""}const Bz=["top","right","bottom","left"],Ti=Math.min,rs=Math.max,ng=Math.round,Sm=Math.floor,La=e=>({x:e,y:e}),Uz={left:"right",right:"left",bottom:"top",top:"bottom"},Vz={start:"end",end:"start"};function Cb(e,t,r){return rs(e,Ti(t,r))}function wo(e,t){return typeof e=="function"?e(t):e}function jo(e){return e.split("-")[0]}function Fd(e){return e.split("-")[1]}function Jw(e){return e==="x"?"y":"x"}function Zw(e){return e==="y"?"height":"width"}const Hz=new Set(["top","bottom"]);function Pa(e){return Hz.has(jo(e))?"y":"x"}function e2(e){return Jw(Pa(e))}function Wz(e,t,r){r===void 0&&(r=!1);const n=Fd(e),a=e2(e),o=Zw(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=sg(i)),[i,sg(i)]}function Gz(e){const t=sg(e);return[_b(e),t,_b(t)]}function _b(e){return e.replace(/start|end/g,t=>Vz[t])}const pk=["left","right"],gk=["right","left"],qz=["top","bottom"],Kz=["bottom","top"];function Yz(e,t,r){switch(e){case"top":case"bottom":return r?t?gk:pk:t?pk:gk;case"left":case"right":return t?qz:Kz;default:return[]}}function Xz(e,t,r,n){const a=Fd(e);let o=Yz(jo(e),r==="start",n);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(_b)))),o}function sg(e){return e.replace(/left|right|bottom|top/g,t=>Uz[t])}function Qz(e){return{top:0,right:0,bottom:0,left:0,...e}}function b4(e){return typeof e!="number"?Qz(e):{top:e,right:e,bottom:e,left:e}}function ag(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function xk(e,t,r){let{reference:n,floating:a}=e;const o=Pa(t),i=e2(t),l=Zw(i),c=jo(t),d=o==="y",f=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-a.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-a.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Fd(t)){case"start":p[i]-=m*(r&&d?-1:1);break;case"end":p[i]+=m*(r&&d?-1:1);break}return p}const Jz=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:h}=xk(d,n,c),m=n,p={},g=0;for(let x=0;x<l.length;x++){const{name:b,fn:y}=l[x],{x:v,y:w,data:j,reset:N}=await y({x:f,y:h,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:d,platform:i,elements:{reference:e,floating:t}});f=v??f,h=w??h,p={...p,[b]:{...p[b],...j}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:f,y:h}=xk(d,m,c)),x=-1)}return{x:f,y:h,placement:m,strategy:a,middlewareData:p}};async function kf(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=wo(t,e),g=b4(p),b=l[m?h==="floating"?"reference":"floating":h],y=ag(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),v=h==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},N=ag(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(y.top-N.top+g.top)/j.y,bottom:(N.bottom-y.bottom+g.bottom)/j.y,left:(y.left-N.left+g.left)/j.x,right:(N.right-y.right+g.right)/j.x}}const Zz=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:f=0}=wo(e,t)||{};if(d==null)return{};const h=b4(f),m={x:r,y:n},p=e2(a),g=Zw(p),x=await i.getDimensions(d),b=p==="y",y=b?"top":"left",v=b?"bottom":"right",w=b?"clientHeight":"clientWidth",j=o.reference[g]+o.reference[p]-m[p]-o.floating[g],N=m[p]-o.reference[p],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let k=S?S[w]:0;(!k||!await(i.isElement==null?void 0:i.isElement(S)))&&(k=l.floating[w]||o.floating[g]);const _=j/2-N/2,C=k/2-x[g]/2-1,E=Ti(h[y],C),T=Ti(h[v],C),A=E,W=k-x[g]-T,P=k/2-x[g]/2+_,te=Cb(A,P,W),le=!c.arrow&&Fd(a)!=null&&P!==te&&o.reference[g]/2-(P<A?E:T)-x[g]/2<0,K=le?P<A?P-A:P-W:0;return{[p]:m[p]+K,data:{[p]:te,centerOffset:P-te-K,...le&&{alignmentOffset:K}},reset:le}}}),eB=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...b}=wo(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=jo(a),v=Pa(l),w=jo(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(w||!x?[sg(l)]:Gz(l)),S=g!=="none";!m&&S&&N.push(...Xz(l,x,g,j));const k=[l,...N],_=await kf(t,b),C=[];let E=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&C.push(_[y]),h){const P=Wz(a,i,j);C.push(_[P[0]],_[P[1]])}if(E=[...E,{placement:a,overflows:C}],!C.every(P=>P<=0)){var T,A;const P=(((T=o.flip)==null?void 0:T.index)||0)+1,te=k[P];if(te&&(!(h==="alignment"?v!==Pa(te):!1)||E.every(D=>D.overflows[0]>0&&Pa(D.placement)===v)))return{data:{index:P,overflows:E},reset:{placement:te}};let le=(A=E.filter(K=>K.overflows[0]<=0).sort((K,D)=>K.overflows[1]-D.overflows[1])[0])==null?void 0:A.placement;if(!le)switch(p){case"bestFit":{var W;const K=(W=E.filter(D=>{if(S){const I=Pa(D.placement);return I===v||I==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(I=>I>0).reduce((I,R)=>I+R,0)]).sort((D,I)=>D[1]-I[1])[0])==null?void 0:W[0];K&&(le=K);break}case"initialPlacement":le=l;break}if(a!==le)return{reset:{placement:le}}}return{}}}};function yk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vk(e){return Bz.some(t=>e[t]>=0)}const tB=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=wo(e,t);switch(n){case"referenceHidden":{const o=await kf(t,{...a,elementContext:"reference"}),i=yk(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:vk(i)}}}case"escaped":{const o=await kf(t,{...a,altBoundary:!0}),i=yk(o,r.floating);return{data:{escapedOffsets:i,escaped:vk(i)}}}default:return{}}}}},w4=new Set(["left","top"]);async function rB(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=jo(r),l=Fd(r),c=Pa(r)==="y",d=w4.has(i)?-1:1,f=o&&c?-1:1,h=wo(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*f,y:m*d}:{x:m*d,y:p*f}}const nB=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await rB(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},sB=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:y,y:v}=b;return{x:y,y:v}}},...c}=wo(e,t),d={x:r,y:n},f=await kf(t,c),h=Pa(jo(a)),m=Jw(h);let p=d[m],g=d[h];if(o){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=p+f[b],w=p-f[y];p=Cb(v,p,w)}if(i){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=g+f[b],w=g-f[y];g=Cb(v,g,w)}const x=l.fn({...t,[m]:p,[h]:g});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:o,[h]:i}}}}}},aB=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=wo(e,t),f={x:r,y:n},h=Pa(a),m=Jw(h);let p=f[m],g=f[h];const x=wo(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const w=m==="y"?"height":"width",j=o.reference[m]-o.floating[w]+b.mainAxis,N=o.reference[m]+o.reference[w]-b.mainAxis;p<j?p=j:p>N&&(p=N)}if(d){var y,v;const w=m==="y"?"width":"height",j=w4.has(jo(a)),N=o.reference[h]-o.floating[w]+(j&&((y=i.offset)==null?void 0:y[h])||0)+(j?0:b.crossAxis),S=o.reference[h]+o.reference[w]+(j?0:((v=i.offset)==null?void 0:v[h])||0)-(j?b.crossAxis:0);g<N?g=N:g>S&&(g=S)}return{[m]:p,[h]:g}}}},oB=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...d}=wo(e,t),f=await kf(t,d),h=jo(a),m=Fd(a),p=Pa(a)==="y",{width:g,height:x}=o.floating;let b,y;h==="top"||h==="bottom"?(b=h,y=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,b=m==="end"?"top":"bottom");const v=x-f.top-f.bottom,w=g-f.left-f.right,j=Ti(x-f[b],v),N=Ti(g-f[y],w),S=!t.middlewareData.shift;let k=j,_=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(_=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=v),S&&!m){const E=rs(f.left,0),T=rs(f.right,0),A=rs(f.top,0),W=rs(f.bottom,0);p?_=g-2*(E!==0||T!==0?E+T:rs(f.left,f.right)):k=x-2*(A!==0||W!==0?A+W:rs(f.top,f.bottom))}await c({...t,availableWidth:_,availableHeight:k});const C=await i.getDimensions(l.floating);return g!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function o0(){return typeof window<"u"}function zd(e){return j4(e)?(e.nodeName||"").toLowerCase():"#document"}function cs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wa(e){var t;return(t=(j4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function j4(e){return o0()?e instanceof Node||e instanceof cs(e).Node:!1}function da(e){return o0()?e instanceof Element||e instanceof cs(e).Element:!1}function Va(e){return o0()?e instanceof HTMLElement||e instanceof cs(e).HTMLElement:!1}function bk(e){return!o0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cs(e).ShadowRoot}const iB=new Set(["inline","contents"]);function ph(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ua(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!iB.has(a)}const lB=new Set(["table","td","th"]);function cB(e){return lB.has(zd(e))}const dB=[":popover-open",":modal"];function i0(e){return dB.some(t=>{try{return e.matches(t)}catch{return!1}})}const uB=["transform","translate","scale","rotate","perspective"],fB=["transform","translate","scale","rotate","perspective","filter"],hB=["paint","layout","strict","content"];function t2(e){const t=r2(),r=da(e)?ua(e):e;return uB.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||fB.some(n=>(r.willChange||"").includes(n))||hB.some(n=>(r.contain||"").includes(n))}function mB(e){let t=Pi(e);for(;Va(t)&&!jd(t);){if(t2(t))return t;if(i0(t))return null;t=Pi(t)}return null}function r2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pB=new Set(["html","body","#document"]);function jd(e){return pB.has(zd(e))}function ua(e){return cs(e).getComputedStyle(e)}function l0(e){return da(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pi(e){if(zd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bk(e)&&e.host||Wa(e);return bk(t)?t.host:t}function N4(e){const t=Pi(e);return jd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Va(t)&&ph(t)?t:N4(t)}function Cf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=N4(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=cs(a);if(o){const l=Eb(i);return t.concat(i,i.visualViewport||[],ph(a)?a:[],l&&r?Cf(l):[])}return t.concat(a,Cf(a,[],r))}function Eb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function S4(e){const t=ua(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Va(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=ng(r)!==o||ng(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function n2(e){return da(e)?e:e.contextElement}function Yc(e){const t=n2(e);if(!Va(t))return La(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=S4(t);let i=(o?ng(r.width):r.width)/n,l=(o?ng(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const gB=La(0);function k4(e){const t=cs(e);return!r2()||!t.visualViewport?gB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xB(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==cs(e)?!1:t}function Ol(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=n2(e);let i=La(1);t&&(n?da(n)&&(i=Yc(n)):i=Yc(e));const l=xB(o,r,n)?k4(o):La(0);let c=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,f=a.width/i.x,h=a.height/i.y;if(o){const m=cs(o),p=n&&da(n)?cs(n):n;let g=m,x=Eb(g);for(;x&&n&&p!==g;){const b=Yc(x),y=x.getBoundingClientRect(),v=ua(x),w=y.left+(x.clientLeft+parseFloat(v.paddingLeft))*b.x,j=y.top+(x.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,d*=b.y,f*=b.x,h*=b.y,c+=w,d+=j,g=cs(x),x=Eb(g)}}return ag({width:f,height:h,x:c,y:d})}function s2(e,t){const r=l0(e).scrollLeft;return t?t.left+r:Ol(Wa(e)).left+r}function C4(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:s2(e,n)),o=n.top+t.scrollTop;return{x:a,y:o}}function yB(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const o=a==="fixed",i=Wa(n),l=t?i0(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},d=La(1);const f=La(0),h=Va(n);if((h||!h&&!o)&&((zd(n)!=="body"||ph(i))&&(c=l0(n)),Va(n))){const p=Ol(n);d=Yc(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const m=i&&!h&&!o?C4(i,c,!0):La(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:r.y*d.y-c.scrollTop*d.y+f.y+m.y}}function vB(e){return Array.from(e.getClientRects())}function bB(e){const t=Wa(e),r=l0(e),n=e.ownerDocument.body,a=rs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=rs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+s2(e);const l=-r.scrollTop;return ua(n).direction==="rtl"&&(i+=rs(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:l}}function wB(e,t){const r=cs(e),n=Wa(e),a=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const d=r2();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l,y:c}}const jB=new Set(["absolute","fixed"]);function NB(e,t){const r=Ol(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=Va(e)?Yc(e):La(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,d=n*o.y;return{width:i,height:l,x:c,y:d}}function wk(e,t,r){let n;if(t==="viewport")n=wB(e,r);else if(t==="document")n=bB(Wa(e));else if(da(t))n=NB(t,r);else{const a=k4(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ag(n)}function _4(e,t){const r=Pi(e);return r===t||!da(r)||jd(r)?!1:ua(r).position==="fixed"||_4(r,t)}function SB(e,t){const r=t.get(e);if(r)return r;let n=Cf(e,[],!1).filter(l=>da(l)&&zd(l)!=="body"),a=null;const o=ua(e).position==="fixed";let i=o?Pi(e):e;for(;da(i)&&!jd(i);){const l=ua(i),c=t2(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&jB.has(a.position)||ph(i)&&!c&&_4(e,i))?n=n.filter(f=>f!==i):a=l,i=Pi(i)}return t.set(e,n),n}function kB(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?i0(t)?[]:SB(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((d,f)=>{const h=wk(t,f,a);return d.top=rs(h.top,d.top),d.right=Ti(h.right,d.right),d.bottom=Ti(h.bottom,d.bottom),d.left=rs(h.left,d.left),d},wk(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function CB(e){const{width:t,height:r}=S4(e);return{width:t,height:r}}function _B(e,t,r){const n=Va(t),a=Wa(t),o=r==="fixed",i=Ol(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=La(0);function d(){c.x=s2(a)}if(n||!n&&!o)if((zd(t)!=="body"||ph(a))&&(l=l0(t)),n){const p=Ol(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();o&&!n&&a&&d();const f=a&&!n&&!o?C4(a,l):La(0),h=i.left+l.scrollLeft-c.x-f.x,m=i.top+l.scrollTop-c.y-f.y;return{x:h,y:m,width:i.width,height:i.height}}function ey(e){return ua(e).position==="static"}function jk(e,t){if(!Va(e)||ua(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Wa(e)===r&&(r=r.ownerDocument.body),r}function E4(e,t){const r=cs(e);if(i0(e))return r;if(!Va(e)){let a=Pi(e);for(;a&&!jd(a);){if(da(a)&&!ey(a))return a;a=Pi(a)}return r}let n=jk(e,t);for(;n&&cB(n)&&ey(n);)n=jk(n,t);return n&&jd(n)&&ey(n)&&!t2(n)?r:n||mB(e)||r}const EB=async function(e){const t=this.getOffsetParent||E4,r=this.getDimensions,n=await r(e.floating);return{reference:_B(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function TB(e){return ua(e).direction==="rtl"}const PB={convertOffsetParentRelativeRectToViewportRelativeRect:yB,getDocumentElement:Wa,getClippingRect:kB,getOffsetParent:E4,getElementRects:EB,getClientRects:vB,getDimensions:CB,getScale:Yc,isElement:da,isRTL:TB};function T4(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function MB(e,t){let r=null,n;const a=Wa(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const d=e.getBoundingClientRect(),{left:f,top:h,width:m,height:p}=d;if(l||t(),!m||!p)return;const g=Sm(h),x=Sm(a.clientWidth-(f+m)),b=Sm(a.clientHeight-(h+p)),y=Sm(f),w={rootMargin:-g+"px "+-x+"px "+-b+"px "+-y+"px",threshold:rs(0,Ti(1,c))||1};let j=!0;function N(S){const k=S[0].intersectionRatio;if(k!==c){if(!j)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!T4(d,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return i(!0),o}function IB(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=n2(e),f=a||o?[...d?Cf(d):[],...Cf(t)]:[];f.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const h=d&&l?MB(d,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let g,x=c?Ol(e):null;c&&b();function b(){const y=Ol(e);x&&!T4(x,y)&&r(),x=y,g=requestAnimationFrame(b)}return r(),()=>{var y;f.forEach(v=>{a&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const AB=nB,OB=sB,RB=eB,DB=oB,LB=tB,Nk=Zz,$B=aB,FB=(e,t,r)=>{const n=new Map,a={platform:PB,...r},o={...a.platform,_c:n};return Jz(e,t,{...a,platform:o})};var zB=typeof document<"u",BB=function(){},pp=zB?u.useLayoutEffect:BB;function og(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!og(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!og(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function P4(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Sk(e,t){const r=P4(e);return Math.round(t*r)/r}function ty(e){const t=u.useRef(e);return pp(()=>{t.current=e}),t}function UB(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,h]=u.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=u.useState(n);og(m,n)||p(n);const[g,x]=u.useState(null),[b,y]=u.useState(null),v=u.useCallback(D=>{D!==S.current&&(S.current=D,x(D))},[]),w=u.useCallback(D=>{D!==k.current&&(k.current=D,y(D))},[]),j=o||g,N=i||b,S=u.useRef(null),k=u.useRef(null),_=u.useRef(f),C=c!=null,E=ty(c),T=ty(a),A=ty(d),W=u.useCallback(()=>{if(!S.current||!k.current)return;const D={placement:t,strategy:r,middleware:m};T.current&&(D.platform=T.current),FB(S.current,k.current,D).then(I=>{const R={...I,isPositioned:A.current!==!1};P.current&&!og(_.current,R)&&(_.current=R,Zt.flushSync(()=>{h(R)}))})},[m,t,r,T,A]);pp(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[d]);const P=u.useRef(!1);pp(()=>(P.current=!0,()=>{P.current=!1}),[]),pp(()=>{if(j&&(S.current=j),N&&(k.current=N),j&&N){if(E.current)return E.current(j,N,W);W()}},[j,N,W,E,C]);const te=u.useMemo(()=>({reference:S,floating:k,setReference:v,setFloating:w}),[v,w]),le=u.useMemo(()=>({reference:j,floating:N}),[j,N]),K=u.useMemo(()=>{const D={position:r,left:0,top:0};if(!le.floating)return D;const I=Sk(le.floating,f.x),R=Sk(le.floating,f.y);return l?{...D,transform:"translate("+I+"px, "+R+"px)",...P4(le.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:R}},[r,l,le.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:W,refs:te,elements:le,floatingStyles:K}),[f,W,te,le,K])}const VB=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Nk({element:n.current,padding:a}).fn(r):{}:n?Nk({element:n,padding:a}).fn(r):{}}}},HB=(e,t)=>({...AB(e),options:[e,t]}),WB=(e,t)=>({...OB(e),options:[e,t]}),GB=(e,t)=>({...$B(e),options:[e,t]}),qB=(e,t)=>({...RB(e),options:[e,t]}),KB=(e,t)=>({...DB(e),options:[e,t]}),YB=(e,t)=>({...LB(e),options:[e,t]}),XB=(e,t)=>({...VB(e),options:[e,t]});var QB="Arrow",M4=u.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...o}=e;return s.jsx(Ve.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});M4.displayName=QB;var JB=M4;function a2(e){const[t,r]=u.useState(void 0);return Nr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var o2="Popper",[I4,Ga]=jn(o2),[ZB,A4]=I4(o2),O4=e=>{const{__scopePopper:t,children:r}=e,[n,a]=u.useState(null);return s.jsx(ZB,{scope:t,anchor:n,onAnchorChange:a,children:r})};O4.displayName=o2;var R4="PopperAnchor",D4=u.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,o=A4(R4,r),i=u.useRef(null),l=pt(t,i);return u.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:s.jsx(Ve.div,{...a,ref:l})});D4.displayName=R4;var i2="PopperContent",[eU,tU]=I4(i2),L4=u.forwardRef((e,t)=>{var L,U,$,M,re,de;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...x}=e,b=A4(i2,r),[y,v]=u.useState(null),w=pt(t,Ee=>v(Ee)),[j,N]=u.useState(null),S=a2(j),k=(S==null?void 0:S.width)??0,_=(S==null?void 0:S.height)??0,C=n+(o!=="center"?"-"+o:""),E=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},T=Array.isArray(d)?d:[d],A=T.length>0,W={padding:E,boundary:T.filter(nU),altBoundary:A},{refs:P,floatingStyles:te,placement:le,isPositioned:K,middlewareData:D}=UB({strategy:"fixed",placement:C,whileElementsMounted:(...Ee)=>IB(...Ee,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[HB({mainAxis:a+_,alignmentAxis:i}),c&&WB({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?GB():void 0,...W}),c&&qB({...W}),KB({...W,apply:({elements:Ee,rects:Ze,availableWidth:rt,availableHeight:Xe})=>{const{width:et,height:Je}=Ze.reference,We=Ee.floating.style;We.setProperty("--radix-popper-available-width",`${rt}px`),We.setProperty("--radix-popper-available-height",`${Xe}px`),We.setProperty("--radix-popper-anchor-width",`${et}px`),We.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),j&&XB({element:j,padding:l}),sU({arrowWidth:k,arrowHeight:_}),m&&YB({strategy:"referenceHidden",...W})]}),[I,R]=z4(le),q=pr(g);Nr(()=>{K&&(q==null||q())},[K,q]);const z=(L=D.arrow)==null?void 0:L.x,Z=(U=D.arrow)==null?void 0:U.y,ce=(($=D.arrow)==null?void 0:$.centerOffset)!==0,[F,J]=u.useState();return Nr(()=>{y&&J(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:K?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:F,"--radix-popper-transform-origin":[(M=D.transformOrigin)==null?void 0:M.x,(re=D.transformOrigin)==null?void 0:re.y].join(" "),...((de=D.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(eU,{scope:r,placedSide:I,onArrowChange:N,arrowX:z,arrowY:Z,shouldHideArrow:ce,children:s.jsx(Ve.div,{"data-side":I,"data-align":R,...x,ref:w,style:{...x.style,animation:K?void 0:"none"}})})})});L4.displayName=i2;var $4="PopperArrow",rU={top:"bottom",right:"left",bottom:"top",left:"right"},F4=u.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,o=tU($4,n),i=rU[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(JB,{...a,ref:r,style:{...a.style,display:"block"}})})});F4.displayName=$4;function nU(e){return e!==null}var sU=e=>({name:"transformOrigin",options:e,fn(t){var b,y,v;const{placement:r,rects:n,middlewareData:a}=t,i=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,f]=z4(r),h={start:"0%",center:"50%",end:"100%"}[f],m=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let g="",x="";return d==="bottom"?(g=i?h:`${m}px`,x=`${-c}px`):d==="top"?(g=i?h:`${m}px`,x=`${n.floating.height+c}px`):d==="right"?(g=`${-c}px`,x=i?h:`${p}px`):d==="left"&&(g=`${n.floating.width+c}px`,x=i?h:`${p}px`),{data:{x:g,y:x}}}});function z4(e){const[t,r="center"]=e.split("-");return[t,r]}var gh=O4,Bd=D4,xh=L4,yh=F4;function aU(e,t){return u.useReducer((r,n)=>t[r][n]??r,e)}var on=e=>{const{present:t,children:r}=e,n=oU(t),a=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),o=pt(n.ref,iU(a));return typeof r=="function"||n.isPresent?u.cloneElement(a,{ref:o}):null};on.displayName="Presence";function oU(e){const[t,r]=u.useState(),n=u.useRef(null),a=u.useRef(e),o=u.useRef("none"),i=e?"mounted":"unmounted",[l,c]=aU(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=km(n.current);o.current=l==="mounted"?d:"none"},[l]),Nr(()=>{const d=n.current,f=a.current;if(f!==e){const m=o.current,p=km(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Nr(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,h=p=>{const x=km(n.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(o.current=km(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function km(e){return(e==null?void 0:e.animationName)||"none"}function iU(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var[c0,zge]=jn("Tooltip",[Ga]),d0=Ga(),B4="TooltipProvider",lU=700,Tb="tooltip.open",[cU,l2]=c0(B4),U4=e=>{const{__scopeTooltip:t,delayDuration:r=lU,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=e,i=u.useRef(!0),l=u.useRef(!1),c=u.useRef(0);return u.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(cU,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:u.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:u.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:u.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:o})};U4.displayName=B4;var _f="Tooltip",[dU,u0]=c0(_f),V4=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=l2(_f,e.__scopeTooltip),d=d0(t),[f,h]=u.useState(null),m=sn(),p=u.useRef(0),g=i??c.disableHoverableContent,x=l??c.delayDuration,b=u.useRef(!1),[y,v]=ca({prop:n,defaultProp:a??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(Tb))):c.onClose(),o==null||o(k)},caller:_f}),w=u.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),j=u.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,v(!0)},[v]),N=u.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),S=u.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,v(!0),p.current=0},x)},[x,v]);return u.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(gh,{...d,children:s.jsx(dU,{scope:t,contentId:m,open:y,stateAttribute:w,trigger:f,onTriggerChange:h,onTriggerEnter:u.useCallback(()=>{c.isOpenDelayedRef.current?S():j()},[c.isOpenDelayedRef,S,j]),onTriggerLeave:u.useCallback(()=>{g?N():(window.clearTimeout(p.current),p.current=0)},[N,g]),onOpen:j,onClose:N,disableHoverableContent:g,children:r})})};V4.displayName=_f;var Pb="TooltipTrigger",H4=u.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=u0(Pb,r),o=l2(Pb,r),i=d0(r),l=u.useRef(null),c=pt(t,l,a.onTriggerChange),d=u.useRef(!1),f=u.useRef(!1),h=u.useCallback(()=>d.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(Bd,{asChild:!0,...i,children:s.jsx(Ve.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:$e(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:$e(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:$e(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:$e(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:$e(e.onBlur,a.onClose),onClick:$e(e.onClick,a.onClose)})})});H4.displayName=Pb;var uU="TooltipPortal",[Bge,fU]=c0(uU,{forceMount:void 0}),Nd="TooltipContent",W4=u.forwardRef((e,t)=>{const r=fU(Nd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...o}=e,i=u0(Nd,e.__scopeTooltip);return s.jsx(on,{present:n||i.open,children:i.disableHoverableContent?s.jsx(G4,{side:a,...o,ref:t}):s.jsx(hU,{side:a,...o,ref:t})})}),hU=u.forwardRef((e,t)=>{const r=u0(Nd,e.__scopeTooltip),n=l2(Nd,e.__scopeTooltip),a=u.useRef(null),o=pt(t,a),[i,l]=u.useState(null),{trigger:c,onClose:d}=r,f=a.current,{onPointerInTransitChange:h}=n,m=u.useCallback(()=>{l(null),h(!1)},[h]),p=u.useCallback((g,x)=>{const b=g.currentTarget,y={x:g.clientX,y:g.clientY},v=yU(y,b.getBoundingClientRect()),w=vU(y,v),j=bU(x.getBoundingClientRect()),N=jU([...w,...j]);l(N),h(!0)},[h]);return u.useEffect(()=>()=>m(),[m]),u.useEffect(()=>{if(c&&f){const g=b=>p(b,f),x=b=>p(b,c);return c.addEventListener("pointerleave",g),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",g),f.removeEventListener("pointerleave",x)}}},[c,f,p,m]),u.useEffect(()=>{if(i){const g=x=>{const b=x.target,y={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(b))||(f==null?void 0:f.contains(b)),w=!wU(y,i);v?m():w&&(m(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,f,i,d,m]),s.jsx(G4,{...e,ref:o})}),[mU,pU]=c0(_f,{isInside:!1}),gU=u9("TooltipContent"),G4=u.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=u0(Nd,r),d=d0(r),{onClose:f}=c;return u.useEffect(()=>(document.addEventListener(Tb,f),()=>document.removeEventListener(Tb,f)),[f]),u.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),s.jsx(ql,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:s.jsxs(xh,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(gU,{children:n}),s.jsx(mU,{scope:r,isInside:!0,children:s.jsx(I9,{id:c.contentId,role:"tooltip",children:a||n})})]})})});W4.displayName=Nd;var q4="TooltipArrow",xU=u.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=d0(r);return pU(q4,r).isInside?null:s.jsx(yh,{...a,...n,ref:t})});xU.displayName=q4;function yU(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,a,o)){case o:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function vU(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function bU(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function wU(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],d=l.x,f=l.y,h=c.x,m=c.y;f>n!=m>n&&r<(h-d)*(n-f)/(m-f)+d&&(a=!a)}return a}function jU(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),NU(t)}function NU(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var SU=U4,kU=V4,CU=H4,K4=W4;const ti=SU,ri=kU,ni=CU,oo=u.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(K4,{ref:n,sideOffset:t,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));oo.displayName=K4.displayName;var f0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},h0=typeof window>"u"||"Deno"in globalThis;function Zs(){}function _U(e,t){return typeof e=="function"?e(t):e}function EU(e){return typeof e=="number"&&e>=0&&e!==1/0}function TU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Mb(e,t){return typeof e=="function"?e(t):e}function PU(e,t){return typeof e=="function"?e(t):e}function kk(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==c2(i,t.options))return!1}else if(!Tf(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function Ck(e,t){const{exact:r,status:n,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Ef(t.options.mutationKey)!==Ef(o))return!1}else if(!Tf(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function c2(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ef)(e)}function Ef(e){return JSON.stringify(e,(t,r)=>Ib(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Tf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Tf(e[r],t[r])):!1}function Y4(e,t){if(e===t)return e;const r=_k(e)&&_k(t);if(r||Ib(e)&&Ib(t)){const n=r?e:Object.keys(e),a=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{},c=new Set(n);let d=0;for(let f=0;f<i;f++){const h=r?f:o[f];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=Y4(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===i&&d===a?e:l}return t}function _k(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ib(e){if(!Ek(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ek(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ek(e){return Object.prototype.toString.call(e)==="[object Object]"}function MU(e){return new Promise(t=>{setTimeout(t,e)})}function IU(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Y4(e,t):t}function AU(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function OU(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var d2=Symbol();function X4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===d2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ml,Ko,nd,zE,RU=(zE=class extends f0{constructor(){super();zt(this,ml);zt(this,Ko);zt(this,nd);yt(this,nd,t=>{if(!h0&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){je(this,Ko)||this.setEventListener(je(this,nd))}onUnsubscribe(){var t;this.hasListeners()||((t=je(this,Ko))==null||t.call(this),yt(this,Ko,void 0))}setEventListener(t){var r;yt(this,nd,t),(r=je(this,Ko))==null||r.call(this),yt(this,Ko,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){je(this,ml)!==t&&(yt(this,ml,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof je(this,ml)=="boolean"?je(this,ml):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ml=new WeakMap,Ko=new WeakMap,nd=new WeakMap,zE),Q4=new RU,sd,Yo,ad,BE,DU=(BE=class extends f0{constructor(){super();zt(this,sd,!0);zt(this,Yo);zt(this,ad);yt(this,ad,t=>{if(!h0&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){je(this,Yo)||this.setEventListener(je(this,ad))}onUnsubscribe(){var t;this.hasListeners()||((t=je(this,Yo))==null||t.call(this),yt(this,Yo,void 0))}setEventListener(t){var r;yt(this,ad,t),(r=je(this,Yo))==null||r.call(this),yt(this,Yo,t(this.setOnline.bind(this)))}setOnline(t){je(this,sd)!==t&&(yt(this,sd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return je(this,sd)}},sd=new WeakMap,Yo=new WeakMap,ad=new WeakMap,BE),ig=new DU;function LU(){let e,t;const r=new Promise((a,o)=>{e=a,t=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function $U(e){return Math.min(1e3*2**e,3e4)}function J4(e){return(e??"online")==="online"?ig.isOnline():!0}var Z4=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ry(e){return e instanceof Z4}function eM(e){let t=!1,r=0,n=!1,a;const o=LU(),i=x=>{var b;n||(m(new Z4(x)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Q4.isFocused()&&(e.networkMode==="always"||ig.isOnline())&&e.canRun(),f=()=>J4(e.networkMode)&&e.canRun(),h=x=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,x),a==null||a(),o.resolve(x))},m=x=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,x),a==null||a(),o.reject(x))},p=()=>new Promise(x=>{var b;a=y=>{(n||d())&&x(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;a=void 0,n||(x=e.onContinue)==null||x.call(e)}),g=()=>{if(n)return;let x;const b=r===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(h).catch(y=>{var S;if(n)return;const v=e.retry??(h0?0:3),w=e.retryDelay??$U,j=typeof w=="function"?w(r,y):w,N=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!N){m(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),MU(j).then(()=>d()?void 0:p()).then(()=>{t?m(y):g()})})};return{promise:o,cancel:i,continue:()=>(a==null||a(),o),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?g():p().then(g),o)}}var FU=e=>setTimeout(e,0);function zU(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=FU;const o=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var _n=zU(),pl,UE,tM=(UE=class{constructor(){zt(this,pl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),EU(this.gcTime)&&yt(this,pl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(h0?1/0:5*60*1e3))}clearGcTimeout(){je(this,pl)&&(clearTimeout(je(this,pl)),yt(this,pl,void 0))}},pl=new WeakMap,UE),od,gl,js,xl,mn,Zf,yl,ea,eo,VE,BU=(VE=class extends tM{constructor(t){super();zt(this,ea);zt(this,od);zt(this,gl);zt(this,js);zt(this,xl);zt(this,mn);zt(this,Zf);zt(this,yl);yt(this,yl,!1),yt(this,Zf,t.defaultOptions),this.setOptions(t.options),this.observers=[],yt(this,xl,t.client),yt(this,js,je(this,xl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,yt(this,od,VU(this.options)),this.state=t.state??je(this,od),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=je(this,mn))==null?void 0:t.promise}setOptions(t){this.options={...je(this,Zf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&je(this,js).remove(this)}setData(t,r){const n=IU(this.state.data,t,this.options);return un(this,ea,eo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){un(this,ea,eo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=je(this,mn))==null?void 0:n.promise;return(a=je(this,mn))==null||a.cancel(t),r?r.then(Zs).catch(Zs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(je(this,od))}isActive(){return this.observers.some(t=>PU(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===d2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Mb(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!TU(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=je(this,mn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=je(this,mn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),je(this,js).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(je(this,mn)&&(je(this,yl)?je(this,mn).cancel({revert:!0}):je(this,mn).cancelRetry()),this.scheduleGc()),je(this,js).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||un(this,ea,eo).call(this,{type:"invalidate"})}fetch(t,r){var d,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(je(this,mn))return je(this,mn).continueRetry(),je(this,mn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(yt(this,yl,!0),n.signal)})},o=()=>{const m=X4(this.options,r),g=(()=>{const x={client:je(this,xl),queryKey:this.queryKey,meta:this.meta};return a(x),x})();return yt(this,yl,!1),this.options.persister?this.options.persister(m,g,this):m(g)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:je(this,xl),state:this.state,fetchFn:o};return a(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),yt(this,gl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&un(this,ea,eo).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var p,g,x,b;ry(m)&&m.silent||un(this,ea,eo).call(this,{type:"error",error:m}),ry(m)||((g=(p=je(this,js).config).onError)==null||g.call(p,m,this),(b=(x=je(this,js).config).onSettled)==null||b.call(x,this.state.data,m,this)),this.scheduleGc()};return yt(this,mn,eM({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,g,x,b;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(g=(p=je(this,js).config).onSuccess)==null||g.call(p,m,this),(b=(x=je(this,js).config).onSettled)==null||b.call(x,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{un(this,ea,eo).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{un(this,ea,eo).call(this,{type:"pause"})},onContinue:()=>{un(this,ea,eo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),je(this,mn).start()}},od=new WeakMap,gl=new WeakMap,js=new WeakMap,xl=new WeakMap,mn=new WeakMap,Zf=new WeakMap,yl=new WeakMap,ea=new WeakSet,eo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...UU(n.data,this.options),fetchMeta:t.meta??null};case"success":return yt(this,gl,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return ry(a)&&a.revert&&je(this,gl)?{...je(this,gl),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),_n.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),je(this,js).notify({query:this,type:"updated",action:t})})},VE);function UU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function VU(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Sa,HE,HU=(HE=class extends f0{constructor(t={}){super();zt(this,Sa);this.config=t,yt(this,Sa,new Map)}build(t,r,n){const a=r.queryKey,o=r.queryHash??c2(a,r);let i=this.get(o);return i||(i=new BU({client:t,queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){je(this,Sa).has(t.queryHash)||(je(this,Sa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=je(this,Sa).get(t.queryHash);r&&(t.destroy(),r===t&&je(this,Sa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return je(this,Sa).get(t)}getAll(){return[...je(this,Sa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>kk(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>kk(t,n)):r}notify(t){_n.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Sa=new WeakMap,HE),ka,Sn,vl,Ca,$o,WE,WU=(WE=class extends tM{constructor(t){super();zt(this,Ca);zt(this,ka);zt(this,Sn);zt(this,vl);this.mutationId=t.mutationId,yt(this,Sn,t.mutationCache),yt(this,ka,[]),this.state=t.state||GU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){je(this,ka).includes(t)||(je(this,ka).push(t),this.clearGcTimeout(),je(this,Sn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){yt(this,ka,je(this,ka).filter(r=>r!==t)),this.scheduleGc(),je(this,Sn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){je(this,ka).length||(this.state.status==="pending"?this.scheduleGc():je(this,Sn).remove(this))}continue(){var t;return((t=je(this,vl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,l,c,d,f,h,m,p,g,x,b,y,v,w,j,N,S,k,_;const r=()=>{un(this,Ca,$o).call(this,{type:"continue"})};yt(this,vl,eM({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,E)=>{un(this,Ca,$o).call(this,{type:"failed",failureCount:C,error:E})},onPause:()=>{un(this,Ca,$o).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>je(this,Sn).canRun(this)}));const n=this.state.status==="pending",a=!je(this,vl).canStart();try{if(n)r();else{un(this,Ca,$o).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(o=je(this,Sn).config).onMutate)==null?void 0:i.call(o,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&un(this,Ca,$o).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const C=await je(this,vl).start();return await((f=(d=je(this,Sn).config).onSuccess)==null?void 0:f.call(d,C,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,C,t,this.state.context)),await((g=(p=je(this,Sn).config).onSettled)==null?void 0:g.call(p,C,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,C,null,t,this.state.context)),un(this,Ca,$o).call(this,{type:"success",data:C}),C}catch(C){try{throw await((v=(y=je(this,Sn).config).onError)==null?void 0:v.call(y,C,t,this.state.context,this)),await((j=(w=this.options).onError)==null?void 0:j.call(w,C,t,this.state.context)),await((S=(N=je(this,Sn).config).onSettled)==null?void 0:S.call(N,void 0,C,this.state.variables,this.state.context,this)),await((_=(k=this.options).onSettled)==null?void 0:_.call(k,void 0,C,t,this.state.context)),C}finally{un(this,Ca,$o).call(this,{type:"error",error:C})}}finally{je(this,Sn).runNext(this)}}},ka=new WeakMap,Sn=new WeakMap,vl=new WeakMap,Ca=new WeakSet,$o=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_n.batch(()=>{je(this,ka).forEach(n=>{n.onMutationUpdate(t)}),je(this,Sn).notify({mutation:this,type:"updated",action:t})})},WE);function GU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var no,ta,eh,GE,qU=(GE=class extends f0{constructor(t={}){super();zt(this,no);zt(this,ta);zt(this,eh);this.config=t,yt(this,no,new Set),yt(this,ta,new Map),yt(this,eh,0)}build(t,r,n){const a=new WU({mutationCache:this,mutationId:++rm(this,eh)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){je(this,no).add(t);const r=Cm(t);if(typeof r=="string"){const n=je(this,ta).get(r);n?n.push(t):je(this,ta).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(je(this,no).delete(t)){const r=Cm(t);if(typeof r=="string"){const n=je(this,ta).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&je(this,ta).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Cm(t);if(typeof r=="string"){const n=je(this,ta).get(r),a=n==null?void 0:n.find(o=>o.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Cm(t);if(typeof r=="string"){const a=(n=je(this,ta).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_n.batch(()=>{je(this,no).forEach(t=>{this.notify({type:"removed",mutation:t})}),je(this,no).clear(),je(this,ta).clear()})}getAll(){return Array.from(je(this,no))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ck(r,n))}findAll(t={}){return this.getAll().filter(r=>Ck(t,r))}notify(t){_n.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return _n.batch(()=>Promise.all(t.map(r=>r.continue().catch(Zs))))}},no=new WeakMap,ta=new WeakMap,eh=new WeakMap,GE);function Cm(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Tk(e){return{onFetch:(t,r)=>{var f,h,m,p,g;const n=t.options,a=(m=(h=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},y=X4(t.options,t.fetchOptions),v=async(w,j,N)=>{if(x)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return b(T),T})(),_=await y(k),{maxPages:C}=t.options,E=N?OU:AU;return{pages:E(w.pages,_,C),pageParams:E(w.pageParams,j,C)}};if(a&&o.length){const w=a==="backward",j=w?KU:Pk,N={pages:o,pageParams:i},S=j(n,N);l=await v(N,S,w)}else{const w=e??o.length;do{const j=c===0?i[0]??n.initialPageParam:Pk(n,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Pk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function KU(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Cr,Xo,Qo,id,ld,Jo,cd,dd,qE,YU=(qE=class{constructor(e={}){zt(this,Cr);zt(this,Xo);zt(this,Qo);zt(this,id);zt(this,ld);zt(this,Jo);zt(this,cd);zt(this,dd);yt(this,Cr,e.queryCache||new HU),yt(this,Xo,e.mutationCache||new qU),yt(this,Qo,e.defaultOptions||{}),yt(this,id,new Map),yt(this,ld,new Map),yt(this,Jo,0)}mount(){rm(this,Jo)._++,je(this,Jo)===1&&(yt(this,cd,Q4.subscribe(async e=>{e&&(await this.resumePausedMutations(),je(this,Cr).onFocus())})),yt(this,dd,ig.subscribe(async e=>{e&&(await this.resumePausedMutations(),je(this,Cr).onOnline())})))}unmount(){var e,t;rm(this,Jo)._--,je(this,Jo)===0&&((e=je(this,cd))==null||e.call(this),yt(this,cd,void 0),(t=je(this,dd))==null||t.call(this),yt(this,dd,void 0))}isFetching(e){return je(this,Cr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return je(this,Xo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=je(this,Cr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=je(this,Cr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Mb(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return je(this,Cr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=je(this,Cr).get(n.queryHash),o=a==null?void 0:a.state.data,i=_U(t,o);if(i!==void 0)return je(this,Cr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return _n.batch(()=>je(this,Cr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=je(this,Cr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=je(this,Cr);_n.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=je(this,Cr);return _n.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=_n.batch(()=>je(this,Cr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Zs).catch(Zs)}invalidateQueries(e,t={}){return _n.batch(()=>(je(this,Cr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=_n.batch(()=>je(this,Cr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(Zs)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Zs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=je(this,Cr).build(this,t);return r.isStaleByTime(Mb(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zs).catch(Zs)}fetchInfiniteQuery(e){return e.behavior=Tk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zs).catch(Zs)}ensureInfiniteQueryData(e){return e.behavior=Tk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ig.isOnline()?je(this,Xo).resumePausedMutations():Promise.resolve()}getQueryCache(){return je(this,Cr)}getMutationCache(){return je(this,Xo)}getDefaultOptions(){return je(this,Qo)}setDefaultOptions(e){yt(this,Qo,e)}setQueryDefaults(e,t){je(this,id).set(Ef(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...je(this,id).values()],r={};return t.forEach(n=>{Tf(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){je(this,ld).set(Ef(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...je(this,ld).values()],r={};return t.forEach(n=>{Tf(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...je(this,Qo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=c2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===d2&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...je(this,Qo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){je(this,Cr).clear(),je(this,Xo).clear()}},Cr=new WeakMap,Xo=new WeakMap,Qo=new WeakMap,id=new WeakMap,ld=new WeakMap,Jo=new WeakMap,cd=new WeakMap,dd=new WeakMap,qE),XU=u.createContext(void 0),QU=({client:e,children:t})=>(u.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(XU.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pf.apply(this,arguments)}var si;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(si||(si={}));const Mk="popstate";function JU(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:i,hash:l}=n.location;return Ab("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:lg(a)}return eV(t,r,null,e)}function $r(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rM(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZU(){return Math.random().toString(36).substr(2,8)}function Ik(e,t){return{usr:e.state,key:e.key,idx:t}}function Ab(e,t,r,n){return r===void 0&&(r=null),Pf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ud(t):t,{state:r,key:t&&t.key||n||ZU()})}function lg(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ud(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function eV(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l=si.Pop,c=null,d=f();d==null&&(d=0,i.replaceState(Pf({},i.state,{idx:d}),""));function f(){return(i.state||{idx:null}).idx}function h(){l=si.Pop;let b=f(),y=b==null?null:b-d;d=b,c&&c({action:l,location:x.location,delta:y})}function m(b,y){l=si.Push;let v=Ab(x.location,b,y);d=f()+1;let w=Ik(v,d),j=x.createHref(v);try{i.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}o&&c&&c({action:l,location:x.location,delta:1})}function p(b,y){l=si.Replace;let v=Ab(x.location,b,y);d=f();let w=Ik(v,d),j=x.createHref(v);i.replaceState(w,"",j),o&&c&&c({action:l,location:x.location,delta:0})}function g(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof b=="string"?b:lg(b);return v=v.replace(/ $/,"%20"),$r(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let x={get action(){return l},get location(){return e(a,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Mk,h),c=b,()=>{a.removeEventListener(Mk,h),c=null}},createHref(b){return t(a,b)},createURL:g,encodeLocation(b){let y=g(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(b){return i.go(b)}};return x}var Ak;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ak||(Ak={}));function tV(e,t,r){return r===void 0&&(r="/"),rV(e,t,r)}function rV(e,t,r,n){let a=typeof t=="string"?Ud(t):t,o=u2(a.pathname||"/",r);if(o==null)return null;let i=nM(e);nV(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=pV(o);l=fV(i[c],d)}return l}function nM(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&($r(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=pi([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&($r(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),nM(o.children,t,f,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:dV(d,o.index),routesMeta:f})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of sM(o.path))a(o,i,c)}),t}function sM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=sM(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function nV(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uV(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const sV=/^:[\w-]+$/,aV=3,oV=2,iV=1,lV=10,cV=-2,Ok=e=>e==="*";function dV(e,t){let r=e.split("/"),n=r.length;return r.some(Ok)&&(n+=cV),t&&(n+=oV),r.filter(a=>!Ok(a)).reduce((a,o)=>a+(sV.test(o)?aV:o===""?iV:lV),n)}function uV(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function fV(e,t,r){let{routesMeta:n}=e,a={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",h=hV({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:pi([o,h.pathname]),pathnameBase:vV(pi([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=pi([o,h.pathnameBase]))}return i}function hV(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mV(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,f,h)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let x=l[h]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function mV(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),rM(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function pV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rM(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function u2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function gV(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ud(e):e;return{pathname:r?r.startsWith("/")?r:xV(r,t):t,search:bV(n),hash:wV(a)}}function xV(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ny(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yV(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function f2(e,t){let r=yV(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function h2(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ud(e):(a=Pf({},e),$r(!a.pathname||!a.pathname.includes("?"),ny("?","pathname","search",a)),$r(!a.pathname||!a.pathname.includes("#"),ny("#","pathname","hash",a)),$r(!a.search||!a.search.includes("#"),ny("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=gV(a,l),d=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const pi=e=>e.join("/").replace(/\/\/+/g,"/"),vV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aM=["post","put","patch","delete"];new Set(aM);const NV=["get",...aM];new Set(NV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mf.apply(this,arguments)}const m2=u.createContext(null),SV=u.createContext(null),zi=u.createContext(null),m0=u.createContext(null),_o=u.createContext({outlet:null,matches:[],isDataRoute:!1}),oM=u.createContext(null);function kV(e,t){let{relative:r}=t===void 0?{}:t;Vd()||$r(!1);let{basename:n,navigator:a}=u.useContext(zi),{hash:o,pathname:i,search:l}=lM(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:pi([n,i])),a.createHref({pathname:c,search:l,hash:o})}function Vd(){return u.useContext(m0)!=null}function Fs(){return Vd()||$r(!1),u.useContext(m0).location}function iM(e){u.useContext(zi).static||u.useLayoutEffect(e)}function Bi(){let{isDataRoute:e}=u.useContext(_o);return e?zV():CV()}function CV(){Vd()||$r(!1);let e=u.useContext(m2),{basename:t,future:r,navigator:n}=u.useContext(zi),{matches:a}=u.useContext(_o),{pathname:o}=Fs(),i=JSON.stringify(f2(a,r.v7_relativeSplatPath)),l=u.useRef(!1);return iM(()=>{l.current=!0}),u.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=h2(d,JSON.parse(i),o,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:pi([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,i,o,e])}const _V=u.createContext(null);function EV(e){let t=u.useContext(_o).outlet;return t&&u.createElement(_V.Provider,{value:e},t)}function lM(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=u.useContext(zi),{matches:a}=u.useContext(_o),{pathname:o}=Fs(),i=JSON.stringify(f2(a,n.v7_relativeSplatPath));return u.useMemo(()=>h2(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function TV(e,t){return PV(e,t)}function PV(e,t,r,n){Vd()||$r(!1);let{navigator:a}=u.useContext(zi),{matches:o}=u.useContext(_o),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Fs(),f;if(t){var h;let b=typeof t=="string"?Ud(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||$r(!1),f=b}else f=d;let m=f.pathname||"/",p=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=tV(e,{pathname:p}),x=RV(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:pi([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:pi([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&x?u.createElement(m0.Provider,{value:{location:Mf({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:si.Pop}},x):x}function MV(){let e=FV(),t=jV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),r?u.createElement("pre",{style:a},r):null,null)}const IV=u.createElement(MV,null);class AV extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?u.createElement(_o.Provider,{value:this.props.routeContext},u.createElement(oM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OV(e){let{routeContext:t,match:r,children:n}=e,a=u.useContext(m2);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(_o.Provider,{value:t},n)}function RV(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||$r(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:p}=r,g=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let p,g=!1,x=null,b=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||IV,c&&(d<0&&m===0?(BV("route-fallback"),g=!0,b=null):d===m&&(g=!0,b=h.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,m+1)),v=()=>{let w;return p?w=x:g?w=b:h.route.Component?w=u.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=f,u.createElement(OV,{match:h,routeContext:{outlet:f,matches:y,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?u.createElement(AV,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var cM=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cM||{}),dM=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dM||{});function DV(e){let t=u.useContext(m2);return t||$r(!1),t}function LV(e){let t=u.useContext(SV);return t||$r(!1),t}function $V(e){let t=u.useContext(_o);return t||$r(!1),t}function uM(e){let t=$V(),r=t.matches[t.matches.length-1];return r.route.id||$r(!1),r.route.id}function FV(){var e;let t=u.useContext(oM),r=LV(),n=uM();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function zV(){let{router:e}=DV(cM.UseNavigateStable),t=uM(dM.UseNavigateStable),r=u.useRef(!1);return iM(()=>{r.current=!0}),u.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Mf({fromRouteId:t},o)))},[e,t])}const Rk={};function BV(e,t,r){Rk[e]||(Rk[e]=!0)}function UV(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function sy(e){let{to:t,replace:r,state:n,relative:a}=e;Vd()||$r(!1);let{future:o,static:i}=u.useContext(zi),{matches:l}=u.useContext(_o),{pathname:c}=Fs(),d=Bi(),f=h2(t,f2(l,o.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(f);return u.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:a}),[d,h,a,r,n]),null}function fM(e){return EV(e.context)}function yr(e){$r(!1)}function VV(e){let{basename:t="/",children:r=null,location:n,navigationType:a=si.Pop,navigator:o,static:i=!1,future:l}=e;Vd()&&$r(!1);let c=t.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:o,static:i,future:Mf({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=Ud(n));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:g="default"}=n,x=u.useMemo(()=>{let b=u2(f,c);return b==null?null:{location:{pathname:b,search:h,hash:m,state:p,key:g},navigationType:a}},[c,f,h,m,p,g,a]);return x==null?null:u.createElement(zi.Provider,{value:d},u.createElement(m0.Provider,{children:r,value:x}))}function HV(e){let{children:t,location:r}=e;return TV(Ob(t),r)}new Promise(()=>{});function Ob(e,t){t===void 0&&(t=[]);let r=[];return u.Children.forEach(e,(n,a)=>{if(!u.isValidElement(n))return;let o=[...t,a];if(n.type===u.Fragment){r.push.apply(r,Ob(n.props.children,o));return}n.type!==yr&&$r(!1),!n.props.index||!n.props.children||$r(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Ob(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}function WV(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function GV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qV(e,t){return e.button===0&&(!t||t==="_self")&&!GV(e)}const KV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YV="6";try{window.__reactRouterVersion=YV}catch{}const XV="startTransition",Dk=W1[XV];function QV(e){let{basename:t,children:r,future:n,window:a}=e,o=u.useRef();o.current==null&&(o.current=JU({window:a,v5Compat:!0}));let i=o.current,[l,c]=u.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},f=u.useCallback(h=>{d&&Dk?Dk(()=>c(h)):c(h)},[c,d]);return u.useLayoutEffect(()=>i.listen(f),[i,f]),u.useEffect(()=>UV(n),[n]),u.createElement(VV,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const JV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sd=u.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:f,viewTransition:h}=t,m=WV(t,KV),{basename:p}=u.useContext(zi),g,x=!1;if(typeof d=="string"&&ZV.test(d)&&(g=d,JV))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=u2(j.pathname,p);j.origin===w.origin&&N!=null?d=N+j.search+j.hash:x=!0}catch{}let b=kV(d,{relative:a}),y=eH(d,{replace:i,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:h});function v(w){n&&n(w),w.defaultPrevented||y(w)}return u.createElement("a",Rb({},m,{href:g||b,onClick:x||o?n:v,ref:r,target:c}))});var Lk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lk||(Lk={}));var $k;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($k||($k={}));function eH(e,t){let{target:r,replace:n,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Bi(),d=Fs(),f=lM(e,{relative:i});return u.useCallback(h=>{if(qV(h,r)){h.preventDefault();let m=n!==void 0?n:lg(d)===lg(f);c(e,{replace:m,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,f,n,a,r,e,o,i,l])}function ay(e,t,r){const n=`link[rel="${e}"]`;let a=document.head.querySelector(n);a||(a=document.createElement("link"),a.rel=e,document.head.appendChild(a)),a.href=t}const tH=e=>e.startsWith("/poster")?"/favicons/poster.ico":e.startsWith("/tester")?"/favicons/tester.ico":e.startsWith("/manager")?"/favicons/manager.ico":e.startsWith("/utilities")?"/favicons/utilities.ico":e.startsWith("/")?"/favicons/hub.ico":"/favicon.ico";function rH(){const{pathname:e}=Fs();return u.useEffect(()=>{const t=tH(e);ay("icon",t),ay("shortcut icon",t),ay("apple-touch-icon",t)},[e]),null}const nH=e=>e.startsWith("/poster")?"Poster Ops  Synergy Core":e.startsWith("/tester")?"Tester Ops  Synergy Core":e.startsWith("/manager")?"Manager Ops  Synergy Core":e.startsWith("/utilities")?"Utilities Ops  Synergy Core":e.startsWith("/")?"Synergy Core Hub":"Synergy Stock Dashboard";function sH(){const{pathname:e}=Fs();return u.useEffect(()=>{document.title=nH(e)},[e]),null}const oy={};var KE;(KE=oy==null?void 0:oy.VITE_DIRECTUS_URL)!=null&&KE.replace(/\/+$/,"");const _m="/backend",Kt=(()=>{if(/^https?:\/\//i.test(_m))return _m.replace(/\/+$/,"");const e=_m.trim()?_m:"/backend";return(e.startsWith("/")?e:`/${e}`).replace(/\/+$/,"")})(),vh=(e,t)=>`${e}${t.startsWith("/")?t:`/${t}`}`;new AbortController;const aH="synergy_user";function bh(e={}){const t={"Content-Type":"application/json",Accept:"application/json",...e};try{const r=localStorage.getItem(aH);if(r){const n=JSON.parse(r);n&&n.id!==void 0&&n.id!==null&&(t["X-User-ID"]=String(n.id))}}catch{}return t}async function Jt(e,t={}){const r=await fetch(vh(Kt,e),{method:"GET",credentials:"include",...t,headers:bh(t.headers||{})});if(!r.ok){const n=await r.json().catch(()=>({detail:r.statusText}));throw new Error(`${r.status} ${r.statusText} :: ${JSON.stringify(n)}`)}return await r.json()}async function Sl(e,t,r={}){const n=await fetch(vh(Kt,e),{method:"POST",credentials:"include",...r,headers:bh(r.headers||{}),body:JSON.stringify(t??{})});if(!n.ok){const a=await n.json().catch(()=>({detail:n.statusText}));throw new Error(`${n.status} ${n.statusText} :: ${JSON.stringify(a)}`)}return n.json()}async function If(e,t,r={}){const n=await fetch(vh(Kt,e),{method:"PATCH",credentials:"include",...r,headers:bh(r.headers||{}),body:JSON.stringify(t??{})});if(!n.ok){const a=await n.json().catch(()=>({detail:n.statusText}));throw new Error(`${n.status} ${n.statusText} :: ${JSON.stringify(a)}`)}return n.json()}async function oH(e,t,r={}){const n=await fetch(vh(Kt,e),{method:"PUT",credentials:"include",...r,headers:bh(r.headers||{}),body:JSON.stringify(t??{})});if(!n.ok){const a=await n.json().catch(()=>({detail:n.statusText}));throw new Error(`${n.status} ${n.statusText} :: ${JSON.stringify(a)}`)}return n.json()}async function Db(e){const t=await fetch(vh(Kt,e),{method:"DELETE",credentials:"include",headers:bh({})});if(!t.ok){const r=await t.json().catch(()=>({detail:t.statusText}));throw new Error(`${t.status} ${t.statusText} :: ${JSON.stringify(r)}`)}return t.json()}function dt(...e){return e.filter(Boolean).join(" ")}function iH(e){const t=new Map;return e.forEach(r=>t.set(r.id,r)),Array.from(t.values())}const lH=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"});function cH({size:e=.25}){const t={"--size":e};return s.jsxs("div",{className:"loader",style:t,children:[s.jsx("div",{className:"box"}),s.jsx("svg",{children:s.jsx("defs",{children:s.jsxs("clipPath",{id:"clipping",children:[s.jsx("polygon",{points:"50,5 95,25 95,75 50,95 5,75 5,25"}),s.jsx("polygon",{points:"50,15 85,35 85,65 50,85 15,65 15,35"}),s.jsx("polygon",{points:"50,25 75,45 75,55 50,75 25,55 25,45"}),s.jsx("polygon",{points:"50,30 70,45 70,55 50,70 30,55 30,45"}),s.jsx("polygon",{points:"50,35 65,45 65,55 50,65 35,55 35,45"}),s.jsx("polygon",{points:"50,40 60,48 60,52 50,60 40,52 40,48"}),s.jsx("polygon",{points:"50,45 55,48 55,52 50,55 45,52 45,48"})]})})})]})}function dH(){const{toast:e}=pP(),t=u.useRef(null);return u.useEffect(()=>{console.log("[SSE] GlobalEventListener mounted. Attempting to connect...");const r=new EventSource(`${Kt}/events`);r.onopen=()=>{console.log("[SSE] Connection to /events opened successfully!")},r.onerror=i=>{console.error("[SSE] Connection error:",i),r.close()};const n=i=>{console.log('[SSE] Received "backup.started" event! Data:',i.data);const l=JSON.parse(i.data);if(t.current){console.log('[SSE] A backup toast is already active. Ignoring new "started" event.');return}console.log('[SSE] Creating a new "in-progress" toast.');const{id:c}=e({title:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(cH,{size:.25}),s.jsx("span",{className:"font-semibold",children:"System Maintenance"})]}),description:l.message||"Database backup in progress...",duration:1/0});t.current=c},a=i=>{if(console.log('[SSE] Received "backup.finished" event! Data:',i.data),!t.current){console.warn('[SSE] Received "finished" event, but no active toast to update.');return}const l=JSON.parse(i.data);console.log(`[SSE] Updating toast ID ${t.current} to "success" state.`),e.update(t.current,{title:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(lh,{className:"h-6 w-6 text-green-500"}),s.jsx("span",{className:"font-semibold",children:"System Maintenance"})]}),description:l.message||"Database backup complete.",duration:5e3}),t.current=null},o=i=>{if(console.log('[SSE] Received "backup.failed" event! Data:',i.data),!t.current){console.warn('[SSE] Received "failed" event, but no active toast to update.');return}const l=JSON.parse(i.data);console.log(`[SSE] Updating toast ID ${t.current} to "destructive" state.`),e.update(t.current,{variant:"destructive",title:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{className:"h-6 w-6"}),s.jsx("span",{className:"font-semibold",children:"Backup Failed"})]}),description:l.message||"The scheduled backup failed. Please check logs.",duration:15e3}),t.current=null};return r.addEventListener("backup.started",n),r.addEventListener("backup.finished",a),r.addEventListener("backup.failed",o),()=>{console.log("[SSE] Closing connection to /events as component unmounts."),r.removeEventListener("backup.started",n),r.removeEventListener("backup.finished",a),r.removeEventListener("backup.failed",o),r.close()}},[e]),null}const p0=0,Ui=1,Hd=2,hM=4;function Fk(e){return()=>e}function uH(e){e()}function mM(e,t){return r=>e(t(r))}function zk(e,t){return()=>e(t)}function fH(e,t){return r=>e(t,r)}function p2(e){return e!==void 0}function hH(...e){return()=>{e.map(uH)}}function Wd(){}function g0(e,t){return t(e),e}function mH(e,t){return t(e)}function cr(...e){return e}function Gt(e,t){return e(Ui,t)}function bt(e,t){e(p0,t)}function g2(e){e(Hd)}function Or(e){return e(hM)}function tt(e,t){return Gt(e,fH(t,p0))}function ia(e,t){const r=e(Ui,n=>{r(),t(n)});return r}function Bk(e){let t,r;return n=>a=>{t=a,r&&clearTimeout(r),r=setTimeout(()=>{n(t)},e)}}function pM(e,t){return e===t}function ir(e=pM){let t;return r=>n=>{e(t,n)||(t=n,r(n))}}function mt(e){return t=>r=>{e(r)&&t(r)}}function Ye(e){return t=>mM(t,e)}function _a(e){return t=>()=>{t(e)}}function Pe(e,...t){const r=pH(...t);return(n,a)=>{switch(n){case Hd:g2(e);return;case Ui:return Gt(e,r(a))}}}function Ma(e,t){return r=>n=>{r(t=e(t,n))}}function Rl(e){return t=>r=>{e>0?e--:t(r)}}function io(e){let t=null,r;return n=>a=>{t=a,!r&&(r=setTimeout(()=>{r=void 0,n(t)},e))}}function jt(...e){const t=new Array(e.length);let r=0,n=null;const a=Math.pow(2,e.length)-1;return e.forEach((o,i)=>{const l=Math.pow(2,i);Gt(o,c=>{const d=r;r=r|l,t[i]=c,d!==a&&r===a&&n&&(n(),n=null)})}),o=>i=>{const l=()=>{o([i].concat(t))};r===a?l():n=l}}function pH(...e){return t=>e.reduceRight(mH,t)}function gH(e){let t,r;const n=()=>t==null?void 0:t();return function(a,o){switch(a){case Ui:return o?r===o?void 0:(n(),r=o,t=Gt(e,o),t):(n(),Wd);case Hd:n(),r=null;return}}}function Le(e){let t=e;const r=At();return(n,a)=>{switch(n){case p0:t=a;break;case Ui:{a(t);break}case hM:return t}return r(n,a)}}function yn(e,t){return g0(Le(t),r=>tt(e,r))}function At(){const e=[];return(t,r)=>{switch(t){case p0:e.slice().forEach(n=>{n(r)});return;case Hd:e.splice(0,e.length);return;case Ui:return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}}}function ds(e){return g0(At(),t=>tt(e,t))}function Bt(e,t=[],{singleton:r}={singleton:!0}){return{constructor:e,dependencies:t,id:xH(),singleton:r}}const xH=()=>Symbol();function yH(e){const t=new Map,r=({constructor:n,dependencies:a,id:o,singleton:i})=>{if(i&&t.has(o))return t.get(o);const l=n(a.map(c=>r(c)));return i&&t.set(o,l),l};return r(e)}function Ur(...e){const t=At(),r=new Array(e.length);let n=0;const a=Math.pow(2,e.length)-1;return e.forEach((o,i)=>{const l=Math.pow(2,i);Gt(o,c=>{r[i]=c,n=n|l,n===a&&bt(t,r)})}),function(o,i){switch(o){case Hd:{g2(t);return}case Ui:return n===a&&i(r),Gt(t,i)}}}function ft(e,t=pM){return Pe(e,ir(t))}function Lb(...e){return function(t,r){switch(t){case Hd:return;case Ui:return hH(...e.map(n=>Gt(n,r)))}}}var Yn=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Yn||{});const vH={0:"debug",3:"error",1:"log",2:"warn"},bH=()=>typeof globalThis>"u"?window:globalThis,Vi=Bt(()=>{const e=Le(3);return{log:Le((t,r,n=1)=>{var a;const o=(a=bH().VIRTUOSO_LOG_LEVEL)!=null?a:Or(e);n>=o&&console[vH[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,r)}),logLevel:e}},[],{singleton:!0});function Kl(e,t,r){return x2(e,t,r).callbackRef}function x2(e,t,r){const n=ue.useRef(null);let a=i=>{};const o=ue.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(i=>{const l=()=>{const c=i[0].target;c.offsetParent!==null&&e(c)};r?l():requestAnimationFrame(l)}):null,[e,r]);return a=i=>{i&&t?(o==null||o.observe(i),n.current=i):(n.current&&(o==null||o.unobserve(n.current)),n.current=null)},{callbackRef:a,ref:n}}function wH(e,t,r,n,a,o,i,l,c){const d=ue.useCallback(f=>{const h=jH(f.children,t,l?"offsetWidth":"offsetHeight",a);let m=f.parentElement;for(;!m.dataset.virtuosoScroller;)m=m.parentElement;const p=m.lastElementChild.dataset.viewportType==="window";let g;p&&(g=m.ownerDocument.defaultView);const x=i?l?i.scrollLeft:i.scrollTop:p?l?g.scrollX||g.document.documentElement.scrollLeft:g.scrollY||g.document.documentElement.scrollTop:l?m.scrollLeft:m.scrollTop,b=i?l?i.scrollWidth:i.scrollHeight:p?l?g.document.documentElement.scrollWidth:g.document.documentElement.scrollHeight:l?m.scrollWidth:m.scrollHeight,y=i?l?i.offsetWidth:i.offsetHeight:p?l?g.innerWidth:g.innerHeight:l?m.offsetWidth:m.offsetHeight;n({scrollHeight:b,scrollTop:Math.max(x,0),viewportHeight:y}),o==null||o(l?Uk("column-gap",getComputedStyle(f).columnGap,a):Uk("row-gap",getComputedStyle(f).rowGap,a)),h!==null&&e(h)},[e,t,a,o,i,n,l]);return x2(d,r,c)}function jH(e,t,r,n){const a=e.length;if(a===0)return null;const o=[];for(let i=0;i<a;i++){const l=e.item(i);if(l.dataset.index===void 0)continue;const c=parseInt(l.dataset.index),d=parseFloat(l.dataset.knownSize),f=t(l,r);if(f===0&&n("Zero-sized element, this should not happen",{child:l},Yn.ERROR),f===d)continue;const h=o[o.length-1];o.length===0||h.size!==f||h.endIndex!==c-1?o.push({endIndex:c,size:f,startIndex:c}):o[o.length-1].endIndex++}return o}function Uk(e,t,r){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&r(`${e} was not resolved to pixel value correctly`,t,Yn.WARN),t==="normal"?0:parseInt(t??"0",10)}function gM(e,t,r){const n=ue.useRef(null),a=ue.useCallback(c=>{if(!(c!=null&&c.offsetParent))return;const d=c.getBoundingClientRect(),f=d.width;let h,m;if(t){const p=t.getBoundingClientRect(),g=d.top-p.top;m=p.height-Math.max(0,g),h=g+t.scrollTop}else{const p=i.current.ownerDocument.defaultView;m=p.innerHeight-Math.max(0,d.top),h=d.top+p.scrollY}n.current={offsetTop:h,visibleHeight:m,visibleWidth:f},e(n.current)},[e,t]),{callbackRef:o,ref:i}=x2(a,!0,r),l=ue.useCallback(()=>{a(i.current)},[a,i]);return ue.useEffect(()=>{var c;if(t){t.addEventListener("scroll",l);const d=new ResizeObserver(()=>{requestAnimationFrame(l)});return d.observe(t),()=>{t.removeEventListener("scroll",l),d.unobserve(t)}}else{const d=(c=i.current)==null?void 0:c.ownerDocument.defaultView;return d==null||d.addEventListener("scroll",l),d==null||d.addEventListener("resize",l),()=>{d==null||d.removeEventListener("scroll",l),d==null||d.removeEventListener("resize",l)}}},[l,t,i]),o}const Rn=Bt(()=>{const e=At(),t=At(),r=Le(0),n=At(),a=Le(0),o=At(),i=At(),l=Le(0),c=Le(0),d=Le(0),f=Le(0),h=At(),m=At(),p=Le(!1),g=Le(!1),x=Le(!1);return tt(Pe(e,Ye(({scrollTop:b})=>b)),t),tt(Pe(e,Ye(({scrollHeight:b})=>b)),i),tt(t,a),{deviation:r,fixedFooterHeight:d,fixedHeaderHeight:c,footerHeight:f,headerHeight:l,horizontalDirection:g,scrollBy:m,scrollContainerState:e,scrollHeight:i,scrollingInProgress:p,scrollTo:h,scrollTop:t,skipAnimationFrameInResizeObserver:x,smoothScrollTargetReached:n,statefulScrollTop:a,viewportHeight:o}},[],{singleton:!0}),Af={lvl:0};function xM(e,t){const r=e.length;if(r===0)return[];let{index:n,value:a}=t(e[0]);const o=[];for(let i=1;i<r;i++){const{index:l,value:c}=t(e[i]);o.push({end:l-1,start:n,value:a}),n=l,a=c}return o.push({end:1/0,start:n,value:a}),o}function rr(e){return e===Af}function Of(e,t){if(!rr(e))return t===e.k?e.v:t<e.k?Of(e.l,t):Of(e.r,t)}function fa(e,t,r="k"){if(rr(e))return[-1/0,void 0];if(Number(e[r])===t)return[e.k,e.v];if(Number(e[r])<t){const n=fa(e.r,t,r);return n[0]===-1/0?[e.k,e.v]:n}return fa(e.l,t,r)}function ss(e,t,r){return rr(e)?bM(t,r,1):t===e.k?Gr(e,{k:t,v:r}):t<e.k?Vk(Gr(e,{l:ss(e.l,t,r)})):Vk(Gr(e,{r:ss(e.r,t,r)}))}function Xc(){return Af}function x0(e,t,r){if(rr(e))return[];const n=fa(e,t)[0];return NH(Fb(e,n,r))}function $b(e,t){if(rr(e))return Af;const{k:r,l:n,r:a}=e;if(t===r){if(rr(n))return a;if(rr(a))return n;{const[o,i]=vM(n);return gp(Gr(e,{k:o,l:yM(n),v:i}))}}else return t<r?gp(Gr(e,{l:$b(n,t)})):gp(Gr(e,{r:$b(a,t)}))}function ul(e){return rr(e)?[]:[...ul(e.l),{k:e.k,v:e.v},...ul(e.r)]}function Fb(e,t,r){if(rr(e))return[];const{k:n,l:a,r:o,v:i}=e;let l=[];return n>t&&(l=l.concat(Fb(a,t,r))),n>=t&&n<=r&&l.push({k:n,v:i}),n<=r&&(l=l.concat(Fb(o,t,r))),l}function gp(e){const{l:t,lvl:r,r:n}=e;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(iy(t))return wM(Gr(e,{lvl:r-1}));if(!rr(t)&&!rr(t.r))return Gr(t.r,{l:Gr(t,{r:t.r.l}),lvl:r,r:Gr(e,{l:t.r.r,lvl:r-1})});throw new Error("Unexpected empty nodes")}else{if(iy(e))return zb(Gr(e,{lvl:r-1}));if(!rr(n)&&!rr(n.l)){const a=n.l,o=iy(a)?n.lvl-1:n.lvl;return Gr(a,{l:Gr(e,{lvl:r-1,r:a.l}),lvl:a.lvl+1,r:zb(Gr(n,{l:a.r,lvl:o}))})}else throw new Error("Unexpected empty nodes")}}function Gr(e,t){return bM(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function yM(e){return rr(e.r)?e.l:gp(Gr(e,{r:yM(e.r)}))}function iy(e){return rr(e)||e.lvl>e.r.lvl}function vM(e){return rr(e.r)?[e.k,e.v]:vM(e.r)}function bM(e,t,r,n=Af,a=Af){return{k:e,l:n,lvl:r,r:a,v:t}}function Vk(e){return zb(wM(e))}function wM(e){const{l:t}=e;return!rr(t)&&t.lvl===e.lvl?Gr(t,{r:Gr(e,{l:t.r})}):e}function zb(e){const{lvl:t,r}=e;return!rr(r)&&!rr(r.r)&&r.lvl===t&&r.r.lvl===t?Gr(r,{l:Gr(e,{r:r.l}),lvl:t+1}):e}function NH(e){return xM(e,({k:t,v:r})=>({index:t,value:r}))}function jM(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function Rf(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const y2=Bt(()=>({recalcInProgress:Le(!1)}),[],{singleton:!0});function NM(e,t,r){return e[cg(e,t,r)]}function cg(e,t,r,n=0){let a=e.length-1;for(;n<=a;){const o=Math.floor((n+a)/2),i=e[o],l=r(i,t);if(l===0)return o;if(l===-1){if(a-n<2)return o-1;a=o-1}else{if(a===n)return o;n=o+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function SH(e,t,r,n){const a=cg(e,t,n),o=cg(e,r,n,a);return e.slice(a,o+1)}function Mi(e,t){return Math.round(e.getBoundingClientRect()[t])}function y0(e){return!rr(e.groupOffsetTree)}function v2({index:e},t){return t===e?0:t<e?-1:1}function kH(){return{groupIndices:[],groupOffsetTree:Xc(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Xc()}}function CH(e,t){let r=rr(e)?0:1/0;for(const n of t){const{endIndex:a,size:o,startIndex:i}=n;if(r=Math.min(r,i),rr(e)){e=ss(e,0,o);continue}const l=x0(e,i-1,a+1);if(l.some(AH(n)))continue;let c=!1,d=!1;for(const{end:f,start:h,value:m}of l)c?(a>=h||o===m)&&(e=$b(e,h)):(d=m!==o,c=!0),f>a&&a>=h&&m!==o&&(e=ss(e,a+1,m));d&&(e=ss(e,i,o))}return[e,r]}function _H(e){return typeof e.groupIndex<"u"}function EH({offset:e},t){return t===e?0:t<e?-1:1}function Df(e,t,r){if(t.length===0)return 0;const{index:n,offset:a,size:o}=NM(t,e,v2),i=e-n,l=o*i+(i-1)*r+a;return l>0?l+r:l}function SM(e,t){if(!y0(t))return e;let r=0;for(;t.groupIndices[r]<=e+r;)r++;return e+r}function kM(e,t,r){if(_H(e))return t.groupIndices[e.groupIndex]+1;{const n=e.index==="LAST"?r:e.index;let a=SM(n,t);return a=Math.max(0,a,Math.min(r,a)),a}}function TH(e,t,r,n=0){return n>0&&(t=Math.max(t,NM(e,n,v2).offset)),xM(SH(e,t,r,EH),IH)}function PH(e,[t,r,n,a]){t.length>0&&n("received item sizes",t,Yn.DEBUG);const o=e.sizeTree;let i=o,l=0;if(r.length>0&&rr(o)&&t.length===2){const m=t[0].size,p=t[1].size;i=r.reduce((g,x)=>ss(ss(g,x,m),x+1,p),i)}else[i,l]=CH(i,t);if(i===o)return e;const{lastIndex:c,lastOffset:d,lastSize:f,offsetTree:h}=Bb(e.offsetTree,l,i,a);return{groupIndices:r,groupOffsetTree:r.reduce((m,p)=>ss(m,p,Df(p,h,a)),Xc()),lastIndex:c,lastOffset:d,lastSize:f,offsetTree:h,sizeTree:i}}function MH(e){return ul(e).map(({k:t,v:r},n,a)=>{const o=a[n+1];return{endIndex:o?o.k-1:1/0,size:r,startIndex:t}})}function Hk(e,t){let r=0,n=0;for(;r<e;)r+=t[n+1]-t[n]-1,n++;return n-(r===e?0:1)}function Bb(e,t,r,n){let a=e,o=0,i=0,l=0,c=0;if(t!==0){c=cg(a,t-1,v2),l=a[c].offset;const d=fa(r,t-1);o=d[0],i=d[1],a.length&&a[c].size===fa(r,t)[1]&&(c-=1),a=a.slice(0,c+1)}else a=[];for(const{start:d,value:f}of x0(r,t,1/0)){const h=d-o,m=h*i+l+h*n;a.push({index:d,offset:m,size:f}),o=d,l=m,i=f}return{lastIndex:o,lastOffset:l,lastSize:i,offsetTree:a}}function IH(e){return{index:e.index,value:e}}function AH(e){const{endIndex:t,size:r,startIndex:n}=e;return a=>a.start===n&&(a.end===t||a.end===1/0)&&a.value===r}const OH={offsetHeight:"height",offsetWidth:"width"},qa=Bt(([{log:e},{recalcInProgress:t}])=>{const r=At(),n=At(),a=yn(n,0),o=At(),i=At(),l=Le(0),c=Le([]),d=Le(void 0),f=Le(void 0),h=Le((N,S)=>Mi(N,OH[S])),m=Le(void 0),p=Le(0),g=kH(),x=yn(Pe(r,jt(c,e,p),Ma(PH,g),ir()),g),b=yn(Pe(c,ir(),Ma((N,S)=>({current:S,prev:N.current}),{current:[],prev:[]}),Ye(({prev:N})=>N)),[]);tt(Pe(c,mt(N=>N.length>0),jt(x,p),Ye(([N,S,k])=>{const _=N.reduce((C,E,T)=>ss(C,E,Df(E,S.offsetTree,k)||T),Xc());return{...S,groupIndices:N,groupOffsetTree:_}})),x),tt(Pe(n,jt(x),mt(([N,{lastIndex:S}])=>N<S),Ye(([N,{lastIndex:S,lastSize:k}])=>[{endIndex:S,size:k,startIndex:N}])),r),tt(d,f);const y=yn(Pe(d,Ye(N=>N===void 0)),!0);tt(Pe(f,mt(N=>N!==void 0&&rr(Or(x).sizeTree)),Ye(N=>[{endIndex:0,size:N,startIndex:0}])),r);const v=ds(Pe(r,jt(x),Ma(({sizes:N},[S,k])=>({changed:k!==N,sizes:k}),{changed:!1,sizes:g}),Ye(N=>N.changed)));Gt(Pe(l,Ma((N,S)=>({diff:N.prev-S,prev:S}),{diff:0,prev:0}),Ye(N=>N.diff)),N=>{const{groupIndices:S}=Or(x);if(N>0)bt(t,!0),bt(o,N+Hk(N,S));else if(N<0){const k=Or(b);k.length>0&&(N-=Hk(-N,k)),bt(i,N)}}),Gt(Pe(l,jt(e)),([N,S])=>{N<0&&S("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},Yn.ERROR)});const w=ds(o);tt(Pe(o,jt(x),Ye(([N,S])=>{const k=S.groupIndices.length>0,_=[],C=S.lastSize;if(k){const E=Of(S.sizeTree,0);let T=0,A=0;for(;T<N;){const P=S.groupIndices[A],te=S.groupIndices.length===A+1?1/0:S.groupIndices[A+1]-P-1;_.push({endIndex:P,size:E,startIndex:P}),_.push({endIndex:P+1+te-1,size:C,startIndex:P+1}),A++,T+=te+1}const W=ul(S.sizeTree);return T!==N&&W.shift(),W.reduce((P,{k:te,v:le})=>{let K=P.ranges;return P.prevSize!==0&&(K=[...P.ranges,{endIndex:te+N-1,size:P.prevSize,startIndex:P.prevIndex}]),{prevIndex:te+N,prevSize:le,ranges:K}},{prevIndex:N,prevSize:0,ranges:_}).ranges}return ul(S.sizeTree).reduce((E,{k:T,v:A})=>({prevIndex:T+N,prevSize:A,ranges:[...E.ranges,{endIndex:T+N-1,size:E.prevSize,startIndex:E.prevIndex}]}),{prevIndex:0,prevSize:C,ranges:[]}).ranges})),r);const j=ds(Pe(i,jt(x,p),Ye(([N,{offsetTree:S},k])=>{const _=-N;return Df(_,S,k)})));return tt(Pe(i,jt(x,p),Ye(([N,S,k])=>{if(S.groupIndices.length>0){if(rr(S.sizeTree))return S;let _=Xc();const C=Or(b);let E=0,T=0,A=0;for(;E<-N;){A=C[T];const W=C[T+1]-A-1;T++,E+=W+1}if(_=ul(S.sizeTree).reduce((W,{k:P,v:te})=>ss(W,Math.max(0,P+N),te),_),E!==-N){const W=Of(S.sizeTree,A);_=ss(_,0,W);const P=fa(S.sizeTree,-N+1)[1];_=ss(_,1,P)}return{...S,sizeTree:_,...Bb(S.offsetTree,0,_,k)}}else{const _=ul(S.sizeTree).reduce((C,{k:E,v:T})=>ss(C,Math.max(0,E+N),T),Xc());return{...S,sizeTree:_,...Bb(S.offsetTree,0,_,k)}}})),x),{beforeUnshiftWith:w,data:m,defaultItemSize:f,firstItemIndex:l,fixedItemSize:d,gap:p,groupIndices:c,itemSize:h,listRefresh:v,shiftWith:i,shiftWithOffset:j,sizeRanges:r,sizes:x,statefulTotalCount:a,totalCount:n,trackItemSizes:y,unshiftWith:o}},cr(Vi,y2),{singleton:!0});function RH(e){return e.reduce((t,r)=>(t.groupIndices.push(t.totalCount),t.totalCount+=r+1,t),{groupIndices:[],totalCount:0})}const CM=Bt(([{groupIndices:e,sizes:t,totalCount:r},{headerHeight:n,scrollTop:a}])=>{const o=At(),i=At(),l=ds(Pe(o,Ye(RH)));return tt(Pe(l,Ye(c=>c.totalCount)),r),tt(Pe(l,Ye(c=>c.groupIndices)),e),tt(Pe(Ur(a,t,n),mt(([c,d])=>y0(d)),Ye(([c,d,f])=>fa(d.groupOffsetTree,Math.max(c-f,0),"v")[0]),ir(),Ye(c=>[c])),i),{groupCounts:o,topItemsIndexes:i}},cr(qa,Rn)),Hi=Bt(([{log:e}])=>{const t=Le(!1),r=ds(Pe(t,mt(n=>n),ir()));return Gt(t,n=>{n&&Or(e)("props updated",{},Yn.DEBUG)}),{didMount:r,propsReady:t}},cr(Vi),{singleton:!0}),DH=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function _M(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!DH)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const wh=Bt(([{gap:e,listRefresh:t,sizes:r,totalCount:n},{fixedFooterHeight:a,fixedHeaderHeight:o,footerHeight:i,headerHeight:l,scrollingInProgress:c,scrollTo:d,smoothScrollTargetReached:f,viewportHeight:h},{log:m}])=>{const p=At(),g=At(),x=Le(0);let b=null,y=null,v=null;function w(){b&&(b(),b=null),v&&(v(),v=null),y&&(clearTimeout(y),y=null),bt(c,!1)}return tt(Pe(p,jt(r,h,n,x,l,i,m),jt(e,o,a),Ye(([[j,N,S,k,_,C,E,T],A,W,P])=>{const te=_M(j),{align:le,behavior:K,offset:D}=te,I=k-1,R=kM(te,N,I);let q=Df(R,N.offsetTree,A)+C;le==="end"?(q+=W+fa(N.sizeTree,R)[1]-S+P,R===I&&(q+=E)):le==="center"?q+=(W+fa(N.sizeTree,R)[1]-S+P)/2:q-=_,D&&(q+=D);const z=Z=>{w(),Z?(T("retrying to scroll to",{location:j},Yn.DEBUG),bt(p,j)):(bt(g,!0),T("list did not change, scroll successful",{},Yn.DEBUG))};if(w(),K==="smooth"){let Z=!1;v=Gt(t,ce=>{Z=Z||ce}),b=ia(f,()=>{z(Z)})}else b=ia(Pe(t,LH(150)),z);return y=setTimeout(()=>{w()},1200),bt(c,!0),T("scrolling from index to",{behavior:K,index:R,top:q},Yn.DEBUG),{behavior:K,top:q}})),d),{scrollTargetReached:g,scrollToIndex:p,topListHeight:x}},cr(qa,Rn,Vi),{singleton:!0});function LH(e){return t=>{const r=setTimeout(()=>{t(!1)},e);return n=>{n&&(t(!0),clearTimeout(r))}}}function b2(e,t){e==0?t():requestAnimationFrame(()=>{b2(e-1,t)})}function w2(e,t){const r=t-1;return typeof e=="number"?e:e.index==="LAST"?r:e.index}const jh=Bt(([{defaultItemSize:e,listRefresh:t,sizes:r},{scrollTop:n},{scrollTargetReached:a,scrollToIndex:o},{didMount:i}])=>{const l=Le(!0),c=Le(0),d=Le(!0);return tt(Pe(i,jt(c),mt(([f,h])=>!!h),_a(!1)),l),tt(Pe(i,jt(c),mt(([f,h])=>!!h),_a(!1)),d),Gt(Pe(Ur(t,i),jt(l,r,e,d),mt(([[,f],h,{sizeTree:m},p,g])=>f&&(!rr(m)||p2(p))&&!h&&!g),jt(c)),([,f])=>{ia(a,()=>{bt(d,!0)}),b2(4,()=>{ia(n,()=>{bt(l,!0)}),bt(o,f)})}),{initialItemFinalLocationReached:d,initialTopMostItemIndex:c,scrolledToInitialItem:l}},cr(qa,Rn,wh,Hi),{singleton:!0});function EM(e,t){return Math.abs(e-t)<1.01}const Lf="up",Ku="down",$H="none",FH={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},zH=0,Nh=Bt(([{footerHeight:e,headerHeight:t,scrollBy:r,scrollContainerState:n,scrollTop:a,viewportHeight:o}])=>{const i=Le(!1),l=Le(!0),c=At(),d=At(),f=Le(4),h=Le(zH),m=yn(Pe(Lb(Pe(ft(a),Rl(1),_a(!0)),Pe(ft(a),Rl(1),_a(!1),Bk(100))),ir()),!1),p=yn(Pe(Lb(Pe(r,_a(!0)),Pe(r,_a(!1),Bk(200))),ir()),!1);tt(Pe(Ur(ft(a),ft(h)),Ye(([v,w])=>v<=w),ir()),l),tt(Pe(l,io(50)),d);const g=ds(Pe(Ur(n,ft(o),ft(t),ft(e),ft(f)),Ma((v,[{scrollHeight:w,scrollTop:j},N,S,k,_])=>{const C=j+N-w>-_,E={scrollHeight:w,scrollTop:j,viewportHeight:N};if(C){let A,W;return j>v.state.scrollTop?(A="SCROLLED_DOWN",W=v.state.scrollTop-j):(A="SIZE_DECREASED",W=v.state.scrollTop-j||v.scrollTopDelta),{atBottom:!0,atBottomBecause:A,scrollTopDelta:W,state:E}}let T;return E.scrollHeight>v.state.scrollHeight?T="SIZE_INCREASED":N<v.state.viewportHeight?T="VIEWPORT_HEIGHT_DECREASING":j<v.state.scrollTop?T="SCROLLING_UPWARDS":T="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:T,state:E}},FH),ir((v,w)=>v&&v.atBottom===w.atBottom))),x=yn(Pe(n,Ma((v,{scrollHeight:w,scrollTop:j,viewportHeight:N})=>{if(EM(v.scrollHeight,w))return{changed:!1,jump:0,scrollHeight:w,scrollTop:j};{const S=w-(j+N)<1;return v.scrollTop!==j&&S?{changed:!0,jump:v.scrollTop-j,scrollHeight:w,scrollTop:j}:{changed:!0,jump:0,scrollHeight:w,scrollTop:j}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),mt(v=>v.changed),Ye(v=>v.jump)),0);tt(Pe(g,Ye(v=>v.atBottom)),i),tt(Pe(i,io(50)),c);const b=Le(Ku);tt(Pe(n,Ye(({scrollTop:v})=>v),ir(),Ma((v,w)=>Or(p)?{direction:v.direction,prevScrollTop:w}:{direction:w<v.prevScrollTop?Lf:Ku,prevScrollTop:w},{direction:Ku,prevScrollTop:0}),Ye(v=>v.direction)),b),tt(Pe(n,io(50),_a($H)),b);const y=Le(0);return tt(Pe(m,mt(v=>!v),_a(0)),y),tt(Pe(a,io(100),jt(m),mt(([v,w])=>!!w),Ma(([v,w],[j])=>[w,j],[0,0]),Ye(([v,w])=>w-v)),y),{atBottomState:g,atBottomStateChange:c,atBottomThreshold:f,atTopStateChange:d,atTopThreshold:h,isAtBottom:i,isAtTop:l,isScrolling:m,lastJumpDueToItemResize:x,scrollDirection:b,scrollVelocity:y}},cr(Rn)),dg="top",ug="bottom",Wk="none";function Gk(e,t,r){return typeof e=="number"?r===Lf&&t===dg||r===Ku&&t===ug?e:0:r===Lf?t===dg?e.main:e.reverse:t===ug?e.main:e.reverse}function qk(e,t){var r;return typeof e=="number"?e:(r=e[t])!=null?r:0}const j2=Bt(([{deviation:e,fixedHeaderHeight:t,headerHeight:r,scrollTop:n,viewportHeight:a}])=>{const o=At(),i=Le(0),l=Le(0),c=Le(0),d=yn(Pe(Ur(ft(n),ft(a),ft(r),ft(o,Rf),ft(c),ft(i),ft(t),ft(e),ft(l)),Ye(([f,h,m,[p,g],x,b,y,v,w])=>{const j=f-v,N=b+y,S=Math.max(m-j,0);let k=Wk;const _=qk(w,dg),C=qk(w,ug);return p-=v,p+=m+y,g+=m+y,g-=v,p>f+N-_&&(k=Lf),g<f-S+h+C&&(k=Ku),k!==Wk?[Math.max(j-m-Gk(x,dg,k)-_,0),j-S-y+h+Gk(x,ug,k)+C]:null}),mt(f=>f!=null),ir(Rf)),[0,0]);return{increaseViewportBy:l,listBoundary:o,overscan:c,topListHeight:i,visibleRange:d}},cr(Rn),{singleton:!0});function BH(e,t,r){if(y0(t)){const n=SM(e,t);return[{index:fa(t.groupOffsetTree,n)[0],offset:0,size:0},{data:r==null?void 0:r[0],index:n,offset:0,size:0}]}return[{data:r==null?void 0:r[0],index:e,offset:0,size:0}]}const ly={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function xp(e,t,r,n,a,o){const{lastIndex:i,lastOffset:l,lastSize:c}=a;let d=0,f=0;if(e.length>0){d=e[0].offset;const x=e[e.length-1];f=x.offset+x.size}const h=r-i,m=l+h*c+(h-1)*n,p=d,g=m-f;return{bottom:f,firstItemIndex:o,items:Kk(e,a,o),offsetBottom:g,offsetTop:d,top:p,topItems:Kk(t,a,o),topListHeight:t.reduce((x,b)=>b.size+x,0),totalCount:r}}function TM(e,t,r,n,a,o){let i=0;if(r.groupIndices.length>0)for(const f of r.groupIndices){if(f-i>=e)break;i++}const l=e+i,c=w2(t,l),d=Array.from({length:l}).map((f,h)=>({data:o[h+c],index:h+c,offset:0,size:0}));return xp(d,[],l,a,r,n)}function Kk(e,t,r){if(e.length===0)return[];if(!y0(t))return e.map(d=>({...d,index:d.index+r,originalIndex:d.index}));const n=e[0].index,a=e[e.length-1].index,o=[],i=x0(t.groupOffsetTree,n,a);let l,c=0;for(const d of e){(!l||l.end<d.index)&&(l=i.shift(),c=t.groupIndices.indexOf(l.start));let f;d.index===l.start?f={index:c,type:"group"}:f={groupIndex:c,index:d.index-(c+1)+r},o.push({...f,data:d.data,offset:d.offset,originalIndex:d.index,size:d.size})}return o}const Yl=Bt(([{data:e,firstItemIndex:t,gap:r,sizes:n,totalCount:a},o,{listBoundary:i,topListHeight:l,visibleRange:c},{initialTopMostItemIndex:d,scrolledToInitialItem:f},{topListHeight:h},m,{didMount:p},{recalcInProgress:g}])=>{const x=Le([]),b=Le(0),y=At();tt(o.topItemsIndexes,x);const v=yn(Pe(Ur(p,g,ft(c,Rf),ft(a),ft(n),ft(d),f,ft(x),ft(t),ft(r),e),mt(([S,k,,_,,,,,,,C])=>{const E=C&&C.length!==_;return S&&!k&&!E}),Ye(([,,[S,k],_,C,E,T,A,W,P,te])=>{const le=C,{offsetTree:K,sizeTree:D}=le,I=Or(b);if(_===0)return{...ly,totalCount:_};if(S===0&&k===0)return I===0?{...ly,totalCount:_}:TM(I,E,C,W,P,te||[]);if(rr(D))return I>0?null:xp(BH(w2(E,_),le,te),[],_,P,le,W);const R=[];if(A.length>0){const F=A[0],J=A[A.length-1];let L=0;for(const U of x0(D,F,J)){const $=U.value,M=Math.max(U.start,F),re=Math.min(U.end,J);for(let de=M;de<=re;de++)R.push({data:te==null?void 0:te[de],index:de,offset:L,size:$}),L+=$}}if(!T)return xp([],R,_,P,le,W);const q=A.length>0?A[A.length-1]+1:0,z=TH(K,S,k,q);if(z.length===0)return null;const Z=_-1,ce=g0([],F=>{for(const J of z){const L=J.value;let U=L.offset,$=J.start;const M=L.size;if(L.offset<S){$+=Math.floor((S-L.offset+P)/(M+P));const de=$-J.start;U+=de*M+de*P}$<q&&(U+=(q-$)*M,$=q);const re=Math.min(J.end,Z);for(let de=$;de<=re&&!(U>=k);de++)F.push({data:te==null?void 0:te[de],index:de,offset:U,size:M}),U+=M+P}});return xp(ce,R,_,P,le,W)}),mt(S=>S!==null),ir()),ly);tt(Pe(e,mt(p2),Ye(S=>S==null?void 0:S.length)),a),tt(Pe(v,Ye(S=>S.topListHeight)),h),tt(h,l),tt(Pe(v,Ye(S=>[S.top,S.bottom])),i),tt(Pe(v,Ye(S=>S.items)),y);const w=ds(Pe(v,mt(({items:S})=>S.length>0),jt(a,e),mt(([{items:S},k])=>S[S.length-1].originalIndex===k-1),Ye(([,S,k])=>[S-1,k]),ir(Rf),Ye(([S])=>S))),j=ds(Pe(v,io(200),mt(({items:S,topItems:k})=>S.length>0&&S[0].originalIndex===k.length),Ye(({items:S})=>S[0].index),ir())),N=ds(Pe(v,mt(({items:S})=>S.length>0),Ye(({items:S})=>{let k=0,_=S.length-1;for(;S[k].type==="group"&&k<_;)k++;for(;S[_].type==="group"&&_>k;)_--;return{endIndex:S[_].index,startIndex:S[k].index}}),ir(jM)));return{endReached:w,initialItemCount:b,itemsRendered:y,listState:v,rangeChanged:N,startReached:j,topItemsIndexes:x,...m}},cr(qa,CM,j2,jh,wh,Nh,Hi,y2),{singleton:!0}),PM=Bt(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:r,headerHeight:n},{listState:a}])=>{const o=At(),i=yn(Pe(Ur(r,e,n,t,a),Ye(([l,c,d,f,h])=>l+c+d+f+h.offsetBottom+h.bottom)),0);return tt(ft(i),o),{totalListHeight:i,totalListHeightChanged:o}},cr(Rn,Yl),{singleton:!0}),UH=Bt(([{viewportHeight:e},{totalListHeight:t}])=>{const r=Le(!1),n=yn(Pe(Ur(r,e,t),mt(([a])=>a),Ye(([,a,o])=>Math.max(0,a-o)),io(0),ir()),0);return{alignToBottom:r,paddingTopAddition:n}},cr(Rn,PM),{singleton:!0}),MM=Bt(()=>({context:Le(null)})),VH=({itemBottom:e,itemTop:t,locationParams:{align:r,behavior:n,...a},viewportBottom:o,viewportTop:i})=>t<i?{...a,align:r??"start",behavior:n}:e>o?{...a,align:r??"end",behavior:n}:null,IM=Bt(([{gap:e,sizes:t,totalCount:r},{fixedFooterHeight:n,fixedHeaderHeight:a,headerHeight:o,scrollingInProgress:i,scrollTop:l,viewportHeight:c},{scrollToIndex:d}])=>{const f=At();return tt(Pe(f,jt(t,c,r,o,a,n,l),jt(e),Ye(([[h,m,p,g,x,b,y,v],w])=>{const{align:j,behavior:N,calculateViewLocation:S=VH,done:k,..._}=h,C=kM(h,m,g-1),E=Df(C,m.offsetTree,w)+x+b,T=E+fa(m.sizeTree,C)[1],A=v+b,W=v+p-y,P=S({itemBottom:T,itemTop:E,locationParams:{align:j,behavior:N,..._},viewportBottom:W,viewportTop:A});return P?k&&ia(Pe(i,mt(te=>!te),Rl(Or(i)?1:2)),k):k&&k(),P}),mt(h=>h!==null)),d),{scrollIntoView:f}},cr(qa,Rn,wh,Yl,Vi),{singleton:!0});function Yk(e){return e?e==="smooth"?"smooth":"auto":!1}const HH=(e,t)=>typeof e=="function"?Yk(e(t)):t&&Yk(e),WH=Bt(([{listRefresh:e,totalCount:t,fixedItemSize:r,data:n},{atBottomState:a,isAtBottom:o},{scrollToIndex:i},{scrolledToInitialItem:l},{didMount:c,propsReady:d},{log:f},{scrollingInProgress:h},{context:m},{scrollIntoView:p}])=>{const g=Le(!1),x=At();let b=null;function y(N){bt(i,{align:"end",behavior:N,index:"LAST"})}Gt(Pe(Ur(Pe(ft(t),Rl(1)),c),jt(ft(g),o,l,h),Ye(([[N,S],k,_,C,E])=>{let T=S&&C,A="auto";return T&&(A=HH(k,_||E),T=T&&!!A),{followOutputBehavior:A,shouldFollow:T,totalCount:N}}),mt(({shouldFollow:N})=>N)),({followOutputBehavior:N,totalCount:S})=>{b&&(b(),b=null),Or(r)?requestAnimationFrame(()=>{Or(f)("following output to ",{totalCount:S},Yn.DEBUG),y(N)}):b=ia(e,()=>{Or(f)("following output to ",{totalCount:S},Yn.DEBUG),y(N),b=null})});function v(N){const S=ia(a,k=>{N&&!k.atBottom&&k.notAtBottomBecause==="SIZE_INCREASED"&&!b&&(Or(f)("scrolling to bottom due to increased size",{},Yn.DEBUG),y("auto"))});setTimeout(S,100)}Gt(Pe(Ur(ft(g),t,d),mt(([N,,S])=>N&&S),Ma(({value:N},[,S])=>({refreshed:N===S,value:S}),{refreshed:!1,value:0}),mt(({refreshed:N})=>N),jt(g,t)),([,N])=>{Or(l)&&v(N!==!1)}),Gt(x,()=>{v(Or(g)!==!1)}),Gt(Ur(ft(g),a),([N,S])=>{N&&!S.atBottom&&S.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&y("auto")});const w=Le(null),j=At();return tt(Lb(Pe(ft(n),Ye(N=>{var S;return(S=N==null?void 0:N.length)!=null?S:0})),Pe(ft(t))),j),Gt(Pe(Ur(Pe(j,Rl(1)),c),jt(ft(w),l,h,m),Ye(([[N,S],k,_,C,E])=>S&&_&&(k==null?void 0:k({context:E,totalCount:N,scrollingInProgress:C}))),mt(N=>!!N),io(0)),N=>{b&&(b(),b=null),Or(r)?requestAnimationFrame(()=>{Or(f)("scrolling into view",{}),bt(p,N)}):b=ia(e,()=>{Or(f)("scrolling into view",{}),bt(p,N),b=null})}),{autoscrollToBottom:x,followOutput:g,scrollIntoViewOnChange:w}},cr(qa,Nh,wh,jh,Hi,Vi,Rn,MM,IM)),GH=Bt(([{data:e,firstItemIndex:t,gap:r,sizes:n},{initialTopMostItemIndex:a},{initialItemCount:o,listState:i},{didMount:l}])=>(tt(Pe(l,jt(o),mt(([,c])=>c!==0),jt(a,n,t,r,e),Ye(([[,c],d,f,h,m,p=[]])=>TM(c,d,f,h,m,p))),i),{}),cr(qa,jh,Yl,Hi),{singleton:!0}),qH=Bt(([{didMount:e},{scrollTo:t},{listState:r}])=>{const n=Le(0);return Gt(Pe(e,jt(n),mt(([,a])=>a!==0),Ye(([,a])=>({top:a}))),a=>{ia(Pe(r,Rl(1),mt(o=>o.items.length>1)),()=>{requestAnimationFrame(()=>{bt(t,a)})})}),{initialScrollTop:n}},cr(Hi,Rn,Yl),{singleton:!0}),AM=Bt(([{scrollVelocity:e}])=>{const t=Le(!1),r=At(),n=Le(!1);return tt(Pe(e,jt(n,t,r),mt(([a,o])=>!!o),Ye(([a,o,i,l])=>{const{enter:c,exit:d}=o;if(i){if(d(a,l))return!1}else if(c(a,l))return!0;return i}),ir()),t),Gt(Pe(Ur(t,e,r),jt(n)),([[a,o,i],l])=>{a&&l&&l.change&&l.change(o,i)}),{isSeeking:t,scrollSeekConfiguration:n,scrollSeekRangeChanged:r,scrollVelocity:e}},cr(Nh),{singleton:!0}),N2=Bt(([{scrollContainerState:e,scrollTo:t}])=>{const r=At(),n=At(),a=At(),o=Le(!1),i=Le(void 0);return tt(Pe(Ur(r,n),Ye(([{scrollHeight:l,scrollTop:c,viewportHeight:d},{offsetTop:f}])=>({scrollHeight:l,scrollTop:Math.max(0,c-f),viewportHeight:d}))),e),tt(Pe(t,jt(n),Ye(([l,{offsetTop:c}])=>({...l,top:l.top+c}))),a),{customScrollParent:i,useWindowScroll:o,windowScrollContainerState:r,windowScrollTo:a,windowViewportRect:n}},cr(Rn)),KH=Bt(([{sizeRanges:e,sizes:t},{headerHeight:r,scrollTop:n},{initialTopMostItemIndex:a},{didMount:o},{useWindowScroll:i,windowScrollContainerState:l,windowViewportRect:c}])=>{const d=At(),f=Le(void 0),h=Le(null),m=Le(null);return tt(l,h),tt(c,m),Gt(Pe(d,jt(t,n,i,h,m,r)),([p,g,x,b,y,v,w])=>{const j=MH(g.sizeTree);b&&y!==null&&v!==null&&(x=y.scrollTop-v.offsetTop),x-=w,p({ranges:j,scrollTop:x})}),tt(Pe(f,mt(p2),Ye(YH)),a),tt(Pe(o,jt(f),mt(([,p])=>p!==void 0),ir(),Ye(([,p])=>p.ranges)),e),{getState:d,restoreStateFrom:f}},cr(qa,Rn,jh,Hi,N2));function YH(e){return{align:"start",index:0,offset:e.scrollTop}}const XH=Bt(([{topItemsIndexes:e}])=>{const t=Le(0);return tt(Pe(t,mt(r=>r>=0),Ye(r=>Array.from({length:r}).map((n,a)=>a))),e),{topItemCount:t}},cr(Yl));function OM(e){let t=!1,r;return()=>(t||(t=!0,r=e()),r)}const QH=OM(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),JH=Bt(([{deviation:e,scrollBy:t,scrollingInProgress:r,scrollTop:n},{isAtBottom:a,isScrolling:o,lastJumpDueToItemResize:i,scrollDirection:l},{listState:c},{beforeUnshiftWith:d,gap:f,shiftWithOffset:h,sizes:m},{log:p},{recalcInProgress:g}])=>{const x=ds(Pe(c,jt(i),Ma(([,y,v,w],[{bottom:j,items:N,offsetBottom:S,totalCount:k},_])=>{const C=j+S;let E=0;return v===k&&y.length>0&&N.length>0&&(N[0].originalIndex===0&&y[0].originalIndex===0||(E=C-w,E!==0&&(E+=_))),[E,N,k,C]},[0,[],0,0]),mt(([y])=>y!==0),jt(n,l,r,a,p,g),mt(([,y,v,w,,,j])=>!j&&!w&&y!==0&&v===Lf),Ye(([[y],,,,,v])=>(v("Upward scrolling compensation",{amount:y},Yn.DEBUG),y))));function b(y){y>0?(bt(t,{behavior:"auto",top:-y}),bt(e,0)):(bt(e,0),bt(t,{behavior:"auto",top:-y}))}return Gt(Pe(x,jt(e,o)),([y,v,w])=>{w&&QH()?bt(e,v-y):b(-y)}),Gt(Pe(Ur(yn(o,!1),e,g),mt(([y,v,w])=>!y&&!w&&v!==0),Ye(([y,v])=>v),io(1)),b),tt(Pe(h,Ye(y=>({top:-y}))),t),Gt(Pe(d,jt(m,f),Ye(([y,{groupIndices:v,lastSize:w,sizeTree:j},N])=>{function S(k){return k*(w+N)}if(v.length===0)return S(y);{let k=0;const _=Of(j,0);let C=0,E=0;for(;C<y;){C++,k+=_;let T=v.length===E+1?1/0:v[E+1]-v[E]-1;C+T>y&&(k-=_,T=y-C+1),C+=T,k+=S(T),E++}return k}})),y=>{bt(e,y),requestAnimationFrame(()=>{bt(t,{top:y}),requestAnimationFrame(()=>{bt(e,0),bt(g,!1)})})}),{deviation:e}},cr(Rn,Nh,Yl,qa,Vi,y2)),ZH=Bt(([e,t,r,n,a,o,i,l,c,d,f])=>({...e,...t,...r,...n,...a,...o,...i,...l,...c,...d,...f}),cr(j2,GH,Hi,AM,PM,qH,UH,N2,IM,Vi,MM)),RM=Bt(([{data:e,defaultItemSize:t,firstItemIndex:r,fixedItemSize:n,gap:a,groupIndices:o,itemSize:i,sizeRanges:l,sizes:c,statefulTotalCount:d,totalCount:f,trackItemSizes:h},{initialItemFinalLocationReached:m,initialTopMostItemIndex:p,scrolledToInitialItem:g},x,b,y,{listState:v,topItemsIndexes:w,...j},{scrollToIndex:N},S,{topItemCount:k},{groupCounts:_},C])=>(tt(j.rangeChanged,C.scrollSeekRangeChanged),tt(Pe(C.windowViewportRect,Ye(E=>E.visibleHeight)),x.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:r,fixedItemHeight:n,gap:a,groupCounts:_,initialItemFinalLocationReached:m,initialTopMostItemIndex:p,scrolledToInitialItem:g,sizeRanges:l,topItemCount:k,topItemsIndexes:w,totalCount:f,...y,groupIndices:o,itemSize:i,listState:v,scrollToIndex:N,statefulTotalCount:d,trackItemSizes:h,...j,...C,...x,sizes:c,...b}),cr(qa,jh,Rn,KH,WH,Yl,wh,JH,XH,CM,ZH));function eW(e,t){const r={},n={};let a=0;const o=e.length;for(;a<o;)n[e[a]]=1,a+=1;for(const i in t)Object.hasOwn(n,i)||(r[i]=t[i]);return r}const Em=typeof document<"u"?ue.useLayoutEffect:ue.useEffect;function DM(e,t,r){const n=Object.keys(t.required||{}),a=Object.keys(t.optional||{}),o=Object.keys(t.methods||{}),i=Object.keys(t.events||{}),l=ue.createContext({});function c(b,y){b.propsReady&&bt(b.propsReady,!1);for(const v of n){const w=b[t.required[v]];bt(w,y[v])}for(const v of a)if(v in y){const w=b[t.optional[v]];bt(w,y[v])}b.propsReady&&bt(b.propsReady,!0)}function d(b){return o.reduce((y,v)=>(y[v]=w=>{const j=b[t.methods[v]];bt(j,w)},y),{})}function f(b){return i.reduce((y,v)=>(y[v]=gH(b[t.events[v]]),y),{})}const h=ue.forwardRef((b,y)=>{const{children:v,...w}=b,[j]=ue.useState(()=>g0(yH(e),k=>{c(k,w)})),[N]=ue.useState(zk(f,j));Em(()=>{for(const k of i)k in w&&Gt(N[k],w[k]);return()=>{Object.values(N).map(g2)}},[w,N,j]),Em(()=>{c(j,w)}),ue.useImperativeHandle(y,Fk(d(j)));const S=r;return s.jsx(l.Provider,{value:j,children:r?s.jsx(S,{...eW([...n,...a,...i],w),children:v}):v})}),m=b=>{const y=ue.useContext(l);return ue.useCallback(v=>{bt(y[b],v)},[y,b])},p=b=>{const y=ue.useContext(l)[b],v=ue.useCallback(w=>Gt(y,w),[y]);return ue.useSyncExternalStore(v,()=>Or(y),()=>Or(y))},g=b=>{const y=ue.useContext(l)[b],[v,w]=ue.useState(zk(Or,y));return Em(()=>Gt(y,j=>{j!==v&&w(Fk(j))}),[y,v]),v},x=ue.version.startsWith("18")?p:g;return{Component:h,useEmitter:(b,y)=>{const v=ue.useContext(l)[b];Em(()=>Gt(v,y),[y,v])},useEmitterValue:x,usePublisher:m}}const LM=ue.createContext(void 0),$M=ue.createContext(void 0),FM=typeof document<"u"?ue.useLayoutEffect:ue.useEffect;function cy(e){return"self"in e}function tW(e){return"body"in e}function zM(e,t,r,n=Wd,a,o){const i=ue.useRef(null),l=ue.useRef(null),c=ue.useRef(null),d=ue.useCallback(m=>{let p,g,x;const b=m.target;if(tW(b)||cy(b)){const v=cy(b)?b:b.defaultView;x=o?v.scrollX:v.scrollY,p=o?v.document.documentElement.scrollWidth:v.document.documentElement.scrollHeight,g=o?v.innerWidth:v.innerHeight}else x=o?b.scrollLeft:b.scrollTop,p=o?b.scrollWidth:b.scrollHeight,g=o?b.offsetWidth:b.offsetHeight;const y=()=>{e({scrollHeight:p,scrollTop:Math.max(x,0),viewportHeight:g})};m.suppressFlushSync?y():Dw.flushSync(y),l.current!==null&&(x===l.current||x<=0||x===p-g)&&(l.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t,o]);ue.useEffect(()=>{const m=a||i.current;return n(a||i.current),d({suppressFlushSync:!0,target:m}),m.addEventListener("scroll",d,{passive:!0}),()=>{n(null),m.removeEventListener("scroll",d)}},[i,d,r,n,a]);function f(m){const p=i.current;if(!p||(o?"offsetWidth"in p&&p.offsetWidth===0:"offsetHeight"in p&&p.offsetHeight===0))return;const g=m.behavior==="smooth";let x,b,y;cy(p)?(b=Math.max(Mi(p.document.documentElement,o?"width":"height"),o?p.document.documentElement.scrollWidth:p.document.documentElement.scrollHeight),x=o?p.innerWidth:p.innerHeight,y=o?window.scrollX:window.scrollY):(b=p[o?"scrollWidth":"scrollHeight"],x=Mi(p,o?"width":"height"),y=p[o?"scrollLeft":"scrollTop"]);const v=b-x;if(m.top=Math.ceil(Math.max(Math.min(v,m.top),0)),EM(x,b)||m.top===y){e({scrollHeight:b,scrollTop:y,viewportHeight:x}),g&&t(!0);return}g?(l.current=m.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,l.current=null,t(!0)},1e3)):l.current=null,o&&(m={behavior:m.behavior,left:m.top}),p.scrollTo(m)}function h(m){o&&(m={behavior:m.behavior,left:m.top}),i.current.scrollBy(m)}return{scrollByCallback:h,scrollerRef:i,scrollToCallback:f}}const dy="-webkit-sticky",Xk="sticky",S2=OM(()=>{if(typeof document>"u")return Xk;const e=document.createElement("div");return e.style.position=dy,e.style.position===dy?dy:Xk});function k2(e){return e}const rW=Bt(()=>{const e=Le(l=>`Item ${l}`),t=Le(l=>`Group ${l}`),r=Le({}),n=Le(k2),a=Le("div"),o=Le(Wd),i=(l,c=null)=>yn(Pe(r,Ye(d=>d[l]),ir()),c);return{components:r,computeItemKey:n,EmptyPlaceholder:i("EmptyPlaceholder"),FooterComponent:i("Footer"),GroupComponent:i("Group","div"),groupContent:t,HeaderComponent:i("Header"),HeaderFooterTag:a,ItemComponent:i("Item","div"),itemContent:e,ListComponent:i("List","div"),ScrollerComponent:i("Scroller","div"),scrollerRef:o,ScrollSeekPlaceholder:i("ScrollSeekPlaceholder"),TopItemListComponent:i("TopItemList")}}),nW=Bt(([e,t])=>({...e,...t}),cr(RM,rW)),sW=({height:e})=>s.jsx("div",{style:{height:e}}),aW={overflowAnchor:"none",position:S2(),zIndex:1},BM={overflowAnchor:"none"},oW={...BM,display:"inline-block",height:"100%"},Qk=ue.memo(function({showTopList:e=!1}){const t=xt("listState"),r=Ts("sizeRanges"),n=xt("useWindowScroll"),a=xt("customScrollParent"),o=Ts("windowScrollContainerState"),i=Ts("scrollContainerState"),l=a||n?o:i,c=xt("itemContent"),d=xt("context"),f=xt("groupContent"),h=xt("trackItemSizes"),m=xt("itemSize"),p=xt("log"),g=Ts("gap"),x=xt("horizontalDirection"),{callbackRef:b}=wH(r,m,h,e?Wd:l,p,g,a,x,xt("skipAnimationFrameInResizeObserver")),[y,v]=ue.useState(0);C2("deviation",P=>{y!==P&&v(P)});const w=xt("EmptyPlaceholder"),j=xt("ScrollSeekPlaceholder")||sW,N=xt("ListComponent"),S=xt("ItemComponent"),k=xt("GroupComponent"),_=xt("computeItemKey"),C=xt("isSeeking"),E=xt("groupIndices").length>0,T=xt("alignToBottom"),A=xt("initialItemFinalLocationReached"),W=e?{}:{boxSizing:"border-box",...x?{display:"inline-block",height:"100%",marginLeft:y!==0?y:T?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:y!==0?y:T?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...A?{}:{visibility:"hidden"}};return!e&&t.totalCount===0&&w?s.jsx(w,{...gn(w,d)}):s.jsx(N,{...gn(N,d),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:b,style:W,children:(e?t.topItems:t.items).map(P=>{const te=P.originalIndex,le=_(te+t.firstItemIndex,P.data,d);return C?u.createElement(j,{...gn(j,d),height:P.size,index:P.index,key:le,type:P.type||"item",...P.type==="group"?{}:{groupIndex:P.groupIndex}}):P.type==="group"?u.createElement(k,{...gn(k,d),"data-index":te,"data-item-index":P.index,"data-known-size":P.size,key:le,style:aW},f(P.index,d)):u.createElement(S,{...gn(S,d),...dW(S,P.data),"data-index":te,"data-item-group-index":P.groupIndex,"data-item-index":P.index,"data-known-size":P.size,key:le,style:x?oW:BM},E?c(P.index,P.groupIndex,P.data,d):c(P.index,P.data,d))})})}),iW={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},lW={outline:"none",overflowX:"auto",position:"relative"},v0=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),cW={position:S2(),top:0,width:"100%",zIndex:1};function gn(e,t){if(typeof e!="string")return{context:t}}function dW(e,t){return{item:typeof e=="string"?void 0:t}}const uW=ue.memo(function(){const e=xt("HeaderComponent"),t=Ts("headerHeight"),r=xt("HeaderFooterTag"),n=Kl(ue.useMemo(()=>o=>{t(Mi(o,"height"))},[t]),!0,xt("skipAnimationFrameInResizeObserver")),a=xt("context");return e?s.jsx(r,{ref:n,children:s.jsx(e,{...gn(e,a)})}):null}),fW=ue.memo(function(){const e=xt("FooterComponent"),t=Ts("footerHeight"),r=xt("HeaderFooterTag"),n=Kl(ue.useMemo(()=>o=>{t(Mi(o,"height"))},[t]),!0,xt("skipAnimationFrameInResizeObserver")),a=xt("context");return e?s.jsx(r,{ref:n,children:s.jsx(e,{...gn(e,a)})}):null});function UM({useEmitter:e,useEmitterValue:t,usePublisher:r}){return ue.memo(function({children:n,style:a,context:o,...i}){const l=r("scrollContainerState"),c=t("ScrollerComponent"),d=r("smoothScrollTargetReached"),f=t("scrollerRef"),h=t("horizontalDirection")||!1,{scrollByCallback:m,scrollerRef:p,scrollToCallback:g}=zM(l,d,c,f,void 0,h);return e("scrollTo",g),e("scrollBy",m),s.jsx(c,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:p,style:{...h?lW:iW,...a},tabIndex:0,...i,...gn(c,o),children:n})})}function VM({useEmitter:e,useEmitterValue:t,usePublisher:r}){return ue.memo(function({children:n,style:a,context:o,...i}){const l=r("windowScrollContainerState"),c=t("ScrollerComponent"),d=r("smoothScrollTargetReached"),f=t("totalListHeight"),h=t("deviation"),m=t("customScrollParent"),p=ue.useRef(null),g=t("scrollerRef"),{scrollByCallback:x,scrollerRef:b,scrollToCallback:y}=zM(l,d,c,g,m);return FM(()=>{var v;return b.current=m||((v=p.current)==null?void 0:v.ownerDocument.defaultView),()=>{b.current=null}},[b,m]),e("windowScrollTo",y),e("scrollBy",x),s.jsx(c,{ref:p,"data-virtuoso-scroller":!0,style:{position:"relative",...a,...f!==0?{height:f+h}:{}},...i,...gn(c,o),children:n})})}const hW=({children:e})=>{const t=ue.useContext(LM),r=Ts("viewportHeight"),n=Ts("fixedItemHeight"),a=xt("alignToBottom"),o=xt("horizontalDirection"),i=ue.useMemo(()=>mM(r,c=>Mi(c,o?"width":"height")),[r,o]),l=Kl(i,!0,xt("skipAnimationFrameInResizeObserver"));return ue.useEffect(()=>{t&&(r(t.viewportHeight),n(t.itemHeight))},[t,r,n]),s.jsx("div",{"data-viewport-type":"element",ref:l,style:v0(a),children:e})},mW=({children:e})=>{const t=ue.useContext(LM),r=Ts("windowViewportRect"),n=Ts("fixedItemHeight"),a=xt("customScrollParent"),o=gM(r,a,xt("skipAnimationFrameInResizeObserver")),i=xt("alignToBottom");return ue.useEffect(()=>{t&&(n(t.itemHeight),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,r,n]),s.jsx("div",{"data-viewport-type":"window",ref:o,style:v0(i),children:e})},pW=({children:e})=>{const t=xt("TopItemListComponent")||"div",r=xt("headerHeight"),n={...cW,marginTop:`${r}px`},a=xt("context");return s.jsx(t,{style:n,...gn(t,a),children:e})},gW=ue.memo(function(e){const t=xt("useWindowScroll"),r=xt("topItemsIndexes").length>0,n=xt("customScrollParent"),a=xt("context");return s.jsxs(n||t?vW:yW,{...e,context:a,children:[r&&s.jsx(pW,{children:s.jsx(Qk,{showTopList:!0})}),s.jsxs(n||t?mW:hW,{children:[s.jsx(uW,{}),s.jsx(Qk,{}),s.jsx(fW,{})]})]})}),{Component:xW,useEmitter:C2,useEmitterValue:xt,usePublisher:Ts}=DM(nW,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},gW),yW=UM({useEmitter:C2,useEmitterValue:xt,usePublisher:Ts}),vW=VM({useEmitter:C2,useEmitterValue:xt,usePublisher:Ts}),bW=xW,wW=Bt(()=>{const e=Le(d=>s.jsxs("td",{children:["Item $",d]})),t=Le(null),r=Le(d=>s.jsxs("td",{colSpan:1e3,children:["Group ",d]})),n=Le(null),a=Le(null),o=Le({}),i=Le(k2),l=Le(Wd),c=(d,f=null)=>yn(Pe(o,Ye(h=>h[d]),ir()),f);return{components:o,computeItemKey:i,context:t,EmptyPlaceholder:c("EmptyPlaceholder"),FillerRow:c("FillerRow"),fixedFooterContent:a,fixedHeaderContent:n,itemContent:e,groupContent:r,ScrollerComponent:c("Scroller","div"),scrollerRef:l,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder"),TableBodyComponent:c("TableBody","tbody"),TableComponent:c("Table","table"),TableFooterComponent:c("TableFoot","tfoot"),TableHeadComponent:c("TableHead","thead"),TableRowComponent:c("TableRow","tr"),GroupComponent:c("Group","tr")}});cr(RM,wW);S2();const Jk={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},jW={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:Zk,floor:fg,max:Yu,min:uy,round:eC}=Math;function tC(e,t,r){return Array.from({length:t-e+1}).map((n,a)=>({data:r===null?null:r[a+e],index:a+e}))}function NW(e){return{...jW,items:e}}function Tm(e,t){return e&&e.width===t.width&&e.height===t.height}function SW(e,t){return e&&e.column===t.column&&e.row===t.row}const kW=Bt(([{increaseViewportBy:e,listBoundary:t,overscan:r,visibleRange:n},{footerHeight:a,headerHeight:o,scrollBy:i,scrollContainerState:l,scrollTo:c,scrollTop:d,smoothScrollTargetReached:f,viewportHeight:h},m,p,{didMount:g,propsReady:x},{customScrollParent:b,useWindowScroll:y,windowScrollContainerState:v,windowScrollTo:w,windowViewportRect:j},N])=>{const S=Le(0),k=Le(0),_=Le(Jk),C=Le({height:0,width:0}),E=Le({height:0,width:0}),T=At(),A=At(),W=Le(0),P=Le(null),te=Le({column:0,row:0}),le=At(),K=At(),D=Le(!1),I=Le(0),R=Le(!0),q=Le(!1),z=Le(!1);Gt(Pe(g,jt(I),mt(([U,$])=>!!$)),()=>{bt(R,!1)}),Gt(Pe(Ur(g,R,E,C,I,q),mt(([U,$,M,re,,de])=>U&&!$&&M.height!==0&&re.height!==0&&!de)),([,,,,U])=>{bt(q,!0),b2(1,()=>{bt(T,U)}),ia(Pe(d),()=>{bt(t,[0,0]),bt(R,!0)})}),tt(Pe(K,mt(U=>U!=null&&U.scrollTop>0),_a(0)),k),Gt(Pe(g,jt(K),mt(([,U])=>U!=null)),([,U])=>{U&&(bt(C,U.viewport),bt(E,U.item),bt(te,U.gap),U.scrollTop>0&&(bt(D,!0),ia(Pe(d,Rl(1)),$=>{bt(D,!1)}),bt(c,{top:U.scrollTop})))}),tt(Pe(C,Ye(({height:U})=>U)),h),tt(Pe(Ur(ft(C,Tm),ft(E,Tm),ft(te,(U,$)=>U&&U.column===$.column&&U.row===$.row),ft(d)),Ye(([U,$,M,re])=>({gap:M,item:$,scrollTop:re,viewport:U}))),le),tt(Pe(Ur(ft(S),n,ft(te,SW),ft(E,Tm),ft(C,Tm),ft(P),ft(k),ft(D),ft(R),ft(I)),mt(([,,,,,,,U])=>!U),Ye(([U,[$,M],re,de,Ee,Ze,rt,,Xe,et])=>{const{column:Je,row:We}=re,{height:ee,width:X}=de,{width:Te}=Ee;if(rt===0&&(U===0||Te===0))return Jk;if(X===0){const ot=w2(et,U),Oe=ot+Math.max(rt-1,0);return NW(tC(ot,Oe,Ze))}const be=HM(Te,X,Je);let H,ge;Xe?$===0&&M===0&&rt>0?(H=0,ge=rt-1):(H=be*fg(($+We)/(ee+We)),ge=be*Zk((M+We)/(ee+We))-1,ge=uy(U-1,Yu(ge,be-1)),H=uy(ge,Yu(0,H))):(H=0,ge=-1);const Ne=tC(H,ge,Ze),{bottom:xe,top:Re}=rC(Ee,re,de,Ne),at=Zk(U/be),nt=at*ee+(at-1)*We-xe;return{bottom:xe,itemHeight:ee,items:Ne,itemWidth:X,offsetBottom:nt,offsetTop:Re,top:Re}})),_),tt(Pe(P,mt(U=>U!==null),Ye(U=>U.length)),S),tt(Pe(Ur(C,E,_,te),mt(([U,$,{items:M}])=>M.length>0&&$.height!==0&&U.height!==0),Ye(([U,$,{items:M},re])=>{const{bottom:de,top:Ee}=rC(U,re,$,M);return[Ee,de]}),ir(Rf)),t);const Z=Le(!1);tt(Pe(d,jt(Z),Ye(([U,$])=>$||U!==0)),Z);const ce=ds(Pe(Ur(_,S),mt(([{items:U}])=>U.length>0),jt(Z),mt(([[U,$],M])=>{const re=U.items[U.items.length-1].index===$-1;return(M||U.bottom>0&&U.itemHeight>0&&U.offsetBottom===0&&U.items.length===$)&&re}),Ye(([[,U]])=>U-1),ir())),F=ds(Pe(ft(_),mt(({items:U})=>U.length>0&&U[0].index===0),_a(0),ir())),J=ds(Pe(ft(_),jt(D),mt(([{items:U},$])=>U.length>0&&!$),Ye(([{items:U}])=>({endIndex:U[U.length-1].index,startIndex:U[0].index})),ir(jM),io(0)));tt(J,p.scrollSeekRangeChanged),tt(Pe(T,jt(C,E,S,te),Ye(([U,$,M,re,de])=>{const Ee=_M(U),{align:Ze,behavior:rt,offset:Xe}=Ee;let et=Ee.index;et==="LAST"&&(et=re-1),et=Yu(0,et,uy(re-1,et));let Je=Ub($,de,M,et);return Ze==="end"?Je=eC(Je-$.height+M.height):Ze==="center"&&(Je=eC(Je-$.height/2+M.height/2)),Xe&&(Je+=Xe),{behavior:rt,top:Je}})),c);const L=yn(Pe(_,Ye(U=>U.offsetBottom+U.bottom)),0);return tt(Pe(j,Ye(U=>({height:U.visibleHeight,width:U.visibleWidth}))),C),{customScrollParent:b,data:P,deviation:W,footerHeight:a,gap:te,headerHeight:o,increaseViewportBy:e,initialItemCount:k,itemDimensions:E,overscan:r,restoreStateFrom:K,scrollBy:i,scrollContainerState:l,scrollHeight:A,scrollTo:c,scrollToIndex:T,scrollTop:d,smoothScrollTargetReached:f,totalCount:S,useWindowScroll:y,viewportDimensions:C,windowScrollContainerState:v,windowScrollTo:w,windowViewportRect:j,...p,gridState:_,horizontalDirection:z,initialTopMostItemIndex:I,totalListHeight:L,...m,endReached:ce,propsReady:x,rangeChanged:J,startReached:F,stateChanged:le,stateRestoreInProgress:D,...N}},cr(j2,Rn,Nh,AM,Hi,N2,Vi));function HM(e,t,r){return Yu(1,fg((e+r)/(fg(t)+r)))}function rC(e,t,r,n){const{height:a}=r;if(a===void 0||n.length===0)return{bottom:0,top:0};const o=Ub(e,t,r,n[0].index);return{bottom:Ub(e,t,r,n[n.length-1].index)+a,top:o}}function Ub(e,t,r,n){const a=HM(e.width,r.width,t.column),o=fg(n/a),i=o*r.height+Yu(0,o-1)*t.row;return i>0?i+t.row:i}const CW=Bt(()=>{const e=Le(h=>`Item ${h}`),t=Le({}),r=Le(null),n=Le("virtuoso-grid-item"),a=Le("virtuoso-grid-list"),o=Le(k2),i=Le("div"),l=Le(Wd),c=(h,m=null)=>yn(Pe(t,Ye(p=>p[h]),ir()),m),d=Le(!1),f=Le(!1);return tt(ft(f),d),{components:t,computeItemKey:o,context:r,FooterComponent:c("Footer"),HeaderComponent:c("Header"),headerFooterTag:i,itemClassName:n,ItemComponent:c("Item","div"),itemContent:e,listClassName:a,ListComponent:c("List","div"),readyStateChanged:d,reportReadyState:f,ScrollerComponent:c("Scroller","div"),scrollerRef:l,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),_W=Bt(([e,t])=>({...e,...t}),cr(kW,CW)),EW=ue.memo(function(){const e=fr("gridState"),t=fr("listClassName"),r=fr("itemClassName"),n=fr("itemContent"),a=fr("computeItemKey"),o=fr("isSeeking"),i=Ps("scrollHeight"),l=fr("ItemComponent"),c=fr("ListComponent"),d=fr("ScrollSeekPlaceholder"),f=fr("context"),h=Ps("itemDimensions"),m=Ps("gap"),p=fr("log"),g=fr("stateRestoreInProgress"),x=Ps("reportReadyState"),b=Kl(ue.useMemo(()=>y=>{const v=y.parentElement.parentElement.scrollHeight;i(v);const w=y.firstChild;if(w){const{height:j,width:N}=w.getBoundingClientRect();h({height:j,width:N})}m({column:nC("column-gap",getComputedStyle(y).columnGap,p),row:nC("row-gap",getComputedStyle(y).rowGap,p)})},[i,h,m,p]),!0,!1);return FM(()=>{e.itemHeight>0&&e.itemWidth>0&&x(!0)},[e]),g?null:s.jsx(c,{className:t,ref:b,...gn(c,f),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(y=>{const v=a(y.index,y.data,f);return o?s.jsx(d,{...gn(d,f),height:e.itemHeight,index:y.index,width:e.itemWidth},v):u.createElement(l,{...gn(l,f),className:r,"data-index":y.index,key:v},n(y.index,y.data,f))})})}),TW=ue.memo(function(){const e=fr("HeaderComponent"),t=Ps("headerHeight"),r=fr("headerFooterTag"),n=Kl(ue.useMemo(()=>o=>{t(Mi(o,"height"))},[t]),!0,!1),a=fr("context");return e?s.jsx(r,{ref:n,children:s.jsx(e,{...gn(e,a)})}):null}),PW=ue.memo(function(){const e=fr("FooterComponent"),t=Ps("footerHeight"),r=fr("headerFooterTag"),n=Kl(ue.useMemo(()=>o=>{t(Mi(o,"height"))},[t]),!0,!1),a=fr("context");return e?s.jsx(r,{ref:n,children:s.jsx(e,{...gn(e,a)})}):null}),MW=({children:e})=>{const t=ue.useContext($M),r=Ps("itemDimensions"),n=Ps("viewportDimensions"),a=Kl(ue.useMemo(()=>o=>{n(o.getBoundingClientRect())},[n]),!0,!1);return ue.useEffect(()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),r({height:t.itemHeight,width:t.itemWidth}))},[t,n,r]),s.jsx("div",{ref:a,style:v0(!1),children:e})},IW=({children:e})=>{const t=ue.useContext($M),r=Ps("windowViewportRect"),n=Ps("itemDimensions"),a=fr("customScrollParent"),o=gM(r,a,!1);return ue.useEffect(()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,r,n]),s.jsx("div",{ref:o,style:v0(!1),children:e})},AW=ue.memo(function({...e}){const t=fr("useWindowScroll"),r=fr("customScrollParent"),n=r||t?RW:OW,a=r||t?IW:MW,o=fr("context");return s.jsx(n,{...e,...gn(n,o),children:s.jsxs(a,{children:[s.jsx(TW,{}),s.jsx(EW,{}),s.jsx(PW,{})]})})}),{useEmitter:WM,useEmitterValue:fr,usePublisher:Ps}=DM(_W,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},AW),OW=UM({useEmitter:WM,useEmitterValue:fr,usePublisher:Ps}),RW=VM({useEmitter:WM,useEmitterValue:fr,usePublisher:Ps});function nC(e,t,r){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&r(`${e} was not resolved to pixel value correctly`,t,Yn.WARN),t==="normal"?0:parseInt(t??"0",10)}const DW=n0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=u.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},o)=>{const i=n?c9:"button";return s.jsx(i,{className:se(DW({variant:t,size:r,className:e})),ref:o,...a})});V.displayName="Button";const we=u.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));we.displayName="Input";const LW=n0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function kt({className:e,variant:t,...r}){return s.jsx("div",{className:se(LW({variant:t}),e),...r})}var GM={exports:{}},qM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd=u;function $W(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FW=typeof Object.is=="function"?Object.is:$W,zW=kd.useState,BW=kd.useEffect,UW=kd.useLayoutEffect,VW=kd.useDebugValue;function HW(e,t){var r=t(),n=zW({inst:{value:r,getSnapshot:t}}),a=n[0].inst,o=n[1];return UW(function(){a.value=r,a.getSnapshot=t,fy(a)&&o({inst:a})},[e,r,t]),BW(function(){return fy(a)&&o({inst:a}),e(function(){fy(a)&&o({inst:a})})},[e]),VW(r),r}function fy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!FW(e,r)}catch{return!0}}function WW(e,t){return t()}var GW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?WW:HW;qM.useSyncExternalStore=kd.useSyncExternalStore!==void 0?kd.useSyncExternalStore:GW;GM.exports=qM;var qW=GM.exports;function KW(){return qW.useSyncExternalStore(YW,()=>!0,()=>!1)}function YW(){return()=>{}}var _2="Avatar",[XW,Uge]=jn(_2),[QW,KM]=XW(_2),YM=u.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,o]=u.useState("idle");return s.jsx(QW,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:s.jsx(Ve.span,{...n,ref:t})})});YM.displayName=_2;var XM="AvatarImage",QM=u.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...o}=e,i=KM(XM,r),l=JW(n,o),c=pr(d=>{a(d),i.onImageLoadingStatusChange(d)});return Nr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ve.img,{...o,ref:t,src:n}):null});QM.displayName=XM;var JM="AvatarFallback",ZM=u.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,o=KM(JM,r),[i,l]=u.useState(n===void 0);return u.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?s.jsx(Ve.span,{...a,ref:t}):null});ZM.displayName=JM;function sC(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function JW(e,{referrerPolicy:t,crossOrigin:r}){const n=KW(),a=u.useRef(null),o=n?(a.current||(a.current=new window.Image),a.current):null,[i,l]=u.useState(()=>sC(o,e));return Nr(()=>{l(sC(o,e))},[o,e]),Nr(()=>{const c=h=>()=>{l(h)};if(!o)return;const d=c("loaded"),f=c("error");return o.addEventListener("load",d),o.addEventListener("error",f),t&&(o.referrerPolicy=t),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",d),o.removeEventListener("error",f)}},[o,r,t]),i}var eI=YM,tI=QM,rI=ZM;const Rr=u.forwardRef(({className:e,...t},r)=>s.jsx(eI,{ref:r,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Rr.displayName=eI.displayName;const Xu=u.forwardRef(({className:e,...t},r)=>s.jsx(tI,{ref:r,className:se("aspect-square h-full w-full",e),...t}));Xu.displayName=tI.displayName;const Dr=u.forwardRef(({className:e,...t},r)=>s.jsx(rI,{ref:r,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Dr.displayName=rI.displayName;var ZW="Label",nI=u.forwardRef((e,t)=>s.jsx(Ve.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));nI.displayName=ZW;var sI=nI;const eG=n0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ke=u.forwardRef(({className:e,...t},r)=>s.jsx(sI,{ref:r,className:se(eG(),e),...t}));Ke.displayName=sI.displayName;var hy="focusScope.autoFocusOnMount",my="focusScope.autoFocusOnUnmount",aC={bubbles:!1,cancelable:!0},tG="FocusScope",Sh=u.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=u.useState(null),d=pr(a),f=pr(o),h=u.useRef(null),m=pt(t,x=>c(x)),p=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(n){let x=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?h.current=j:Fo(h.current,{select:!0})},b=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Fo(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Fo(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),v.disconnect()}}},[n,l,p.paused]),u.useEffect(()=>{if(l){iC.add(p);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(hy,aC);l.addEventListener(hy,d),l.dispatchEvent(y),y.defaultPrevented||(rG(iG(aI(l)),{select:!0}),document.activeElement===x&&Fo(l))}return()=>{l.removeEventListener(hy,d),setTimeout(()=>{const y=new CustomEvent(my,aC);l.addEventListener(my,f),l.dispatchEvent(y),y.defaultPrevented||Fo(x??document.body,{select:!0}),l.removeEventListener(my,f),iC.remove(p)},0)}}},[l,d,f,p]);const g=u.useCallback(x=>{if(!r&&!n||p.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(b&&y){const v=x.currentTarget,[w,j]=nG(v);w&&j?!x.shiftKey&&y===j?(x.preventDefault(),r&&Fo(w,{select:!0})):x.shiftKey&&y===w&&(x.preventDefault(),r&&Fo(j,{select:!0})):y===v&&x.preventDefault()}},[r,n,p.paused]);return s.jsx(Ve.div,{tabIndex:-1,...i,ref:m,onKeyDown:g})});Sh.displayName=tG;function rG(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Fo(n,{select:t}),document.activeElement!==r)return}function nG(e){const t=aI(e),r=oC(t,e),n=oC(t.reverse(),e);return[r,n]}function aI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function oC(e,t){for(const r of e)if(!sG(r,{upTo:t}))return r}function sG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aG(e){return e instanceof HTMLInputElement&&"select"in e}function Fo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&aG(e)&&t&&e.select()}}var iC=oG();function oG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=lC(e,t),e.unshift(t)},remove(t){var r;e=lC(e,t),(r=e[0])==null||r.resume()}}}function lC(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function iG(e){return e.filter(t=>t.tagName!=="A")}var py=0;function b0(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cC()),document.body.insertAdjacentElement("beforeend",e[1]??cC()),py++,()=>{py===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),py--}},[])}function cC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ta=function(){return Ta=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ta.apply(this,arguments)};function oI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function lG(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var yp="right-scroll-bar-position",vp="width-before-scroll-bar",cG="with-scroll-bars-hidden",dG="--removed-body-scroll-bar-size";function gy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uG(e,t){var r=u.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var fG=typeof window<"u"?u.useLayoutEffect:u.useEffect,dC=new WeakMap;function hG(e,t){var r=uG(null,function(n){return e.forEach(function(a){return gy(a,n)})});return fG(function(){var n=dC.get(r);if(n){var a=new Set(n),o=new Set(e),i=r.current;a.forEach(function(l){o.has(l)||gy(l,null)}),o.forEach(function(l){a.has(l)||gy(l,i)})}dC.set(r,e)},[e]),r}function mG(e){return e}function pG(e,t){t===void 0&&(t=mG);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var f=i;i=[],f.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){i.push(f),d()},filter:function(f){return i=i.filter(f),r}}}};return a}function gG(e){e===void 0&&(e={});var t=pG(null);return t.options=Ta({async:!0,ssr:!1},e),t}var iI=function(e){var t=e.sideCar,r=oI(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return u.createElement(n,Ta({},r))};iI.isSideCarExport=!0;function xG(e,t){return e.useMedium(t),iI}var lI=gG(),xy=function(){},w0=u.forwardRef(function(e,t){var r=u.useRef(null),n=u.useState({onScrollCapture:xy,onWheelCapture:xy,onTouchMoveCapture:xy}),a=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,g=e.noIsolation,x=e.inert,b=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,w=e.gapMode,j=oI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,S=hG([r,t]),k=Ta(Ta({},j),a);return u.createElement(u.Fragment,null,f&&u.createElement(N,{sideCar:lI,removeScrollBar:d,shards:h,noRelative:p,noIsolation:g,inert:x,setCallbacks:o,allowPinchZoom:!!b,lockRef:r,gapMode:w}),i?u.cloneElement(u.Children.only(l),Ta(Ta({},k),{ref:S})):u.createElement(v,Ta({},k,{className:c,ref:S}),l))});w0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};w0.classNames={fullWidth:vp,zeroRight:yp};var yG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vG(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yG();return t&&e.setAttribute("nonce",t),e}function bG(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function wG(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jG=function(){var e=0,t=null;return{add:function(r){e==0&&(t=vG())&&(bG(t,r),wG(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NG=function(){var e=jG();return function(t,r){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},cI=function(){var e=NG(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},SG={left:0,top:0,right:0,gap:0},yy=function(e){return parseInt(e||"",10)||0},kG=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[yy(r),yy(n),yy(a)]},CG=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SG;var t=kG(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},_G=cI(),Qc="data-scroll-locked",EG=function(e,t,r,n){var a=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(cG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Qc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yp,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(vp,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(yp," .").concat(yp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vp," .").concat(vp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qc,`] {
    `).concat(dG,": ").concat(l,`px;
  }
`)},uC=function(){var e=parseInt(document.body.getAttribute(Qc)||"0",10);return isFinite(e)?e:0},TG=function(){u.useEffect(function(){return document.body.setAttribute(Qc,(uC()+1).toString()),function(){var e=uC()-1;e<=0?document.body.removeAttribute(Qc):document.body.setAttribute(Qc,e.toString())}},[])},PG=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;TG();var o=u.useMemo(function(){return CG(a)},[a]);return u.createElement(_G,{styles:EG(o,!t,a,r?"":"!important")})},Vb=!1;if(typeof window<"u")try{var Pm=Object.defineProperty({},"passive",{get:function(){return Vb=!0,!0}});window.addEventListener("test",Pm,Pm),window.removeEventListener("test",Pm,Pm)}catch{Vb=!1}var ic=Vb?{passive:!1}:!1,MG=function(e){return e.tagName==="TEXTAREA"},dI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!MG(e)&&r[t]==="visible")},IG=function(e){return dI(e,"overflowY")},AG=function(e){return dI(e,"overflowX")},fC=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=uI(e,n);if(a){var o=fI(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},OG=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},RG=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},uI=function(e,t){return e==="v"?IG(t):AG(t)},fI=function(e,t){return e==="v"?OG(t):RG(t)},DG=function(e,t){return e==="h"&&t==="rtl"?-1:1},LG=function(e,t,r,n,a){var o=DG(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),d=!1,f=i>0,h=0,m=0;do{if(!l)break;var p=fI(e,l),g=p[0],x=p[1],b=p[2],y=x-b-o*g;(g||y)&&uI(e,l)&&(h+=y,m+=g);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(d=!0),d},Mm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hC=function(e){return[e.deltaX,e.deltaY]},mC=function(e){return e&&"current"in e?e.current:e},$G=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FG=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zG=0,lc=[];function BG(e){var t=u.useRef([]),r=u.useRef([0,0]),n=u.useRef(),a=u.useState(zG++)[0],o=u.useState(cI)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=lG([e.lockRef.current],(e.shards||[]).map(mC),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var y=Mm(x),v=r.current,w="deltaX"in x?x.deltaX:v[0]-y[0],j="deltaY"in x?x.deltaY:v[1]-y[1],N,S=x.target,k=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in x&&k==="h"&&S.type==="range")return!1;var _=fC(k,S);if(!_)return!0;if(_?N=k:(N=k==="v"?"h":"v",_=fC(k,S)),!_)return!1;if(!n.current&&"changedTouches"in x&&(w||j)&&(n.current=N),!N)return!0;var C=n.current||N;return LG(C,b,x,C==="h"?w:j)},[]),c=u.useCallback(function(x){var b=x;if(!(!lc.length||lc[lc.length-1]!==o)){var y="deltaY"in b?hC(b):Mm(b),v=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&$G(N.delta,y)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var w=(i.current.shards||[]).map(mC).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=w.length>0?l(b,w[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),d=u.useCallback(function(x,b,y,v){var w={name:x,delta:b,target:y,should:v,shadowParent:UG(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),f=u.useCallback(function(x){r.current=Mm(x),n.current=void 0},[]),h=u.useCallback(function(x){d(x.type,hC(x),x.target,l(x,e.lockRef.current))},[]),m=u.useCallback(function(x){d(x.type,Mm(x),x.target,l(x,e.lockRef.current))},[]);u.useEffect(function(){return lc.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ic),document.addEventListener("touchmove",c,ic),document.addEventListener("touchstart",f,ic),function(){lc=lc.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,ic),document.removeEventListener("touchmove",c,ic),document.removeEventListener("touchstart",f,ic)}},[]);var p=e.removeScrollBar,g=e.inert;return u.createElement(u.Fragment,null,g?u.createElement(o,{styles:FG(a)}):null,p?u.createElement(PG,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function UG(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VG=xG(lI,BG);var kh=u.forwardRef(function(e,t){return u.createElement(w0,Ta({},e,{ref:t,sideCar:VG}))});kh.classNames=w0.classNames;var HG=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},cc=new WeakMap,Im=new WeakMap,Am={},vy=0,hI=function(e){return e&&(e.host||hI(e.parentNode))},WG=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=hI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},GG=function(e,t,r,n){var a=WG(t,Array.isArray(e)?e:[e]);Am[r]||(Am[r]=new WeakMap);var o=Am[r],i=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(n),g=p!==null&&p!=="false",x=(cc.get(m)||0)+1,b=(o.get(m)||0)+1;cc.set(m,x),o.set(m,b),i.push(m),x===1&&g&&Im.set(m,!0),b===1&&m.setAttribute(r,"true"),g||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return f(t),l.clear(),vy++,function(){i.forEach(function(h){var m=cc.get(h)-1,p=o.get(h)-1;cc.set(h,m),o.set(h,p),m||(Im.has(h)||h.removeAttribute(n),Im.delete(h)),p||h.removeAttribute(r)}),vy--,vy||(cc=new WeakMap,cc=new WeakMap,Im=new WeakMap,Am={})}},j0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=HG(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),GG(n,a,r,"aria-hidden")):function(){return null}},N0="Dialog",[mI,Vge]=jn(N0),[qG,ga]=mI(N0),pI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=u.useRef(null),c=u.useRef(null),[d,f]=ca({prop:n,defaultProp:a??!1,onChange:o,caller:N0});return s.jsx(qG,{scope:t,triggerRef:l,contentRef:c,contentId:sn(),titleId:sn(),descriptionId:sn(),open:d,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(h=>!h),[f]),modal:i,children:r})};pI.displayName=N0;var gI="DialogTrigger",KG=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ga(gI,r),o=pt(t,a.triggerRef);return s.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":P2(a.open),...n,ref:o,onClick:$e(e.onClick,a.onOpenToggle)})});KG.displayName=gI;var E2="DialogPortal",[YG,xI]=mI(E2,{forceMount:void 0}),yI=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,o=ga(E2,t);return s.jsx(YG,{scope:t,forceMount:r,children:u.Children.map(n,i=>s.jsx(on,{present:r||o.open,children:s.jsx(Dd,{asChild:!0,container:a,children:i})}))})};yI.displayName=E2;var hg="DialogOverlay",vI=u.forwardRef((e,t)=>{const r=xI(hg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=ga(hg,e.__scopeDialog);return o.modal?s.jsx(on,{present:n||o.open,children:s.jsx(QG,{...a,ref:t})}):null});vI.displayName=hg;var XG=ji("DialogOverlay.RemoveScroll"),QG=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ga(hg,r);return s.jsx(kh,{as:XG,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ve.div,{"data-state":P2(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Dl="DialogContent",bI=u.forwardRef((e,t)=>{const r=xI(Dl,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=ga(Dl,e.__scopeDialog);return s.jsx(on,{present:n||o.open,children:o.modal?s.jsx(JG,{...a,ref:t}):s.jsx(ZG,{...a,ref:t})})});bI.displayName=Dl;var JG=u.forwardRef((e,t)=>{const r=ga(Dl,e.__scopeDialog),n=u.useRef(null),a=pt(t,r.contentRef,n);return u.useEffect(()=>{const o=n.current;if(o)return j0(o)},[]),s.jsx(wI,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:$e(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:$e(e.onFocusOutside,o=>o.preventDefault())})}),ZG=u.forwardRef((e,t)=>{const r=ga(Dl,e.__scopeDialog),n=u.useRef(!1),a=u.useRef(!1);return s.jsx(wI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),wI=u.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=ga(Dl,r),c=u.useRef(null),d=pt(t,c);return b0(),s.jsxs(s.Fragment,{children:[s.jsx(Sh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(ql,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":P2(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(eq,{titleId:l.titleId}),s.jsx(rq,{contentRef:c,descriptionId:l.descriptionId})]})]})}),T2="DialogTitle",jI=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ga(T2,r);return s.jsx(Ve.h2,{id:a.titleId,...n,ref:t})});jI.displayName=T2;var NI="DialogDescription",SI=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ga(NI,r);return s.jsx(Ve.p,{id:a.descriptionId,...n,ref:t})});SI.displayName=NI;var kI="DialogClose",CI=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ga(kI,r);return s.jsx(Ve.button,{type:"button",...n,ref:t,onClick:$e(e.onClick,()=>a.onOpenChange(!1))})});CI.displayName=kI;function P2(e){return e?"open":"closed"}var _I="DialogTitleWarning",[Hge,EI]=i9(_I,{contentName:Dl,titleName:T2,docsSlug:"dialog"}),eq=({titleId:e})=>{const t=EI(_I),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},tq="DialogDescriptionWarning",rq=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${EI(tq).contentName}}.`;return u.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},TI=pI,PI=yI,M2=vI,I2=bI,MI=jI,II=SI,nq=CI;const Gd=TI,sq=PI,AI=u.forwardRef(({className:e,...t},r)=>s.jsx(M2,{ref:r,className:se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));AI.displayName=M2.displayName;const Xl=u.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(sq,{children:[s.jsx(AI,{}),s.jsxs(I2,{ref:n,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(nq,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Mt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xl.displayName=I2.displayName;const Ql=({className:e,...t})=>s.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ql.displayName="DialogHeader";const Ch=({className:e,...t})=>s.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ch.displayName="DialogFooter";const Jl=u.forwardRef(({className:e,...t},r)=>s.jsx(MI,{ref:r,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));Jl.displayName=MI.displayName;const A2=u.forwardRef(({className:e,...t},r)=>s.jsx(II,{ref:r,className:se("text-sm text-muted-foreground",e),...t}));A2.displayName=II.displayName;var aq=u.createContext(void 0);function S0(e){const t=u.useContext(aq);return e||t||"ltr"}var by="rovingFocusGroup.onEntryFocus",oq={bubbles:!1,cancelable:!0},_h="RovingFocusGroup",[Hb,OI,iq]=Zg(_h),[lq,RI]=jn(_h,[iq]),[cq,dq]=lq(_h),DI=u.forwardRef((e,t)=>s.jsx(Hb.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Hb.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(uq,{...e,ref:t})})}));DI.displayName=_h;var uq=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=e,m=u.useRef(null),p=pt(t,m),g=S0(o),[x,b]=ca({prop:i,defaultProp:l??null,onChange:c,caller:_h}),[y,v]=u.useState(!1),w=pr(d),j=OI(r),N=u.useRef(!1),[S,k]=u.useState(0);return u.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(by,w),()=>_.removeEventListener(by,w)},[w]),s.jsx(cq,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:x,onItemFocus:u.useCallback(_=>b(_),[b]),onItemShiftTab:u.useCallback(()=>v(!0),[]),onFocusableItemAdd:u.useCallback(()=>k(_=>_+1),[]),onFocusableItemRemove:u.useCallback(()=>k(_=>_-1),[]),children:s.jsx(Ve.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:$e(e.onMouseDown,()=>{N.current=!0}),onFocus:$e(e.onFocus,_=>{const C=!N.current;if(_.target===_.currentTarget&&C&&!y){const E=new CustomEvent(by,oq);if(_.currentTarget.dispatchEvent(E),!E.defaultPrevented){const T=j().filter(le=>le.focusable),A=T.find(le=>le.active),W=T.find(le=>le.id===x),te=[A,W,...T].filter(Boolean).map(le=>le.ref.current);FI(te,f)}}N.current=!1}),onBlur:$e(e.onBlur,()=>v(!1))})})}),LI="RovingFocusGroupItem",$I=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:o,children:i,...l}=e,c=sn(),d=o||c,f=dq(LI,r),h=f.currentTabStopId===d,m=OI(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:x}=f;return u.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),s.jsx(Hb.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(Ve.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:$e(e.onMouseDown,b=>{n?f.onItemFocus(d):b.preventDefault()}),onFocus:$e(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:$e(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=mq(b,f.orientation,f.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=m().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const j=w.indexOf(b.currentTarget);w=f.loop?pq(w,j+1):w.slice(j+1)}setTimeout(()=>FI(w))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:x!=null}):i})})});$I.displayName=LI;var fq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hq(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function mq(e,t,r){const n=hq(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return fq[n]}function FI(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function pq(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var gq=DI,xq=$I,Wb=["Enter"," "],yq=["ArrowDown","PageUp","Home"],zI=["ArrowUp","PageDown","End"],vq=[...yq,...zI],bq={ltr:[...Wb,"ArrowRight"],rtl:[...Wb,"ArrowLeft"]},wq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Eh="Menu",[$f,jq,Nq]=Zg(Eh),[Zl,BI]=jn(Eh,[Nq,Ga,RI]),k0=Ga(),UI=RI(),[Sq,ec]=Zl(Eh),[kq,Th]=Zl(Eh),VI=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:o,modal:i=!0}=e,l=k0(t),[c,d]=u.useState(null),f=u.useRef(!1),h=pr(o),m=S0(a);return u.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(gh,{...l,children:s.jsx(Sq,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(kq,{scope:t,onClose:u.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:i,children:n})})})};VI.displayName=Eh;var Cq="MenuAnchor",O2=u.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=k0(r);return s.jsx(Bd,{...a,...n,ref:t})});O2.displayName=Cq;var R2="MenuPortal",[_q,HI]=Zl(R2,{forceMount:void 0}),WI=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,o=ec(R2,t);return s.jsx(_q,{scope:t,forceMount:r,children:s.jsx(on,{present:r||o.open,children:s.jsx(Dd,{asChild:!0,container:a,children:n})})})};WI.displayName=R2;var As="MenuContent",[Eq,D2]=Zl(As),GI=u.forwardRef((e,t)=>{const r=HI(As,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=ec(As,e.__scopeMenu),i=Th(As,e.__scopeMenu);return s.jsx($f.Provider,{scope:e.__scopeMenu,children:s.jsx(on,{present:n||o.open,children:s.jsx($f.Slot,{scope:e.__scopeMenu,children:i.modal?s.jsx(Tq,{...a,ref:t}):s.jsx(Pq,{...a,ref:t})})})})}),Tq=u.forwardRef((e,t)=>{const r=ec(As,e.__scopeMenu),n=u.useRef(null),a=pt(t,n);return u.useEffect(()=>{const o=n.current;if(o)return j0(o)},[]),s.jsx(L2,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:$e(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Pq=u.forwardRef((e,t)=>{const r=ec(As,e.__scopeMenu);return s.jsx(L2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Mq=ji("MenuContent.ScrollLock"),L2=u.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:g,...x}=e,b=ec(As,r),y=Th(As,r),v=k0(r),w=UI(r),j=jq(r),[N,S]=u.useState(null),k=u.useRef(null),_=pt(t,k,b.onContentChange),C=u.useRef(0),E=u.useRef(""),T=u.useRef(0),A=u.useRef(null),W=u.useRef("right"),P=u.useRef(0),te=g?kh:u.Fragment,le=g?{as:Mq,allowPinchZoom:!0}:void 0,K=I=>{var L,U;const R=E.current+I,q=j().filter($=>!$.disabled),z=document.activeElement,Z=(L=q.find($=>$.ref.current===z))==null?void 0:L.textValue,ce=q.map($=>$.textValue),F=Vq(ce,R,Z),J=(U=q.find($=>$.textValue===F))==null?void 0:U.ref.current;(function $(M){E.current=M,window.clearTimeout(C.current),M!==""&&(C.current=window.setTimeout(()=>$(""),1e3))})(R),J&&setTimeout(()=>J.focus())};u.useEffect(()=>()=>window.clearTimeout(C.current),[]),b0();const D=u.useCallback(I=>{var q,z;return W.current===((q=A.current)==null?void 0:q.side)&&Wq(I,(z=A.current)==null?void 0:z.area)},[]);return s.jsx(Eq,{scope:r,searchRef:E,onItemEnter:u.useCallback(I=>{D(I)&&I.preventDefault()},[D]),onItemLeave:u.useCallback(I=>{var R;D(I)||((R=k.current)==null||R.focus(),S(null))},[D]),onTriggerLeave:u.useCallback(I=>{D(I)&&I.preventDefault()},[D]),pointerGraceTimerRef:T,onPointerGraceIntentChange:u.useCallback(I=>{A.current=I},[]),children:s.jsx(te,{...le,children:s.jsx(Sh,{asChild:!0,trapped:a,onMountAutoFocus:$e(o,I=>{var R;I.preventDefault(),(R=k.current)==null||R.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(ql,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:s.jsx(gq,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:$e(c,I=>{y.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(xh,{role:"menu","aria-orientation":"vertical","data-state":lA(b.open),"data-radix-menu-content":"",dir:y.dir,...v,...x,ref:_,style:{outline:"none",...x.style},onKeyDown:$e(x.onKeyDown,I=>{const q=I.target.closest("[data-radix-menu-content]")===I.currentTarget,z=I.ctrlKey||I.altKey||I.metaKey,Z=I.key.length===1;q&&(I.key==="Tab"&&I.preventDefault(),!z&&Z&&K(I.key));const ce=k.current;if(I.target!==ce||!vq.includes(I.key))return;I.preventDefault();const J=j().filter(L=>!L.disabled).map(L=>L.ref.current);zI.includes(I.key)&&J.reverse(),Bq(J)}),onBlur:$e(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(C.current),E.current="")}),onPointerMove:$e(e.onPointerMove,Ff(I=>{const R=I.target,q=P.current!==I.clientX;if(I.currentTarget.contains(R)&&q){const z=I.clientX>P.current?"right":"left";W.current=z,P.current=I.clientX}}))})})})})})})});GI.displayName=As;var Iq="MenuGroup",$2=u.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ve.div,{role:"group",...n,ref:t})});$2.displayName=Iq;var Aq="MenuLabel",qI=u.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ve.div,{...n,ref:t})});qI.displayName=Aq;var mg="MenuItem",pC="menu.itemSelect",C0=u.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,o=u.useRef(null),i=Th(mg,e.__scopeMenu),l=D2(mg,e.__scopeMenu),c=pt(t,o),d=u.useRef(!1),f=()=>{const h=o.current;if(!r&&h){const m=new CustomEvent(pC,{bubbles:!0,cancelable:!0});h.addEventListener(pC,p=>n==null?void 0:n(p),{once:!0}),e0(h,m),m.defaultPrevented?d.current=!1:i.onClose()}};return s.jsx(KI,{...a,ref:c,disabled:r,onClick:$e(e.onClick,f),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:$e(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:$e(e.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||Wb.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});C0.displayName=mg;var KI=u.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...o}=e,i=D2(mg,r),l=UI(r),c=u.useRef(null),d=pt(t,c),[f,h]=u.useState(!1),[m,p]=u.useState("");return u.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[o.children]),s.jsx($f.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(xq,{asChild:!0,...l,focusable:!n,children:s.jsx(Ve.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:$e(e.onPointerMove,Ff(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$e(e.onPointerLeave,Ff(g=>i.onItemLeave(g))),onFocus:$e(e.onFocus,()=>h(!0)),onBlur:$e(e.onBlur,()=>h(!1))})})})}),Oq="MenuCheckboxItem",YI=u.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(eA,{scope:e.__scopeMenu,checked:r,children:s.jsx(C0,{role:"menuitemcheckbox","aria-checked":pg(r)?"mixed":r,...a,ref:t,"data-state":z2(r),onSelect:$e(a.onSelect,()=>n==null?void 0:n(pg(r)?!0:!r),{checkForDefaultPrevented:!1})})})});YI.displayName=Oq;var XI="MenuRadioGroup",[Rq,Dq]=Zl(XI,{value:void 0,onValueChange:()=>{}}),QI=u.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,o=pr(n);return s.jsx(Rq,{scope:e.__scopeMenu,value:r,onValueChange:o,children:s.jsx($2,{...a,ref:t})})});QI.displayName=XI;var JI="MenuRadioItem",ZI=u.forwardRef((e,t)=>{const{value:r,...n}=e,a=Dq(JI,e.__scopeMenu),o=r===a.value;return s.jsx(eA,{scope:e.__scopeMenu,checked:o,children:s.jsx(C0,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":z2(o),onSelect:$e(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});ZI.displayName=JI;var F2="MenuItemIndicator",[eA,Lq]=Zl(F2,{checked:!1}),tA=u.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,o=Lq(F2,r);return s.jsx(on,{present:n||pg(o.checked)||o.checked===!0,children:s.jsx(Ve.span,{...a,ref:t,"data-state":z2(o.checked)})})});tA.displayName=F2;var $q="MenuSeparator",rA=u.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});rA.displayName=$q;var Fq="MenuArrow",nA=u.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=k0(r);return s.jsx(yh,{...a,...n,ref:t})});nA.displayName=Fq;var zq="MenuSub",[Wge,sA]=Zl(zq),Iu="MenuSubTrigger",aA=u.forwardRef((e,t)=>{const r=ec(Iu,e.__scopeMenu),n=Th(Iu,e.__scopeMenu),a=sA(Iu,e.__scopeMenu),o=D2(Iu,e.__scopeMenu),i=u.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:e.__scopeMenu},f=u.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return u.useEffect(()=>f,[f]),u.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(O2,{asChild:!0,...d,children:s.jsx(KI,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":lA(r.open),...e,ref:xo(t,a.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:$e(e.onPointerMove,Ff(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:$e(e.onPointerLeave,Ff(h=>{var p,g;f();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const x=(g=r.content)==null?void 0:g.dataset.side,b=x==="right",y=b?-5:5,v=m[b?"left":"right"],w=m[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:v,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:v,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:$e(e.onKeyDown,h=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&h.key===" "||bq[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});aA.displayName=Iu;var oA="MenuSubContent",iA=u.forwardRef((e,t)=>{const r=HI(As,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=ec(As,e.__scopeMenu),i=Th(As,e.__scopeMenu),l=sA(oA,e.__scopeMenu),c=u.useRef(null),d=pt(t,c);return s.jsx($f.Provider,{scope:e.__scopeMenu,children:s.jsx(on,{present:n||o.open,children:s.jsx($f.Slot,{scope:e.__scopeMenu,children:s.jsx(L2,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:$e(e.onFocusOutside,f=>{f.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:$e(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:$e(e.onKeyDown,f=>{var p;const h=f.currentTarget.contains(f.target),m=wq[i.dir].includes(f.key);h&&m&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});iA.displayName=oA;function lA(e){return e?"open":"closed"}function pg(e){return e==="indeterminate"}function z2(e){return pg(e)?"indeterminate":e?"checked":"unchecked"}function Bq(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Uq(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Vq(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=Uq(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Hq(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],d=l.x,f=l.y,h=c.x,m=c.y;f>n!=m>n&&r<(h-d)*(n-f)/(m-f)+d&&(a=!a)}return a}function Wq(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Hq(r,t)}function Ff(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Gq=VI,qq=O2,Kq=WI,Yq=GI,Xq=$2,Qq=qI,Jq=C0,Zq=YI,eK=QI,tK=ZI,rK=tA,nK=rA,sK=nA,aK=aA,oK=iA,_0="DropdownMenu",[iK,Gge]=jn(_0,[BI]),Dn=BI(),[lK,cA]=iK(_0),dA=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=Dn(t),d=u.useRef(null),[f,h]=ca({prop:a,defaultProp:o??!1,onChange:i,caller:_0});return s.jsx(lK,{scope:t,triggerId:sn(),triggerRef:d,contentId:sn(),open:f,onOpenChange:h,onOpenToggle:u.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(Gq,{...c,open:f,onOpenChange:h,dir:n,modal:l,children:r})})};dA.displayName=_0;var uA="DropdownMenuTrigger",fA=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,o=cA(uA,r),i=Dn(r);return s.jsx(qq,{asChild:!0,...i,children:s.jsx(Ve.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:xo(t,o.triggerRef),onPointerDown:$e(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:$e(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});fA.displayName=uA;var cK="DropdownMenuPortal",hA=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Dn(t);return s.jsx(Kq,{...n,...r})};hA.displayName=cK;var mA="DropdownMenuContent",pA=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=cA(mA,r),o=Dn(r),i=u.useRef(!1);return s.jsx(Yq,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:$e(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:$e(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!a.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pA.displayName=mA;var dK="DropdownMenuGroup",uK=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Dn(r);return s.jsx(Xq,{...a,...n,ref:t})});uK.displayName=dK;var fK="DropdownMenuLabel",gA=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Dn(r);return s.jsx(Qq,{...a,...n,ref:t})});gA.displayName=fK;var hK="DropdownMenuItem",xA=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Dn(r);return s.jsx(Jq,{...a,...n,ref:t})});xA.displayName=hK;var mK="DropdownMenuCheckboxItem",yA=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Dn(r);return s.jsx(Zq,{...a,...n,ref:t})});yA.displayName=mK;var pK="DropdownMenuRadioGroup",gK=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Dn(r);return s.jsx(eK,{...a,...n,ref:t})});gK.displayName=pK;var xK="DropdownMenuRadioItem",vA=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Dn(r);return s.jsx(tK,{...a,...n,ref:t})});vA.displayName=xK;var yK="DropdownMenuItemIndicator",bA=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Dn(r);return s.jsx(rK,{...a,...n,ref:t})});bA.displayName=yK;var vK="DropdownMenuSeparator",wA=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Dn(r);return s.jsx(nK,{...a,...n,ref:t})});wA.displayName=vK;var bK="DropdownMenuArrow",wK=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Dn(r);return s.jsx(sK,{...a,...n,ref:t})});wK.displayName=bK;var jK="DropdownMenuSubTrigger",jA=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Dn(r);return s.jsx(aK,{...a,...n,ref:t})});jA.displayName=jK;var NK="DropdownMenuSubContent",NA=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Dn(r);return s.jsx(oK,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NA.displayName=NK;var SK=dA,kK=fA,CK=hA,SA=pA,kA=gA,CA=xA,_A=yA,EA=vA,TA=bA,PA=wA,MA=jA,IA=NA;const B2=SK,U2=kK,_K=u.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(MA,{ref:a,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(In,{className:"ml-auto h-4 w-4"})]}));_K.displayName=MA.displayName;const EK=u.forwardRef(({className:e,...t},r)=>s.jsx(IA,{ref:r,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));EK.displayName=IA.displayName;const E0=u.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(CK,{children:s.jsx(SA,{ref:n,sideOffset:t,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));E0.displayName=SA.displayName;const ks=u.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(CA,{ref:n,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));ks.displayName=CA.displayName;const TK=u.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(_A,{ref:a,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(TA,{children:s.jsx(tr,{className:"h-4 w-4"})})}),t]}));TK.displayName=_A.displayName;const PK=u.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(EA,{ref:n,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(TA,{children:s.jsx(XP,{className:"h-2 w-2 fill-current"})})}),t]}));PK.displayName=EA.displayName;const T0=u.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(kA,{ref:n,className:se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));T0.displayName=kA.displayName;const zf=u.forwardRef(({className:e,...t},r)=>s.jsx(PA,{ref:r,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));zf.displayName=PA.displayName;const MK=["synergy_user","synergy_tester","synergy_admin"];function IK(){try{for(const e of MK)localStorage.removeItem(e);for(let e=localStorage.length-1;e>=0;e--){const t=localStorage.key(e);t&&(t.startsWith("synergy_")||t.startsWith("auth_"))&&localStorage.removeItem(t)}}catch{}}function AK(e="/login"){IK(),window.location.assign(e)}const uo={},P0={EBAY_US:"en-US",EBAY_GB:"en-GB",EBAY_AU:"en-AU",EBAY_DE:"de-DE",EBAY_FR:"fr-FR",EBAY_IT:"it-IT",EBAY_ES:"es-ES",EBAY_CA:"en-CA",EBAY_CA_FR:"fr-CA"},ha="EBAY_US",Wi="/backend".replace(/\/+$/,"")||"/backend",ms=Wi,OK=uo!=null&&uo.VITE_SCRAPER_URL?String(void 0).replace(/\/+$/,""):"",V2=String(Wi).replace(/\/+$/,"");function RK(e){const t=String(e).trim();return/^https?:\/\//i.test(t)?t.replace(/\/+$/,""):t.startsWith("/")?t.replace(/\/+$/,""):`${Wi.replace(/\/+$/,"")}/${t.replace(/^\/+/,"")}`.replace(/\/+$/,"")}const DK="/backend/ebay",lo=RK(DK),H2=(uo==null?void 0:uo.VITE_EBAY_CATEGORY_TREE_ID)||"0",M0="v^1.1";function LK(e,t){return t.startsWith("/")||(t="/"+t),e+t}async function $K(e,t){const r=LK(Wi,e),n=await fetch(r,{credentials:"include",...t,headers:{Accept:"application/json",...(t==null?void 0:t.headers)||{}}});if(!n.ok){const a=await n.text().catch(()=>"");throw new Error(`${n.status} ${n.statusText} :: ${r} :: ${a.slice(0,400)}`)}if(n.status!==204)return n.json()}typeof window<"u"&&(console.log("[Manager] API_BASE =",Wi),console.log("[Manager] EBAY_BASE =",lo));async function ps(e,t={}){const r=new AbortController,n=setTimeout(()=>r.abort(),t.timeoutMs??12e3);try{const a=await fetch(e,{...t,signal:r.signal});if(!a.ok){const i=await a.text().catch(()=>"");throw new Error(`HTTP ${a.status} on ${e}${i?`  ${i.slice(0,160)}`:""}`)}return(a.headers.get("content-type")||"").includes("application/json")?await a.json():await a.text()}finally{clearTimeout(n)}}async function Xn(e,t,r){const n=/^https?:\/\//i.test(lo)?lo.replace(/\/+$/,""):`${location.origin}${lo.startsWith("/")?"":"/"}${lo}`.replace(/\/+$/,""),a=String(e||"").replace(/^\/+/,""),o=new URL(a,n.endsWith("/")?n:n+"/");if(t)for(const[d,f]of Object.entries(t))f!=null&&o.searchParams.set(d,String(f));const i={"Content-Type":"application/json","X-EBAY-C-MARKETPLACE-ID":ha,Accept:"application/json"};i.Authorization=`Bearer ${M0}`;const l=await fetch(o.toString(),{method:"GET",credentials:"include",headers:{...i},body:r==null?void 0:r.body});if(!l.ok){const d=await l.text().catch(()=>"");throw new Error(`eBay API ${l.status} ${l.statusText} at ${o.pathname}
${d||""}`)}return(l.headers.get("content-type")||"").includes("application/json")?await l.json():await l.text()}async function FK(){return ps(`${ms}/categories`,{timeoutMs:8e3})}async function zK(e){return ps(`${ms}/categories`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async function BK(e,t){return ps(`${ms}/categories/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}async function UK(e){await ps(`${ms}/categories/${e}`,{method:"DELETE"})}async function VK(){return(await ps(`${ms}/rows`,{timeoutMs:15e3})).map(t=>({...t,ebayItemUrl:t.ebayItemUrl??t.ebay_item_url??null}))}let bp=null,Gb=null,dc=null;function HK(e){return new Promise((t,r)=>{Gb={rows:e,resolve:t,reject:r},bp!==null&&window.clearTimeout(bp),bp=window.setTimeout(GK,350)})}async function WK(e,t={}){const r=OK||ms,n=new URL(`${r}/sold_avg`);return n.searchParams.set("row",JSON.stringify(e)),n.searchParams.set("limit",String(t.limit??60)),(await fetch(n.toString(),{method:"GET"})).json()}async function GK(){bp=null;const e=Gb;if(Gb=null,!e)return;if(dc){try{dc.abort()}catch{}dc=null}const t=JSON.stringify(e.rows);dc=new AbortController;try{await ps(`${ms}/rows`,{method:"PUT",headers:{"Content-Type":"application/json"},body:t,signal:dc.signal,timeoutMs:Math.min(32e3,Math.max(12e3,Math.ceil(t.length/25e4)*4e3))}),e.resolve()}catch(r){if((r==null?void 0:r.name)==="AbortError"){e.resolve();return}try{await new Promise(n=>setTimeout(n,700)),await ps(`${ms}/rows`,{method:"PUT",headers:{"Content-Type":"application/json"},body:t,timeoutMs:2e4}),e.resolve()}catch{e.reject(r)}}finally{dc=null}}async function AA(e,t){const r={...t};return t.hasOwnProperty("ebayItemUrl")&&(r.ebay_item_url=t.ebayItemUrl),ps(`${ms}/rows/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}async function qK(e){const t=`${ms}/rows/${encodeURIComponent(e)}`,r=await fetch(t,{method:"DELETE"});if(!r.ok){const n=await r.text().catch(()=>"");throw new Error(`HTTP ${r.status} on ${t}${n?`  ${n.slice(0,200)}`:""}`)}}async function KK(){try{return await ps(`${ms}/health`,{timeoutMs:4e3})}catch{return{ok:!1}}}async function YK(e){return ps(`${V2}/prefix/${encodeURIComponent(e)}/peek`,{timeoutMs:8e3})}async function XK(e){return ps(`${V2}/prefix/${encodeURIComponent(e)}/take`,{method:"POST"})}async function QK(e,t){await ps(`${V2}/prefix/${encodeURIComponent(e)}/set`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({next:t})})}var YE;const OA=((YE=uo==null?void 0:uo.VITE_DIRECTUS_URL)==null?void 0:YE.replace(/\/+$/,""))||ms;async function W2(e,t={}){const r=new URLSearchParams({q:e,limit:String(t.limit??100),priceCurrency:t.currency??"USD",filter:[t.fixed??!0?"buyingOptions:{FIXED_PRICE}":"",t.condition?`conditions:{${t.condition}}`:""].filter(Boolean).join(",")}),n=await fetch(`${Wi}/browse_avg?${r.toString()}`);if(!n.ok)throw new Error(`browse_avg failed: ${n.status}`);return n.json()}function JK(e){return Xn("/buy/browse/v1/item_summary/search",e)}function RA(e){return Xn("/buy/marketplace_insights/v1_beta/item_sales/search",e)}const ZK=RA;async function DA(e){return Xn(`/commerce/taxonomy/v1/category_tree/${encodeURIComponent(H2)}/get_category_suggestions`,{q:e||""})}function eY(e){const t=e.treeId??H2;return Xn(`/commerce/taxonomy/v1/category_tree/${encodeURIComponent(t)}/item_aspects/category/${encodeURIComponent(e.categoryId)}`)}function tY(e){return Xn("/sell/compliance/v1/listing_violation",e)}async function gg(e=ha){const[t,r,n]=await Promise.all([Xn("/sell/account/v1/payment_policy",{marketplace_id:e}),Xn("/sell/account/v1/fulfillment_policy",{marketplace_id:e}),Xn("/sell/account/v1/return_policy",{marketplace_id:e})]),a=(t==null?void 0:t.paymentPolicies)??(t==null?void 0:t.policies)??t??[],o=(r==null?void 0:r.fulfillmentPolicies)??(r==null?void 0:r.policies)??r??[],i=(n==null?void 0:n.returnPolicies)??(n==null?void 0:n.policies)??n??[];return{payment:a,fulfillment:o,return:i}}const gC=()=>gg(ha);function rY(e){const t={};if(!e)return t;for(const[r,n]of Object.entries(e))n==null||n===""||(Array.isArray(n)?t[r]=n.map(String):t[r]=[String(n)]);return t}async function LA(e,t){const r=P0[ha],n=await fetch(`${lo}/sell/inventory/v1/offer/${encodeURIComponent(e)}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json","Content-Language":r,"Accept-Language":r,"X-EBAY-C-MARKETPLACE-ID":ha},body:JSON.stringify(t)});if(!n.ok){const a=await n.text().catch(()=>"");throw new Error(`eBay API ${n.status} ${n.statusText} at ${n.url} ${a}`)}return n.json().catch(()=>({}))}async function G2(e,t){const r=P0[ha],n=encodeURIComponent(e),a=t&&t.product?{...t,product:{...t.product,aspects:rY(t.product.aspects)}}:t,o={"Content-Type":"application/json","Content-Language":r,"Accept-Language":r,"X-EBAY-C-MARKETPLACE-ID":ha,Accept:"application/json"};o.Authorization=`Bearer ${M0}`;const i=await fetch(`${lo}/sell/inventory/v1/inventory_item/${n}`,{method:"PUT",headers:o,body:JSON.stringify(a)});if(!i.ok){const l=await i.text().catch(()=>"");throw new Error(`eBay API ${i.status} ${i.statusText} at ${i.url} ${l}`)}return i.json().catch(()=>({}))}async function $A(e){const t=P0[ha],r={"Content-Type":"application/json","Content-Language":t,"Accept-Language":t,"X-EBAY-C-MARKETPLACE-ID":ha,Accept:"application/json"};r.Authorization=`Bearer ${M0}`;const n=await fetch(`${lo}/sell/inventory/v1/offer`,{method:"POST",credentials:"include",headers:r,body:JSON.stringify(e)});if(!n.ok){const a=await n.text().catch(()=>"");throw new Error(`eBay API ${n.status} ${n.statusText} at ${n.url} ${a}`)}return n.json().catch(()=>({}))}async function FA(e){const t=P0[ha],r={"Content-Language":t,"Accept-Language":t,"X-EBAY-C-MARKETPLACE-ID":ha,Accept:"application/json"};r.Authorization=`Bearer ${M0}`;const n=await fetch(`${lo}/sell/inventory/v1/offer/${encodeURIComponent(e)}/publish`,{method:"POST",credentials:"include",headers:r});if(!n.ok){const a=await n.text().catch(()=>"");throw new Error(`eBay API ${n.status} ${n.statusText} at ${n.url} ${a}`)}return n.json().catch(()=>({}))}function q2(e){return Xn(`/buy/browse/v1/item/${encodeURIComponent(e)}`)}function Rc(e){return Xn("/buy/browse/v1/item/get_item_by_legacy_id",{legacy_item_id:e})}async function nY(e){const t=(e||"").trim(),r=t.includes("|"),n=/^\d{12,15}$/.test(t);if(r)return q2(t);if(n)return Rc(t);try{const a=new URL(t),o=a.pathname.split("/").filter(Boolean),i=o[o.length-1]||"";if(/^\d{12,15}$/.test(i))return Rc(i);const l=a.searchParams.get("item")||a.searchParams.get("itm")||a.searchParams.get("itemid")||"";if(/^\d{12,15}$/.test(l))return Rc(l)}catch{}return Rc(t)}async function zA(e){return Xn(`/commerce/taxonomy/v1/category_tree/${encodeURIComponent(H2)}/item_aspects/category/${encodeURIComponent(e)}`)}function qb(e){return Xn("/sell/inventory/v1/offer",{sku:e})}function BA(e){return Xn("/sell/inventory/v1/location",{limit:(e==null?void 0:e.limit)??200,offset:e==null?void 0:e.offset})}function I0(e){const{marketplaceId:t,categoryId:r}=e;return Xn(`/sell/metadata/v1/marketplace/${encodeURIComponent(t)}/get_item_condition_policies`,{category_id:r})}function sY(e){return`${OA.replace(/\/+$/,"")}/assets/${e}`}const aY=G2;async function oY(e){try{const t=await ps(`${Wi}/rows/search_posted`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t&&typeof t.ebayItemUrl=="string"?t.ebayItemUrl:null}catch(t){return console.error("Failed to check for existing eBay listing:",t),null}}const iY={BASE:ms,getCategories:FK,createCategory:zK,updateCategory:BK,deleteCategory:UK,getRows:VK,saveRows:HK,patchRow:AA,deleteRow:qK,health:KK,peekPrefix:YK,takePrefix:XK,setNext:QK,getBrowseAvg:W2,getSoldAvg:WK,getBrowse:JK,getSoldInsights:RA,getSold:ZK,getCategorySuggestions:DA,getItemAspectsForCategory:eY,getAspects:zA,getListingViolations:tY,getPoliciesByMarketplace:gg,upsertInventoryItem:G2,upsertItem:aY,createOffer:$A,publishOffer:FA,ebayGetItemById:q2,ebayGetItemByLegacyId:Rc,ebayGetItemAuto:nY,getInventoryLocations:BA,getOffersBySku:qb,getItemConditionPolicies:I0,updateOffer:LA,getExistingEbayListingLink:oY,DIRECTUS_BASE:OA,getDirectusFileUrl:sY};let gu=null;async function Ph(e,t){const r=String(Wi).replace(/\/+$/,""),n=e.startsWith("/")?r+e:r+"/"+e;gu={method:(t==null?void 0:t.method)||"GET",url:n};try{const a=await $K(e,t);return gu={...gu,status:200},a}catch(a){throw gu={...gu,error:(a==null?void 0:a.message)||String(a)},a}}async function lY(e={}){const t=new URLSearchParams;e.role&&t.set("role",e.role),e.active!==!1&&t.set("active","true");const r=t.toString(),n=`/auth/users${r?`?${r}`:""}`;return Ph(n)}async function cY(e,t){return Ph("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Number(e),password:t})})}async function dY(e,t){return Ph(`/auth/users/${e}/password`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})})}async function uY(e,t){return Ph(`/auth/users/${e}/avatar`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({avatar_url:t})})}async function fY(e,t){return Ph(`/auth/users/${e}/sku-number`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({next_number:t})})}function K2({user:e,onUpdate:t,logoutPath:r}){const[n,a]=u.useState(!1),[o,i]=u.useState(""),[l,c]=u.useState(""),[d,f]=u.useState(!1),[h,m]=u.useState(null),p=u.useRef(null),[g,x]=u.useState(e.sku_next_number!=null?String(e.sku_next_number):""),[b,y]=u.useState(!1);u.useEffect(()=>{x(e.sku_next_number!=null?String(e.sku_next_number):"")},[e.sku_next_number]),u.useEffect(()=>{n&&e.id&&(async()=>{try{const C=await fetch(`/backend/auth/users/${e.id}`);if(C.ok){const E=await C.json();E&&E.sku_next_number!==e.sku_next_number&&t({...e,...E})}}catch(_){console.warn("Failed to refresh user data on modal open",_)}})()},[n,e.id]);const v=(e.name||"?").split(" ").map(k=>k[0]).slice(0,2).join("").toUpperCase(),w=async()=>{if(m(null),o!==l){m("Passwords do not match.");return}try{await dY(e.id,o||null),a(!1),i(""),c("")}catch(k){m(k.message||"Failed to update password.")}},j=async()=>{m(null);const k=g.trim(),_=Number(k);if(!k||Number.isNaN(_)||_<1){m("Please enter a valid SKU number (1 or higher).");return}try{y(!0);const C=await fY(e.id,_),E={...e,sku_next_number:C.next_number};t(E)}catch(C){m((C==null?void 0:C.message)||"Failed to update SKU number.")}finally{y(!1)}},N=async k=>{const _="dfkynhljk",C="synergy_chat_avatars",E=new FormData;E.append("file",k),E.append("upload_preset",C);const T=await fetch(`https://api.cloudinary.com/v1_1/${_}/image/upload`,{method:"POST",body:E});if(!T.ok)throw new Error("Cloudinary upload failed.");return(await T.json()).secure_url},S=async k=>{var C;const _=(C=k.target.files)==null?void 0:C[0];if(_)try{const E=await N(_),{avatar_url:T}=await uY(e.id,E),A={...e,avatar_url:T};t(A)}catch(E){m(E.message||"Upload failed")}};return s.jsxs(s.Fragment,{children:[s.jsxs(B2,{children:[s.jsx(U2,{asChild:!0,children:s.jsxs(V,{variant:"outline",size:"sm",className:"h-9 px-2 gap-2",title:e.name,children:[s.jsx(Rr,{className:"h-6 w-6",children:e.avatar_url?s.jsx("img",{src:e.avatar_url,alt:e.name,className:"h-full w-full object-cover"}):s.jsx(Dr,{className:"text-[11px]",children:v})}),s.jsx("span",{className:"hidden sm:inline text-sm max-w-[140px] truncate",children:e.name}),s.jsx(Ls,{className:"h-4 w-4 opacity-70"})]})}),s.jsxs(E0,{align:"end",className:"w-56",children:[s.jsxs(T0,{className:"flex items-center gap-2",children:[s.jsx(hF,{className:"h-4 w-4 opacity-70"}),e.name]}),s.jsx(zf,{}),s.jsxs(ks,{className:"cursor-pointer",onClick:()=>a(!0),children:[s.jsx(vo,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profile Settings"})]}),s.jsxs(ks,{className:"cursor-pointer",onClick:()=>window.location.href="/",children:[s.jsx(P7,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Go to Hub"})]}),s.jsxs(ks,{className:"cursor-pointer",onClick:()=>AK(r),children:[s.jsx(ZP,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]}),s.jsx(Gd,{open:n,onOpenChange:a,children:s.jsxs(Xl,{className:"sm:max-w-[750px] max-h-[90vh] overflow-y-auto",children:[s.jsx(Ql,{children:s.jsx(Jl,{children:"Profile Settings"})}),s.jsxs("div",{className:"py-4 grid grid-cols-1 md:grid-cols-[220px_1fr] gap-8",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4 pt-2",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(Rr,{className:"h-32 w-32 text-4xl shadow-sm border",children:e.avatar_url?s.jsx("img",{src:e.avatar_url,alt:e.name,className:"h-full w-full object-cover"}):s.jsx(Dr,{children:v})}),s.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=p.current)==null?void 0:k.click()},children:s.jsx(Vw,{className:"text-white h-8 w-8"})}),s.jsx("input",{type:"file",ref:p,onChange:S,accept:"image/*",style:{display:"none"}})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your account details and preferences."})]})]}),s.jsxs("div",{className:"space-y-6 border-t md:border-t-0 md:border-l md:pl-8 pt-6 md:pt-0",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm flex items-center gap-2",children:"Account Security"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(we,{id:"password",type:d?"text":"password",value:o,onChange:k=>i(k.target.value),placeholder:"Leave blank to keep current"}),s.jsx("button",{type:"button",onClick:()=>f(k=>!k),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:d?s.jsx(h7,{size:16}):s.jsx(m7,{size:16})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsx(we,{id:"confirm-password",type:d?"text":"password",value:l,onChange:k=>c(k.target.value),placeholder:"Confirm new password"})]})]}),h&&s.jsx("p",{className:"text-sm text-destructive",children:h})]}),s.jsx("div",{className:"h-px bg-border"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h3",{className:"font-semibold text-sm",children:"SKU Configuration"})}),s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ke,{htmlFor:"sku-number",children:"Next Number"}),s.jsx(we,{id:"sku-number",type:"number",min:1,value:g,onChange:k=>x(k.target.value),placeholder:"500"})]}),s.jsx(V,{size:"sm",variant:"secondary",onClick:j,disabled:b,className:"mb-0.5",children:b?"Saving...":"Update SKU"})]}),s.jsxs("p",{className:"text-[11px] text-muted-foreground leading-tight",children:["Increments automatically when you link an eBay URL. Used to generate SKUs like ",s.jsxs("strong",{children:["TH ",g||"#","..."]})]})]})]})]}),s.jsxs(Ch,{className:"sm:justify-between sm:items-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground hidden sm:block",children:"Changes to profile picture are saved automatically."}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(V,{variant:"outline",onClick:()=>a(!1),children:"Close"}),s.jsx(V,{onClick:w,children:"Save Password"})]})]})]})})]})}function Kb(e,[t,r]){return Math.min(r,Math.max(t,e))}function hY(e,t){return u.useReducer((r,n)=>t[r][n]??r,e)}var Y2="ScrollArea",[UA,qge]=jn(Y2),[mY,zs]=UA(Y2),VA=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,c]=u.useState(null),[d,f]=u.useState(null),[h,m]=u.useState(null),[p,g]=u.useState(null),[x,b]=u.useState(null),[y,v]=u.useState(0),[w,j]=u.useState(0),[N,S]=u.useState(!1),[k,_]=u.useState(!1),C=pt(t,T=>c(T)),E=S0(a);return s.jsx(mY,{scope:r,type:n,dir:E,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:f,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:_,onCornerWidthChange:v,onCornerHeightChange:j,children:s.jsx(Ve.div,{dir:E,...i,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});VA.displayName=Y2;var HA="ScrollAreaViewport",WA=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...o}=e,i=zs(HA,r),l=u.useRef(null),c=pt(t,l,i.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});WA.displayName=HA;var Ka="ScrollAreaScrollbar",X2=u.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=zs(Ka,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return u.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?s.jsx(pY,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(gY,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(GA,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(Q2,{...n,ref:t}):null});X2.displayName=Ka;var pY=u.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=zs(Ka,e.__scopeScrollArea),[o,i]=u.useState(!1);return u.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},f=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(on,{present:r||o,children:s.jsx(GA,{"data-state":o?"visible":"hidden",...n,ref:t})})}),gY=u.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=zs(Ka,e.__scopeScrollArea),o=e.orientation==="horizontal",i=O0(()=>c("SCROLL_END"),100),[l,c]=hY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return u.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),u.useEffect(()=>{const d=a.viewport,f=o?"scrollLeft":"scrollTop";if(d){let h=d[f];const m=()=>{const p=d[f];h!==p&&(c("SCROLL"),i()),h=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,o,c,i]),s.jsx(on,{present:r||l!=="hidden",children:s.jsx(Q2,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:$e(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:$e(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),GA=u.forwardRef((e,t)=>{const r=zs(Ka,e.__scopeScrollArea),{forceMount:n,...a}=e,[o,i]=u.useState(!1),l=e.orientation==="horizontal",c=O0(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?d:f)}},10);return Cd(r.viewport,c),Cd(r.content,c),s.jsx(on,{present:n||o,children:s.jsx(Q2,{"data-state":o?"visible":"hidden",...a,ref:t})})}),Q2=u.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=zs(Ka,e.__scopeScrollArea),o=u.useRef(null),i=u.useRef(0),[l,c]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=QA(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,p){return jY(m,i.current,l,p)}return r==="horizontal"?s.jsx(xY,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const m=a.viewport.scrollLeft,p=xC(m,l,a.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,a.dir))}}):r==="vertical"?s.jsx(yY,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const m=a.viewport.scrollTop,p=xC(m,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}}):null}),xY=u.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,o=zs(Ka,e.__scopeScrollArea),[i,l]=u.useState(),c=u.useRef(null),d=pt(t,c,o.onScrollbarXChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(KA,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":A0(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(o.viewport){const m=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),ZA(m,h)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:yg(i.paddingLeft),paddingEnd:yg(i.paddingRight)}})}})}),yY=u.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,o=zs(Ka,e.__scopeScrollArea),[i,l]=u.useState(),c=u.useRef(null),d=pt(t,c,o.onScrollbarYChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(KA,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":A0(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(o.viewport){const m=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),ZA(m,h)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:yg(i.paddingTop),paddingEnd:yg(i.paddingBottom)}})}})}),[vY,qA]=UA(Ka),KA=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:f,onResize:h,...m}=e,p=zs(Ka,r),[g,x]=u.useState(null),b=pt(t,C=>x(C)),y=u.useRef(null),v=u.useRef(""),w=p.viewport,j=n.content-n.viewport,N=pr(f),S=pr(c),k=O0(h,10);function _(C){if(y.current){const E=C.clientX-y.current.left,T=C.clientY-y.current.top;d({x:E,y:T})}}return u.useEffect(()=>{const C=E=>{const T=E.target;(g==null?void 0:g.contains(T))&&N(E,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,j,N]),u.useEffect(S,[n,S]),Cd(g,k),Cd(p.content,k),s.jsx(vY,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:pr(o),onThumbPointerUp:pr(i),onThumbPositionChange:S,onThumbPointerDown:pr(l),children:s.jsx(Ve.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:$e(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),_(C))}),onPointerMove:$e(e.onPointerMove,_),onPointerUp:$e(e.onPointerUp,C=>{const E=C.target;E.hasPointerCapture(C.pointerId)&&E.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),xg="ScrollAreaThumb",YA=u.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=qA(xg,e.__scopeScrollArea);return s.jsx(on,{present:r||a.hasThumb,children:s.jsx(bY,{ref:t,...n})})}),bY=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,o=zs(xg,r),i=qA(xg,r),{onThumbPositionChange:l}=i,c=pt(t,h=>i.onThumbChange(h)),d=u.useRef(void 0),f=O0(()=>{d.current&&(d.current(),d.current=void 0)},100);return u.useEffect(()=>{const h=o.viewport;if(h){const m=()=>{if(f(),!d.current){const p=NY(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[o.viewport,f,l]),s.jsx(Ve.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:$e(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,x=h.clientY-p.top;i.onThumbPointerDown({x:g,y:x})}),onPointerUp:$e(e.onPointerUp,i.onThumbPointerUp)})});YA.displayName=xg;var J2="ScrollAreaCorner",XA=u.forwardRef((e,t)=>{const r=zs(J2,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(wY,{...e,ref:t}):null});XA.displayName=J2;var wY=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=zs(J2,r),[o,i]=u.useState(0),[l,c]=u.useState(0),d=!!(o&&l);return Cd(a.scrollbarX,()=>{var h;const f=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(f),c(f)}),Cd(a.scrollbarY,()=>{var h;const f=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(f),i(f)}),d?s.jsx(Ve.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function yg(e){return e?parseInt(e,10):0}function QA(e,t){const r=e/t;return isNaN(r)?0:r}function A0(e){const t=QA(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function jY(e,t,r,n="ltr"){const a=A0(r),o=a/2,i=t||o,l=a-i,c=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,h=n==="ltr"?[0,f]:[f*-1,0];return JA([c,d],h)(e)}function xC(e,t,r="ltr"){const n=A0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],d=Kb(e,c);return JA([0,i],[0,l])(d)}function JA(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function ZA(e,t){return e>0&&e<t}var NY=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function O0(e,t){const r=pr(e),n=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),u.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Cd(e,t){const r=pr(t);Nr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var eO=VA,SY=WA,kY=XA;const Au=u.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(eO,{ref:n,className:se("relative overflow-hidden",e),...r,children:[s.jsx(SY,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(tO,{}),s.jsx(kY,{})]}));Au.displayName=eO.displayName;const tO=u.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(X2,{ref:n,orientation:t,className:se("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(YA,{className:"relative flex-1 rounded-full bg-border"})}));tO.displayName=X2.displayName;const Z2=u.createContext({});function ej(e){const t=u.useRef(null);return t.current===null&&(t.current=e()),t.current}const tj=typeof window<"u",rO=tj?u.useLayoutEffect:u.useEffect,R0=u.createContext(null);function rj(e,t){e.indexOf(t)===-1&&e.push(t)}function nj(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const No=(e,t,r)=>r>t?t:r<e?e:r;let sj=()=>{};const So={},nO=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function sO(e){return typeof e=="object"&&e!==null}const aO=e=>/^0[^.\s]+$/u.test(e);function aj(e){let t;return()=>(t===void 0&&(t=e()),t)}const Os=e=>e,CY=(e,t)=>r=>t(e(r)),Mh=(...e)=>e.reduce(CY),Bf=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class oj{constructor(){this.subscriptions=[]}add(t){return rj(this.subscriptions,t),()=>nj(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $a=e=>e*1e3,Fa=e=>e/1e3;function oO(e,t){return t?e*(1e3/t):0}const iO=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,_Y=1e-7,EY=12;function TY(e,t,r,n,a){let o,i,l=0;do i=t+(r-t)/2,o=iO(i,n,a)-e,o>0?r=i:t=i;while(Math.abs(o)>_Y&&++l<EY);return i}function Ih(e,t,r,n){if(e===t&&r===n)return Os;const a=o=>TY(o,0,1,e,r);return o=>o===0||o===1?o:iO(a(o),t,n)}const lO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cO=e=>t=>1-e(1-t),dO=Ih(.33,1.53,.69,.99),ij=cO(dO),uO=lO(ij),fO=e=>(e*=2)<1?.5*ij(e):.5*(2-Math.pow(2,-10*(e-1))),lj=e=>1-Math.sin(Math.acos(e)),hO=cO(lj),mO=lO(lj),PY=Ih(.42,0,1,1),MY=Ih(0,0,.58,1),pO=Ih(.42,0,.58,1),IY=e=>Array.isArray(e)&&typeof e[0]!="number",gO=e=>Array.isArray(e)&&typeof e[0]=="number",AY={linear:Os,easeIn:PY,easeInOut:pO,easeOut:MY,circIn:lj,circInOut:mO,circOut:hO,backIn:ij,backInOut:uO,backOut:dO,anticipate:fO},OY=e=>typeof e=="string",yC=e=>{if(gO(e)){sj(e.length===4);const[t,r,n,a]=e;return Ih(t,r,n,a)}else if(OY(e))return AY[e];return e},Om=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function RY(e,t){let r=new Set,n=new Set,a=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){i.has(f)&&(d.schedule(f),e()),f(l)}const d={schedule:(f,h=!1,m=!1)=>{const g=m&&a?r:n;return h&&i.add(f),g.has(f)||g.add(f),f},cancel:f=>{n.delete(f),i.delete(f)},process:f=>{if(l=f,a){o=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,o&&(o=!1,d.process(f))}};return d}const DY=40;function xO(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,i=Om.reduce((w,j)=>(w[j]=RY(o),w),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:h,preRender:m,render:p,postRender:g}=i,x=()=>{const w=So.useManualTiming?a.timestamp:performance.now();r=!1,So.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,DY),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),f.process(a),h.process(a),m.process(a),p.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(x))},b=()=>{r=!0,n=!0,a.isProcessing||e(x)};return{schedule:Om.reduce((w,j)=>{const N=i[j];return w[j]=(S,k=!1,_=!1)=>(r||b(),N.schedule(S,k,_)),w},{}),cancel:w=>{for(let j=0;j<Om.length;j++)i[Om[j]].cancel(w)},state:a,steps:i}}const{schedule:gr,cancel:Ii,state:rn,steps:wy}=xO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Os,!0);let wp;function LY(){wp=void 0}const Hn={now:()=>(wp===void 0&&Hn.set(rn.isProcessing||So.useManualTiming?rn.timestamp:performance.now()),wp),set:e=>{wp=e,queueMicrotask(LY)}},yO=e=>t=>typeof t=="string"&&t.startsWith(e),cj=yO("--"),$Y=yO("var(--"),dj=e=>$Y(e)?FY.test(e.split("/*")[0].trim()):!1,FY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Uf={...qd,transform:e=>No(0,1,e)},Rm={...qd,default:1},Qu=e=>Math.round(e*1e5)/1e5,uj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zY(e){return e==null}const BY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fj=(e,t)=>r=>!!(typeof r=="string"&&BY.test(r)&&r.startsWith(e)||t&&!zY(r)&&Object.prototype.hasOwnProperty.call(r,t)),vO=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,o,i,l]=n.match(uj);return{[e]:parseFloat(a),[t]:parseFloat(o),[r]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},UY=e=>No(0,255,e),jy={...qd,transform:e=>Math.round(UY(e))},fl={test:fj("rgb","red"),parse:vO("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+jy.transform(e)+", "+jy.transform(t)+", "+jy.transform(r)+", "+Qu(Uf.transform(n))+")"};function VY(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Yb={test:fj("#"),parse:VY,transform:fl.transform},Ah=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zo=Ah("deg"),za=Ah("%"),ct=Ah("px"),HY=Ah("vh"),WY=Ah("vw"),vC={...za,parse:e=>za.parse(e)/100,transform:e=>za.transform(e*100)},Dc={test:fj("hsl","hue"),parse:vO("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+za.transform(Qu(t))+", "+za.transform(Qu(r))+", "+Qu(Uf.transform(n))+")"},zr={test:e=>fl.test(e)||Yb.test(e)||Dc.test(e),parse:e=>fl.test(e)?fl.parse(e):Dc.test(e)?Dc.parse(e):Yb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?fl.transform(e):Dc.transform(e),getAnimatableNone:e=>{const t=zr.parse(e);return t.alpha=0,zr.transform(t)}},GY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qY(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(uj))==null?void 0:t.length)||0)+(((r=e.match(GY))==null?void 0:r.length)||0)>0}const bO="number",wO="color",KY="var",YY="var(",bC="${}",XY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vf(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let o=0;const l=t.replace(XY,c=>(zr.test(c)?(n.color.push(o),a.push(wO),r.push(zr.parse(c))):c.startsWith(YY)?(n.var.push(o),a.push(KY),r.push(c)):(n.number.push(o),a.push(bO),r.push(parseFloat(c))),++o,bC)).split(bC);return{values:r,split:l,indexes:n,types:a}}function jO(e){return Vf(e).values}function NO(e){const{split:t,types:r}=Vf(e),n=t.length;return a=>{let o="";for(let i=0;i<n;i++)if(o+=t[i],a[i]!==void 0){const l=r[i];l===bO?o+=Qu(a[i]):l===wO?o+=zr.transform(a[i]):o+=a[i]}return o}}const QY=e=>typeof e=="number"?0:zr.test(e)?zr.getAnimatableNone(e):e;function JY(e){const t=jO(e);return NO(e)(t.map(QY))}const Ai={test:qY,parse:jO,createTransformer:NO,getAnimatableNone:JY};function Ny(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ZY({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,o=0,i=0;if(!t)a=o=i=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=Ny(c,l,e+1/3),o=Ny(c,l,e),i=Ny(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:n}}function vg(e,t){return r=>r>0?t:e}const br=(e,t,r)=>e+(t-e)*r,Sy=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},eX=[Yb,fl,Dc],tX=e=>eX.find(t=>t.test(e));function wC(e){const t=tX(e);if(!t)return!1;let r=t.parse(e);return t===Dc&&(r=ZY(r)),r}const jC=(e,t)=>{const r=wC(e),n=wC(t);if(!r||!n)return vg(e,t);const a={...r};return o=>(a.red=Sy(r.red,n.red,o),a.green=Sy(r.green,n.green,o),a.blue=Sy(r.blue,n.blue,o),a.alpha=br(r.alpha,n.alpha,o),fl.transform(a))},Xb=new Set(["none","hidden"]);function rX(e,t){return Xb.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function nX(e,t){return r=>br(e,t,r)}function hj(e){return typeof e=="number"?nX:typeof e=="string"?dj(e)?vg:zr.test(e)?jC:oX:Array.isArray(e)?SO:typeof e=="object"?zr.test(e)?jC:sX:vg}function SO(e,t){const r=[...e],n=r.length,a=e.map((o,i)=>hj(o)(o,t[i]));return o=>{for(let i=0;i<n;i++)r[i]=a[i](o);return r}}function sX(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=hj(e[a])(e[a],t[a]));return a=>{for(const o in n)r[o]=n[o](a);return r}}function aX(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],i=e.indexes[o][n[o]],l=e.values[i]??0;r[a]=l,n[o]++}return r}const oX=(e,t)=>{const r=Ai.createTransformer(t),n=Vf(e),a=Vf(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?Xb.has(e)&&!a.values.length||Xb.has(t)&&!n.values.length?rX(e,t):Mh(SO(aX(n,a),a.values),r):vg(e,t)};function kO(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?br(e,t,r):hj(e)(e,t)}const iX=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>gr.update(t,r),stop:()=>Ii(t),now:()=>rn.isProcessing?rn.timestamp:Hn.now()}},CO=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let o=0;o<a;o++)n+=Math.round(e(o/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},bg=2e4;function mj(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<bg;)t+=r,n=e.next(t);return t>=bg?1/0:t}function lX(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(mj(n),bg);return{type:"keyframes",ease:o=>n.next(a*o).value/t,duration:Fa(a)}}const cX=5;function _O(e,t,r){const n=Math.max(t-cX,0);return oO(r-e(n),t-n)}const _r={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ky=.001;function dX({duration:e=_r.duration,bounce:t=_r.bounce,velocity:r=_r.velocity,mass:n=_r.mass}){let a,o,i=1-t;i=No(_r.minDamping,_r.maxDamping,i),e=No(_r.minDuration,_r.maxDuration,Fa(e)),i<1?(a=d=>{const f=d*i,h=f*e,m=f-r,p=Qb(d,i),g=Math.exp(-h);return ky-m/p*g},o=d=>{const h=d*i*e,m=h*r+r,p=Math.pow(i,2)*Math.pow(d,2)*e,g=Math.exp(-h),x=Qb(Math.pow(d,2),i);return(-a(d)+ky>0?-1:1)*((m-p)*g)/x}):(a=d=>{const f=Math.exp(-d*e),h=(d-r)*e+1;return-ky+f*h},o=d=>{const f=Math.exp(-d*e),h=(r-d)*(e*e);return f*h});const l=5/e,c=fX(a,o,l);if(e=$a(e),isNaN(c))return{stiffness:_r.stiffness,damping:_r.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:i*2*Math.sqrt(n*d),duration:e}}}const uX=12;function fX(e,t,r){let n=r;for(let a=1;a<uX;a++)n=n-e(n)/t(n);return n}function Qb(e,t){return e*Math.sqrt(1-t*t)}const hX=["duration","bounce"],mX=["stiffness","damping","mass"];function NC(e,t){return t.some(r=>e[r]!==void 0)}function pX(e){let t={velocity:_r.velocity,stiffness:_r.stiffness,damping:_r.damping,mass:_r.mass,isResolvedFromDuration:!1,...e};if(!NC(e,mX)&&NC(e,hX))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,o=2*No(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:_r.mass,stiffness:a,damping:o}}else{const r=dX(e);t={...t,...r,mass:_r.mass},t.isResolvedFromDuration=!0}return t}function wg(e=_r.visualDuration,t=_r.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const o=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:d,mass:f,duration:h,velocity:m,isResolvedFromDuration:p}=pX({...r,velocity:-Fa(r.velocity||0)}),g=m||0,x=d/(2*Math.sqrt(c*f)),b=i-o,y=Fa(Math.sqrt(c/f)),v=Math.abs(b)<5;n||(n=v?_r.restSpeed.granular:_r.restSpeed.default),a||(a=v?_r.restDelta.granular:_r.restDelta.default);let w;if(x<1){const N=Qb(y,x);w=S=>{const k=Math.exp(-x*y*S);return i-k*((g+x*y*b)/N*Math.sin(N*S)+b*Math.cos(N*S))}}else if(x===1)w=N=>i-Math.exp(-y*N)*(b+(g+y*b)*N);else{const N=y*Math.sqrt(x*x-1);w=S=>{const k=Math.exp(-x*y*S),_=Math.min(N*S,300);return i-k*((g+x*y*b)*Math.sinh(_)+N*b*Math.cosh(_))/N}}const j={calculatedDuration:p&&h||null,next:N=>{const S=w(N);if(p)l.done=N>=h;else{let k=N===0?g:0;x<1&&(k=N===0?$a(g):_O(w,N,S));const _=Math.abs(k)<=n,C=Math.abs(i-S)<=a;l.done=_&&C}return l.value=l.done?i:S,l},toString:()=>{const N=Math.min(mj(j),bg),S=CO(k=>j.next(N*k).value,N,30);return N+"ms "+S},toTransition:()=>{}};return j}wg.applyToOptions=e=>{const t=lX(e,100,wg);return e.ease=t.ease,e.duration=$a(t.duration),e.type="keyframes",e};function Jb({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:d=.5,restSpeed:f}){const h=e[0],m={done:!1,value:h},p=_=>l!==void 0&&_<l||c!==void 0&&_>c,g=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let x=r*t;const b=h+x,y=i===void 0?b:i(b);y!==b&&(x=y-h);const v=_=>-x*Math.exp(-_/n),w=_=>y+v(_),j=_=>{const C=v(_),E=w(_);m.done=Math.abs(C)<=d,m.value=m.done?y:E};let N,S;const k=_=>{p(m.value)&&(N=_,S=wg({keyframes:[m.value,g(m.value)],velocity:_O(w,_,m.value),damping:a,stiffness:o,restDelta:d,restSpeed:f}))};return k(0),{calculatedDuration:null,next:_=>{let C=!1;return!S&&N===void 0&&(C=!0,j(_),k(_)),N!==void 0&&_>=N?S.next(_-N):(!C&&j(_),m)}}}function gX(e,t,r){const n=[],a=r||So.mix||kO,o=e.length-1;for(let i=0;i<o;i++){let l=a(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||Os:t;l=Mh(c,l)}n.push(l)}return n}function xX(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const o=e.length;if(sj(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=gX(t,n,a),c=l.length,d=f=>{if(i&&f<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(f<e[h+1]);h++);const m=Bf(e[h],e[h+1],f);return l[h](m)};return r?f=>d(No(e[0],e[o-1],f)):d}function yX(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Bf(0,t,n);e.push(br(r,1,a))}}function vX(e){const t=[0];return yX(t,e.length-1),t}function bX(e,t){return e.map(r=>r*t)}function wX(e,t){return e.map(()=>t||pO).splice(0,e.length-1)}function Ju({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=IY(n)?n.map(yC):yC(n),o={done:!1,value:t[0]},i=bX(r&&r.length===t.length?r:vX(t),e),l=xX(i,t,{ease:Array.isArray(a)?a:wX(t,a)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const jX=e=>e!==null;function pj(e,{repeat:t,repeatType:r="loop"},n,a=1){const o=e.filter(jX),l=a<0||t&&r!=="loop"&&t%2===1?0:o.length-1;return!l||n===void 0?o[l]:n}const NX={decay:Jb,inertia:Jb,tween:Ju,keyframes:Ju,spring:wg};function EO(e){typeof e.type=="string"&&(e.type=NX[e.type])}class gj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const SX=e=>e/100;class xj extends gj{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Hn.now()&&this.tick(Hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;EO(t);const{type:r=Ju,repeat:n=0,repeatDelay:a=0,repeatType:o,velocity:i=0}=t;let{keyframes:l}=t;const c=r||Ju;c!==Ju&&typeof l[0]!="number"&&(this.mixKeyframes=Mh(SX,kO(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=mj(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:f,repeat:h,repeatType:m,repeatDelay:p,type:g,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,j=n;if(h){const _=Math.min(this.currentTime,a)/l;let C=Math.floor(_),E=_%1;!E&&_>=1&&(E=1),E===1&&C--,C=Math.min(C,h+1),!!(C%2)&&(m==="reverse"?(E=1-E,p&&(E-=p/l)):m==="mirror"&&(j=i)),w=No(0,1,E)*l}const N=v?{done:!1,value:f[0]}:j.next(w);o&&(N.value=o(N.value));let{done:S}=N;!v&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return k&&g!==Jb&&(N.value=pj(f,this.options,b,this.speed)),x&&x(N.value),k&&this.finish(),N}then(t,r){return this.finished.then(t,r)}get duration(){return Fa(this.calculatedDuration)}get time(){return Fa(this.currentTime)}set time(t){var r;t=$a(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Hn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Fa(this.currentTime))}play(){var a,o;if(this.isStopped)return;const{driver:t=iX,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(o=(a=this.options).onPlay)==null||o.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function kX(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const hl=e=>e*180/Math.PI,Zb=e=>{const t=hl(Math.atan2(e[1],e[0]));return e1(t)},CX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Zb,rotateZ:Zb,skewX:e=>hl(Math.atan(e[1])),skewY:e=>hl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},e1=e=>(e=e%360,e<0&&(e+=360),e),SC=Zb,kC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),CC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),_X={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kC,scaleY:CC,scale:e=>(kC(e)+CC(e))/2,rotateX:e=>e1(hl(Math.atan2(e[6],e[5]))),rotateY:e=>e1(hl(Math.atan2(-e[2],e[0]))),rotateZ:SC,rotate:SC,skewX:e=>hl(Math.atan(e[4])),skewY:e=>hl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function t1(e){return e.includes("scale")?1:0}function r1(e,t){if(!e||e==="none")return t1(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=_X,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=CX,a=l}if(!a)return t1(t);const o=n[t],i=a[1].split(",").map(TX);return typeof o=="function"?o(i):i[o]}const EX=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return r1(r,t)};function TX(e){return parseFloat(e.trim())}const Kd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yd=new Set(Kd),_C=e=>e===qd||e===ct,PX=new Set(["x","y","z"]),MX=Kd.filter(e=>!PX.has(e));function IX(e){const t=[];return MX.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const kl={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>r1(t,"x"),y:(e,{transform:t})=>r1(t,"y")};kl.translateX=kl.x;kl.translateY=kl.y;const Cl=new Set;let n1=!1,s1=!1,a1=!1;function TO(){if(s1){const e=Array.from(Cl).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=IX(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([o,i])=>{var l;(l=n.getValue(o))==null||l.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}s1=!1,n1=!1,Cl.forEach(e=>e.complete(a1)),Cl.clear()}function PO(){Cl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(s1=!0)})}function AX(){a1=!0,PO(),TO(),a1=!1}class yj{constructor(t,r,n,a,o,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Cl.add(this),n1||(n1=!0,gr.read(PO),gr.resolveKeyframes(TO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const o=a==null?void 0:a.get(),i=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const l=n.readValue(r,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),a&&o===void 0&&a.set(t[0])}kX(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Cl.delete(this)}cancel(){this.state==="scheduled"&&(Cl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const OX=e=>e.startsWith("--");function RX(e,t,r){OX(t)?e.style.setProperty(t,r):e.style[t]=r}const DX=aj(()=>window.ScrollTimeline!==void 0),LX={};function $X(e,t){const r=aj(e);return()=>LX[t]??r()}const MO=$X(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ou=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,EC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ou([0,.65,.55,1]),circOut:Ou([.55,0,1,.45]),backIn:Ou([.31,.01,.66,-.59]),backOut:Ou([.33,1.53,.69,.99])};function IO(e,t){if(e)return typeof e=="function"?MO()?CO(e,t):"ease-out":gO(e)?Ou(e):Array.isArray(e)?e.map(r=>IO(r,t)||EC.easeOut):EC[e]}function FX(e,t,r,{delay:n=0,duration:a=300,repeat:o=0,repeatType:i="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[t]:r};c&&(f.offset=c);const h=IO(l,a);Array.isArray(h)&&(f.easing=h);const m={delay:n,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(f,m)}function AO(e){return typeof e=="function"&&"applyToOptions"in e}function zX({type:e,...t}){return AO(e)&&MO()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class BX extends gj{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=t,sj(typeof t.type!="string");const d=zX(t);this.animation=FX(r,n,a,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=pj(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):RX(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Fa(Number(t))}get time(){return Fa(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=$a(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&DX()?(this.animation.timeline=t,Os):r(this)}}const OO={anticipate:fO,backInOut:uO,circInOut:mO};function UX(e){return e in OO}function VX(e){typeof e.ease=="string"&&UX(e.ease)&&(e.ease=OO[e.ease])}const TC=10;class HX extends BX{constructor(t){VX(t),EO(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:o,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new xj({...i,autoplay:!1}),c=$a(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-TC).value,l.sample(c).value,TC),l.stop()}}const PC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ai.test(e)||e==="0")&&!e.startsWith("url("));function WX(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function GX(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=PC(a,t),l=PC(o,t);return!i||!l?!1:WX(e)||(r==="spring"||AO(r))&&n}function o1(e){e.duration=0,e.type}const qX=new Set(["opacity","clipPath","filter","transform"]),KX=aj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function YX(e){var f;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:o,type:i}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return KX()&&r&&qX.has(r)&&(r!=="transform"||!d)&&!c&&!n&&a!=="mirror"&&o!==0&&i!=="inertia"}const XX=40;class QX extends gj{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:c,motionValue:d,element:f,...h}){var g;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Hn.now();const m={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:o,repeatType:i,name:c,motionValue:d,element:f,...h},p=(f==null?void 0:f.KeyframeResolver)||yj;this.keyframeResolver=new p(l,(x,b,y)=>this.onKeyframesResolved(x,b,m,!y),c,d,f),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:o,type:i,velocity:l,delay:c,isHandoff:d,onUpdate:f}=n;this.resolvedAt=Hn.now(),GX(t,o,i,l)||((So.instantAnimations||!c)&&(f==null||f(pj(t,n,r))),t[0]=t[t.length-1],o1(n),n.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>XX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!d&&YX(m)?new HX({...m,element:m.motionValue.owner.current}):new xj(m);p.finished.then(()=>this.notifyFinished()).catch(Os),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),AX()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const JX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZX(e){const t=JX.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function RO(e,t,r=1){const[n,a]=ZX(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const i=o.trim();return nO(i)?parseFloat(i):i}return dj(a)?RO(a,t,r+1):a}function vj(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const DO=new Set(["width","height","top","left","right","bottom",...Kd]),eQ={test:e=>e==="auto",parse:e=>e},LO=e=>t=>t.test(e),$O=[qd,ct,za,zo,WY,HY,eQ],MC=e=>$O.find(LO(e));function tQ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||aO(e):!0}const rQ=new Set(["brightness","contrast","saturate","opacity"]);function nQ(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(uj)||[];if(!n)return e;const a=r.replace(n,"");let o=rQ.has(t)?1:0;return n!==r&&(o*=100),t+"("+o+a+")"}const sQ=/\b([a-z-]*)\(.*?\)/gu,i1={...Ai,getAnimatableNone:e=>{const t=e.match(sQ);return t?t.map(nQ).join(" "):e}},IC={...qd,transform:Math.round},aQ={rotate:zo,rotateX:zo,rotateY:zo,rotateZ:zo,scale:Rm,scaleX:Rm,scaleY:Rm,scaleZ:Rm,skew:zo,skewX:zo,skewY:zo,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:Uf,originX:vC,originY:vC,originZ:ct},bj={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,top:ct,right:ct,bottom:ct,left:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,backgroundPositionX:ct,backgroundPositionY:ct,...aQ,zIndex:IC,fillOpacity:Uf,strokeOpacity:Uf,numOctaves:IC},oQ={...bj,color:zr,backgroundColor:zr,outlineColor:zr,fill:zr,stroke:zr,borderColor:zr,borderTopColor:zr,borderRightColor:zr,borderBottomColor:zr,borderLeftColor:zr,filter:i1,WebkitFilter:i1},FO=e=>oQ[e];function zO(e,t){let r=FO(e);return r!==i1&&(r=Ai),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const iQ=new Set(["auto","none","0"]);function lQ(e,t,r){let n=0,a;for(;n<e.length&&!a;){const o=e[n];typeof o=="string"&&!iQ.has(o)&&Vf(o).values.length&&(a=e[n]),n++}if(a&&r)for(const o of t)e[o]=zO(r,a)}class cQ extends yj{constructor(t,r,n,a,o){super(t,r,n,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),dj(d))){const f=RO(d,r.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!DO.has(n)||t.length!==2)return;const[a,o]=t,i=MC(a),l=MC(o);if(i!==l)if(_C(i)&&_C(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else kl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||tQ(t[a]))&&n.push(a);n.length&&lQ(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=n.length-1,i=n[o];n[o]=kl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function dQ(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const BO=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function UO(e){return sO(e)&&"offsetHeight"in e}const AC=30,uQ=e=>!isNaN(parseFloat(e));class fQ{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var o;const a=Hn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=uQ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new oj);const n=this.events[t].add(r);return t==="change"?()=>{n(),gr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>AC)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,AC);return oO(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _d(e,t){return new fQ(e,t)}const{schedule:wj}=xO(queueMicrotask,!1),Xs={x:!1,y:!1};function VO(){return Xs.x||Xs.y}function hQ(e){return e==="x"||e==="y"?Xs[e]?null:(Xs[e]=!0,()=>{Xs[e]=!1}):Xs.x||Xs.y?null:(Xs.x=Xs.y=!0,()=>{Xs.x=Xs.y=!1})}function HO(e,t){const r=dQ(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function OC(e){return!(e.pointerType==="touch"||VO())}function mQ(e,t,r={}){const[n,a,o]=HO(e,r),i=l=>{if(!OC(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const f=h=>{OC(h)&&(d(h),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,a)};return n.forEach(l=>{l.addEventListener("pointerenter",i,a)}),o}const WO=(e,t)=>t?e===t?!0:WO(e,t.parentElement):!1,jj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,pQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gQ(e){return pQ.has(e.tagName)||e.tabIndex!==-1}const jp=new WeakSet;function RC(e){return t=>{t.key==="Enter"&&e(t)}}function Cy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xQ=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=RC(()=>{if(jp.has(r))return;Cy(r,"down");const a=RC(()=>{Cy(r,"up")}),o=()=>Cy(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",o,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function DC(e){return jj(e)&&!VO()}function yQ(e,t,r={}){const[n,a,o]=HO(e,r),i=l=>{const c=l.currentTarget;if(!DC(l))return;jp.add(c);const d=t(c,l),f=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),jp.has(c)&&jp.delete(c),DC(p)&&typeof d=="function"&&d(p,{success:g})},h=p=>{f(p,c===window||c===document||r.useGlobalTarget||WO(c,p.target))},m=p=>{f(p,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",m,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",i,a),UO(l)&&(l.addEventListener("focus",d=>xQ(d,a)),!gQ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function GO(e){return sO(e)&&"ownerSVGElement"in e}function vQ(e){return GO(e)&&e.tagName==="svg"}const vn=e=>!!(e&&e.getVelocity),bQ=[...$O,zr,Ai],wQ=e=>bQ.find(LO(e)),Nj=u.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class jQ extends u.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=UO(n)&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function NQ({children:e,isPresent:t,anchorX:r,root:n}){const a=u.useId(),o=u.useRef(null),i=u.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=u.useContext(Nj);return u.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:h,right:m}=i.current;if(t||!o.current||!c||!d)return;const p=r==="left"?`left: ${h}`:`right: ${m}`;o.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const x=n??document.head;return x.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(g)&&x.removeChild(g)}},[t]),s.jsx(jQ,{isPresent:t,childRef:o,sizeRef:i,children:u.cloneElement(e,{ref:o})})}const SQ=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:o,mode:i,anchorX:l,root:c})=>{const d=ej(kQ),f=u.useId();let h=!0,m=u.useMemo(()=>(h=!1,{id:f,initial:t,isPresent:r,custom:a,onExitComplete:p=>{d.set(p,!0);for(const g of d.values())if(!g)return;n&&n()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[r,d,n]);return o&&h&&(m={...m}),u.useMemo(()=>{d.forEach((p,g)=>d.set(g,!1))},[r]),u.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),i==="popLayout"&&(e=s.jsx(NQ,{isPresent:r,anchorX:l,root:c,children:e})),s.jsx(R0.Provider,{value:m,children:e})};function kQ(){return new Map}function qO(e=!0){const t=u.useContext(R0);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,o=u.useId();u.useEffect(()=>{if(e)return a(o)},[e]);const i=u.useCallback(()=>e&&n&&n(o),[o,n,e]);return!r&&n?[!1,i]:[!0]}const Dm=e=>e.key||"";function LC(e){const t=[];return u.Children.forEach(e,r=>{u.isValidElement(r)&&t.push(r)}),t}const Pn=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:o="sync",propagate:i=!1,anchorX:l="left",root:c})=>{const[d,f]=qO(i),h=u.useMemo(()=>LC(e),[e]),m=i&&!d?[]:h.map(Dm),p=u.useRef(!0),g=u.useRef(h),x=ej(()=>new Map),[b,y]=u.useState(h),[v,w]=u.useState(h);rO(()=>{p.current=!1,g.current=h;for(let S=0;S<v.length;S++){const k=Dm(v[S]);m.includes(k)?x.delete(k):x.get(k)!==!0&&x.set(k,!1)}},[v,m.length,m.join("-")]);const j=[];if(h!==b){let S=[...h];for(let k=0;k<v.length;k++){const _=v[k],C=Dm(_);m.includes(C)||(S.splice(k,0,_),j.push(_))}return o==="wait"&&j.length&&(S=j),w(LC(S)),y(h),null}const{forceRender:N}=u.useContext(Z2);return s.jsx(s.Fragment,{children:v.map(S=>{const k=Dm(S),_=i&&!d?!1:h===v||m.includes(k),C=()=>{if(x.has(k))x.set(k,!0);else return;let E=!0;x.forEach(T=>{T||(E=!1)}),E&&(N==null||N(),w(g.current),i&&(f==null||f()),n&&n())};return s.jsx(SQ,{isPresent:_,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:o,root:c,onExitComplete:_?void 0:C,anchorX:l,children:S},k)})})},KO=u.createContext({strict:!1}),$C={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ed={};for(const e in $C)Ed[e]={isEnabled:t=>$C[e].some(r=>!!t[r])};function CQ(e){for(const t in e)Ed[t]={...Ed[t],...e[t]}}const _Q=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_Q.has(e)}let YO=e=>!jg(e);function EQ(e){typeof e=="function"&&(YO=t=>t.startsWith("on")?!jg(t):e(t))}try{EQ(require("@emotion/is-prop-valid").default)}catch{}function TQ(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(YO(a)||r===!0&&jg(a)||!t&&!jg(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const D0=u.createContext({});function L0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Hf(e){return typeof e=="string"||Array.isArray(e)}const Sj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kj=["initial",...Sj];function $0(e){return L0(e.animate)||kj.some(t=>Hf(e[t]))}function XO(e){return!!($0(e)||e.variants)}function PQ(e,t){if($0(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Hf(r)?r:void 0,animate:Hf(n)?n:void 0}}return e.inherit!==!1?t:{}}function MQ(e){const{initial:t,animate:r}=PQ(e,u.useContext(D0));return u.useMemo(()=>({initial:t,animate:r}),[FC(t),FC(r)])}function FC(e){return Array.isArray(e)?e.join(" "):e}const Wf={};function IQ(e){for(const t in e)Wf[t]=e[t],cj(t)&&(Wf[t].isCSSVariable=!0)}function QO(e,{layout:t,layoutId:r}){return Yd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Wf[e]||e==="opacity")}const AQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OQ=Kd.length;function RQ(e,t,r){let n="",a=!0;for(let o=0;o<OQ;o++){const i=Kd[o],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=BO(l,bj[i]);if(!c){a=!1;const f=AQ[i]||i;n+=`${f}(${d}) `}r&&(t[i]=d)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Cj(e,t,r){const{style:n,vars:a,transformOrigin:o}=e;let i=!1,l=!1;for(const c in t){const d=t[c];if(Yd.has(c)){i=!0;continue}else if(cj(c)){a[c]=d;continue}else{const f=BO(d,bj[c]);c.startsWith("origin")?(l=!0,o[c]=f):n[c]=f}}if(t.transform||(i||r?n.transform=RQ(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=o;n.transformOrigin=`${c} ${d} ${f}`}}const _j=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JO(e,t,r){for(const n in t)!vn(t[n])&&!QO(n,r)&&(e[n]=t[n])}function DQ({transformTemplate:e},t){return u.useMemo(()=>{const r=_j();return Cj(r,t,e),Object.assign({},r.vars,r.style)},[t])}function LQ(e,t){const r=e.style||{},n={};return JO(n,r,e),Object.assign(n,DQ(e,t)),n}function $Q(e,t){const r={},n=LQ(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const FQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},zQ={offset:"strokeDashoffset",array:"strokeDasharray"};function BQ(e,t,r=1,n=0,a=!0){e.pathLength=1;const o=a?FQ:zQ;e[o.offset]=ct.transform(-n);const i=ct.transform(t),l=ct.transform(r);e[o.array]=`${i} ${l}`}function ZO(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:o=1,pathOffset:i=0,...l},c,d,f){if(Cj(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),a!==void 0&&BQ(h,a,o,i,!1)}const eR=()=>({..._j(),attrs:{}}),tR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function UQ(e,t,r,n){const a=u.useMemo(()=>{const o=eR();return ZO(o,t,tR(n),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};JO(o,e.style,e),a.style={...o,...a.style}}return a}const VQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ej(e){return typeof e!="string"||e.includes("-")?!1:!!(VQ.indexOf(e)>-1||/[A-Z]/u.test(e))}function HQ(e,t,r,{latestValues:n},a,o=!1){const l=(Ej(e)?UQ:$Q)(t,n,a,e),c=TQ(t,typeof e=="string",o),d=e!==u.Fragment?{...c,...l,ref:r}:{},{children:f}=t,h=u.useMemo(()=>vn(f)?f.get():f,[f]);return u.createElement(e,{...d,children:h})}function zC(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Tj(e,t,r,n){if(typeof t=="function"){const[a,o]=zC(n);t=t(r!==void 0?r:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=zC(n);t=t(r!==void 0?r:e.custom,a,o)}return t}function Np(e){return vn(e)?e.get():e}function WQ({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:GQ(r,n,a,e),renderState:t()}}function GQ(e,t,r,n){const a={},o=n(e,{});for(const m in o)a[m]=Np(o[m]);let{initial:i,animate:l}=e;const c=$0(e),d=XO(e);t&&d&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||i===!1;const h=f?l:i;if(h&&typeof h!="boolean"&&!L0(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const g=Tj(e,m[p]);if(g){const{transitionEnd:x,transition:b,...y}=g;for(const v in y){let w=y[v];if(Array.isArray(w)){const j=f?w.length-1:0;w=w[j]}w!==null&&(a[v]=w)}for(const v in x)a[v]=x[v]}}}return a}const rR=e=>(t,r)=>{const n=u.useContext(D0),a=u.useContext(R0),o=()=>WQ(e,t,n,a);return r?o():ej(o)};function Pj(e,t,r){var o;const{style:n}=e,a={};for(const i in n)(vn(n[i])||t.style&&vn(t.style[i])||QO(i,e)||((o=r==null?void 0:r.getValue(i))==null?void 0:o.liveStyle)!==void 0)&&(a[i]=n[i]);return a}const qQ=rR({scrapeMotionValuesFromProps:Pj,createRenderState:_j});function nR(e,t,r){const n=Pj(e,t,r);for(const a in e)if(vn(e[a])||vn(t[a])){const o=Kd.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[o]=e[a]}return n}const KQ=rR({scrapeMotionValuesFromProps:nR,createRenderState:eR}),YQ=Symbol.for("motionComponentSymbol");function Lc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function XQ(e,t,r){return u.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Lc(r)&&(r.current=n))},[t])}const Mj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QQ="framerAppearId",sR="data-"+Mj(QQ),aR=u.createContext({});function JQ(e,t,r,n,a){var x,b;const{visualElement:o}=u.useContext(D0),i=u.useContext(KO),l=u.useContext(R0),c=u.useContext(Nj).reducedMotion,d=u.useRef(null);n=n||i.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:o,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,h=u.useContext(aR);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&ZQ(d.current,r,a,h);const m=u.useRef(!1);u.useInsertionEffect(()=>{f&&m.current&&f.update(r,l)});const p=r[sR],g=u.useRef(!!p&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return rO(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),g.current&&f.animationState&&f.animationState.animateChanges())}),u.useEffect(()=>{f&&(!g.current&&f.animationState&&f.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),g.current=!1),f.enteringChildren=void 0)}),f}function ZQ(e,t,r,n){const{layoutId:a,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:oR(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!i||l&&Lc(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:d})}function oR(e){if(e)return e.options.allowProjection!==!1?e.projection:oR(e.parent)}function _y(e,{forwardMotionProps:t=!1}={},r,n){r&&CQ(r);const a=Ej(e)?KQ:qQ;function o(l,c){let d;const f={...u.useContext(Nj),...l,layoutId:eJ(l)},{isStatic:h}=f,m=MQ(l),p=a(l,h);if(!h&&tj){tJ();const g=rJ(f);d=g.MeasureLayout,m.visualElement=JQ(e,p,f,n,g.ProjectionNode)}return s.jsxs(D0.Provider,{value:m,children:[d&&m.visualElement?s.jsx(d,{visualElement:m.visualElement,...f}):null,HQ(e,l,XQ(p,m.visualElement,c),p,h,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const i=u.forwardRef(o);return i[YQ]=e,i}function eJ({layoutId:e}){const t=u.useContext(Z2).id;return t&&e!==void 0?t+"-"+e:e}function tJ(e,t){u.useContext(KO).strict}function rJ(e){const{drag:t,layout:r}=Ed;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function nJ(e,t){if(typeof Proxy>"u")return _y;const r=new Map,n=(o,i)=>_y(o,i,e,t),a=(o,i)=>n(o,i);return new Proxy(a,{get:(o,i)=>i==="create"?n:(r.has(i)||r.set(i,_y(i,void 0,e,t)),r.get(i))})}function iR({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function sJ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function aJ(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Ey(e){return e===void 0||e===1}function l1({scale:e,scaleX:t,scaleY:r}){return!Ey(e)||!Ey(t)||!Ey(r)}function ol(e){return l1(e)||lR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function lR(e){return BC(e.x)||BC(e.y)}function BC(e){return e&&e!=="0%"}function Ng(e,t,r){const n=e-r,a=t*n;return r+a}function UC(e,t,r,n,a){return a!==void 0&&(e=Ng(e,a,n)),Ng(e,r,n)+t}function c1(e,t=0,r=1,n,a){e.min=UC(e.min,t,r,n,a),e.max=UC(e.max,t,r,n,a)}function cR(e,{x:t,y:r}){c1(e.x,t.translate,t.scale,t.originPoint),c1(e.y,r.translate,r.scale,r.originPoint)}const VC=.999999999999,HC=1.0000000000001;function oJ(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let o,i;for(let l=0;l<a;l++){o=r[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Fc(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,cR(e,i)),n&&ol(o.latestValues)&&Fc(e,o.latestValues))}t.x<HC&&t.x>VC&&(t.x=1),t.y<HC&&t.y>VC&&(t.y=1)}function $c(e,t){e.min=e.min+t,e.max=e.max+t}function WC(e,t,r,n,a=.5){const o=br(e.min,e.max,a);c1(e,t,r,o,n)}function Fc(e,t){WC(e.x,t.x,t.scaleX,t.scale,t.originX),WC(e.y,t.y,t.scaleY,t.scale,t.originY)}function dR(e,t){return iR(aJ(e.getBoundingClientRect(),t))}function iJ(e,t,r){const n=dR(e,r),{scroll:a}=t;return a&&($c(n.x,a.offset.x),$c(n.y,a.offset.y)),n}const GC=()=>({translate:0,scale:1,origin:0,originPoint:0}),zc=()=>({x:GC(),y:GC()}),qC=()=>({min:0,max:0}),Ar=()=>({x:qC(),y:qC()}),d1={current:null},uR={current:!1};function lJ(){if(uR.current=!0,!!tj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>d1.current=e.matches;e.addEventListener("change",t),t()}else d1.current=!1}const cJ=new WeakMap;function dJ(e,t,r){for(const n in t){const a=t[n],o=r[n];if(vn(a))e.addValue(n,a);else if(vn(o))e.addValue(n,_d(a,{owner:e}));else if(o!==a)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(n);e.addValue(n,_d(i!==void 0?i:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const KC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uJ{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Hn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,gr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=$0(r),this.isVariantNode=XO(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const p=h[m];c[m]!==void 0&&vn(p)&&p.set(c[m])}}mount(t){var r;this.current=t,cJ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),uR.current||lJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:d1.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ii(this.notifyUpdate),Ii(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Yd.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&gr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ed){const r=Ed[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ar()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<KC.length;n++){const a=KC[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,i=t[o];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=dJ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=_d(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(nO(n)||aO(n))?n=parseFloat(n):!wQ(n)&&Ai.test(r)&&(n=zO(t,r)),this.setBaseTarget(t,vn(n)?n.get():n)),vn(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var o;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=Tj(this.props,r,(o=this.presenceContext)==null?void 0:o.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!vn(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new oj),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){wj.render(this.render)}}class fR extends uJ{constructor(){super(...arguments),this.KeyframeResolver=cQ}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function hR(e,{style:t,vars:r},n,a){const o=e.style;let i;for(i in t)o[i]=t[i];a==null||a.applyProjectionStyles(o,n);for(i in r)o.setProperty(i,r[i])}function fJ(e){return window.getComputedStyle(e)}class hJ extends fR{constructor(){super(...arguments),this.type="html",this.renderInstance=hR}readValueFromInstance(t,r){var n;if(Yd.has(r))return(n=this.projection)!=null&&n.isProjecting?t1(r):EX(t,r);{const a=fJ(t),o=(cj(r)?a.getPropertyValue(r):a[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:r}){return dR(t,r)}build(t,r,n){Cj(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Pj(t,r,n)}}const mR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mJ(e,t,r,n){hR(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(mR.has(a)?a:Mj(a),t.attrs[a])}class pJ extends fR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ar}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Yd.has(r)){const n=FO(r);return n&&n.default||0}return r=mR.has(r)?r:Mj(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return nR(t,r,n)}build(t,r,n){ZO(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){mJ(t,r,n,a)}mount(t){this.isSVGTag=tR(t.tagName),super.mount(t)}}const gJ=(e,t)=>Ej(e)?new pJ(t):new hJ(t,{allowProjection:e!==u.Fragment});function Jc(e,t,r){const n=e.getProps();return Tj(n,t,r!==void 0?r:n.custom,e)}const u1=e=>Array.isArray(e);function xJ(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,_d(r))}function yJ(e){return u1(e)?e[e.length-1]||0:e}function vJ(e,t){const r=Jc(e,t);let{transitionEnd:n={},transition:a={},...o}=r||{};o={...o,...n};for(const i in o){const l=yJ(o[i]);xJ(e,i,l)}}function bJ(e){return!!(vn(e)&&e.add)}function f1(e,t){const r=e.getValue("willChange");if(bJ(r))return r.add(t);if(!r&&So.WillChange){const n=new So.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function pR(e){return e.props[sR]}const wJ=e=>e!==null;function jJ(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(wJ),o=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[o]}const NJ={type:"spring",stiffness:500,damping:25,restSpeed:10},SJ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),kJ={type:"keyframes",duration:.8},CJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_J=(e,{keyframes:t})=>t.length>2?kJ:Yd.has(e)?e.startsWith("scale")?SJ(t[1]):NJ:CJ;function EJ({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const Ij=(e,t,r,n={},a,o)=>i=>{const l=vj(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-$a(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:a};EJ(l)||Object.assign(f,_J(e,f)),f.duration&&(f.duration=$a(f.duration)),f.repeatDelay&&(f.repeatDelay=$a(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(o1(f),f.delay===0&&(h=!0)),(So.instantAnimations||So.skipAnimations)&&(h=!0,o1(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,h&&!o&&t.get()!==void 0){const m=jJ(f.keyframes,l);if(m!==void 0){gr.update(()=>{f.onUpdate(m),f.onComplete()});return}}return l.isSync?new xj(f):new QX(f)};function TJ({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function gR(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=t;n&&(o=n);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const h=e.getValue(f,e.latestValues[f]??null),m=l[f];if(m===void 0||d&&TJ(d,f))continue;const p={delay:r,...vj(o||{},f)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===g&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const y=pR(e);if(y){const v=window.MotionHandoffAnimation(y,f,gr);v!==null&&(p.startTime=v,x=!0)}}f1(e,f),h.start(Ij(f,h,m,e.shouldReduceMotion&&DO.has(f)?{type:!1}:p,e,x));const b=h.animation;b&&c.push(b)}return i&&Promise.all(c).then(()=>{gr.update(()=>{i&&vJ(e,i)})}),c}function xR(e,t,r,n=0,a=1){const o=Array.from(e).sort((d,f)=>d.sortNodePosition(f)).indexOf(t),i=e.size,l=(i-1)*n;return typeof r=="function"?r(o,i):a===1?o*n:l-o*n}function h1(e,t,r={}){var c;const n=Jc(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const o=n?()=>Promise.all(gR(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:m}=a;return PJ(e,t,d,f,h,m,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,f]=l==="beforeChildren"?[o,i]:[i,o];return d().then(()=>f())}else return Promise.all([o(),i(r.delay)])}function PJ(e,t,r=0,n=0,a=0,o=1,i){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(h1(c,t,{...i,delay:r+(typeof n=="function"?0:n)+xR(e.variantChildren,c,n,a,o)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function MJ(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(o=>h1(e,o,r));n=Promise.all(a)}else if(typeof t=="string")n=h1(e,t,r);else{const a=typeof t=="function"?Jc(e,t,r.custom):t;n=Promise.all(gR(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function yR(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const IJ=kj.length;function vR(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?vR(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<IJ;r++){const n=kj[r],a=e.props[n];(Hf(a)||a===!1)&&(t[n]=a)}return t}const AJ=[...Sj].reverse(),OJ=Sj.length;function RJ(e){return t=>Promise.all(t.map(({animation:r,options:n})=>MJ(e,r,n)))}function DJ(e){let t=RJ(e),r=YC(),n=!0;const a=c=>(d,f)=>{var m;const h=Jc(e,f,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:g,...x}=h;d={...d,...x,...g}}return d};function o(c){t=c(e)}function i(c){const{props:d}=e,f=vR(e.parent)||{},h=[],m=new Set;let p={},g=1/0;for(let b=0;b<OJ;b++){const y=AJ[b],v=r[y],w=d[y]!==void 0?d[y]:f[y],j=Hf(w),N=y===c?v.isActive:null;N===!1&&(g=b);let S=w===f[y]&&w!==d[y]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...p},!v.isActive&&N===null||!w&&!v.prevProp||L0(w)||typeof w=="boolean")continue;const k=LJ(v.prevProp,w);let _=k||y===c&&v.isActive&&!S&&j||b>g&&j,C=!1;const E=Array.isArray(w)?w:[w];let T=E.reduce(a(y),{});N===!1&&(T={});const{prevResolvedValues:A={}}=v,W={...A,...T},P=K=>{_=!0,m.has(K)&&(C=!0,m.delete(K)),v.needsAnimating[K]=!0;const D=e.getValue(K);D&&(D.liveStyle=!1)};for(const K in W){const D=T[K],I=A[K];if(p.hasOwnProperty(K))continue;let R=!1;u1(D)&&u1(I)?R=!yR(D,I):R=D!==I,R?D!=null?P(K):m.add(K):D!==void 0&&m.has(K)?P(K):v.protectedKeys[K]=!0}v.prevProp=w,v.prevResolvedValues=T,v.isActive&&(p={...p,...T}),n&&e.blockInitialAnimation&&(_=!1);const te=S&&k;_&&(!te||C)&&h.push(...E.map(K=>{const D={type:y};if(typeof K=="string"&&n&&!te&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,R=Jc(I,K);if(I.enteringChildren&&R){const{delayChildren:q}=R.transition||{};D.delay=xR(I.enteringChildren,e,q)}}return{animation:K,options:D}}))}if(m.size){const b={};if(typeof d.initial!="boolean"){const y=Jc(e,Array.isArray(d.initial)?d.initial[0]:d.initial);y&&y.transition&&(b.transition=y.transition)}m.forEach(y=>{const v=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),b[y]=v??null}),h.push({animation:b})}let x=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(h):Promise.resolve()}function l(c,d){var h;if(r[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(c,d)}),r[c].isActive=d;const f=i(c);for(const m in r)r[m].protectedKeys={};return f}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>r,reset:()=>{r=YC(),n=!0}}}function LJ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yR(t,e):!1}function Zi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YC(){return{animate:Zi(!0),whileInView:Zi(),whileHover:Zi(),whileTap:Zi(),whileDrag:Zi(),whileFocus:Zi(),exit:Zi()}}class Gi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class $J extends Gi{constructor(t){super(t),t.animationState||(t.animationState=DJ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();L0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let FJ=0;class zJ extends Gi{constructor(){super(...arguments),this.id=FJ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const BJ={animation:{Feature:$J},exit:{Feature:zJ}};function Gf(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Oh(e){return{point:{x:e.pageX,y:e.pageY}}}const UJ=e=>t=>jj(t)&&e(t,Oh(t));function Zu(e,t,r,n){return Gf(e,t,UJ(r),n)}const bR=1e-4,VJ=1-bR,HJ=1+bR,wR=.01,WJ=0-wR,GJ=0+wR;function En(e){return e.max-e.min}function qJ(e,t,r){return Math.abs(e-t)<=r}function XC(e,t,r,n=.5){e.origin=n,e.originPoint=br(t.min,t.max,e.origin),e.scale=En(r)/En(t),e.translate=br(r.min,r.max,e.origin)-e.originPoint,(e.scale>=VJ&&e.scale<=HJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=WJ&&e.translate<=GJ||isNaN(e.translate))&&(e.translate=0)}function ef(e,t,r,n){XC(e.x,t.x,r.x,n?n.originX:void 0),XC(e.y,t.y,r.y,n?n.originY:void 0)}function QC(e,t,r){e.min=r.min+t.min,e.max=e.min+En(t)}function KJ(e,t,r){QC(e.x,t.x,r.x),QC(e.y,t.y,r.y)}function JC(e,t,r){e.min=t.min-r.min,e.max=e.min+En(t)}function tf(e,t,r){JC(e.x,t.x,r.x),JC(e.y,t.y,r.y)}function ws(e){return[e("x"),e("y")]}const jR=({current:e})=>e?e.ownerDocument.defaultView:null,ZC=(e,t)=>Math.abs(e-t);function YJ(e,t){const r=ZC(e.x,t.x),n=ZC(e.y,t.y);return Math.sqrt(r**2+n**2)}class NR{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Py(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=YJ(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:x}=m,{timestamp:b}=rn;this.history.push({...x,timestamp:b});const{onStart:y,onMove:v}=this.handlers;p||(y&&y(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ty(p,this.transformPagePoint),gr.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Py(m.type==="pointercancel"?this.lastMoveEventInfo:Ty(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,y),x&&x(m,y)},!jj(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=a||window;const l=Oh(t),c=Ty(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=rn;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,Py(c,this.history)),this.removeListeners=Mh(Zu(this.contextWindow,"pointermove",this.handlePointerMove),Zu(this.contextWindow,"pointerup",this.handlePointerUp),Zu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ii(this.updatePoint)}}function Ty(e,t){return t?{point:t(e.point)}:e}function e_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Py({point:e},t){return{point:e,delta:e_(e,SR(t)),offset:e_(e,XJ(t)),velocity:QJ(t,.1)}}function XJ(e){return e[0]}function SR(e){return e[e.length-1]}function QJ(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=SR(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>$a(t)));)r--;if(!n)return{x:0,y:0};const o=Fa(a.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-n.x)/o,y:(a.y-n.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function JJ(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?br(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?br(r,e,n.max):Math.min(e,r)),e}function t_(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function ZJ(e,{top:t,left:r,bottom:n,right:a}){return{x:t_(e.x,r,a),y:t_(e.y,t,n)}}function r_(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function eZ(e,t){return{x:r_(e.x,t.x),y:r_(e.y,t.y)}}function tZ(e,t){let r=.5;const n=En(e),a=En(t);return a>n?r=Bf(t.min,t.max-n,e.min):n>a&&(r=Bf(e.min,e.max-a,t.min)),No(0,1,r)}function rZ(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const m1=.35;function nZ(e=m1){return e===!1?e=0:e===!0&&(e=m1),{x:n_(e,"left","right"),y:n_(e,"top","bottom")}}function n_(e,t,r){return{min:s_(e,t),max:s_(e,r)}}function s_(e,t){return typeof e=="number"?e:e[t]||0}const sZ=new WeakMap;class aZ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ar(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Oh(h).point)},i=(h,m)=>{const{drag:p,dragPropagation:g,onDragStart:x}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hQ(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ws(y=>{let v=this.getAxisMotionValue(y).get()||0;if(za.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[y];j&&(v=En(j)*(parseFloat(v)/100))}}this.originPoint[y]=v}),x&&gr.postRender(()=>x(h,m)),f1(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:x,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=m;if(g&&this.currentDirection===null){this.currentDirection=oZ(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,y),this.updateAxis("y",m.point,y),this.visualElement.render(),b&&b(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ws(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new NR(t,{onSessionStart:o,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:jR(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!n)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&gr.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Lm(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=JJ(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;t&&Lc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=ZJ(n.layoutBox,t):this.constraints=!1,this.elastic=nZ(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ws(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=rZ(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Lc(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=iJ(n,a.root,this.visualElement.getTransformPagePoint());let i=eZ(a.layout.layoutBox,o);if(r){const l=r(sJ(i));this.hasMutatedConstraints=!!l,l&&(i=iR(l))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ws(f=>{if(!Lm(f,r,this.currentDirection))return;let h=c&&c[f]||{};i&&(h={min:0,max:0});const m=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[f]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(f,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return f1(this.visualElement,t),n.start(Ij(t,n,0,r,this.visualElement,!1))}stopAnimation(){ws(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ws(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ws(r=>{const{drag:n}=this.getProps();if(!Lm(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(r);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[r];o.set(t[r]-br(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Lc(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ws(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();a[i]=tZ({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ws(i=>{if(!Lm(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:d}=this.constraints[i];l.set(br(c,d,a[i]))})}addListeners(){if(!this.visualElement.current)return;sZ.set(this.visualElement,this);const t=this.visualElement.current,r=Zu(t,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Lc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),gr.read(n);const i=Gf(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ws(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())});return()=>{i(),r(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=m1,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Lm(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function oZ(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class iZ extends Gi{constructor(t){super(t),this.removeGroupControls=Os,this.removeListeners=Os,this.controls=new aZ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Os}unmount(){this.removeGroupControls(),this.removeListeners()}}const a_=e=>(t,r)=>{e&&gr.postRender(()=>e(t,r))};class lZ extends Gi{constructor(){super(...arguments),this.removePointerDownListener=Os}onPointerDown(t){this.session=new NR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:a_(t),onStart:a_(r),onMove:n,onEnd:(o,i)=>{delete this.session,a&&gr.postRender(()=>a(o,i))}}}mount(){this.removePointerDownListener=Zu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function o_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ct.test(e))e=parseFloat(e);else return e;const r=o_(e,t.target.x),n=o_(e,t.target.y);return`${r}% ${n}%`}},cZ={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Ai.parse(e);if(a.length>5)return n;const o=Ai.createTransformer(e),i=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+i]/=l,a[1+i]/=c;const d=br(l,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=d),typeof a[3+i]=="number"&&(a[3+i]/=d),o(a)}};let My=!1;class dZ extends u.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:o}=t;IQ(uZ),o&&(r.group&&r.group.add(o),n&&n.register&&a&&n.register(o),My&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Sp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:o}=this.props,{projection:i}=n;return i&&(i.isPresent=o,My=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==o?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||gr.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;My=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kR(e){const[t,r]=qO(),n=u.useContext(Z2);return s.jsx(dZ,{...e,layoutGroup:n,switchLayoutGroup:u.useContext(aR),isPresent:t,safeToRemove:r})}const uZ={borderRadius:{...xu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xu,borderTopRightRadius:xu,borderBottomLeftRadius:xu,borderBottomRightRadius:xu,boxShadow:cZ};function fZ(e,t,r){const n=vn(e)?e:_d(e);return n.start(Ij("",n,t,r)),n.animation}const hZ=(e,t)=>e.depth-t.depth;class mZ{constructor(){this.children=[],this.isDirty=!1}add(t){rj(this.children,t),this.isDirty=!0}remove(t){nj(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(hZ),this.isDirty=!1,this.children.forEach(t)}}function pZ(e,t){const r=Hn.now(),n=({timestamp:a})=>{const o=a-r;o>=t&&(Ii(n),e(o-t))};return gr.setup(n,!0),()=>Ii(n)}const CR=["TopLeft","TopRight","BottomLeft","BottomRight"],gZ=CR.length,i_=e=>typeof e=="string"?parseFloat(e):e,l_=e=>typeof e=="number"||ct.test(e);function xZ(e,t,r,n,a,o){a?(e.opacity=br(0,r.opacity??1,yZ(n)),e.opacityExit=br(t.opacity??1,0,vZ(n))):o&&(e.opacity=br(t.opacity??1,r.opacity??1,n));for(let i=0;i<gZ;i++){const l=`border${CR[i]}Radius`;let c=c_(t,l),d=c_(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||l_(c)===l_(d)?(e[l]=Math.max(br(i_(c),i_(d),n),0),(za.test(d)||za.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=br(t.rotate||0,r.rotate||0,n))}function c_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const yZ=_R(0,.5,hO),vZ=_R(.5,.95,Os);function _R(e,t,r){return n=>n<e?0:n>t?1:r(Bf(e,t,n))}function d_(e,t){e.min=t.min,e.max=t.max}function bs(e,t){d_(e.x,t.x),d_(e.y,t.y)}function u_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function f_(e,t,r,n,a){return e-=t,e=Ng(e,1/r,n),a!==void 0&&(e=Ng(e,1/a,n)),e}function bZ(e,t=0,r=1,n=.5,a,o=e,i=e){if(za.test(t)&&(t=parseFloat(t),t=br(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=br(o.min,o.max,n);e===o&&(l-=t),e.min=f_(e.min,t,r,l,a),e.max=f_(e.max,t,r,l,a)}function h_(e,t,[r,n,a],o,i){bZ(e,t[r],t[n],t[a],t.scale,o,i)}const wZ=["x","scaleX","originX"],jZ=["y","scaleY","originY"];function m_(e,t,r,n){h_(e.x,t,wZ,r?r.x:void 0,n?n.x:void 0),h_(e.y,t,jZ,r?r.y:void 0,n?n.y:void 0)}function p_(e){return e.translate===0&&e.scale===1}function ER(e){return p_(e.x)&&p_(e.y)}function g_(e,t){return e.min===t.min&&e.max===t.max}function NZ(e,t){return g_(e.x,t.x)&&g_(e.y,t.y)}function x_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function TR(e,t){return x_(e.x,t.x)&&x_(e.y,t.y)}function y_(e){return En(e.x)/En(e.y)}function v_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class SZ{constructor(){this.members=[]}add(t){rj(this.members,t),t.scheduleRender()}remove(t){if(nj(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kZ(e,t,r){let n="";const a=e.x.translate/t.x,o=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((a||o||i)&&(n=`translate3d(${a}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:f,rotateX:h,rotateY:m,skewX:p,skewY:g}=r;d&&(n=`perspective(${d}px) ${n}`),f&&(n+=`rotate(${f}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Iy=["","X","Y","Z"],CZ=1e3;let _Z=0;function Ay(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function PR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=pR(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",gr,!(a||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&PR(n)}function MR({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},l=t==null?void 0:t()){this.id=_Z++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PZ),this.nodes.forEach(OZ),this.nodes.forEach(RZ),this.nodes.forEach(MZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new mZ)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new oj),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=GO(i)&&!vQ(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let f,h=0;const m=()=>this.root.updateBlockedByResize=!1;gr.read(()=>{h=window.innerWidth}),e(i,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,f&&f(),f=pZ(m,250),Sp.hasAnimatedSinceResize&&(Sp.hasAnimatedSinceResize=!1,this.nodes.forEach(j_)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||zZ,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),y=!this.targetLayout||!TR(this.targetLayout,p),v=!h&&m;if(this.options.layoutRoot||this.resumeFrom||v||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...vj(g,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(f,v)}else h||j_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ii(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DZ),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(b_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(w_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AZ),this.nodes.forEach(EZ),this.nodes.forEach(TZ)):this.nodes.forEach(w_),this.clearAllSnapshots();const l=Hn.now();rn.delta=No(0,1e3/60,l-rn.timestamp),rn.timestamp=l,rn.isProcessing=!0,wy.update.process(rn),wy.preRender.process(rn),wy.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IZ),this.sharedNodes.forEach(LZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ar(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!ER(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;i&&this.instance&&(l||ol(this.latestValues)||f)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),BZ(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:i}=this.options;if(!i)return Ar();const l=i.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(UZ))){const{scroll:f}=this.root;f&&($c(l.x,f.offset.x),$c(l.y,f.offset.y))}return l}removeElementScroll(i){var c;const l=Ar();if(bs(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:h,options:m}=f;f!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&bs(l,i),$c(l.x,h.offset.x),$c(l.y,h.offset.y))}return l}applyTransform(i,l=!1){const c=Ar();bs(c,i);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Fc(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ol(f.latestValues)&&Fc(c,f.latestValues)}return ol(this.latestValues)&&Fc(c,this.latestValues),c}removeTransform(i){const l=Ar();bs(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ol(d.latestValues))continue;l1(d.latestValues)&&d.updateSnapshot();const f=Ar(),h=d.measurePageBox();bs(f,h),m_(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return ol(this.latestValues)&&m_(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ar(),this.relativeTargetOrigin=Ar(),tf(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ar(),this.targetWithTransforms=Ar()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bs(this.target,this.layout.layoutBox),cR(this.target,this.targetDelta)):bs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ar(),this.relativeTargetOrigin=Ar(),tf(this.relativeTargetOrigin,this.target,p.target),bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||l1(this.parent.latestValues)||lR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;bs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;oJ(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Ar());const{target:p}=i;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u_(this.prevProjectionDelta.x,this.projectionDelta.x),u_(this.prevProjectionDelta.y,this.projectionDelta.y)),ef(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!v_(this.projectionDelta.x,this.prevProjectionDelta.x)||!v_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zc(),this.projectionDelta=zc(),this.projectionDeltaWithTransform=zc()}setAnimationOrigin(i,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},h=zc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Ar(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=p!==g,b=this.getStack(),y=!b||b.members.length<=1,v=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(FZ));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const N=j/1e3;N_(h.x,i.x,N),N_(h.y,i.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tf(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$Z(this.relativeTarget,this.relativeTargetOrigin,m,N),w&&NZ(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ar()),bs(w,this.relativeTarget)),x&&(this.animationValues=f,xZ(f,d,this.latestValues,N,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ii(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gr.update(()=>{Sp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_d(0)),this.currentAnimation=fZ(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),i.onUpdate&&i.onUpdate(f)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=i;if(!(!l||!c||!d)){if(this!==i&&this.layout&&d&&IR(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ar();const h=En(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const m=En(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+m}bs(l,c),Fc(l,f),ef(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new SZ),this.sharedNodes.get(i).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Ay("z",i,d,this.animationValues);for(let f=0;f<Iy.length;f++)Ay(`rotate${Iy[f]}`,i,d,this.animationValues),Ay(`skew${Iy[f]}`,i,d,this.animationValues);i.render();for(const f in d)i.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Np(l==null?void 0:l.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Np(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ol(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=kZ(this.projectionDeltaWithTransform,this.treeScale,f);c&&(h=c(f,h)),i.transform=h;const{x:m,y:p}=this.projectionDelta;i.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,d.animationValues?i.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:i.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Wf){if(f[g]===void 0)continue;const{correct:x,applyTo:b,isCSSVariable:y}=Wf[g],v=h==="none"?f[g]:x(f[g],d);if(b){const w=b.length;for(let j=0;j<w;j++)i[b[j]]=v}else y?this.options.visualElement.renderState.vars[g]=v:i[g]=v}this.options.layoutId&&(i.pointerEvents=d===this?Np(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(b_),this.root.sharedNodes.clear()}}}function EZ(e){e.updateLayout()}function TZ(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:o}=e.options,i=t.source!==e.layout.source;o==="size"?ws(h=>{const m=i?t.measuredBox[h]:t.layoutBox[h],p=En(m);m.min=n[h].min,m.max=m.min+p}):IR(o,t.layoutBox,n)&&ws(h=>{const m=i?t.measuredBox[h]:t.layoutBox[h],p=En(n[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=zc();ef(l,n,t.layoutBox);const c=zc();i?ef(c,e.applyTransform(a,!0),t.measuredBox):ef(c,n,t.layoutBox);const d=!ER(l);let f=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const g=Ar();tf(g,t.layoutBox,m.layoutBox);const x=Ar();tf(x,n,p.layoutBox),TR(g,x)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function PZ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function MZ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function IZ(e){e.clearSnapshot()}function b_(e){e.clearMeasurements()}function w_(e){e.isLayoutDirty=!1}function AZ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function j_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function OZ(e){e.resolveTargetDelta()}function RZ(e){e.calcProjection()}function DZ(e){e.resetSkewAndRotation()}function LZ(e){e.removeLeadSnapshot()}function N_(e,t,r){e.translate=br(t.translate,0,r),e.scale=br(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function S_(e,t,r,n){e.min=br(t.min,r.min,n),e.max=br(t.max,r.max,n)}function $Z(e,t,r,n){S_(e.x,t.x,r.x,n),S_(e.y,t.y,r.y,n)}function FZ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const zZ={duration:.45,ease:[.4,0,.1,1]},k_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),C_=k_("applewebkit/")&&!k_("chrome/")?Math.round:Os;function __(e){e.min=C_(e.min),e.max=C_(e.max)}function BZ(e){__(e.x),__(e.y)}function IR(e,t,r){return e==="position"||e==="preserve-aspect"&&!qJ(y_(t),y_(r),.2)}function UZ(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const VZ=MR({attachResizeListener:(e,t)=>Gf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Oy={current:void 0},AR=MR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Oy.current){const e=new VZ({});e.mount(window),e.setOptions({layoutScroll:!0}),Oy.current=e}return Oy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),HZ={pan:{Feature:lZ},drag:{Feature:iZ,ProjectionNode:AR,MeasureLayout:kR}};function E_(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,o=n[a];o&&gr.postRender(()=>o(t,Oh(t)))}class WZ extends Gi{mount(){const{current:t}=this.node;t&&(this.unmount=mQ(t,(r,n)=>(E_(this.node,n,"Start"),a=>E_(this.node,a,"End"))))}unmount(){}}class GZ extends Gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mh(Gf(this.node.current,"focus",()=>this.onFocus()),Gf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function T_(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),o=n[a];o&&gr.postRender(()=>o(t,Oh(t)))}class qZ extends Gi{mount(){const{current:t}=this.node;t&&(this.unmount=yQ(t,(r,n)=>(T_(this.node,n,"Start"),(a,{success:o})=>T_(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const p1=new WeakMap,Ry=new WeakMap,KZ=e=>{const t=p1.get(e.target);t&&t(e)},YZ=e=>{e.forEach(KZ)};function XZ({root:e,...t}){const r=e||document;Ry.has(r)||Ry.set(r,{});const n=Ry.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(YZ,{root:e,...t})),n[a]}function QZ(e,t,r){const n=XZ(t);return p1.set(e,r),n.observe(e),()=>{p1.delete(e),n.unobserve(e)}}const JZ={some:0,all:1};class ZZ extends Gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:o}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:JZ[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),m=d?f:h;m&&m(c)};return QZ(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(eee(t,r))&&this.startObserver()}unmount(){}}function eee({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const tee={inView:{Feature:ZZ},tap:{Feature:qZ},focus:{Feature:GZ},hover:{Feature:WZ}},ree={layout:{ProjectionNode:AR,MeasureLayout:kR}},nee={...BJ,...tee,...HZ,...ree},Me=nJ(nee,gJ),see="dfkynhljk",aee="synergy_chat_avatars",el=e=>(e||"?").split(" ").map(t=>t[0]).slice(0,2).join("").toUpperCase(),P_=e=>{if(!e)return"";const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);if(n<60)return"now";const a=Math.floor(n/60);if(a<60)return`${a}m`;const o=Math.floor(a/60);if(o<24)return`${o}h`;const i=Math.floor(o/24);return i<7?`${i}d`:t.toLocaleDateString(void 0,{month:"short",day:"numeric"})},oee=e=>e?new Date(e).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):"",iee=(e,t)=>{const r=/([A-Z0-9]{3,10}-\d{5})/gi;r.lastIndex=0;const n=[];let a=0,o;for(;(o=r.exec(e))!==null;){const[i,l]=o;o.index>a&&n.push(e.slice(a,o.index));const c=l.toUpperCase();n.push(s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),t(c)},className:"mx-1 inline-flex items-center rounded-md border border-blue-200 bg-blue-50 px-1.5 py-0.5 text-xs font-bold text-blue-700 transition-colors hover:bg-blue-100 hover:text-blue-800 dark:border-blue-900 dark:bg-blue-900/30 dark:text-blue-300",children:c},o.index)),a=o.index+i.length}return a<e.length&&n.push(e.slice(a)),s.jsx(s.Fragment,{children:n})},lee=(e,t,r)=>{const n=e[t],a=Number(r.id),o=n.sender_id===a,i=t>0?e[t-1]:null,l=new Date(n.created_at).getTime(),c=5*60*1e3,d=i&&i.sender_id===n.sender_id&&l-new Date(i.created_at).getTime()<c;return{mine:o,isFirst:!d}},cee=(e,t)=>{if(!e||e.length===0)return"No members";const r=e.filter(i=>String(i.id)!==t.id).map(i=>i.name.split(" ")[0]);let a=["You",...r.slice(0,2)].join(", ");const o=r.length-2;return o>0&&(a+=` & ${o} other${o>1?"s":""}`),a},Aj=({user:e})=>{const[t,r]=u.useState(!1),[n,a]=u.useState("inbox"),[o,i]=u.useState([]),[l,c]=u.useState(null),[d,f]=u.useState([]),[h,m]=u.useState(""),[p,g]=u.useState(!1),[x,b]=u.useState([]),[y,v]=u.useState(""),[w,j]=u.useState([]),[N,S]=u.useState([]),[k,_]=u.useState(""),[C,E]=u.useState(""),[T,A]=u.useState(!1),[W,P]=u.useState(null),[te,le]=u.useState(!1),K=u.useRef(null),D=u.useRef(null),I=u.useRef(null),R=u.useMemo(()=>"/backend".replace(/\/+$/,""),[]),q=u.useMemo(()=>o.reduce((H,ge)=>H+ge.unread_count,0),[o]),z=(l==null?void 0:l.is_group)&&l.created_by_id===Number(e.id),Z=u.useMemo(()=>{if(!l)return[];const H=new Set(l.participants.map(ge=>ge.id));return x.filter(ge=>!H.has(ge.id)&&ge.name.toLowerCase().includes(y.toLowerCase()))},[x,l,y]),ce=u.useCallback((H="auto",ge=!1)=>{if(!D.current)return;const{scrollTop:Ne,scrollHeight:xe,clientHeight:Re}=D.current,at=xe-Ne-Re<150;(ge||at)&&setTimeout(()=>{var nt;(nt=K.current)==null||nt.scrollIntoView({behavior:H,block:"end"})},50)},[]),F=H=>{const{scrollTop:ge,scrollHeight:Ne,clientHeight:xe}=H.currentTarget,Re=Ne-ge-xe<150;le(!Re)},J=u.useCallback(async()=>{if(e!=null&&e.id)try{const H=await fetch(`${R}/messages/threads/all?employee_id=${encodeURIComponent(e.id)}`);if(!H.ok)throw new Error("Failed to load threads");const ge=await H.json();i((ge.threads||[]).map(Ne=>({...Ne,id:String(Ne.id)})))}catch(H){console.error("loadThreads error:",H)}},[R,e.id]),L=u.useCallback(async(H,ge=!1)=>{if(e!=null&&e.id){ge||(c(H),a("conversation"),f([]));try{const Ne=H.is_group?`${R}/messages/threads/${H.id}/messages?employee_id=${e.id}`:`${R}/messages/with/${H.other_id}?employee_id=${e.id}`,xe=await fetch(Ne,{credentials:"include"});if(!xe.ok)throw new Error("Failed to load messages");const at=((await xe.json()).messages||[]).map(nt=>({...nt,id:String(nt.id)}));f(nt=>JSON.stringify(nt)===JSON.stringify(at)?nt:at),await J(),ge||setTimeout(()=>{var nt;return(nt=K.current)==null?void 0:nt.scrollIntoView({behavior:"auto",block:"end"})},50)}catch(Ne){console.error("loadConversation error:",Ne)}}},[R,e.id,J]),U=u.useCallback(async()=>{if(!(x.length>0))try{const H=await fetch(`${R}/auth/users`,{credentials:"include"});if(!H.ok)throw new Error("Failed to load users");const ge=await H.json(),Ne=Array.isArray(ge)?ge:ge.users||[];b(Ne.map(xe=>({id:Number(xe.id),name:xe.name??xe.full_name??"Unknown",role:xe.role??xe.position??null})))}catch(H){console.error("loadEmployees error:",H)}},[R,x.length]),$=u.useCallback(async()=>{if(!(!(e!=null&&e.id)||!h.trim()||!l)){g(!0);try{const H=l.is_group?`${R}/messages/threads/${l.id}/messages?employee_id=${e.id}`:`${R}/messages`,ge=l.is_group?{body:h.trim()}:{sender_id:Number(e.id),recipient_id:l.other_id,body:h.trim()},Ne=await fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ge)});if(!Ne.ok)throw new Error("Send failed");const xe=await Ne.json();f(Re=>[...Re,{...xe,id:String(xe.id),sender_name:xe.sender_name??e.name}]),m(""),await J(),ce("smooth",!0)}catch(H){console.error("sendMessage error:",H)}finally{g(!1)}}},[R,e,h,l,J,ce]),M=u.useCallback(async()=>{if(!(w.length<1||!k.trim()))try{await fetch(`${R}/messages/groups`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:k.trim(),member_ids:[Number(e.id),...w]})}),await J(),_(""),m(""),j([]),a("inbox")}catch(H){console.error("createGroup error:",H)}},[R,e.id,k,w,J]),re=u.useCallback(async H=>{try{await fetch(`${R}/messages/threads/${H}?employee_id=${e.id}`,{method:"DELETE",credentials:"include"}),i(ge=>ge.filter(Ne=>Ne.id!==H)),(l==null?void 0:l.id)===H&&(c(null),f([]),a("inbox"))}catch(ge){console.error("deleteThread error:",ge)}},[R,e.id,l]),de=H=>{P(H),A(!0)},Ee=u.useCallback(H=>{navigator.clipboard.writeText(H),window.dispatchEvent(new CustomEvent("synergy:focus",{detail:{synergyId:H}}))},[]),Ze=u.useCallback(async H=>{if(!(!l||!z))try{await fetch(`${R}/messages/threads/${l.id}?employee_id=${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({subject:H.subject,avatar_url:H.avatar_url??l.avatar_url})}),await J(),c(ge=>ge?{...ge,subject:H.subject,avatar_url:H.avatar_url??ge.avatar_url}:null)}catch(ge){console.error("updateGroupInfo error:",ge)}},[R,e.id,l,z,J]),rt=u.useCallback(async()=>{if(l!=null&&l.id)try{await fetch(`${R}/messages/threads/${l.id}/participants/me?employee_id=${e.id}`,{method:"DELETE",credentials:"include"}),await J(),a("inbox"),c(null)}catch(H){console.error("leaveGroup error:",H)}},[R,e.id,l,J]),Xe=u.useCallback(async H=>{if(!(!(l!=null&&l.id)||!z))try{await fetch(`${R}/messages/threads/${l.id}/participants/${H}?employee_id=${e.id}`,{method:"DELETE",credentials:"include"}),c(ge=>ge?{...ge,participants:ge.participants.filter(Ne=>Ne.id!==H)}:null),await J()}catch(ge){console.error("removeParticipant error:",ge)}},[R,e.id,l,z,J]),et=u.useCallback(async()=>{if(!(!(l!=null&&l.id)||!z||N.length===0))try{for(const ge of N)await fetch(`${R}/messages/threads/${l.id}/participants?employee_id=${e.id}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user_id:ge})});const H=x.filter(ge=>N.includes(ge.id));c(ge=>ge?{...ge,participants:[...ge.participants,...H]}:null),S([]),await J(),a("group_info")}catch(H){console.error("addMembersToGroup error:",H)}},[R,e.id,l,z,N,x,J]),Je=async H=>{const ge=new FormData;ge.append("file",H),ge.append("upload_preset",aee);const Ne=await fetch(`https://api.cloudinary.com/v1_1/${see}/image/upload`,{method:"POST",body:ge});if(!Ne.ok)throw new Error("Cloudinary upload failed.");return(await Ne.json()).secure_url},We=async H=>{var Ne;const ge=(Ne=H.target.files)==null?void 0:Ne[0];if(!(!ge||!l)){try{const xe=await Je(ge);await Ze({subject:l.subject||"Group",avatar_url:xe})}catch(xe){console.error("File upload failed:",xe)}H.target&&(H.target.value="")}};u.useEffect(()=>{t&&J()},[t,J]),u.useEffect(()=>{(n==="new"||n==="add_members")&&U()},[n,U]),u.useEffect(()=>{n==="conversation"&&ce("auto",!1)},[d,n,ce]),u.useEffect(()=>{if(!(e!=null&&e.id))return;const ge=setInterval(()=>{n==="conversation"&&l&&L(l,!0).catch(()=>{}),J().catch(()=>{})},7e3);return()=>clearInterval(ge)},[e.id,n,l,J,L]);const ee=u.useMemo(()=>o.filter(H=>!H.is_group),[o]),X=u.useMemo(()=>o.filter(H=>H.is_group),[o]);if(!t)return s.jsx(Me.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"fixed bottom-6 right-6 z-50",children:s.jsxs(V,{onClick:()=>r(!0),size:"icon",className:"relative h-14 w-14 rounded-full bg-gradient-to-tr from-blue-600 to-blue-500 shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-105 transition-all duration-300",children:[s.jsx(ak,{className:"h-7 w-7 text-white"}),q>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 ring-2 ring-white text-[10px] font-bold text-white shadow-sm",children:q>99?"99+":q})]})});const Te=n==="group_info"?"Group Info":n==="add_members"?"Add Members":l!=null&&l.is_group?l.subject:l==null?void 0:l.other_name,be=n==="inbox"?"Messages":n==="new"?"New Message":Te||"Chat";return s.jsxs(Me.div,{initial:{opacity:0,scale:.94,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.25,ease:"easeOut"},className:"fixed bottom-6 right-6 z-50 w-[400px] max-w-[calc(100vw-2rem)]",children:[s.jsx("input",{type:"file",ref:I,onChange:We,accept:"image/*",style:{display:"none"}}),s.jsxs("div",{className:"flex h-[650px] flex-col overflow-hidden rounded-[24px] bg-white border border-gray-200 shadow-2xl dark:bg-zinc-950 dark:border-zinc-800",children:[s.jsxs("header",{className:"relative z-10 flex h-16 shrink-0 items-center justify-between border-b border-gray-100 bg-white/80 backdrop-blur-md px-4 dark:border-zinc-800 dark:bg-zinc-900/80",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n!=="inbox"&&s.jsx(V,{size:"icon",variant:"ghost",className:"h-9 w-9 shrink-0 rounded-full hover:bg-gray-100 dark:hover:bg-zinc-800",onClick:()=>{n==="group_info"?a("conversation"):n==="add_members"?a("group_info"):(a("inbox"),c(null))},children:s.jsx(zw,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:se("flex items-center gap-1",(l==null?void 0:l.is_group)&&n==="conversation"&&"cursor-pointer group select-none"),onClick:()=>{l!=null&&l.is_group&&n==="conversation"&&(E(l.subject||""),a("group_info"))},children:[s.jsx("h1",{className:"text-[17px] font-semibold tracking-tight text-gray-900 dark:text-white truncate",children:be}),n==="conversation"&&(l==null?void 0:l.is_group)&&s.jsx(In,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),n==="conversation"&&(l==null?void 0:l.is_group)&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:cee(l.participants,e)})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[n==="inbox"&&s.jsx(V,{size:"icon",variant:"ghost",className:"h-9 w-9 rounded-full text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20",onClick:()=>a("new"),children:s.jsx(iF,{className:"h-5 w-5"})}),s.jsx(V,{size:"icon",variant:"ghost",className:"h-9 w-9 rounded-full text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-zinc-800 dark:hover:text-white",onClick:()=>r(!1),children:s.jsx(Mt,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"flex flex-1 flex-col overflow-hidden bg-gray-50/50 dark:bg-zinc-950 relative",children:s.jsxs(Pn,{mode:"wait",children:[n==="inbox"&&s.jsx(Me.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex h-full flex-col",children:s.jsx(Au,{className:"flex-1",children:s.jsxs("div",{className:"p-3 space-y-6",children:[ee.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"px-3 text-[11px] font-bold tracking-wider text-gray-400 uppercase",children:"Direct Messages"}),ee.map(H=>s.jsxs("div",{className:"group relative flex items-center gap-3 rounded-xl p-2.5 hover:bg-white hover:shadow-sm hover:ring-1 hover:ring-gray-200 transition-all dark:hover:bg-zinc-900 dark:hover:ring-zinc-800 cursor-pointer",onClick:()=>L(H),children:[s.jsx(Rr,{className:"h-12 w-12 border border-gray-100 shadow-sm",children:H.avatar_url?s.jsx(Xu,{src:H.avatar_url,className:"object-cover"}):s.jsx(Dr,{className:"bg-gradient-to-br from-indigo-500 to-purple-500 text-white font-semibold",children:el(H.other_name)})}),s.jsxs("div",{className:"flex-1 min-w-0 py-0.5",children:[s.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white truncate text-[15px]",children:H.other_name}),s.jsx("span",{className:"text-[11px] text-gray-400 shrink-0 ml-2 font-medium",children:P_(H.created_at)})]}),s.jsx("p",{className:se("text-sm truncate pr-6",H.unread_count>0?"text-gray-900 font-medium dark:text-white":"text-gray-500 dark:text-gray-400"),children:H.body})]}),H.unread_count>0&&s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex h-5 min-w-[1.25rem] px-1 items-center justify-center rounded-full bg-blue-600 text-[10px] font-bold text-white shadow-sm",children:H.unread_count}),s.jsx("button",{onClick:ge=>{ge.stopPropagation(),de(H.id)},className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 hover:bg-red-50 p-2 rounded-full text-gray-400 hover:text-red-600 transition-all z-10",title:"Delete chat",children:s.jsx(Tr,{className:"h-4 w-4"})})]},H.id))]}),X.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"px-3 text-[11px] font-bold tracking-wider text-gray-400 uppercase",children:"Groups"}),X.map(H=>{var xe;const ge=H.participants.find(Re=>Re.id===H.sender_id),Ne=`${(ge==null?void 0:ge.name)===e.name?"You":(xe=ge==null?void 0:ge.name)==null?void 0:xe.split(" ")[0]}: `;return s.jsxs("div",{className:"group relative flex items-center gap-3 rounded-xl p-2.5 hover:bg-white hover:shadow-sm hover:ring-1 hover:ring-gray-200 transition-all dark:hover:bg-zinc-900 dark:hover:ring-zinc-800 cursor-pointer",onClick:()=>L(H),children:[s.jsx(Rr,{className:"h-12 w-12 border border-gray-100 shadow-sm",children:H.avatar_url?s.jsx(Xu,{src:H.avatar_url,className:"object-cover"}):s.jsx(Dr,{className:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white font-semibold",children:el(H.subject||"G")})}),s.jsxs("div",{className:"flex-1 min-w-0 py-0.5",children:[s.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white truncate text-[15px]",children:H.subject}),s.jsx("span",{className:"text-[11px] text-gray-400 shrink-0 ml-2 font-medium",children:P_(H.created_at)})]}),s.jsxs("p",{className:se("text-sm truncate pr-6",H.unread_count>0?"text-gray-900 font-medium dark:text-white":"text-gray-500 dark:text-gray-400"),children:[s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:Ne}),H.body]})]}),H.unread_count>0&&s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex h-5 min-w-[1.25rem] px-1 items-center justify-center rounded-full bg-blue-600 text-[10px] font-bold text-white shadow-sm",children:H.unread_count}),H.created_by_id===Number(e.id)&&s.jsx("button",{onClick:Re=>{Re.stopPropagation(),de(H.id)},className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 hover:bg-red-50 p-2 rounded-full text-gray-400 hover:text-red-600 transition-all z-10",title:"Delete group",children:s.jsx(Tr,{className:"h-4 w-4"})})]},H.id)})]}),ee.length===0&&X.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-60",children:[s.jsx(ak,{className:"h-12 w-12 text-gray-300 mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"No messages yet"}),s.jsx(V,{variant:"link",onClick:()=>a("new"),className:"text-blue-600",children:"Start a new chat"})]})]})})},"inbox"),n==="conversation"&&s.jsxs(Me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex h-full flex-col bg-white dark:bg-zinc-950 relative",children:[s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50/50 dark:bg-black/20",onScroll:F,ref:D,children:s.jsxs("div",{className:"px-4 pt-4 pb-4",children:[d.map((H,ge)=>{const{mine:Ne,isFirst:xe}=lee(d,ge,e);return s.jsx("div",{className:se("flex flex-col mb-1",Ne?"items-end":"items-start",xe?"mt-4":""),children:s.jsxs("div",{className:se("flex items-end gap-2 max-w-[85%]",Ne?"flex-row-reverse":"flex-row"),children:[!Ne&&(l==null?void 0:l.is_group)&&s.jsx("div",{className:"shrink-0 mb-1",children:xe?s.jsx(Rr,{className:"h-8 w-8",children:s.jsx(Dr,{className:"text-[10px] bg-gray-200",children:el(H.sender_name||"?")})}):s.jsx("div",{className:"w-8"})}),s.jsxs("div",{className:se("flex flex-col",Ne?"items-end":"items-start"),children:[!Ne&&(l==null?void 0:l.is_group)&&xe&&s.jsx("span",{className:"text-[10px] font-semibold text-gray-500 ml-1 mb-1",children:H.sender_name}),s.jsx("div",{className:se("relative rounded-2xl px-4 py-2 text-[14px] shadow-sm",Ne?"bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-br-sm":"bg-white border border-gray-100 text-gray-800 dark:bg-zinc-800 dark:border-zinc-700 dark:text-zinc-100 rounded-bl-sm"),children:s.jsx("div",{className:"break-words leading-relaxed tracking-normal",children:iee(H.body,Ee)})}),s.jsxs("div",{className:se("mt-1 text-[9px] font-medium text-gray-400 select-none",Ne?"text-right mr-1":"text-left ml-1"),children:[oee(H.created_at),Ne&&H.read_at&&s.jsx("span",{className:"ml-1 text-blue-400",children:"Read"})]})]})]})},H.id)}),s.jsx("div",{ref:K})]})}),s.jsx(Pn,{children:te&&s.jsx(Me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-20 right-4 z-20",children:s.jsx(V,{size:"icon",className:"rounded-full bg-white shadow-lg text-blue-600 hover:bg-blue-50 border border-gray-200 dark:bg-zinc-800 dark:border-zinc-700 dark:text-blue-400 w-10 h-10",onClick:()=>ce("smooth",!0),children:s.jsx(GP,{className:"h-5 w-5"})})})}),s.jsx("div",{className:"p-3 bg-white border-t border-gray-100 dark:bg-zinc-900 dark:border-zinc-800",children:s.jsxs("form",{onSubmit:H=>{H.preventDefault(),$()},className:"relative flex items-center",children:[s.jsx(we,{value:h,onChange:H=>m(H.target.value),placeholder:"Type a message...",className:"h-11 rounded-full bg-gray-100 border-0 pl-4 pr-12 text-sm focus-visible:ring-1 focus-visible:ring-blue-500 focus-visible:bg-white transition-all dark:bg-zinc-800 dark:focus-visible:bg-zinc-900"}),s.jsx(V,{type:"submit",size:"icon",disabled:!h.trim()||p,className:se("absolute right-1.5 h-8 w-8 rounded-full transition-all",h.trim()?"bg-blue-600 hover:bg-blue-700 text-white shadow-md":"bg-transparent text-gray-400 hover:bg-gray-200"),children:s.jsx(s4,{className:"h-4 w-4"})})]})})]},"conversation"),n==="new"&&s.jsxs(Me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex h-full flex-col bg-white dark:bg-zinc-950",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-zinc-800 space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(we,{placeholder:"Search people...",autoFocus:!0,value:y,onChange:H=>v(H.target.value),className:"pl-9 h-10 rounded-xl bg-gray-50 border-gray-200 dark:bg-zinc-900 dark:border-zinc-800"})]}),w.length>0&&s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:w.map(H=>{const ge=x.find(Ne=>Ne.id===H);return ge?s.jsxs("div",{className:"flex items-center gap-1 bg-blue-50 text-blue-700 px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap dark:bg-blue-900/30 dark:text-blue-300",children:[ge.name.split(" ")[0],s.jsx(Mt,{className:"h-3 w-3 cursor-pointer hover:text-blue-900",onClick:()=>j(Ne=>Ne.filter(xe=>xe!==H))})]},H):null})}),w.length>1&&s.jsx(we,{placeholder:"Group Name (Required)",value:k,onChange:H=>_(H.target.value),className:"h-10 rounded-xl bg-gray-50 border-gray-200 dark:bg-zinc-900 dark:border-zinc-800"})]}),s.jsx(Au,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:x.filter(H=>H.name.toLowerCase().includes(y.toLowerCase())&&H.id!==Number(e.id)).map(H=>{const ge=w.includes(H.id);return s.jsxs("div",{className:"flex items-center gap-3 rounded-xl p-2.5 hover:bg-gray-50 dark:hover:bg-zinc-900 cursor-pointer transition-colors",onClick:()=>{const Ne={id:`dm-${H.id}`,other_id:H.id,other_name:H.name,is_group:!1,sender_id:0,body:"",created_at:"",unread_count:0,subject:null,participants:[],avatar_url:null,created_by_id:0};w.length===0?L(Ne):j(xe=>xe.includes(H.id)?xe.filter(Re=>Re!==H.id):[...xe,H.id])},children:[s.jsx(Rr,{className:"h-10 w-10",children:s.jsx(Dr,{children:el(H.name)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:H.name}),H.role&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:H.role})]}),s.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),j(xe=>xe.includes(H.id)?xe.filter(Re=>Re!==H.id):[...xe,H.id])},className:se("flex h-6 w-6 items-center justify-center rounded-full border transition-all",ge?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-300 hover:border-blue-400 hover:text-blue-400 dark:border-zinc-600"),children:ge?s.jsx(tr,{className:"h-3 w-3"}):s.jsx("span",{className:"mb-0.5 text-lg leading-none",children:"+"})})]},H.id)})})}),w.length>1&&s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 dark:bg-zinc-900 dark:border-zinc-800",children:s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(V,{variant:"ghost",onClick:()=>{j([]),_("")},children:"Cancel"}),s.jsx(V,{onClick:M,disabled:!k.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full px-6",children:"Create Group"})]})})]},"new"),n==="group_info"&&l&&s.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex h-full flex-col bg-gray-50/50 dark:bg-black",children:s.jsxs(Au,{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col items-center pt-8 pb-6 bg-white border-b border-gray-100 dark:bg-zinc-900 dark:border-zinc-800 mb-2",children:[s.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var H;return z&&((H=I.current)==null?void 0:H.click())},children:[s.jsx(Rr,{className:"h-24 w-24 border-4 border-white shadow-lg",children:l.avatar_url?s.jsx(Xu,{src:l.avatar_url,className:"object-cover"}):s.jsx(Dr,{className:"text-2xl bg-gray-100",children:el(l.subject||"G")})}),z&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Vw,{className:"h-6 w-6 text-white"})})]}),s.jsxs("div",{className:"mt-4 px-8 w-full text-center",children:[z?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(we,{value:C,onChange:H=>E(H.target.value),className:"text-center text-lg font-bold bg-transparent border-transparent hover:border-gray-200 focus:border-blue-500 focus:bg-white transition-all h-9 p-0 w-full max-w-[200px]"}),C!==l.subject&&s.jsx(V,{size:"sm",variant:"ghost",onClick:()=>Ze({subject:C}),children:s.jsx(tr,{className:"h-4 w-4 text-green-600"})})]}):s.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:l.subject}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.participants.length," Members"]})]})]}),s.jsxs("div",{className:"px-4 py-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[s.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Participants"}),z&&s.jsxs("button",{onClick:()=>a("add_members"),className:"text-xs font-bold text-blue-600 hover:underline flex items-center gap-1",children:[s.jsx(o4,{className:"h-3 w-3"})," Add"]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm dark:bg-zinc-900 dark:border-zinc-800",children:l.participants.map((H,ge)=>s.jsxs("div",{className:se("flex items-center gap-3 p-3 hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",ge!==l.participants.length-1&&"border-b border-gray-100 dark:border-zinc-800"),children:[s.jsx(Rr,{className:"h-9 w-9",children:s.jsx(Dr,{children:el(H.name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-white truncate",children:H.name}),l.created_by_id===H.id&&s.jsx("p",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wide",children:"Admin"})]}),z&&H.id!==Number(e.id)&&s.jsx(V,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-400 hover:text-red-600 hover:bg-red-50",onClick:()=>Xe(H.id),children:s.jsx(mF,{className:"h-4 w-4"})})]},H.id))})]}),s.jsxs("div",{className:"px-6 mt-6 space-y-3 pb-8",children:[s.jsxs(V,{variant:"outline",className:"w-full text-red-600 border-red-100 hover:bg-red-50 hover:text-red-700 dark:border-red-900/30 dark:bg-red-900/10",onClick:rt,children:[s.jsx(ZP,{className:"h-4 w-4 mr-2"})," Leave Group"]}),z&&s.jsxs(V,{variant:"ghost",className:"w-full text-gray-400 hover:text-red-600 hover:bg-transparent",onClick:()=>de(l.id),children:[s.jsx(Tr,{className:"h-4 w-4 mr-2"})," Delete Group"]})]})]})},"group_info"),n==="add_members"&&l&&s.jsxs(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex h-full flex-col bg-white dark:bg-zinc-950",children:[s.jsx("div",{className:"border-b border-gray-100 dark:border-zinc-800 p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(we,{placeholder:"Search people...",autoFocus:!0,value:y,onChange:H=>v(H.target.value),className:"pl-9 h-10 rounded-xl bg-gray-50 border-gray-200 dark:bg-zinc-900 dark:border-zinc-800"})]})}),s.jsx(Au,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:Z.length===0?s.jsx("p",{className:"text-center text-sm text-gray-400 mt-8",children:"No people found"}):Z.map(H=>{const ge=N.includes(H.id);return s.jsxs("div",{className:"flex items-center gap-3 rounded-xl p-2.5 hover:bg-gray-50 dark:hover:bg-zinc-900 cursor-pointer transition-colors",onClick:()=>{S(Ne=>Ne.includes(H.id)?Ne.filter(xe=>xe!==H.id):[...Ne,H.id])},children:[s.jsx(Rr,{className:"h-10 w-10",children:s.jsx(Dr,{children:el(H.name)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:H.name}),H.role&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:H.role})]}),s.jsx("div",{className:se("flex h-6 w-6 items-center justify-center rounded-full border transition-all",ge?"border-blue-600 bg-blue-600":"border-gray-300 dark:border-zinc-600"),children:ge&&s.jsx(tr,{className:"h-3 w-3 text-white"})})]},H.id)})})}),s.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50 dark:border-zinc-800 dark:bg-zinc-900",children:s.jsx(V,{onClick:et,disabled:N.length===0,className:"w-full bg-blue-600 hover:bg-blue-700 text-white rounded-full",children:`Add ${N.length} Member${N.length===1?"":"s"}`})})]},"add_members")]})})]}),s.jsx(Gd,{open:T,onOpenChange:A,children:s.jsxs(Xl,{className:"sm:max-w-[425px]",children:[s.jsxs(Ql,{children:[s.jsx(Jl,{children:"Delete Conversation"}),s.jsx(A2,{children:"Are you sure you want to delete this conversation? This action cannot be undone."})]}),s.jsxs(Ch,{children:[s.jsx(V,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),s.jsx(V,{variant:"destructive",onClick:()=>{W&&re(W),A(!1),P(null)},children:"Delete"})]})]})})]})},Rh=u.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Rh.displayName="Textarea";const dee=["A","B","C","D","P"],OR={A:{code:"A",label:"Grade A",condition:"Excellent",light:"border-emerald-300 text-emerald-700 bg-emerald-50",dark:"border-emerald-600 text-emerald-400 bg-emerald-900/30"},B:{code:"B",label:"Grade B",condition:"Good",light:"border-blue-300 text-blue-700 bg-blue-50",dark:"border-blue-600 text-blue-400 bg-blue-900/30"},C:{code:"C",label:"Grade C",condition:"Fair",light:"border-amber-300 text-amber-700 bg-amber-50",dark:"border-amber-600 text-amber-400 bg-amber-900/30"},D:{code:"D",label:"Grade D",condition:"Rough",light:"border-rose-300 text-rose-700 bg-rose-50",dark:"border-rose-600 text-rose-400 bg-rose-900/30"},P:{code:"P",label:"Grade P",condition:"For Parts",light:"border-slate-300 text-slate-700 bg-slate-50",dark:"border-slate-600 text-slate-300 bg-slate-900/30"}},uee=dee.slice();function fee(e){return OR[e].condition}function hee(e){const t=Object.entries(OR).find(([,r])=>r.condition.toLowerCase()===e.toLowerCase());return(t==null?void 0:t[0])??"B"}const M_={defaultGrade:"B",autoSetDateToToday:!0,preventOverwriteExistingId:!0,soundOnSave:!1,denseMode:!1,showSpecsInline:!0,itemsPerPage:50,wideMode:!1,autoRefreshInterval:30},mee="/backend".trim(),Sg=new URL(mee,window.location.origin).toString().replace(/\/+$/,""),pee={Excellent:"A",Good:"B",Fair:"C",Rough:"D",Parts:"P"},RR={box:jl,power:mh,part:ki,acc:T7,laptop:vb,desktop:U7,monitor:R7,tablet:cF,drive:S7,print:bn,phone:nF,camera:Vw,tv:uF,projector:q7,audio:k7,speaker:sF,disc:u7,game:b7,watch:gF,home:uh,kitchen:pF,shirt:tF,sport:f7,music:$7,security:Gl,car:o7,drone:G7},g1={slate:"bg-slate-500/10 border-slate-500/20 text-slate-500",red:"bg-red-500/10 border-red-500/20 text-red-600",orange:"bg-orange-500/10 border-orange-500/20 text-orange-600",amber:"bg-amber-500/10 border-amber-500/20 text-amber-600",green:"bg-emerald-500/10 border-emerald-500/20 text-emerald-600",blue:"bg-blue-500/10 border-blue-500/20 text-blue-600",sky:"bg-sky-500/10 border-sky-500/20 text-sky-600",indigo:"bg-indigo-500/10 border-indigo-500/20 text-indigo-600",violet:"bg-violet-500/10 border-violet-500/20 text-violet-600",purple:"bg-purple-500/10 border-purple-500/20 text-purple-600",fuchsia:"bg-fuchsia-500/10 border-fuchsia-500/20 text-fuchsia-600",pink:"bg-pink-500/10 border-pink-500/20 text-pink-600"};function kp(e){return{...e,grade:e.grade??pee[e.condition]??"B"}}function x1(e){return{synergyId:e.synergyId??e.synergy_id??e.id??"",productName:e.productName??e.product_name??e.title??"",category:e.categoryLabel??e.category??e.category_label??e.categoryLbl??"",categoryId:e.categoryId??e.category_id??null,categoryLbl:e.categoryLabel??e.categoryLbl??e.category_label??e.category??"",categoryIcon:e.categoryIcon??"box",categoryColor:e.categoryColor??"slate",grade:e.grade,condition:e.condition,status:e.status??e.testStatus??e.test_status??null,testedBy:e.testedBy??e.tested_by??null,testedDate:e.testedDate??e.tested_date??null,testerComment:e.testerComment??e.tester_comment??null,specs:e.specs??{},price:e.price??null,ebayPrice:e.ebayPrice??e.ebay_price??null,purchaseCost:e.purchaseCost??e.unit_cost??e.cost_unit??null,postedAt:e.postedAt??e.posted_at??null,postedBy:e.postedBy??e.posted_by??null,ebayItemUrl:e.ebayItemUrl??e.ebay_item_url??null,lastPrintedAt:e.lastPrintedAt??e.last_printed_at??null,upc:e.upc??null,asin:e.asin??null,partStatus:e.partStatus??e.part_status??null}}function I_(e){return Array.isArray(e)?e:e&&Array.isArray(e.items)?e.items:e&&Array.isArray(e.rows)?e.rows:[]}const DR=e=>{const t=e.testedDate||e.testedAt,r=!!(e.grade&&e.testedBy&&t),n=[];return e.grade||n.push("Grade"),e.testedBy||n.push("Tester"),t||n.push("Date"),{isReady:r,missingFields:n,grade:e.grade??"N/A",testedBy:e.testedBy??"N/A"}},gee=e=>g1[e||"slate"]||g1.slate,Cp=e=>RR[e||"box"]||jl,xee=e=>{if(!e)return null;if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString().slice(0,10)},A_=e=>e===""||e==null||!Number.isFinite(Number(e))?null:Number(e),yee=e=>typeof e=="string"&&/^[0-9a-f]{8}-/.test(e)?e:null,vee=e=>{const t={};return"grade"in e&&(t.grade=e.grade??null),"testedBy"in e&&(t.testedBy=e.testedBy??null),"testedDate"in e&&(t.testedDate=xee(e.testedDate)),"testerComment"in e&&(t.testerComment=e.testerComment??null),"specs"in e&&(t.specs=e.specs||{}),"price"in e&&(t.price=A_(e.price)),"ebayPrice"in e&&(t.ebayPrice=A_(e.ebayPrice)),"categoryId"in e&&(t.categoryId=yee(e.categoryId)),"partStatus"in e&&(t.partStatus=e.partStatus),t};async function bee(e){const t=new AbortController,r=setTimeout(()=>t.abort(),1e4);try{const n=await fetch(`${Sg}/rows/search_similar`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",signal:t.signal,body:JSON.stringify(e)});return n.ok?await n.json():{items:[]}}finally{clearTimeout(r)}}var Oj={},F0={},Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});function wee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var jee=function e(t,r){wee(this,e),this.data=t,this.text=r.text||t,this.options=r};Ln.default=jee;Object.defineProperty(F0,"__esModule",{value:!0});F0.CODE39=void 0;var Nee=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),See=Ln,kee=Cee(See);function Cee(e){return e&&e.__esModule?e:{default:e}}function _ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Tee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Pee=function(e){Tee(t,e);function t(r,n){return _ee(this,t),r=r.toUpperCase(),n.mod43&&(r+=Aee(Oee(r))),Eee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return Nee(t,[{key:"encode",value:function(){for(var n=Dy("*"),a=0;a<this.data.length;a++)n+=Dy(this.data[a])+"0";return n+=Dy("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),t}(kee.default),LR=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],Mee=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Dy(e){return Iee($R(e))}function Iee(e){return Mee[e].toString(2)}function Aee(e){return LR[e]}function $R(e){return LR.indexOf(e)}function Oee(e){for(var t=0,r=0;r<e.length;r++)t+=$R(e[r]);return t=t%43,t}F0.CODE39=Pee;var Ia={},Rj={},Xd={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});var yu;function Ly(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var FR=dr.SET_A=0,zR=dr.SET_B=1,BR=dr.SET_C=2;dr.SHIFT=98;var Ree=dr.START_A=103,Dee=dr.START_B=104,Lee=dr.START_C=105;dr.MODULO=103;dr.STOP=106;dr.FNC1=207;dr.SET_BY_CODE=(yu={},Ly(yu,Ree,FR),Ly(yu,Dee,zR),Ly(yu,Lee,BR),yu);dr.SWAP={101:FR,100:zR,99:BR};dr.A_START_CHAR="";dr.B_START_CHAR="";dr.C_START_CHAR="";dr.A_CHARS="[\0-_-]";dr.B_CHARS="[ --]";dr.C_CHARS="(*[0-9]{2}*)";dr.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Xd,"__esModule",{value:!0});var $ee=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Fee=Ln,zee=Bee(Fee),Zn=dr;function Bee(e){return e&&e.__esModule?e:{default:e}}function Uee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Hee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Wee=function(e){Hee(t,e);function t(r,n){Uee(this,t);var a=Vee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.substring(1),n));return a.bytes=r.split("").map(function(o){return o.charCodeAt(0)}),a}return $ee(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,a=n.shift()-105,o=Zn.SET_BY_CODE[a];if(o===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(Zn.FNC1);var i=t.next(n,1,o);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(a)+i.result+t.getBar((i.checksum+a)%Zn.MODULO)+t.getBar(Zn.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return Zn.BARS[n]?Zn.BARS[n].toString():""}},{key:"correctIndex",value:function(n,a){if(a===Zn.SET_A){var o=n.shift();return o<32?o+64:o-32}else return a===Zn.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,a,o){if(!n.length)return{result:"",checksum:0};var i=void 0,l=void 0;if(n[0]>=200){l=n.shift()-105;var c=Zn.SWAP[l];c!==void 0?i=t.next(n,a+1,c):((o===Zn.SET_A||o===Zn.SET_B)&&l===Zn.SHIFT&&(n[0]=o===Zn.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),i=t.next(n,a+1,o))}else l=t.correctIndex(n,o),i=t.next(n,a+1,o);var d=t.getBar(l),f=l*a;return{result:d+i.result,checksum:f+i.checksum}}}]),t}(zee.default);Xd.default=Wee;var Dj={};Object.defineProperty(Dj,"__esModule",{value:!0});var gi=dr,UR=function(t){return t.match(new RegExp("^"+gi.A_CHARS+"*"))[0].length},VR=function(t){return t.match(new RegExp("^"+gi.B_CHARS+"*"))[0].length},HR=function(t){return t.match(new RegExp("^"+gi.C_CHARS+"*"))[0]};function Lj(e,t){var r=t?gi.A_CHARS:gi.B_CHARS,n=e.match(new RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+""+WR(e.substring(n[1].length));var a=e.match(new RegExp("^"+r+"+"))[0];return a.length===e.length?e:a+String.fromCharCode(t?205:206)+Lj(e.substring(a.length),!t)}function WR(e){var t=HR(e),r=t.length;if(r===e.length)return e;e=e.substring(r);var n=UR(e)>=VR(e);return t+String.fromCharCode(n?206:205)+Lj(e,n)}Dj.default=function(e){var t=void 0,r=HR(e).length;if(r>=2)t=gi.C_START_CHAR+WR(e);else{var n=UR(e)>VR(e);t=(n?gi.A_START_CHAR:gi.B_START_CHAR)+Lj(e,n)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,o){return""+o})};Object.defineProperty(Rj,"__esModule",{value:!0});var Gee=Xd,qee=GR(Gee),Kee=Dj,Yee=GR(Kee);function GR(e){return e&&e.__esModule?e:{default:e}}function Xee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Qee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Jee=function(e){Qee(t,e);function t(r,n){if(Xee(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(r))var a=$y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,Yee.default)(r),n));else var a=$y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return $y(a)}return t}(qee.default);Rj.default=Jee;var $j={};Object.defineProperty($j,"__esModule",{value:!0});var Zee=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ete=Xd,tte=rte(ete),O_=dr;function rte(e){return e&&e.__esModule?e:{default:e}}function nte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ste(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ate(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ote=function(e){ate(t,e);function t(r,n){return nte(this,t),ste(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,O_.A_START_CHAR+r,n))}return Zee(t,[{key:"valid",value:function(){return new RegExp("^"+O_.A_CHARS+"+$").test(this.data)}}]),t}(tte.default);$j.default=ote;var Fj={};Object.defineProperty(Fj,"__esModule",{value:!0});var ite=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),lte=Xd,cte=dte(lte),R_=dr;function dte(e){return e&&e.__esModule?e:{default:e}}function ute(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fte(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var mte=function(e){hte(t,e);function t(r,n){return ute(this,t),fte(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,R_.B_START_CHAR+r,n))}return ite(t,[{key:"valid",value:function(){return new RegExp("^"+R_.B_CHARS+"+$").test(this.data)}}]),t}(cte.default);Fj.default=mte;var zj={};Object.defineProperty(zj,"__esModule",{value:!0});var pte=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),gte=Xd,xte=yte(gte),D_=dr;function yte(e){return e&&e.__esModule?e:{default:e}}function vte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bte(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function wte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jte=function(e){wte(t,e);function t(r,n){return vte(this,t),bte(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,D_.C_START_CHAR+r,n))}return pte(t,[{key:"valid",value:function(){return new RegExp("^"+D_.C_CHARS+"+$").test(this.data)}}]),t}(xte.default);zj.default=jte;Object.defineProperty(Ia,"__esModule",{value:!0});Ia.CODE128C=Ia.CODE128B=Ia.CODE128A=Ia.CODE128=void 0;var Nte=Rj,Ste=z0(Nte),kte=$j,Cte=z0(kte),_te=Fj,Ete=z0(_te),Tte=zj,Pte=z0(Tte);function z0(e){return e&&e.__esModule?e:{default:e}}Ia.CODE128=Ste.default;Ia.CODE128A=Cte.default;Ia.CODE128B=Ete.default;Ia.CODE128C=Pte.default;var Un={},Bj={},Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.SIDE_BIN="101";Bs.MIDDLE_BIN="01010";Bs.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Bs.EAN2_STRUCTURE=["LL","LG","GL","GG"];Bs.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Bs.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var B0={},tc={};Object.defineProperty(tc,"__esModule",{value:!0});var Mte=Bs,Ite=function(t,r,n){var a=t.split("").map(function(i,l){return Mte.BINARIES[r[l]]}).map(function(i,l){return i?i[t[l]]:""});if(n){var o=t.length-1;a=a.map(function(i,l){return l<o?i+n:i})}return a.join("")};tc.default=Ite;Object.defineProperty(B0,"__esModule",{value:!0});var Ate=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),uc=Bs,Ote=tc,L_=qR(Ote),Rte=Ln,Dte=qR(Rte);function qR(e){return e&&e.__esModule?e:{default:e}}function Lte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $te(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Fte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zte=function(e){Fte(t,e);function t(r,n){Lte(this,t);var a=$te(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return a.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return Ate(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,a){return this.text.substr(n,a)}},{key:"leftEncode",value:function(n,a){return(0,L_.default)(n,a)}},{key:"rightText",value:function(n,a){return this.text.substr(n,a)}},{key:"rightEncode",value:function(n,a){return(0,L_.default)(n,a)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},a={height:this.guardHeight};return[{data:uc.SIDE_BIN,options:a},{data:this.leftEncode(),text:this.leftText(),options:n},{data:uc.MIDDLE_BIN,options:a},{data:this.rightEncode(),text:this.rightText(),options:n},{data:uc.SIDE_BIN,options:a}]}},{key:"encodeFlat",value:function(){var n=[uc.SIDE_BIN,this.leftEncode(),uc.MIDDLE_BIN,this.rightEncode(),uc.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),t}(Dte.default);B0.default=zte;Object.defineProperty(Bj,"__esModule",{value:!0});var Bte=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),vu=function e(t,r,n){t===null&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(a===void 0){var o=Object.getPrototypeOf(t);return o===null?void 0:e(o,r,n)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(n)}},Ute=Bs,Vte=B0,Hte=Wte(Vte);function Wte(e){return e&&e.__esModule?e:{default:e}}function Gte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qte(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Kte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $_=function(t){var r=t.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,a,o){return o%2?n+a*3:n+a},0);return(10-r%10)%10},Yte=function(e){Kte(t,e);function t(r,n){Gte(this,t),r.search(/^[0-9]{12}$/)!==-1&&(r+=$_(r));var a=qte(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return a.lastChar=n.lastChar,a}return Bte(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===$_(this.data)}},{key:"leftText",value:function(){return vu(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),a=Ute.EAN13_STRUCTURE[this.data[0]];return vu(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,n,a)}},{key:"rightText",value:function(){return vu(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return vu(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=vu(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),t}(Hte.default);Bj.default=Yte;var Uj={};Object.defineProperty(Uj,"__esModule",{value:!0});var Xte=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),$m=function e(t,r,n){t===null&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(a===void 0){var o=Object.getPrototypeOf(t);return o===null?void 0:e(o,r,n)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(n)}},Qte=B0,Jte=Zte(Qte);function Zte(e){return e&&e.__esModule?e:{default:e}}function ere(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tre(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function rre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F_=function(t){var r=t.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,a,o){return o%2?n+a:n+a*3},0);return(10-r%10)%10},nre=function(e){rre(t,e);function t(r,n){return ere(this,t),r.search(/^[0-9]{7}$/)!==-1&&(r+=F_(r)),tre(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return Xte(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===F_(this.data)}},{key:"leftText",value:function(){return $m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return $m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return $m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return $m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),t}(Jte.default);Uj.default=nre;var Vj={};Object.defineProperty(Vj,"__esModule",{value:!0});var sre=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),are=Bs,ore=tc,ire=KR(ore),lre=Ln,cre=KR(lre);function KR(e){return e&&e.__esModule?e:{default:e}}function dre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ure(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function fre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var hre=function(t){var r=t.split("").map(function(n){return+n}).reduce(function(n,a,o){return o%2?n+a*9:n+a*3},0);return r%10},mre=function(e){fre(t,e);function t(r,n){return dre(this,t),ure(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return sre(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=are.EAN5_STRUCTURE[hre(this.data)];return{data:"1011"+(0,ire.default)(this.data,n,"01"),text:this.text}}}]),t}(cre.default);Vj.default=mre;var Hj={};Object.defineProperty(Hj,"__esModule",{value:!0});var pre=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),gre=Bs,xre=tc,yre=YR(xre),vre=Ln,bre=YR(vre);function YR(e){return e&&e.__esModule?e:{default:e}}function wre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jre(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Nre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Sre=function(e){Nre(t,e);function t(r,n){return wre(this,t),jre(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return pre(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=gre.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,yre.default)(this.data,n,"01"),text:this.text}}}]),t}(bre.default);Hj.default=Sre;var Dh={};Object.defineProperty(Dh,"__esModule",{value:!0});var kre=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Dh.checksum=y1;var Cre=tc,fc=XR(Cre),_re=Ln,Ere=XR(_re);function XR(e){return e&&e.__esModule?e:{default:e}}function Tre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pre(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Mre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ire=function(e){Mre(t,e);function t(r,n){Tre(this,t),r.search(/^[0-9]{11}$/)!==-1&&(r+=y1(r));var a=Pre(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return a.displayValue=n.displayValue,n.fontSize>n.width*10?a.fontSize=n.width*10:a.fontSize=n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return kre(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==y1(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,fc.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,fc.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,fc.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,fc.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,fc.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,fc.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),t}(Ere.default);function y1(e){var t=0,r;for(r=1;r<11;r+=2)t+=parseInt(e[r]);for(r=0;r<11;r+=2)t+=parseInt(e[r])*3;return(10-t%10)%10}Dh.default=Ire;var Wj={};Object.defineProperty(Wj,"__esModule",{value:!0});var Are=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Ore=tc,Rre=QR(Ore),Dre=Ln,Lre=QR(Dre),$re=Dh;function QR(e){return e&&e.__esModule?e:{default:e}}function Fre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fy(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Bre=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],Ure=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],Vre=function(e){zre(t,e);function t(r,n){Fre(this,t);var a=Fy(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));if(a.isValid=!1,r.search(/^[0-9]{6}$/)!==-1)a.middleDigits=r,a.upcA=z_(r,"0"),a.text=n.text||""+a.upcA[0]+r+a.upcA[a.upcA.length-1],a.isValid=!0;else if(r.search(/^[01][0-9]{7}$/)!==-1)if(a.middleDigits=r.substring(1,r.length-1),a.upcA=z_(a.middleDigits,r[0]),a.upcA[a.upcA.length-1]===r[r.length-1])a.isValid=!0;else return Fy(a);else return Fy(a);return a.displayValue=n.displayValue,n.fontSize>n.width*10?a.fontSize=n.width*10:a.fontSize=n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return Are(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],a=this.upcA[this.upcA.length-1],o=Ure[parseInt(a)][parseInt(n)];return(0,Rre.default)(this.middleDigits,o)}}]),t}(Lre.default);function z_(e,t){for(var r=parseInt(e[e.length-1]),n=Bre[r],a="",o=0,i=0;i<n.length;i++){var l=n[i];l==="X"?a+=e[o++]:a+=l}return a=""+t+a,""+a+(0,$re.checksum)(a)}Wj.default=Vre;Object.defineProperty(Un,"__esModule",{value:!0});Un.UPCE=Un.UPC=Un.EAN2=Un.EAN5=Un.EAN8=Un.EAN13=void 0;var Hre=Bj,Wre=Qd(Hre),Gre=Uj,qre=Qd(Gre),Kre=Vj,Yre=Qd(Kre),Xre=Hj,Qre=Qd(Xre),Jre=Dh,Zre=Qd(Jre),ene=Wj,tne=Qd(ene);function Qd(e){return e&&e.__esModule?e:{default:e}}Un.EAN13=Wre.default;Un.EAN8=qre.default;Un.EAN5=Yre.default;Un.EAN2=Qre.default;Un.UPC=Zre.default;Un.UPCE=tne.default;var Td={},U0={},Lh={};Object.defineProperty(Lh,"__esModule",{value:!0});Lh.START_BIN="1010";Lh.END_BIN="11101";Lh.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(U0,"__esModule",{value:!0});var rne=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Fm=Lh,nne=Ln,sne=ane(nne);function ane(e){return e&&e.__esModule?e:{default:e}}function one(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ine(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function lne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var cne=function(e){lne(t,e);function t(){return one(this,t),ine(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return rne(t,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,a=this.data.match(/.{2}/g).map(function(o){return n.encodePair(o)}).join("");return{data:Fm.START_BIN+a+Fm.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var a=Fm.BINARIES[n[1]];return Fm.BINARIES[n[0]].split("").map(function(o,i){return(o==="1"?"111":"1")+(a[i]==="1"?"000":"0")}).join("")}}]),t}(sne.default);U0.default=cne;var Gj={};Object.defineProperty(Gj,"__esModule",{value:!0});var dne=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),une=U0,fne=hne(une);function hne(e){return e&&e.__esModule?e:{default:e}}function mne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function gne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B_=function(t){var r=t.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,a,o){return n+a*(3-o%2*2)},0);return Math.ceil(r/10)*10-r},xne=function(e){gne(t,e);function t(r,n){return mne(this,t),r.search(/^[0-9]{13}$/)!==-1&&(r+=B_(r)),pne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return dne(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===B_(this.data)}}]),t}(fne.default);Gj.default=xne;Object.defineProperty(Td,"__esModule",{value:!0});Td.ITF14=Td.ITF=void 0;var yne=U0,vne=JR(yne),bne=Gj,wne=JR(bne);function JR(e){return e&&e.__esModule?e:{default:e}}Td.ITF=vne.default;Td.ITF14=wne.default;var _s={},rc={};Object.defineProperty(rc,"__esModule",{value:!0});var jne=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Nne=Ln,Sne=kne(Nne);function kne(e){return e&&e.__esModule?e:{default:e}}function Cne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ene(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Tne=function(e){Ene(t,e);function t(r,n){return Cne(this,t),_ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return jne(t,[{key:"encode",value:function(){for(var n="110",a=0;a<this.data.length;a++){var o=parseInt(this.data[a]),i=o.toString(2);i=Pne(i,4-i.length);for(var l=0;l<i.length;l++)n+=i[l]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),t}(Sne.default);function Pne(e,t){for(var r=0;r<t;r++)e="0"+e;return e}rc.default=Tne;var qj={},nc={};Object.defineProperty(nc,"__esModule",{value:!0});nc.mod10=Mne;nc.mod11=Ine;function Mne(e){for(var t=0,r=0;r<e.length;r++){var n=parseInt(e[r]);(r+e.length)%2===0?t+=n:t+=n*2%10+Math.floor(n*2/10)}return(10-t%10)%10}function Ine(e){for(var t=0,r=[2,3,4,5,6,7],n=0;n<e.length;n++){var a=parseInt(e[e.length-1-n]);t+=r[n%r.length]*a}return(11-t%11)%11}Object.defineProperty(qj,"__esModule",{value:!0});var Ane=rc,One=Dne(Ane),Rne=nc;function Dne(e){return e&&e.__esModule?e:{default:e}}function Lne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Fne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zne=function(e){Fne(t,e);function t(r,n){return Lne(this,t),$ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,Rne.mod10)(r),n))}return t}(One.default);qj.default=zne;var Kj={};Object.defineProperty(Kj,"__esModule",{value:!0});var Bne=rc,Une=Hne(Bne),Vne=nc;function Hne(e){return e&&e.__esModule?e:{default:e}}function Wne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Kne=function(e){qne(t,e);function t(r,n){return Wne(this,t),Gne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,Vne.mod11)(r),n))}return t}(Une.default);Kj.default=Kne;var Yj={};Object.defineProperty(Yj,"__esModule",{value:!0});var Yne=rc,Xne=Qne(Yne),U_=nc;function Qne(e){return e&&e.__esModule?e:{default:e}}function Jne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ese(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var tse=function(e){ese(t,e);function t(r,n){return Jne(this,t),r+=(0,U_.mod10)(r),r+=(0,U_.mod10)(r),Zne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return t}(Xne.default);Yj.default=tse;var Xj={};Object.defineProperty(Xj,"__esModule",{value:!0});var rse=rc,nse=sse(rse),V_=nc;function sse(e){return e&&e.__esModule?e:{default:e}}function ase(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ose(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ise(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lse=function(e){ise(t,e);function t(r,n){return ase(this,t),r+=(0,V_.mod11)(r),r+=(0,V_.mod10)(r),ose(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return t}(nse.default);Xj.default=lse;Object.defineProperty(_s,"__esModule",{value:!0});_s.MSI1110=_s.MSI1010=_s.MSI11=_s.MSI10=_s.MSI=void 0;var cse=rc,dse=$h(cse),use=qj,fse=$h(use),hse=Kj,mse=$h(hse),pse=Yj,gse=$h(pse),xse=Xj,yse=$h(xse);function $h(e){return e&&e.__esModule?e:{default:e}}_s.MSI=dse.default;_s.MSI10=fse.default;_s.MSI11=mse.default;_s.MSI1010=gse.default;_s.MSI1110=yse.default;var V0={};Object.defineProperty(V0,"__esModule",{value:!0});V0.pharmacode=void 0;var vse=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),bse=Ln,wse=jse(bse);function jse(e){return e&&e.__esModule?e:{default:e}}function Nse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sse(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Cse=function(e){kse(t,e);function t(r,n){Nse(this,t);var a=Sse(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return a.number=parseInt(r,10),a}return vse(t,[{key:"encode",value:function(){for(var n=this.number,a="";!isNaN(n)&&n!=0;)n%2===0?(a="11100"+a,n=(n-2)/2):(a="100"+a,n=(n-1)/2);return a=a.slice(0,-2),{data:a,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(wse.default);V0.pharmacode=Cse;var H0={};Object.defineProperty(H0,"__esModule",{value:!0});H0.codabar=void 0;var _se=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Ese=Ln,Tse=Pse(Ese);function Pse(e){return e&&e.__esModule?e:{default:e}}function Mse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ise(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ase(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ose=function(e){Ase(t,e);function t(r,n){Mse(this,t),r.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(r="A"+r+"A");var a=Ise(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.toUpperCase(),n));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return _se(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],a=this.getEncodings(),o=0;o<this.data.length;o++)n.push(a[this.data.charAt(o)]),o!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(Tse.default);H0.codabar=Ose;var Pd={},W0={},Fh={};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];Fh.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];Fh.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(W0,"__esModule",{value:!0});var Rse=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),zm=Fh,Dse=Ln,Lse=$se(Dse);function $se(e){return e&&e.__esModule?e:{default:e}}function Fse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zse(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Bse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Use=function(e){Bse(t,e);function t(r,n){return Fse(this,t),zse(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return Rse(t,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.data.split("").flatMap(function(l){return zm.MULTI_SYMBOLS[l]||l}),a=n.map(function(l){return t.getEncoding(l)}).join(""),o=t.checksum(n,20),i=t.checksum(n.concat(o),15);return{text:this.text,data:t.getEncoding("")+a+t.getEncoding(o)+t.getEncoding(i)+t.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(n){return zm.BINARIES[t.symbolValue(n)]}},{key:"getSymbol",value:function(n){return zm.SYMBOLS[n]}},{key:"symbolValue",value:function(n){return zm.SYMBOLS.indexOf(n)}},{key:"checksum",value:function(n,a){var o=n.slice().reverse().reduce(function(i,l,c){var d=c%a+1;return i+t.symbolValue(l)*d},0);return t.getSymbol(o%47)}}]),t}(Lse.default);W0.default=Use;var Qj={};Object.defineProperty(Qj,"__esModule",{value:!0});var Vse=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Hse=W0,Wse=Gse(Hse);function Gse(e){return e&&e.__esModule?e:{default:e}}function qse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kse(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Yse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Xse=function(e){Yse(t,e);function t(r,n){return qse(this,t),Kse(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return Vse(t,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),t}(Wse.default);Qj.default=Xse;Object.defineProperty(Pd,"__esModule",{value:!0});Pd.CODE93FullASCII=Pd.CODE93=void 0;var Qse=W0,Jse=ZR(Qse),Zse=Qj,eae=ZR(Zse);function ZR(e){return e&&e.__esModule?e:{default:e}}Pd.CODE93=Jse.default;Pd.CODE93FullASCII=eae.default;var G0={};Object.defineProperty(G0,"__esModule",{value:!0});G0.GenericBarcode=void 0;var tae=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),rae=Ln,nae=sae(rae);function sae(e){return e&&e.__esModule?e:{default:e}}function aae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function iae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lae=function(e){iae(t,e);function t(r,n){return aae(this,t),oae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return tae(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(nae.default);G0.GenericBarcode=lae;Object.defineProperty(Oj,"__esModule",{value:!0});var cae=F0,Bm=Ia,hc=Un,H_=Td,bu=_s,dae=V0,uae=H0,W_=Pd,fae=G0;Oj.default={CODE39:cae.CODE39,CODE128:Bm.CODE128,CODE128A:Bm.CODE128A,CODE128B:Bm.CODE128B,CODE128C:Bm.CODE128C,EAN13:hc.EAN13,EAN8:hc.EAN8,EAN5:hc.EAN5,EAN2:hc.EAN2,UPC:hc.UPC,UPCE:hc.UPCE,ITF14:H_.ITF14,ITF:H_.ITF,MSI:bu.MSI,MSI10:bu.MSI10,MSI11:bu.MSI11,MSI1010:bu.MSI1010,MSI1110:bu.MSI1110,pharmacode:dae.pharmacode,codabar:uae.codabar,CODE93:W_.CODE93,CODE93FullASCII:W_.CODE93FullASCII,GenericBarcode:fae.GenericBarcode};var Jd={};Object.defineProperty(Jd,"__esModule",{value:!0});var hae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Jd.default=function(e,t){return hae({},e,t)};var Jj={};Object.defineProperty(Jj,"__esModule",{value:!0});Jj.default=mae;function mae(e){var t=[];function r(n){if(Array.isArray(n))for(var a=0;a<n.length;a++)r(n[a]);else n.text=n.text||"",n.data=n.data||"",t.push(n)}return r(e),t}var Zj={};Object.defineProperty(Zj,"__esModule",{value:!0});Zj.default=pae;function pae(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}var eN={},tN={},q0={};Object.defineProperty(q0,"__esModule",{value:!0});q0.default=gae;function gae(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in t)t.hasOwnProperty(r)&&(r=t[r],typeof e[r]=="string"&&(e[r]=parseInt(e[r],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}var K0={};Object.defineProperty(K0,"__esModule",{value:!0});var xae={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};K0.default=xae;Object.defineProperty(tN,"__esModule",{value:!0});var yae=q0,vae=eD(yae),bae=K0,G_=eD(bae);function eD(e){return e&&e.__esModule?e:{default:e}}function wae(e){var t={};for(var r in G_.default)G_.default.hasOwnProperty(r)&&(e.hasAttribute("jsbarcode-"+r.toLowerCase())&&(t[r]=e.getAttribute("jsbarcode-"+r.toLowerCase())),e.hasAttribute("data-"+r.toLowerCase())&&(t[r]=e.getAttribute("data-"+r.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,vae.default)(t),t}tN.default=wae;var rN={},nN={},as={};Object.defineProperty(as,"__esModule",{value:!0});as.getTotalWidthOfEncodings=as.calculateEncodingAttributes=as.getBarcodePadding=as.getEncodingHeight=as.getMaximumHeightOfEncodings=void 0;var jae=Jd,Nae=Sae(jae);function Sae(e){return e&&e.__esModule?e:{default:e}}function tD(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function rD(e,t,r){if(r.displayValue&&t<e){if(r.textAlign=="center")return Math.floor((e-t)/2);if(r.textAlign=="left")return 0;if(r.textAlign=="right")return Math.floor(e-t)}return 0}function kae(e,t,r){for(var n=0;n<e.length;n++){var a=e[n],o=(0,Nae.default)(t,a.options),i;o.displayValue?i=Eae(a.text,o,r):i=0;var l=a.data.length*o.width;a.width=Math.ceil(Math.max(i,l)),a.height=tD(a,o),a.barcodePadding=rD(i,l,o)}}function Cae(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].width;return t}function _ae(e){for(var t=0,r=0;r<e.length;r++)e[r].height>t&&(t=e[r].height);return t}function Eae(e,t,r){var n;if(r)n=r;else if(typeof document<"u")n=document.createElement("canvas").getContext("2d");else return 0;n.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var a=n.measureText(e);if(!a)return 0;var o=a.width;return o}as.getMaximumHeightOfEncodings=_ae;as.getEncodingHeight=tD;as.getBarcodePadding=rD;as.calculateEncodingAttributes=kae;as.getTotalWidthOfEncodings=Cae;Object.defineProperty(nN,"__esModule",{value:!0});var Tae=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Pae=Jd,Mae=Iae(Pae),zy=as;function Iae(e){return e&&e.__esModule?e:{default:e}}function Aae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Oae=function(){function e(t,r,n){Aae(this,e),this.canvas=t,this.encodings=r,this.options=n}return Tae(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var r=0;r<this.encodings.length;r++){var n=(0,Mae.default)(this.options,this.encodings[r].options);this.drawCanvasBarcode(n,this.encodings[r]),this.drawCanvasText(n,this.encodings[r]),this.moveCanvasDrawing(this.encodings[r])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var r=this.canvas.getContext("2d");r.save(),(0,zy.calculateEncodingAttributes)(this.encodings,this.options,r);var n=(0,zy.getTotalWidthOfEncodings)(this.encodings),a=(0,zy.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=a,r.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(r.fillStyle=this.options.background,r.fillRect(0,0,this.canvas.width,this.canvas.height)),r.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(r,n){var a=this.canvas.getContext("2d"),o=n.data,i;r.textPosition=="top"?i=r.marginTop+r.fontSize+r.textMargin:i=r.marginTop,a.fillStyle=r.lineColor;for(var l=0;l<o.length;l++){var c=l*r.width+n.barcodePadding;o[l]==="1"?a.fillRect(c,i,r.width,r.height):o[l]&&a.fillRect(c,i,r.width,r.height*o[l])}}},{key:"drawCanvasText",value:function(r,n){var a=this.canvas.getContext("2d"),o=r.fontOptions+" "+r.fontSize+"px "+r.font;if(r.displayValue){var i,l;r.textPosition=="top"?l=r.marginTop+r.fontSize-r.textMargin:l=r.height+r.textMargin+r.marginTop+r.fontSize,a.font=o,r.textAlign=="left"||n.barcodePadding>0?(i=0,a.textAlign="left"):r.textAlign=="right"?(i=n.width-1,a.textAlign="right"):(i=n.width/2,a.textAlign="center"),a.fillText(n.text,i,l)}}},{key:"moveCanvasDrawing",value:function(r){var n=this.canvas.getContext("2d");n.translate(r.width,0)}},{key:"restoreCanvas",value:function(){var r=this.canvas.getContext("2d");r.restore()}}]),e}();nN.default=Oae;var sN={};Object.defineProperty(sN,"__esModule",{value:!0});var Rae=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Dae=Jd,Lae=$ae(Dae),By=as;function $ae(e){return e&&e.__esModule?e:{default:e}}function Fae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Um="http://www.w3.org/2000/svg",zae=function(){function e(t,r,n){Fae(this,e),this.svg=t,this.encodings=r,this.options=n,this.document=n.xmlDocument||document}return Rae(e,[{key:"render",value:function(){var r=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var a=this.encodings[n],o=(0,Lae.default)(this.options,a.options),i=this.createGroup(r,o.marginTop,this.svg);this.setGroupOptions(i,o),this.drawSvgBarcode(i,o,a),this.drawSVGText(i,o,a),r+=a.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,By.calculateEncodingAttributes)(this.encodings,this.options);var r=(0,By.getTotalWidthOfEncodings)(this.encodings),n=(0,By.getMaximumHeightOfEncodings)(this.encodings),a=r+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(a,n),this.options.background&&this.drawRect(0,0,a,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(r,n,a){var o=a.data,i;n.textPosition=="top"?i=n.fontSize+n.textMargin:i=0;for(var l=0,c=0,d=0;d<o.length;d++)c=d*n.width+a.barcodePadding,o[d]==="1"?l++:l>0&&(this.drawRect(c-n.width*l,i,n.width*l,n.height,r),l=0);l>0&&this.drawRect(c-n.width*(l-1),i,n.width*l,n.height,r)}},{key:"drawSVGText",value:function(r,n,a){var o=this.document.createElementNS(Um,"text");if(n.displayValue){var i,l;o.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?l=n.fontSize-n.textMargin:l=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||a.barcodePadding>0?(i=0,o.setAttribute("text-anchor","start")):n.textAlign=="right"?(i=a.width-1,o.setAttribute("text-anchor","end")):(i=a.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",i),o.setAttribute("y",l),o.appendChild(this.document.createTextNode(a.text)),r.appendChild(o)}}},{key:"setSvgAttributes",value:function(r,n){var a=this.svg;a.setAttribute("width",r+"px"),a.setAttribute("height",n+"px"),a.setAttribute("x","0px"),a.setAttribute("y","0px"),a.setAttribute("viewBox","0 0 "+r+" "+n),a.setAttribute("xmlns",Um),a.setAttribute("version","1.1"),a.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(r,n,a){var o=this.document.createElementNS(Um,"g");return o.setAttribute("transform","translate("+r+", "+n+")"),a.appendChild(o),o}},{key:"setGroupOptions",value:function(r,n){r.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(r,n,a,o,i){var l=this.document.createElementNS(Um,"rect");return l.setAttribute("x",r),l.setAttribute("y",n),l.setAttribute("width",a),l.setAttribute("height",o),i.appendChild(l),l}}]),e}();sN.default=zae;var aN={};Object.defineProperty(aN,"__esModule",{value:!0});var Bae=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Uae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Vae=function(){function e(t,r,n){Uae(this,e),this.object=t,this.encodings=r,this.options=n}return Bae(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();aN.default=Vae;Object.defineProperty(rN,"__esModule",{value:!0});var Hae=nN,Wae=oN(Hae),Gae=sN,qae=oN(Gae),Kae=aN,Yae=oN(Kae);function oN(e){return e&&e.__esModule?e:{default:e}}rN.default={CanvasRenderer:Wae.default,SVGRenderer:qae.default,ObjectRenderer:Yae.default};var Zd={};Object.defineProperty(Zd,"__esModule",{value:!0});function iN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lN(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function cN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Xae=function(e){cN(t,e);function t(r,n){iN(this,t);var a=lN(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.name="InvalidInputException",a.symbology=r,a.input=n,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return t}(Error),Qae=function(e){cN(t,e);function t(){iN(this,t);var r=lN(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="InvalidElementException",r.message="Not supported type to render on",r}return t}(Error),Jae=function(e){cN(t,e);function t(){iN(this,t);var r=lN(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="NoElementException",r.message="No element to render on.",r}return t}(Error);Zd.InvalidInputException=Xae;Zd.InvalidElementException=Qae;Zd.NoElementException=Jae;Object.defineProperty(eN,"__esModule",{value:!0});var Zae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eoe=tN,v1=nD(eoe),toe=rN,Ru=nD(toe),roe=Zd;function nD(e){return e&&e.__esModule?e:{default:e}}function dN(e){if(typeof e=="string")return noe(e);if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(dN(e[r]));return t}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return soe(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,v1.default)(e),renderer:Ru.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,v1.default)(e),renderer:Ru.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:Ru.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":Zae(e))==="object"&&!e.nodeName)return{element:e,renderer:Ru.default.ObjectRenderer};throw new roe.InvalidElementException}}function noe(e){var t=document.querySelectorAll(e);if(t.length!==0){for(var r=[],n=0;n<t.length;n++)r.push(dN(t[n]));return r}}function soe(e){var t=document.createElement("canvas");return{element:t,options:(0,v1.default)(e),renderer:Ru.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}eN.default=dN;var uN={};Object.defineProperty(uN,"__esModule",{value:!0});var aoe=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function ooe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ioe=function(){function e(t){ooe(this,e),this.api=t}return aoe(e,[{key:"handleCatch",value:function(r){if(r.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw r.message;else throw r;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(r){try{var n=r.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(a){return this.handleCatch(a),this.api}}}]),e}();uN.default=ioe;var loe=Oj,_l=qi(loe),coe=Jd,zh=qi(coe),doe=Jj,sD=qi(doe),uoe=Zj,q_=qi(uoe),foe=eN,hoe=qi(foe),moe=q0,poe=qi(moe),goe=uN,xoe=qi(goe),aD=Zd,yoe=K0,oD=qi(yoe);function qi(e){return e&&e.__esModule?e:{default:e}}var fo=function(){},Y0=function(t,r,n){var a=new fo;if(typeof t>"u")throw Error("No element to render on was provided.");return a._renderProperties=(0,hoe.default)(t),a._encodings=[],a._options=oD.default,a._errorHandler=new xoe.default(a),typeof r<"u"&&(n=n||{},n.format||(n.format=lD()),a.options(n)[n.format](r,n).render()),a};Y0.getModule=function(e){return _l.default[e]};for(var K_ in _l.default)_l.default.hasOwnProperty(K_)&&voe(_l.default,K_);function voe(e,t){fo.prototype[t]=fo.prototype[t.toUpperCase()]=fo.prototype[t.toLowerCase()]=function(r,n){var a=this;return a._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text>"u"?void 0:""+n.text;var o=(0,zh.default)(a._options,n);o=(0,poe.default)(o);var i=e[t],l=iD(r,i,o);return a._encodings.push(l),a})}}function iD(e,t,r){e=""+e;var n=new t(e,r);if(!n.valid())throw new aD.InvalidInputException(n.constructor.name,e);var a=n.encode();a=(0,sD.default)(a);for(var o=0;o<a.length;o++)a[o].options=(0,zh.default)(r,a[o].options);return a}function lD(){return _l.default.CODE128?"CODE128":Object.keys(_l.default)[0]}fo.prototype.options=function(e){return this._options=(0,zh.default)(this._options,e),this};fo.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this};fo.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var t in this._renderProperties){e=this._renderProperties[t];var r=(0,zh.default)(this._options,e.options);r.format=="auto"&&(r.format=lD()),this._errorHandler.wrapBarcodeCall(function(){var n=r.value,a=_l.default[r.format.toUpperCase()],o=iD(n,a,r);b1(e,o,r)})}}};fo.prototype.render=function(){if(!this._renderProperties)throw new aD.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)b1(this._renderProperties[e],this._encodings,this._options);else b1(this._renderProperties,this._encodings,this._options);return this};fo.prototype._defaults=oD.default;function b1(e,t,r){t=(0,sD.default)(t);for(var n=0;n<t.length;n++)t[n].options=(0,zh.default)(r,t[n].options),(0,q_.default)(t[n].options);(0,q_.default)(r);var a=e.renderer,o=new a(e.element,t,r);o.render(),e.afterRender&&e.afterRender()}typeof window<"u"&&(window.JsBarcode=Y0);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(e,t){var r=[];return jQuery(this).each(function(){r.push(this)}),Y0(r,e,t)});var boe=Y0;const woe=z1(boe),cD=ue.forwardRef(({value:e,width:t=2,height:r=52,displayValue:n=!0},a)=>{const o=u.useRef(null),i=a||o;return u.useEffect(()=>{i.current&&woe(i.current,e,{format:"code128",width:t,height:r,displayValue:n,margin:0})},[e,t,r,n,i]),s.jsx("svg",{ref:i})});function joe(e){if(!e){alert("Barcode element not found. Cannot print.");return}const t=new XMLSerializer().serializeToString(e),r=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(t)}`,n=window.open("","_blank","width=400,height=200");if(!n){alert("Popup blocked. Please allow popups for this site to print labels.");return}n.document.write(`
    <html>
      <head>
        <title>Print Barcode</title>
        <style>
          @page { size: auto; margin: 0; }
          body { margin: 0; padding: 0; }
          @media print {
            html, body { height: 99vh; overflow: hidden; }
            .label { page-break-inside: avoid; break-inside: avoid-page; }
          }
          .label {
            width: 3.43in; height: 0.6in;
            display: flex; align-items: center; justify-content: center;
            padding-top: 1.0in; padding-right: 0.25in;
          }
          img { display: block; max-width: 3.2in; max-height: 1in; object-fit: contain; }
        </style>
      </head>
      <body onload="
        window.print();
        window.onafterprint = () => window.close();
        setTimeout(() => window.close(), 1500);
      ">
        <div class="label"><img src="${r}" alt="barcode"/></div>
      </body>
    </html>
  `),n.document.close()}const Noe=e=>new Promise(t=>setTimeout(t,e));function Soe(){return s.jsx("span",{"aria-hidden":!0,className:"inline-block h-4 w-4 animate-spin rounded-full border-2 border-blue-200 border-t-blue-600 dark:border-blue-700 dark:border-t-blue-400",style:{animationDuration:"800ms"}})}function koe({state:e,message:t}){if(!e)return null;const r=e==="error"?t||"Failed to save":"Saved",n=e==="error"?"bg-red-50 border-red-200 dark:bg-red-950 dark:border-red-900":"bg-green-50 border-green-200 dark:bg-green-950 dark:border-green-900",a=e==="error"?"text-red-800 dark:text-red-400":"text-green-800 dark:text-green-400";return s.jsxs("div",{className:`inline-flex items-center gap-2 rounded-lg ${n} px-4 py-2 text-sm ${a} font-medium animate-in fade-in-0 duration-300`,children:[s.jsx(tr,{className:"h-4 w-4"})," ",r]})}function Coe(e,t){const r={},n=["productName","categoryId","grade","testedBy","testedDate","testerComment","specs","price","ebayPrice","status","purchaseCost","partStatus"];for(const a of n){const o=e==null?void 0:e[a],i=t==null?void 0:t[a];JSON.stringify(o)!==JSON.stringify(i)&&(r[a]=i)}return r}function _oe({value:e,onChange:t,list:r}){const n=(a,o)=>o?{A:"bg-emerald-500 text-white border-emerald-500 shadow-md",B:"bg-blue-500 text-white border-blue-500 shadow-md",C:"bg-amber-500 text-white border-amber-500 shadow-md",D:"bg-red-500 text-white border-red-500 shadow-md",P:"bg-purple-500 text-white border-purple-500 shadow-md"}[a]||"bg-gray-500 text-white border-gray-500 shadow-md":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:border-gray-300 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-500";return s.jsx("div",{className:"flex gap-2",children:r.map(a=>{const o=a===e;return s.jsxs("button",{type:"button",onClick:()=>t(a),className:`h-8 px-4 rounded-full text-xs font-medium border transition-all duration-200 hover:scale-105 ${n(a,o)}`,"aria-pressed":o,children:["Grade ",a]},a)})})}const Eoe=(e={})=>({processor:Array.isArray(e.processor)?e.processor[0]??"":e.processor??"",ram:Array.isArray(e.ram)?e.ram[0]??"":e.ram??"",storage:Array.isArray(e.storage)?e.storage[0]??"":e.storage??"",screen:Array.isArray(e.screen)?e.screen[0]??"":e.screen??"",batteryHealth:Array.isArray(e.batteryHealth)?e.batteryHealth[0]??"":e.batteryHealth??"",color:Array.isArray(e.color)?e.color[0]??"":e.color??""}),mc={processor:["Apple M1","Apple M2","Apple M3","Apple M4","Intel Core i5","Intel Core i7","Intel Core i9","AMD Ryzen 5","AMD Ryzen 7","AMD Ryzen 9"],ram:["4GB","8GB","16GB","32GB","64GB"],storage:["128GB SSD","256GB SSD","512GB SSD","1TB SSD","2TB SSD"],screen:["11-inch","13-inch","14-inch","15-inch","16-inch","17-inch"],batteryHealth:["100%","90-99%","80-89%","70-79%","<70%"],color:["Black","Silver","Space Gray","White","Blue","Red","Green"]};function Toe({items:e,onPick:t}){return s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.map(r=>s.jsx("button",{type:"button",onClick:()=>t(r),className:"rounded-full bg-gray-100 border border-gray-200 px-2 py-0.5 text-[10px] leading-3 text-gray-600 transition-all duration-200 hover:bg-gray-200 hover:border-gray-300 hover:scale-105 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:border-gray-500",title:r,children:r},r))})}function pc({label:e,value:t,onChange:r,options:n,placeholder:a,id:o}){return s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ke,{htmlFor:o,className:"text-[10px] font-medium text-gray-700 dark:text-gray-200 uppercase tracking-wide",children:e}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{id:`${o}-select`,className:"h-8 w-32 rounded-lg border border-gray-200 bg-white px-2 text-xs focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:focus:border-blue-400 dark:focus:ring-blue-400/20 transition-all duration-200",value:n.includes(t||"")?t:"",onChange:i=>{const l=i.target.value;l&&r(l)},children:[s.jsxs("option",{value:"",children:[e,""]}),n.map(i=>s.jsx("option",{value:i,children:i},i))]}),s.jsx(we,{id:o,className:"h-8 text-xs rounded-lg border-gray-200 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500/20",placeholder:a,value:t??"",onChange:i=>r(i.target.value)})]}),s.jsx(Toe,{items:n,onPick:r})]})}function dD({open:e,row:t,onChange:r,onClose:n,onSave:a,grades:o=uee,fixedTester:i,user:l}){var Z,ce,F,J,L,U;const c=u.useRef(null),d=u.useRef(null),f=new Date().toISOString().slice(0,10),h=u.useMemo(()=>i||(l==null?void 0:l.name)||t.testedBy||"",[i,l==null?void 0:l.name,t.testedBy]),m={...t,testedDate:t.testedDate||f,testedBy:t.testedBy||h,specs:t.specs||{},productName:t.productName||"",partStatus:t.partStatus||null},[p,g]=u.useState(m),[x,b]=u.useState(m),[y,v]=u.useState(!1),[w,j]=u.useState(null),[N,S]=u.useState(null),[k,_]=u.useState(!1),[C,E]=u.useState(null),[T,A]=u.useState(null),[W,P]=u.useState(null),[te,le]=u.useState({productName:[],testedBy:[],specs:{processor:[],ram:[],storage:[],screen:[],batteryHealth:[],color:[]}});u.useEffect(()=>{e&&(g({...t,testedDate:t.testedDate||f,testedBy:t.testedBy||h,specs:t.specs||{},productName:t.productName||"",partStatus:t.partStatus||null}),b({...t,testedDate:t.testedDate||f,testedBy:t.testedBy||h,specs:t.specs||{},productName:t.productName||"",partStatus:t.partStatus||null}),setTimeout(()=>{var $;return($=c.current)==null?void 0:$.focus()},0))},[e,t,h,f]);const K=u.useMemo(()=>{const $=Coe(x,p);return $.testedDate&&$.testedDate===f&&delete $.testedDate,$.testedBy&&$.testedBy===h&&delete $.testedBy,Object.keys($).length>0},[x,p,f,h]),D=$=>{if($===""||$==null)return null;const M=Number($);return Number.isFinite(M)?M:null},I=$=>$?typeof $=="string"?$.slice(0,10):$.toISOString().slice(0,10):f,R=u.useCallback(async $=>{if(!y){v(!0),S(null);try{const M=(p==null?void 0:p.synergyId)||(x==null?void 0:x.synergyId);if(!M)throw new Error("Missing synergyId");const re=$||"TESTED",de={status:re,grade:typeof(p==null?void 0:p.grade)=="string"?p.grade:(x==null?void 0:x.grade)??"",testedBy:typeof(p==null?void 0:p.testedBy)=="string"&&p.testedBy.trim()!==""?p.testedBy:(x==null?void 0:x.testedBy)||h,testedDate:I((p==null?void 0:p.testedDate)||f),testerComment:typeof(p==null?void 0:p.testerComment)=="string"?p.testerComment:"",partStatus:p.partStatus};p!=null&&p.specs&&typeof p.specs=="object"&&(de.specs=p.specs),typeof(p==null?void 0:p.price)=="number"&&(de.price=p.price),typeof(p==null?void 0:p.ebayPrice)=="number"&&(de.ebayPrice=p.ebayPrice),typeof(p==null?void 0:p.purchaseCost)=="number"&&(de.purchaseCost=p.purchaseCost,de.price=p.purchaseCost),typeof(p==null?void 0:p.categoryId)=="string"&&(de.categoryId=p.categoryId);const Ee=await fetch(`${Sg}/rows/${encodeURIComponent(M)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(de)});if(!Ee.ok){const Xe=await Ee.text().catch(()=>"");throw new Error(`PATCH failed ${Ee.status}: ${Xe||Ee.statusText}`)}const Ze=await Ee.json();re!=="SCRAP"&&le(Xe=>{var et,Je,We,ee,X,Te;return{productName:[...new Set([p.productName,...Xe.productName].slice(0,5))],testedBy:[...new Set([de.testedBy,...Xe.testedBy].slice(0,5))],specs:{processor:[...new Set([(et=p.specs)==null?void 0:et.processor,...Xe.specs.processor].slice(0,5))],ram:[...new Set([(Je=p.specs)==null?void 0:Je.ram,...Xe.specs.ram].slice(0,5))],storage:[...new Set([(We=p.specs)==null?void 0:We.storage,...Xe.specs.storage].slice(0,5))],screen:[...new Set([(ee=p.specs)==null?void 0:ee.screen,...Xe.specs.screen].slice(0,5))],batteryHealth:[...new Set([(X=p.specs)==null?void 0:X.batteryHealth,...Xe.specs.batteryHealth].slice(0,5))],color:[...new Set([(Te=p.specs)==null?void 0:Te.color,...Xe.specs.color].slice(0,5))]}}});const rt={synergyId:M,...Ze||{},...de||{}};r==null||r(rt),await Promise.resolve(a==null?void 0:a(rt)),window.dispatchEvent(new CustomEvent("rows:upserted",{detail:rt})),b({...p,...de}),j("save"),await Noe(300),n()}catch(M){console.error(M),S(M.message),j("error")}finally{v(!1),setTimeout(()=>j(null),900)}}},[y,p,x,r,a,h,f,n]);u.useEffect(()=>{if(!e)return;const $=M=>{if((M.metaKey||M.ctrlKey)&&M.key.toLowerCase()==="s"){M.preventDefault(),R();return}if(M.key==="Escape"){M.preventDefault(),K?confirm("Discard changes?")&&n():n();return}const de=M.target;de&&(de.tagName==="INPUT"||de.tagName==="TEXTAREA"||de.tagName==="SELECT"||de.isContentEditable)||M.key.toUpperCase()==="T"&&(M.preventDefault(),g(rt=>({...rt,testedDate:f})))};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[e,R,K,n,f]);const q=async()=>{if(!p.productName){P("Missing product name");return}_(!0),P(null),A(null);try{const $=await W2(p.productName,{fixed:!0,condition:"USED",currency:"USD",limit:100});E(typeof $.avg=="number"?$.avg:null),A({valid:$.valid??0,sampled:$.sampled??0}),(!$.ok||$.avg==null)&&P("No data")}catch($){P(($==null?void 0:$.message)||"Failed to fetch market avg")}finally{_(!1)}},z=$=>{const M=Eoe($.specs);g(re=>({...re,specs:M})),r==null||r({specs:M})};return e?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{display:"none"},children:p.synergyId&&s.jsx(cD,{ref:d,value:p.synergyId})}),s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4",role:"dialog","aria-modal":"true","aria-label":"Tester Intake",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 dark:bg-black/80 animate-in fade-in-0 duration-300",onClick:()=>K?confirm("Discard changes?")?n():null:n()}),s.jsxs("div",{className:"relative w-full max-w-7xl max-h-[98vh] flex flex-col bg-white rounded-2xl shadow-xl border border-gray-100 dark:bg-gray-900 dark:border-gray-800 animate-in fade-in-0 zoom-in-95 duration-300",children:[s.jsxs("div",{className:"flex-none flex items-center justify-between px-4 py-3 border-b border-gray-100 bg-gray-50 rounded-t-2xl dark:border-gray-800 dark:bg-gray-950",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center dark:bg-blue-900",children:s.jsx(mi,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Device Testing"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Log and grade device details"})]})]}),s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>K?confirm("Discard changes?")?n():null:n(),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-800",children:s.jsx(Mt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-3 bg-gray-50 rounded-xl p-4 dark:bg-gray-950",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100 uppercase tracking-wide",children:"Core Information"}),s.jsxs("div",{children:[s.jsx(Ke,{className:"text-[10px] font-medium text-gray-700 dark:text-gray-200 uppercase tracking-wide",children:"Product Name"}),s.jsx(we,{ref:c,className:"mt-1 h-8 text-sm rounded-lg border-gray-200 bg-gray-100 text-gray-600 dark:bg-gray-800/70 dark:border-gray-600 dark:text-gray-300 cursor-not-allowed",value:p.productName||"",disabled:!0,readOnly:!0,placeholder:"e.g., Google Pixel 7 128GB"})]}),s.jsxs("div",{children:[s.jsx(Ke,{className:"text-[10px] font-medium text-gray-700 dark:text-gray-200 uppercase tracking-wide",children:"Grade Assessment"}),s.jsx("div",{className:"mt-1",children:s.jsx(_oe,{value:p.grade,list:o,onChange:$=>g({...p,grade:$})})}),s.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 dark:border-gray-800 pt-3 mt-3",children:[s.jsx(Ke,{className:"text-[10px] font-medium text-gray-700 dark:text-gray-200 uppercase tracking-wide",children:"Issues / Parts"}),s.jsxs("div",{className:"flex items-center gap-2",children:[p.partStatus==="ARRIVED"?s.jsxs(V,{type:"button",size:"sm",className:"h-8 text-xs gap-2 bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>g($=>({...$,partStatus:null})),title:"Click to acknowledge parts and clear flag",children:[s.jsx(Kw,{className:"h-3.5 w-3.5"}),"Parts Arrived (Clear)"]}):s.jsxs(V,{type:"button",size:"sm",variant:p.partStatus==="NEEDED"?"destructive":"outline",className:se("h-8 text-xs gap-2",p.partStatus==="NEEDED"&&"bg-amber-100 text-amber-900 border-amber-300"),onClick:()=>g($=>({...$,partStatus:$.partStatus==="NEEDED"?null:"NEEDED"})),children:[s.jsx(hs,{className:"h-3.5 w-3.5"}),p.partStatus==="NEEDED"?"Parts Needed":"Flag Missing Parts"]}),s.jsxs(V,{variant:"destructive",size:"sm",className:"h-8 text-xs gap-2",onClick:()=>{confirm("Are you sure you want to SCRAP this item?")&&R("SCRAP")},children:[s.jsx(Tr,{className:"h-3 w-3"}),"Scrap Item"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(Ke,{className:"text-[10px] font-medium text-gray-700 dark:text-gray-200 uppercase tracking-wide",children:"Tested By"}),s.jsx(we,{value:h,disabled:!0,readOnly:!0,className:"mt-1 h-8 text-sm rounded-lg border-gray-200 bg-gray-100 text-gray-600 dark:bg-gray-800/70 dark:border-gray-600 dark:text-gray-300 cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ke,{className:"text-[10px] font-medium text-gray-700 dark:text-gray-200 uppercase tracking-wide",children:"Tested Date"}),s.jsxs("button",{type:"button",className:"text-[10px] text-blue-600 hover:text-blue-700 flex items-center gap-1 dark:text-blue-400 dark:hover:text-blue-300",onClick:()=>g($=>({...$,testedDate:f})),children:[s.jsx(YP,{className:"h-3 w-3"})," Today"]})]}),s.jsx(we,{type:"date",value:f,disabled:!0,readOnly:!0,className:"mt-1 h-8 text-sm rounded-lg border-gray-200 bg-gray-100 text-gray-600 dark:bg-gray-800/70 dark:border-gray-600 dark:text-gray-300 cursor-not-allowed"})]})]}),s.jsxs("div",{children:[s.jsx(Ke,{className:"text-[10px] font-medium text-gray-700 dark:text-gray-200 uppercase tracking-wide",children:"Testing Notes"}),s.jsx(Rh,{className:"mt-1 h-16 rounded-lg border-gray-200 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500/20 text-xs",value:p.testerComment??"",onChange:$=>g({...p,testerComment:$.target.value}),placeholder:"Add observations, issues, or notes..."})]})]}),s.jsxs("div",{className:"flex-1 space-y-4 bg-gray-50 rounded-xl p-4 dark:bg-gray-950",children:[s.jsxs("div",{className:"flex items-start justify-between border-b border-gray-200 dark:border-gray-700 pb-2",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100 uppercase tracking-wide",children:"Specifications"})}),s.jsx("div",{className:"flex items-center gap-2 -mt-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center h-7 px-3 rounded-md border border-gray-200 bg-white text-xs font-mono text-gray-600 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:p.synergyId||""}),s.jsx(V,{type:"button",variant:"ghost",size:"icon",className:"h-7 w-7",title:"Copy Synergy ID",onClick:()=>p.synergyId&&navigator.clipboard.writeText(p.synergyId),children:s.jsx(xb,{className:"h-3 w-3"})}),s.jsx(V,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",title:"Print Barcode Label",onClick:()=>joe(d.current),disabled:!p.synergyId,children:s.jsx(bn,{className:"h-3 w-3"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[s.jsx(pc,{id:"processor",label:"Processor",value:((Z=p.specs)==null?void 0:Z.processor)??"",onChange:$=>g({...p,specs:{...p.specs,processor:$}}),options:mc.processor,placeholder:"e.g., Apple M2 Pro"}),s.jsx(pc,{id:"ram",label:"RAM",value:((ce=p.specs)==null?void 0:ce.ram)??"",onChange:$=>g({...p,specs:{...p.specs,ram:$}}),options:mc.ram,placeholder:"e.g., 16GB"}),s.jsx(pc,{id:"storage",label:"Storage",value:((F=p.specs)==null?void 0:F.storage)??"",onChange:$=>g({...p,specs:{...p.specs,storage:$}}),options:mc.storage,placeholder:"e.g., 512GB SSD"}),s.jsx(pc,{id:"screen",label:"Screen",value:((J=p.specs)==null?void 0:J.screen)??"",onChange:$=>g({...p,specs:{...p.specs,screen:$}}),options:mc.screen,placeholder:"e.g., 14-inch"}),s.jsx(pc,{id:"batteryHealth",label:"Battery Health",value:((L=p.specs)==null?void 0:L.batteryHealth)??"",onChange:$=>g({...p,specs:{...p.specs,batteryHealth:$}}),options:mc.batteryHealth,placeholder:"e.g., 90-99%"}),s.jsx(pc,{id:"color",label:"Color",value:((U=p.specs)==null?void 0:U.color)??"",onChange:$=>g({...p,specs:{...p.specs,color:$}}),options:mc.color,placeholder:"e.g., Space Gray"})]}),s.jsx("h3",{className:"text-xs font-semibold text-gray-900 mb-2 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-1 uppercase tracking-wide",children:"Pricing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ke,{className:"text-[10px] font-medium text-gray-700 dark:text-gray-200 uppercase tracking-wide",children:"Unit Cost"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(mr,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-gray-400"}),s.jsx(we,{type:"number",className:"h-8 rounded-lg border-gray-200 bg-white pl-7 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 font-mono text-xs focus:ring-2 focus:ring-blue-500/20",value:p.purchaseCost??"",onChange:$=>g({...p,purchaseCost:D($.target.value)}),placeholder:"0.00",inputMode:"decimal"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ke,{className:"text-[10px] font-medium text-gray-700 dark:text-gray-200 uppercase tracking-wide",children:"eBay Price"}),s.jsx(V,{type:"button",size:"sm",variant:"ghost",className:"h-5 w-5 p-0 text-gray-500 hover:text-blue-600",onClick:q,disabled:k,title:"Fetch Market Average",children:k?s.jsx($t,{className:"h-3 w-3 animate-spin"}):s.jsx(a0,{className:"h-3 w-3"})})]}),s.jsx(we,{type:"number",className:"mt-1 h-8 rounded-lg border-gray-200 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500/20 text-xs",value:p.ebayPrice??"",onChange:$=>g({...p,ebayPrice:D($.target.value)}),placeholder:"",inputMode:"decimal"})]})]}),(C!=null||W)&&!k&&s.jsx("div",{className:`mt-2 text-xs rounded-lg p-2 flex justify-between items-center ${W?"bg-red-50 text-red-600":"bg-blue-50 text-blue-700"}`,children:W?s.jsx("span",{children:W}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{children:["Market Avg: $",C==null?void 0:C.toFixed(2)," ",T?`(${T.valid} sold)`:""]}),s.jsx("button",{onClick:()=>g($=>({...$,ebayPrice:Math.round((C??0)*100)/100})),className:"underline hover:no-underline font-medium",children:"Apply"})]})})]})]}),te.productName.length>0&&s.jsxs("div",{className:"mt-3 bg-gray-50 rounded-xl p-3 dark:bg-gray-950",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-900 mb-2 dark:text-gray-100 uppercase tracking-wide",children:"Recent Entries"}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:te.productName.map(($,M)=>s.jsx("button",{type:"button",className:"rounded-full bg-gray-100 border border-gray-200 px-3 py-1 text-[10px] text-gray-600 hover:bg-gray-200 hover:border-gray-300 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:border-gray-500 whitespace-nowrap",onClick:()=>z({specs:te.specs}),children:$},M))})]})]}),s.jsxs("div",{className:"flex-none flex items-center justify-between px-4 py-3 border-t border-gray-100 bg-gray-50 rounded-b-2xl dark:border-gray-800 dark:bg-gray-950",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:K?"Unsaved changes":"All changes saved"}),s.jsx(koe,{state:w,message:N})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx(V,{onClick:()=>R(),disabled:y,className:"h-8 px-4 text-xs rounded-lg bg-blue-600 hover:bg-blue-700 text-white dark:bg-blue-700 dark:hover:bg-blue-600",children:y?s.jsxs(s.Fragment,{children:[s.jsx(Soe,{}),s.jsx("span",{className:"ml-2",children:"Saving"})]}):"Save"})})]})]})]})]}):null}const Y_="synergy_user",Poe=({user:e,size:t="sm"})=>{const r=t==="sm"?"h-10 w-10 text-base":"h-24 w-24 text-4xl";if(e.avatar_url)return s.jsx("img",{src:e.avatar_url,alt:e.name||e.initials||"User avatar",className:se("rounded-full object-cover bg-gray-200 shrink-0",r)});const n=e.initials&&e.initials.trim().slice(0,2)||(e.name||"?").split(" ").filter(Boolean).map(a=>a[0]).slice(0,2).join("").toUpperCase();return s.jsx("div",{className:se("flex items-center justify-center rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 font-semibold text-white shrink-0",r),children:n})},X_={tester:{label:"Tester",color:"from-blue-500 to-indigo-500",icon:QP},poster:{label:"Poster",color:"from-emerald-500 to-teal-500",icon:i4},admin:{label:"Admin",color:"from-amber-500 to-pink-500",icon:Gl},manager:{label:"Manager",color:"from-sky-500 to-blue-500",icon:wd}};function Bh({onAuth:e,variant:t="tester",filterByRole:r=!1,delegateAuth:n=!1}){const[a,o]=u.useState([]),[i,l]=u.useState(!0),[c,d]=u.useState(null),[f,h]=u.useState(""),[m,p]=u.useState(null),[g,x]=u.useState(""),[b,y]=u.useState(!1),[v,w]=u.useState(!1),j=X_[t].label;X_[t].icon,u.useEffect(()=>{const C=localStorage.getItem(Y_);if(C)try{const E=JSON.parse(C),T=(E.roles||[E.role]).map(W=>W.toLowerCase()),A=t.toLowerCase();E&&E.id&&E.name&&T.includes(A)&&e(E)}catch(E){console.error("Failed to parse stored user",E)}},[]),u.useEffect(()=>{let C=!0;async function E(){l(!0),d(null);try{const T=await lY({active:!0});C&&o(T||[])}catch(T){C&&d((T==null?void 0:T.message)||"Failed to load users")}finally{C&&l(!1)}}return E(),()=>{C=!1}},[r,t]);const N=u.useMemo(()=>{const C=(f||"").toLowerCase().trim(),E=t.toLowerCase();return(a||[]).filter(T=>!T.active||r&&!(T.roles||[T.role]).map(W=>W.toLowerCase()).includes(E)?!1:C?T.name.toLowerCase().includes(C)||T.initials.toLowerCase().includes(C):!0)},[a,f,r,t]);function S(C){if(d(null),n){e(C);return}C.has_password?(p(C),w(!0)):_(C)}async function k(C){if(C.preventDefault(),!(!m||!g)){y(!0),d(null);try{const E=await cY(m.id,g);_(E)}catch(E){d(E.message||"Login failed")}finally{y(!1)}}}function _(C){localStorage.setItem(Y_,JSON.stringify({...C,ts:Date.now()})),e(C)}return u.useMemo(()=>{const C={Tester:{title:"Testing Workspace",subtitle:"Select your profile to begin."},Poster:{title:"Posting Workspace",subtitle:"Select your profile to begin."},Admin:{title:"Admin Workspace",subtitle:"Select your profile to begin."},Manager:{title:"Manager Workspace",subtitle:"Select your profile to begin."}};return C[j]||C.Tester},[j]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mx-auto max-w-4xl px-6 py-10 text-white",children:[s.jsx("div",{className:"mb-4 flex items-center gap-2",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm outline-none placeholder:text-white/40",placeholder:"Search by name or initials",value:f,onChange:C=>h(C.target.value)}),s.jsx(i4,{className:"pointer-events-none absolute right-2 top-2 h-5 w-5 opacity-60"})]})}),s.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-3",children:i?s.jsx("div",{className:"py-6 text-center text-white/70",children:"Loading users"}):c?s.jsx("div",{className:"rounded-lg border border-red-400/30 bg-red-500/15 p-3 text-sm text-red-100",children:c}):N.length===0?s.jsx("div",{className:"py-6 text-center text-white/70",children:"No matching profiles found."}):s.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-3",children:N.map(C=>{var E,T;return s.jsxs("button",{onClick:()=>S(C),className:"group relative flex flex-col items-center gap-2 rounded-lg border border-white/10 bg-black/20 px-3 py-3 text-center shadow-sm transition hover:border-white/25 hover:bg-black/30",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Poe,{user:C,size:"sm"}),C.has_password&&s.jsx("div",{className:"absolute -top-1 -right-1 z-10 flex h-5 w-5 items-center justify-center rounded-full border-2 border-slate-800 bg-slate-600",children:s.jsx(Nl,{className:"h-2.5 w-2.5 text-white"})})]}),s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"text-xs font-medium leading-snug break-words",children:((E=C.name)==null?void 0:E.trim())||((T=C.initials)==null?void 0:T.trim())||"Unnamed"}),s.jsxs("div",{className:"mt-1 flex flex-wrap justify-center gap-1",children:[(C.roles||[C.role]).slice(0,2).map((A,W)=>s.jsx("span",{className:"text-[9px] uppercase tracking-wide opacity-70 bg-white/10 px-1 rounded border border-white/5",children:A},W)),(C.roles||[]).length>2&&s.jsxs("span",{className:"text-[9px] opacity-50",children:["+",C.roles.length-2]})]})]})]},String(C.id))})})})]}),v&&m&&s.jsx(Me.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/80 backdrop-blur-sm p-4",initial:{opacity:0},animate:{opacity:1},children:s.jsxs(Me.form,{onSubmit:k,className:"w-full max-w-sm bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-2xl space-y-4",initial:{scale:.95,y:20},animate:{scale:1,y:0},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"rounded-lg bg-sky-600/20 p-2",children:s.jsx(Nl,{className:"h-5 w-5 text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:"Verification Required"}),s.jsxs("p",{className:"text-sm text-slate-400",children:["Enter password for ",m.name]})]})]}),s.jsx("input",{type:"password",placeholder:"Password",className:"w-full h-10 px-4 rounded-xl bg-slate-700/80 text-white border border-slate-700 focus:ring-2 focus:ring-sky-500 focus:border-sky-500 placeholder:text-slate-500 text-sm",value:g,onChange:C=>x(C.target.value),autoFocus:!0,disabled:b}),c&&s.jsx("p",{className:"text-xs text-rose-400",children:c}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{w(!1),p(null),x(""),d(null)},className:"flex-1 py-2 rounded-xl border border-slate-700 text-slate-300 hover:bg-slate-700/50 transition-colors",disabled:b,children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 py-2 bg-sky-600 rounded-xl text-white font-semibold hover:bg-sky-700 transition-colors disabled:opacity-60",disabled:!g||b,children:b?"Verifying":"Verify"})]})]})})]})}var Uy={};const Moe=typeof process<"u"&&(Uy==null?void 0:Uy.NEXT_PUBLIC_API_BASE)||"",Ioe="synergy_user";function X0(e=Moe,t={}){const r=(e||"").replace(/\/+$/,"");let n="";try{const i=localStorage.getItem(Ioe);if(i){const l=JSON.parse(i);l&&l.id&&(n=`?user_id=${l.id}`)}}catch{}const a=new EventSource(`${r}/events${n}`,{withCredentials:!0}),o=i=>{try{return JSON.parse(i.data)}catch{return null}};return a.addEventListener("category.created",i=>{var c;const l=o(i);l&&((c=t.onCategoryCreated)==null||c.call(t,l))}),a.addEventListener("category.updated",i=>{var c;const l=o(i);(c=t.onCategoryUpdated)==null||c.call(t,l==null?void 0:l.before,l==null?void 0:l.after)}),a.addEventListener("category.deleted",i=>{var c;const l=o(i);l&&((c=t.onCategoryDeleted)==null||c.call(t,l))}),a.addEventListener("row.upserted",i=>{var c;const l=o(i);l&&((c=t.onRowUpserted)==null||c.call(t,l))}),a.addEventListener("row.bulkUpserted",i=>{var c;const l=o(i);(c=t.onRowBulkUpserted)==null||c.call(t,(l==null?void 0:l.count)??0)}),a.addEventListener("row.deleted",i=>{var c;const l=o(i);l!=null&&l.synergyId&&((c=t.onRowDeleted)==null||c.call(t,l.synergyId))}),a.addEventListener("prefix.set",i=>{var c;const l=o(i);l&&((c=t.onPrefixSet)==null||c.call(t,l))}),a.addEventListener("message.new",i=>{var c;const l=o(i);l&&((c=t.onMessageNew)==null||c.call(t,l))}),a.addEventListener("error",i=>{}),()=>{try{a.close()}catch{}}}function uD({config:e,onChange:t}){const r=u.useMemo(()=>e.key==="productName"?"Product Name":e.key==="synergyId"?"Synergy ID":e.key==="date"?"Date":"Sort",[e]);return s.jsxs(B2,{children:[s.jsx(U2,{asChild:!0,children:s.jsxs(V,{variant:"outline",size:"sm",className:"h-8 gap-2 border-dashed bg-transparent hover:bg-muted/50",children:[s.jsx(Bw,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{className:"text-xs font-medium",children:r})]})}),s.jsxs(E0,{align:"end",className:"w-48",children:[s.jsx(T0,{className:"text-xs text-muted-foreground",children:"Sort By"}),s.jsxs(ks,{onClick:()=>t({key:"productName",dir:"asc"}),children:[s.jsx(t7,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{children:"Name (A-Z)"}),e.key==="productName"&&e.dir==="asc"&&s.jsx(tr,{className:"ml-auto h-3 w-3"})]}),s.jsxs(ks,{onClick:()=>t({key:"productName",dir:"desc"}),children:[s.jsx(n7,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{children:"Name (Z-A)"}),e.key==="productName"&&e.dir==="desc"&&s.jsx(tr,{className:"ml-auto h-3 w-3"})]}),s.jsx(zf,{}),s.jsxs(ks,{onClick:()=>t({key:"synergyId",dir:"asc"}),children:[s.jsx(Ua,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{children:"ID (Ascending)"}),e.key==="synergyId"&&e.dir==="asc"&&s.jsx(tr,{className:"ml-auto h-3 w-3"})]}),s.jsxs(ks,{onClick:()=>t({key:"synergyId",dir:"desc"}),children:[s.jsx(Ua,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{children:"ID (Descending)"}),e.key==="synergyId"&&e.dir==="desc"&&s.jsx(tr,{className:"ml-auto h-3 w-3"})]}),s.jsx(zf,{}),s.jsxs(ks,{onClick:()=>t({key:"date",dir:"desc"}),children:[s.jsx(Ni,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{children:"Date (Newest)"}),e.key==="date"&&e.dir==="desc"&&s.jsx(tr,{className:"ml-auto h-3 w-3"})]}),s.jsxs(ks,{onClick:()=>t({key:"date",dir:"asc"}),children:[s.jsx(Ni,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{children:"Date (Oldest)"}),e.key==="date"&&e.dir==="asc"&&s.jsx(tr,{className:"ml-auto h-3 w-3"})]})]})]})}function fN(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Q0="Checkbox",[Aoe,Yge]=jn(Q0),[Ooe,hN]=Aoe(Q0);function Roe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:o,form:i,name:l,onCheckedChange:c,required:d,value:f="on",internal_do_not_use_render:h}=e,[m,p]=ca({prop:r,defaultProp:a??!1,onChange:c,caller:Q0}),[g,x]=u.useState(null),[b,y]=u.useState(null),v=u.useRef(!1),w=g?!!i||!!g.closest("form"):!0,j={checked:m,disabled:o,setChecked:p,control:g,setControl:x,name:l,form:i,value:f,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:xi(a)?!1:a,isFormControl:w,bubbleInput:b,setBubbleInput:y};return s.jsx(Ooe,{scope:t,...j,children:Doe(h)?h(j):n})}var fD="CheckboxTrigger",hD=u.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:o,value:i,disabled:l,checked:c,required:d,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:g}=hN(fD,e),x=pt(a,f),b=u.useRef(c);return u.useEffect(()=>{const y=o==null?void 0:o.form;if(y){const v=()=>h(b.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[o,h]),s.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":xi(c)?"mixed":c,"aria-required":d,"data-state":yD(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:x,onKeyDown:$e(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:$e(r,y=>{h(v=>xi(v)?!0:!v),g&&p&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})});hD.displayName=fD;var mN=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:d,form:f,...h}=e;return s.jsx(Roe,{__scopeCheckbox:r,checked:a,defaultChecked:o,disabled:l,required:i,onCheckedChange:d,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(hD,{...h,ref:t,__scopeCheckbox:r}),m&&s.jsx(xD,{__scopeCheckbox:r})]})})});mN.displayName=Q0;var mD="CheckboxIndicator",pD=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=hN(mD,r);return s.jsx(on,{present:n||xi(o.checked)||o.checked===!0,children:s.jsx(Ve.span,{"data-state":yD(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});pD.displayName=mD;var gD="CheckboxBubbleInput",xD=u.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:i,required:l,disabled:c,name:d,value:f,form:h,bubbleInput:m,setBubbleInput:p}=hN(gD,e),g=pt(r,p),x=fN(o),b=a2(n);u.useEffect(()=>{const v=m;if(!v)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,S=!a.current;if(x!==o&&N){const k=new Event("click",{bubbles:S});v.indeterminate=xi(o),N.call(v,xi(o)?!1:o),v.dispatchEvent(k)}},[m,x,o,a]);const y=u.useRef(xi(o)?!1:o);return s.jsx(Ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:l,disabled:c,name:d,value:f,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xD.displayName=gD;function Doe(e){return typeof e=="function"}function xi(e){return e==="indeterminate"}function yD(e){return xi(e)?"indeterminate":e?"checked":"unchecked"}const Aa=u.forwardRef(({className:e,...t},r)=>s.jsx(mN,{ref:r,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(pD,{className:se("flex items-center justify-center text-current"),children:s.jsx(tr,{className:"h-4 w-4"})})}));Aa.displayName=mN.displayName;var Loe=[" ","Enter","ArrowUp","ArrowDown"],$oe=[" ","Enter"],Ll="Select",[J0,Z0,Foe]=Zg(Ll),[eu,Xge]=jn(Ll,[Foe,Ga]),ex=Ga(),[zoe,Ki]=eu(Ll),[Boe,Uoe]=eu(Ll),vD=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:h,disabled:m,required:p,form:g}=e,x=ex(t),[b,y]=u.useState(null),[v,w]=u.useState(null),[j,N]=u.useState(!1),S=S0(d),[k,_]=ca({prop:n,defaultProp:a??!1,onChange:o,caller:Ll}),[C,E]=ca({prop:i,defaultProp:l,onChange:c,caller:Ll}),T=u.useRef(null),A=b?g||!!b.closest("form"):!0,[W,P]=u.useState(new Set),te=Array.from(W).map(le=>le.props.value).join(";");return s.jsx(gh,{...x,children:s.jsxs(zoe,{required:p,scope:t,trigger:b,onTriggerChange:y,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:sn(),value:C,onValueChange:E,open:k,onOpenChange:_,dir:S,triggerPointerDownPosRef:T,disabled:m,children:[s.jsx(J0.Provider,{scope:t,children:s.jsx(Boe,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(le=>{P(K=>new Set(K).add(le))},[]),onNativeOptionRemove:u.useCallback(le=>{P(K=>{const D=new Set(K);return D.delete(le),D})},[]),children:r})}),A?s.jsxs(VD,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:C,onChange:le=>E(le.target.value),disabled:m,form:g,children:[C===void 0?s.jsx("option",{value:""}):null,Array.from(W)]},te):null]})})};vD.displayName=Ll;var bD="SelectTrigger",wD=u.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,o=ex(r),i=Ki(bD,r),l=i.disabled||n,c=pt(t,i.onTriggerChange),d=Z0(r),f=u.useRef("touch"),[h,m,p]=WD(x=>{const b=d().filter(w=>!w.disabled),y=b.find(w=>w.value===i.value),v=GD(b,x,y);v!==void 0&&i.onValueChange(v.value)}),g=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(Bd,{asChild:!0,...o,children:s.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":HD(i.value)?"":void 0,...a,ref:c,onClick:$e(a.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&g(x)}),onPointerDown:$e(a.onPointerDown,x=>{f.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(g(x),x.preventDefault())}),onKeyDown:$e(a.onKeyDown,x=>{const b=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(b&&x.key===" ")&&Loe.includes(x.key)&&(g(),x.preventDefault())})})})});wD.displayName=bD;var jD="SelectValue",ND=u.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:i="",...l}=e,c=Ki(jD,r),{onValueNodeHasChildrenChange:d}=c,f=o!==void 0,h=pt(t,c.onValueNodeChange);return Nr(()=>{d(f)},[d,f]),s.jsx(Ve.span,{...l,ref:h,style:{pointerEvents:"none"},children:HD(c.value)?s.jsx(s.Fragment,{children:i}):o})});ND.displayName=jD;var Voe="SelectIcon",SD=u.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ve.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});SD.displayName=Voe;var Hoe="SelectPortal",kD=e=>s.jsx(Dd,{asChild:!0,...e});kD.displayName=Hoe;var $l="SelectContent",CD=u.forwardRef((e,t)=>{const r=Ki($l,e.__scopeSelect),[n,a]=u.useState();if(Nr(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?Zt.createPortal(s.jsx(_D,{scope:e.__scopeSelect,children:s.jsx(J0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(ED,{...e,ref:t})});CD.displayName=$l;var Qs=10,[_D,Yi]=eu($l),Woe="SelectContentImpl",Goe=ji("SelectContent.RemoveScroll"),ED=u.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:x,avoidCollisions:b,...y}=e,v=Ki($l,r),[w,j]=u.useState(null),[N,S]=u.useState(null),k=pt(t,L=>j(L)),[_,C]=u.useState(null),[E,T]=u.useState(null),A=Z0(r),[W,P]=u.useState(!1),te=u.useRef(!1);u.useEffect(()=>{if(w)return j0(w)},[w]),b0();const le=u.useCallback(L=>{const[U,...$]=A().map(de=>de.ref.current),[M]=$.slice(-1),re=document.activeElement;for(const de of L)if(de===re||(de==null||de.scrollIntoView({block:"nearest"}),de===U&&N&&(N.scrollTop=0),de===M&&N&&(N.scrollTop=N.scrollHeight),de==null||de.focus(),document.activeElement!==re))return},[A,N]),K=u.useCallback(()=>le([_,w]),[le,_,w]);u.useEffect(()=>{W&&K()},[W,K]);const{onOpenChange:D,triggerPointerDownPosRef:I}=v;u.useEffect(()=>{if(w){let L={x:0,y:0};const U=M=>{var re,de;L={x:Math.abs(Math.round(M.pageX)-(((re=I.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(M.pageY)-(((de=I.current)==null?void 0:de.y)??0))}},$=M=>{L.x<=10&&L.y<=10?M.preventDefault():w.contains(M.target)||D(!1),document.removeEventListener("pointermove",U),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",U),document.addEventListener("pointerup",$,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",$,{capture:!0})}}},[w,D,I]),u.useEffect(()=>{const L=()=>D(!1);return window.addEventListener("blur",L),window.addEventListener("resize",L),()=>{window.removeEventListener("blur",L),window.removeEventListener("resize",L)}},[D]);const[R,q]=WD(L=>{const U=A().filter(re=>!re.disabled),$=U.find(re=>re.ref.current===document.activeElement),M=GD(U,L,$);M&&setTimeout(()=>M.ref.current.focus())}),z=u.useCallback((L,U,$)=>{const M=!te.current&&!$;(v.value!==void 0&&v.value===U||M)&&(C(L),M&&(te.current=!0))},[v.value]),Z=u.useCallback(()=>w==null?void 0:w.focus(),[w]),ce=u.useCallback((L,U,$)=>{const M=!te.current&&!$;(v.value!==void 0&&v.value===U||M)&&T(L)},[v.value]),F=n==="popper"?w1:TD,J=F===w1?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:x,avoidCollisions:b}:{};return s.jsx(_D,{scope:r,content:w,viewport:N,onViewportChange:S,itemRefCallback:z,selectedItem:_,onItemLeave:Z,itemTextRefCallback:ce,focusSelectedItem:K,selectedItemText:E,position:n,isPositioned:W,searchRef:R,children:s.jsx(kh,{as:Goe,allowPinchZoom:!0,children:s.jsx(Sh,{asChild:!0,trapped:v.open,onMountAutoFocus:L=>{L.preventDefault()},onUnmountAutoFocus:$e(a,L=>{var U;(U=v.trigger)==null||U.focus({preventScroll:!0}),L.preventDefault()}),children:s.jsx(ql,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:L=>L.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(F,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:L=>L.preventDefault(),...y,...J,onPlaced:()=>P(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:$e(y.onKeyDown,L=>{const U=L.ctrlKey||L.altKey||L.metaKey;if(L.key==="Tab"&&L.preventDefault(),!U&&L.key.length===1&&q(L.key),["ArrowUp","ArrowDown","Home","End"].includes(L.key)){let M=A().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(L.key)&&(M=M.slice().reverse()),["ArrowUp","ArrowDown"].includes(L.key)){const re=L.target,de=M.indexOf(re);M=M.slice(de+1)}setTimeout(()=>le(M)),L.preventDefault()}})})})})})})});ED.displayName=Woe;var qoe="SelectItemAlignedPosition",TD=u.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,o=Ki($l,r),i=Yi($l,r),[l,c]=u.useState(null),[d,f]=u.useState(null),h=pt(t,k=>f(k)),m=Z0(r),p=u.useRef(!1),g=u.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:y,focusSelectedItem:v}=i,w=u.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&x&&b&&y){const k=o.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),E=y.getBoundingClientRect();if(o.dir!=="rtl"){const re=E.left-_.left,de=C.left-re,Ee=k.left-de,Ze=k.width+Ee,rt=Math.max(Ze,_.width),Xe=window.innerWidth-Qs,et=Kb(de,[Qs,Math.max(Qs,Xe-rt)]);l.style.minWidth=Ze+"px",l.style.left=et+"px"}else{const re=_.right-E.right,de=window.innerWidth-C.right-re,Ee=window.innerWidth-k.right-de,Ze=k.width+Ee,rt=Math.max(Ze,_.width),Xe=window.innerWidth-Qs,et=Kb(de,[Qs,Math.max(Qs,Xe-rt)]);l.style.minWidth=Ze+"px",l.style.right=et+"px"}const T=m(),A=window.innerHeight-Qs*2,W=x.scrollHeight,P=window.getComputedStyle(d),te=parseInt(P.borderTopWidth,10),le=parseInt(P.paddingTop,10),K=parseInt(P.borderBottomWidth,10),D=parseInt(P.paddingBottom,10),I=te+le+W+D+K,R=Math.min(b.offsetHeight*5,I),q=window.getComputedStyle(x),z=parseInt(q.paddingTop,10),Z=parseInt(q.paddingBottom,10),ce=k.top+k.height/2-Qs,F=A-ce,J=b.offsetHeight/2,L=b.offsetTop+J,U=te+le+L,$=I-U;if(U<=ce){const re=T.length>0&&b===T[T.length-1].ref.current;l.style.bottom="0px";const de=d.clientHeight-x.offsetTop-x.offsetHeight,Ee=Math.max(F,J+(re?Z:0)+de+K),Ze=U+Ee;l.style.height=Ze+"px"}else{const re=T.length>0&&b===T[0].ref.current;l.style.top="0px";const Ee=Math.max(ce,te+x.offsetTop+(re?z:0)+J)+$;l.style.height=Ee+"px",x.scrollTop=U-ce+x.offsetTop}l.style.margin=`${Qs}px 0`,l.style.minHeight=R+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,l,d,x,b,y,o.dir,n]);Nr(()=>w(),[w]);const[j,N]=u.useState();Nr(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const S=u.useCallback(k=>{k&&g.current===!0&&(w(),v==null||v(),g.current=!1)},[w,v]);return s.jsx(Yoe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(Ve.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});TD.displayName=qoe;var Koe="SelectPopperPosition",w1=u.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Qs,...o}=e,i=ex(r);return s.jsx(xh,{...i,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});w1.displayName=Koe;var[Yoe,pN]=eu($l,{}),j1="SelectViewport",PD=u.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,o=Yi(j1,r),i=pN(j1,r),l=pt(t,o.onViewportChange),c=u.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(J0.Slot,{scope:r,children:s.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:$e(a.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const p=Math.abs(c.current-f.scrollTop);if(p>0){const g=window.innerHeight-Qs*2,x=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),y=Math.max(x,b);if(y<g){const v=y+p,w=Math.min(g,v),j=v-w;h.style.height=w+"px",h.style.bottom==="0px"&&(f.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});PD.displayName=j1;var MD="SelectGroup",[Xoe,Qoe]=eu(MD),Joe=u.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=sn();return s.jsx(Xoe,{scope:r,id:a,children:s.jsx(Ve.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Joe.displayName=MD;var ID="SelectLabel",AD=u.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Qoe(ID,r);return s.jsx(Ve.div,{id:a.id,...n,ref:t})});AD.displayName=ID;var kg="SelectItem",[Zoe,OD]=eu(kg),RD=u.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...i}=e,l=Ki(kg,r),c=Yi(kg,r),d=l.value===n,[f,h]=u.useState(o??""),[m,p]=u.useState(!1),g=pt(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,n,a)}),x=sn(),b=u.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Zoe,{scope:r,value:n,disabled:a,textId:x,isSelected:d,onItemTextChange:u.useCallback(v=>{h(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(J0.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:s.jsx(Ve.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:g,onFocus:$e(i.onFocus,()=>p(!0)),onBlur:$e(i.onBlur,()=>p(!1)),onClick:$e(i.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:$e(i.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:$e(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:$e(i.onPointerMove,v=>{var w;b.current=v.pointerType,a?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(i.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:$e(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||($oe.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});RD.displayName=kg;var Du="SelectItemText",DD=u.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...o}=e,i=Ki(Du,r),l=Yi(Du,r),c=OD(Du,r),d=Uoe(Du,r),[f,h]=u.useState(null),m=pt(t,y=>h(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),p=f==null?void 0:f.textContent,g=u.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=d;return Nr(()=>(x(g),()=>b(g)),[x,b,g]),s.jsxs(s.Fragment,{children:[s.jsx(Ve.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Zt.createPortal(o.children,i.valueNode):null]})});DD.displayName=Du;var LD="SelectItemIndicator",$D=u.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return OD(LD,r).isSelected?s.jsx(Ve.span,{"aria-hidden":!0,...n,ref:t}):null});$D.displayName=LD;var N1="SelectScrollUpButton",FD=u.forwardRef((e,t)=>{const r=Yi(N1,e.__scopeSelect),n=pN(N1,e.__scopeSelect),[a,o]=u.useState(!1),i=pt(t,n.onScrollButtonChange);return Nr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(BD,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});FD.displayName=N1;var S1="SelectScrollDownButton",zD=u.forwardRef((e,t)=>{const r=Yi(S1,e.__scopeSelect),n=pN(S1,e.__scopeSelect),[a,o]=u.useState(!1),i=pt(t,n.onScrollButtonChange);return Nr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;o(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(BD,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});zD.displayName=S1;var BD=u.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,o=Yi("SelectScrollButton",r),i=u.useRef(null),l=Z0(r),c=u.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Nr(()=>{var f;const d=l().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ve.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:$e(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:$e(a.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:$e(a.onPointerLeave,()=>{c()})})}),eie="SelectSeparator",UD=u.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ve.div,{"aria-hidden":!0,...n,ref:t})});UD.displayName=eie;var k1="SelectArrow",tie=u.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ex(r),o=Ki(k1,r),i=Yi(k1,r);return o.open&&i.position==="popper"?s.jsx(yh,{...a,...n,ref:t}):null});tie.displayName=k1;var rie="SelectBubbleInput",VD=u.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=u.useRef(null),o=pt(n,a),i=fN(t);return u.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const h=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[i,t]),s.jsx(Ve.select,{...r,style:{...NP,...r.style},ref:o,defaultValue:t})});VD.displayName=rie;function HD(e){return e===""||e===void 0}function WD(e){const t=pr(e),r=u.useRef(""),n=u.useRef(0),a=u.useCallback(i=>{const l=r.current+i;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=u.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function GD(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=nie(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function nie(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sie=vD,qD=wD,aie=ND,oie=SD,iie=kD,KD=CD,lie=PD,YD=AD,XD=RD,cie=DD,die=$D,QD=FD,JD=zD,ZD=UD;const Cg=sie,_g=aie,qf=u.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(qD,{ref:n,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(oie,{asChild:!0,children:s.jsx(Ls,{className:"h-4 w-4 opacity-50"})})]}));qf.displayName=qD.displayName;const e6=u.forwardRef(({className:e,...t},r)=>s.jsx(QD,{ref:r,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(yd,{className:"h-4 w-4"})}));e6.displayName=QD.displayName;const t6=u.forwardRef(({className:e,...t},r)=>s.jsx(JD,{ref:r,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ls,{className:"h-4 w-4"})}));t6.displayName=JD.displayName;const Kf=u.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(iie,{children:s.jsxs(KD,{ref:a,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(e6,{}),s.jsx(lie,{className:se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(t6,{})]})}));Kf.displayName=KD.displayName;const uie=u.forwardRef(({className:e,...t},r)=>s.jsx(YD,{ref:r,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));uie.displayName=YD.displayName;const qo=u.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(XD,{ref:n,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(die,{children:s.jsx(tr,{className:"h-4 w-4"})})}),s.jsx(cie,{children:t})]}));qo.displayName=XD.displayName;const fie=u.forwardRef(({className:e,...t},r)=>s.jsx(ZD,{ref:r,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));fie.displayName=ZD.displayName;function hie(e){if(!e){alert("Barcode element not found. Cannot print.");return}const t=new XMLSerializer().serializeToString(e),r="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(t),n=window.open("","_blank","width=600,height=500");if(!n){alert("Popup blocked. Please allow popups for this site.");return}n.document.write(`<html><head><title>Barcode</title><style>@page{size:auto;margin:0}html,body{margin:0;padding:0;height:99vh;overflow:hidden;display:flex;align-items:center;justify-content:center}.label{width:3.43in;height:0.6in;display:flex;align-items:center;justify-content:center;padding-top:1.0in;padding-right:0.25in}img{display:block;max-width:3.2in;max-height:1in;object-fit:contain}</style></head><body onload="window.print();window.onafterprint=()=>window.close()"><div class="label"><img src="${r}" /></div></body></html>`),n.document.close()}function tl({className:e=""}){return s.jsx("div",{className:`animate-pulse rounded-md bg-muted/50 ${e}`})}function mie(){return s.jsxs("div",{className:"p-6 divide-y divide-border/50",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Loading Inventory..."}),Array.from({length:12}).map((e,t)=>s.jsx("div",{className:"py-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(tl,{className:"h-6 w-6 rounded-md"}),s.jsxs("div",{className:"min-w-0 flex-1 space-y-2",children:[s.jsx(tl,{className:"h-4 w-2/3"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(tl,{className:"h-3 w-24"}),s.jsx(tl,{className:"h-3 w-20"}),s.jsx(tl,{className:"h-3 w-16"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(tl,{className:"h-5 w-20"}),s.jsx(tl,{className:"h-3 w-16"})]})]})},t))]})}function pie({open:e,onClose:t,settings:r,onSave:n}){const[a,o]=u.useState(r);u.useEffect(()=>o(r),[r]);const i=(l,c)=>o(d=>({...d,[l]:c}));return s.jsx(Gd,{open:e,onOpenChange:l=>l?void 0:t(),children:s.jsxs(Xl,{className:"sm:max-w-[500px]",children:[s.jsx(Ql,{children:s.jsx(Jl,{children:"Session Settings"})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Aa,{id:"soundOnSave",checked:a.soundOnSave,onCheckedChange:l=>i("soundOnSave",!!l)}),s.jsx(Ke,{htmlFor:"soundOnSave",children:"Play sound on save"})]}),s.jsxs("div",{className:"space-y-4 pt-2 border-t",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Display"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Aa,{id:"denseMode",checked:a.denseMode,onCheckedChange:l=>i("denseMode",!!l)}),s.jsx(Ke,{htmlFor:"denseMode",children:"Dense row spacing"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Aa,{id:"showSpecsInline",checked:a.showSpecsInline,onCheckedChange:l=>i("showSpecsInline",!!l)}),s.jsx(Ke,{htmlFor:"showSpecsInline",children:"Show specs in list items"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Aa,{id:"wideMode",checked:a.wideMode,onCheckedChange:l=>i("wideMode",!!l)}),s.jsx(Ke,{htmlFor:"wideMode",children:"Wide mode"})]})]}),s.jsxs("div",{className:"space-y-4 pt-2 border-t",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Performance"}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsx(Ke,{htmlFor:"itemsPerPage",children:"Items per page"}),s.jsxs(Cg,{value:String(a.itemsPerPage),onValueChange:l=>i("itemsPerPage",Number(l)),children:[s.jsx(qf,{id:"itemsPerPage",children:s.jsx(_g,{})}),s.jsx(Kf,{children:[20,50,100,200].map(l=>s.jsx(qo,{value:String(l),children:l},l))})]})]}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsx(Ke,{htmlFor:"autoRefresh",children:"Auto-refresh (sec)"}),s.jsx(we,{id:"autoRefresh",type:"number",min:0,max:300,value:a.autoRefreshInterval,onChange:l=>i("autoRefreshInterval",Number(l.target.value))})]})]})]}),s.jsxs(Ch,{children:[s.jsx(V,{variant:"outline",onClick:t,children:"Cancel"}),s.jsx(V,{onClick:()=>n(a),children:"Save Changes"})]})]})})}function gie(e){return e?e.replace(/Intel\(R\)/yi,"").replace(/Core\(TM\)/yi,"").replace(/CPU/yi,"").replace(/@.*/,"").replace(/1\dth Gen/yi,"").replace(/Processor/yi,"").trim():""}const xie=ue.memo(function({row:t,style:r,onRecordPrint:n,onEdit:a,onWorkspace:o,denseMode:i,showSpecsInline:l}){const c=u.useRef(null),d=u.useMemo(()=>{if(typeof t.categoryLbl=="string"&&t.categoryLbl.trim())return t.categoryLbl.trim();if(typeof t.category=="string"&&t.category.trim())return t.category.trim();const _=t==null?void 0:t.category;return _&&typeof _=="object"&&typeof _.label=="string"?_.label.trim():""},[t]),f=Cp(t.categoryIcon),h=gee(t.categoryColor),{isReady:m,missingFields:p}=DR(t),g=i?"p-2 sm:p-2.5":"p-2.5 sm:p-3";t.testerComment&&t.testerComment.length>30?`${t.testerComment.slice(0,27)}`:t.testerComment;const x=!!t.lastPrintedAt,b=x?`Label printed on ${new Date(t.lastPrintedAt).toLocaleString()}`:"Label not printed yet",y=_=>{_.stopPropagation(),hie(c.current),n(t.synergyId)},v=t.specs||{},w=gie(v.processor||v.cpu),j=v.ram||v.memory,N=v.storage||v.hdd||v.ssd,S=w||j||N,k=!!t.testerComment;return s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{display:"none"},children:t.synergyId&&s.jsx(cD,{ref:c,value:t.synergyId})}),s.jsx("div",{role:"button",tabIndex:0,"aria-label":`Edit ${t.productName}`,className:`border rounded-lg hover:shadow-md hover:border-primary/40 focus:outline focus:outline-2 focus:outline-primary transition-all duration-200 ${g} bg-card text-card-foreground cursor-pointer`,style:r,onClick:()=>a(t.synergyId),onKeyDown:_=>(_.key==="Enter"||_.key===" ")&&a(t.synergyId),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"shrink-0 text-muted-foreground/70",children:s.jsx(f,{className:"h-5 w-5"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 truncate",children:[m?s.jsx(lh,{className:"h-4 w-4 text-green-600"}):s.jsx(Is,{className:"h-4 w-4 text-yellow-600",title:`Missing: ${p.join(", ")}`}),s.jsx(bn,{className:se("h-4 w-4",x?"text-blue-500":"text-muted-foreground/60"),title:b}),s.jsx("h3",{className:"font-semibold text-sm sm:text-base truncate",children:t.productName||s.jsx("span",{className:"text-muted-foreground",children:"Untitled Device"})}),t.partStatus==="NEEDED"&&s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-amber-100 px-2 py-0.5 text-[10px] font-medium text-amber-800 border border-amber-200 ml-1",children:[s.jsx(hs,{className:"h-3 w-3"})," ",s.jsx("span",{className:"hidden sm:inline",children:"Parts Needed"})]}),t.partStatus==="ARRIVED"&&s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-100 px-2 py-0.5 text-[10px] font-medium text-emerald-800 border border-emerald-200 ml-1 animate-pulse",children:[s.jsx(Kw,{className:"h-3 w-3"})," ",s.jsx("span",{className:"hidden sm:inline",children:"Parts Arrived"})]}),s.jsx("span",{className:"hidden sm:inline"}),s.jsx("span",{title:"Synergy ID",className:"inline-flex items-center rounded-sm px-1.5 py-0.5 text-[10px] sm:text-[11px] font-normal border border-border font-mono",children:t.synergyId}),d&&s.jsx("span",{className:`inline-flex items-center rounded-sm px-1.5 py-0.5 text-[10px] sm:text-[11px] font-normal border ${h}`,children:d})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1.5",children:[S&&s.jsxs(s.Fragment,{children:[w&&s.jsxs(kt,{variant:"secondary",className:"h-5 px-1.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border-slate-200 dark:border-slate-700 font-medium text-[10px] gap-1 hover:bg-slate-200",children:[s.jsx(ki,{className:"h-3 w-3 opacity-70"})," ",w]}),j&&s.jsxs(kt,{variant:"secondary",className:"h-5 px-1.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border-slate-200 dark:border-slate-700 font-medium text-[10px] gap-1 hover:bg-slate-200",children:[s.jsx(bd,{className:"h-3 w-3 opacity-70"})," ",j]}),N&&s.jsxs(kt,{variant:"secondary",className:"h-5 px-1.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border-slate-200 dark:border-slate-700 font-medium text-[10px] gap-1 hover:bg-slate-200",children:[s.jsx(vd,{className:"h-3 w-3 opacity-70"})," ",N]})]}),k&&s.jsxs(kt,{variant:"outline",className:"h-5 px-1.5 bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800 font-medium text-[10px] gap-1",children:[s.jsx(hh,{className:"h-3 w-3"})," Note"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-1 text-xs text-muted-foreground mt-1.5",children:[t.testedBy&&s.jsxs("span",{className:"text-foreground/80",children:["Tester: ",t.testedBy]}),t.upc&&s.jsxs("span",{title:"UPC",className:"inline-flex items-center gap-1 text-foreground/70 font-mono ml-2",children:[s.jsx(X7,{className:"h-3 w-3"})," ",t.upc]})]})]}),s.jsxs("div",{className:"shrink-0 flex items-center gap-2",onClick:_=>_.stopPropagation(),children:[s.jsx(V,{variant:"outline",size:"icon",onClick:y,title:"Print",className:"h-8 w-8 text-xs",children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>o(t),className:"h-8 gap-1 pl-2 pr-2 text-xs",children:[s.jsx(oF,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Workspace"})]})]})]})})]})}),yie=ue.memo(({open:e,onClose:t,ws:r,rows:n,updateWorkspace:a,applyWorkspace:o})=>{var S,k,_;if(!r)return null;const i=u.useRef(!0),[l,c]=u.useState([]),[d,f]=u.useState(!1),[h,m]=u.useState(null),[p,g]=u.useState({key:"productName",direction:"asc"});u.useEffect(()=>{e&&i.current&&(i.current=!1,a(r.id,{selection:[],progress:{total:0,ok:0,fail:0,running:!1}})),e||(i.current=!0)},[e,r.id,a]),u.useEffect(()=>{var E;if(!e||!(r!=null&&r.productName))return;let C=!0;return f(!0),m(null),bee({productName:r.productName,excludeSynergyId:(E=r.seedRow)==null?void 0:E.synergyId,limit:500}).then(T=>C&&c(((T==null?void 0:T.items)??[]).map(x1).map(kp))).catch(T=>C&&m((T==null?void 0:T.message)||"Search failed")).finally(()=>C&&f(!1)),()=>{C=!1}},[e,r==null?void 0:r.productName]);const x=u.useMemo(()=>{const C=new Set,E=[];return[...l,...n.filter(T=>(T.productName||"").trim().toLowerCase()===(r.productName||"").trim().toLowerCase())].forEach(T=>{C.has(T.synergyId)||(E.push(T),C.add(T.synergyId))}),E.sort((T,A)=>{const W=(T[p.key]??"").toString().toLowerCase(),P=(A[p.key]??"").toString().toLowerCase();return(W<P?-1:1)*(p.direction==="asc"?1:-1)})},[l,n,r.productName,p]),b=(C,E)=>a(r.id,{flags:{...r.flags,[C]:E}}),y=C=>a(r.id,{patch:{...r.patch,...C,specs:{...r.patch.specs||{},...C.specs||{}}}}),v=C=>a(r.id,{selection:C?x.map(E=>E.synergyId):[]}),w=(C,E)=>a(r.id,{selection:E?[...r.selection,C]:r.selection.filter(T=>T!==C)}),j=r.progress||{total:r.selection.length,ok:0,fail:0,running:!1},N=j.running?Math.round((j.ok+j.fail)/Math.max(1,j.total)*100):0;return s.jsx(Gd,{open:e,onOpenChange:C=>!C&&t(),children:s.jsxs(Xl,{className:"w-full sm:max-w-[950px] p-6 sm:p-8 bg-background rounded-xl shadow-2xl",children:[s.jsx(Ql,{children:s.jsxs(Jl,{children:["Workspace  ",r.title]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[2fr_1fr] gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"rounded-lg border bg-card p-4 space-y-4 shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-base",children:"Fields to Apply"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{k:"grade",l:"Grade"},{k:"testedBy",l:"Tester"},{k:"testerComment",l:"Comment"},{k:"specs",l:"Specs"},{k:"price",l:"Price"},{k:"ebayPrice",l:"eBay $"}].map(C=>s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Aa,{checked:r.flags[C.k],onCheckedChange:E=>b(C.k,!!E)}),C.l]},C.k))})]}),s.jsxs("div",{className:"rounded-lg border bg-card p-4 space-y-4 shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-base",children:"Values"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Grade"}),s.jsxs(Cg,{value:((S=r.patch)==null?void 0:S.grade)||"",onValueChange:C=>y({grade:C}),children:[s.jsx(qf,{children:s.jsx(_g,{placeholder:"Grade"})}),s.jsx(Kf,{children:["A","B","C","D","P"].map(C=>s.jsx(qo,{value:C,children:C},C))})]})]}),s.jsxs("div",{children:[s.jsx(Ke,{children:"Tester"}),s.jsx(we,{value:((k=r.patch)==null?void 0:k.testedBy)||"",readOnly:!0,className:"bg-muted cursor-not-allowed"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx(Ke,{children:"Comment"}),s.jsx("textarea",{value:((_=r.patch)==null?void 0:_.testerComment)||"",onChange:C=>y({testerComment:C.target.value}),className:"w-full h-24 rounded-md border bg-background px-3 py-2 text-sm"})]}),s.jsx("div",{className:"sm:col-span-2 grid grid-cols-3 gap-4",children:["processor","ram","storage"].map(C=>{var E;return s.jsxs("div",{children:[s.jsx(Ke,{className:"capitalize",children:C}),s.jsx(we,{value:((E=r.patch.specs)==null?void 0:E[C])||"",onChange:T=>y({specs:{[C]:T.target.value}})})]},C)})})]})]})]}),s.jsxs("div",{className:"rounded-lg border bg-card p-4 space-y-4 shadow-sm flex flex-col h-[500px]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-base",children:"Matching Items"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:d?"Searching...":`${x.length} found`})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Aa,{checked:r.selection.length>0&&r.selection.length===x.length,onCheckedChange:C=>v(!!C)}),s.jsx("span",{className:"text-sm font-medium",children:"Select All"})]}),s.jsx("div",{className:"flex-1 overflow-auto border rounded-md bg-background",children:x.length===0?s.jsx("div",{className:"p-4 text-sm text-center text-muted-foreground",children:"No matches."}):s.jsx("ul",{className:"divide-y",children:x.map(C=>s.jsxs("li",{className:"flex gap-3 p-4 hover:bg-muted",children:[s.jsx(Aa,{checked:r.selection.includes(C.synergyId),onCheckedChange:E=>w(C.synergyId,!!E)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium",children:C.productName}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:C.synergyId})]})]},C.synergyId))})}),j.running&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-2 w-full bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${N}%`}})}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[j.ok," ok / ",j.fail," failed"]})]}),s.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[s.jsx(V,{variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(V,{onClick:()=>o(r),disabled:j.running||r.selection.length===0,children:["Apply (",r.selection.length,")"]})]})]})]})]})})});function lt(...e){return e.filter(Boolean).join(" ")}const C1="synergy_user",Q_="synergy_session_settings_v3";function vie({connecting:e,syncing:t,saving:r,disconnected:n}){if(n)return s.jsx("div",{className:"fixed top-0 left-0 right-0 z-[1000]",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4",children:s.jsx("div",{className:"mt-2 rounded-md border border-red-300/60 bg-red-50 px-3 py-2 text-xs text-red-700 shadow-sm",children:"Database disconnected."})})});if(!(e||t||r))return null;const o=e?"Connecting...":r?"Saving changes...":"Syncing...";return s.jsxs("div",{className:"fixed top-0 left-0 right-0 z-[1000]",children:[s.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-transparent via-black/20 to-transparent animate-pulse"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4",children:s.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-full border px-3 py-1 text-[11px] bg-background/80 backdrop-blur shadow-sm",children:[s.jsx($t,{className:"h-3 w-3 animate-spin"}),s.jsx("span",{className:"opacity-80",children:o})]})})]})}function bie({user:e,onLogout:t}){var Ue,St,it,Wt;const[r,n]=u.useState(e),a=ye=>{n({...r,...ye}),localStorage.setItem(C1,JSON.stringify({...r,...ye}))},[o,i]=u.useState(()=>{const ye=localStorage.getItem("theme");return ye?ye==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});u.useEffect(()=>{localStorage.setItem("theme",o?"dark":"light"),document.documentElement.classList.toggle("dark",o)},[o]);const[l,c]=u.useState(()=>{try{return{...M_,...JSON.parse(localStorage.getItem(Q_)||"{}")}}catch{return M_}});u.useEffect(()=>{localStorage.setItem(Q_,JSON.stringify(l))},[l]);const[d,f]=u.useState([]),[h,m]=u.useState([]),[p,g]=u.useState([]),[x,b]=u.useState({}),[y,v]=u.useState({}),[w,j]=u.useState(null),[N,S]=u.useState(null),[k,_]=u.useState(null),[C,E]=u.useState(!0),[T,A]=u.useState(!1),[W,P]=u.useState(!1),[te,le]=u.useState("po"),[K,D]=u.useState(""),I=u.useDeferredValue(K),[R,q]=u.useState(""),[z,Z]=u.useState(""),[ce,F]=u.useState(""),[J,L]=u.useState(""),[U,$]=u.useState(""),[M,re]=u.useState("ALL"),[de,Ee]=u.useState(0),[Ze,rt]=u.useState(!0),[Xe,et]=u.useState(!1),[Je,We]=u.useState(!1),[ee,X]=u.useState(!1),[Te,be]=u.useState(null),H=u.useRef(null),[ge,Ne]=u.useState([]),[xe,Re]=u.useState(null),[at,nt]=u.useState(!1),ot=u.useMemo(()=>ge.find(ye=>ye.id===xe)||null,[ge,xe]),[Oe,Ht]=u.useState("idle"),[Qt,Pr]=u.useState(""),[ht,Mr]=u.useState({key:"synergyId",dir:"asc"}),Ir=u.useRef(d);u.useEffect(()=>{Ir.current=d},[d]),u.useEffect(()=>{let ye="",Ce=0;const Be=100,Ie=async st=>{const Ot=st.target;if(Ot.tagName==="INPUT"||Ot.tagName==="TEXTAREA"||Ot.isContentEditable)return;const Yr=Date.now();if(Yr-Ce>Be&&(ye=""),Ce=Yr,st.key==="Enter"){if(ye.length>3){st.preventDefault();const Vt=ye.trim();Ht("scanning"),Pr(Vt);const Xr=Ir.current.find($n=>$n.synergyId===Vt);if(Xr)be(Xr),H.current=Xr,We(!0),Ht("success");else try{const $n=await Jt(`/rows?q=${encodeURIComponent(Vt)}&limit=5`),Us=I_($n).find(Fn=>Fn.synergyId===Vt||Fn.synergy_id===Vt);if(Us){const Fn=kp(x1(Us));be(Fn),H.current=Fn,We(!0),Ht("success")}else Ht("error")}catch{Ht("error")}setTimeout(()=>Ht("idle"),2e3)}ye=""}else st.key.length===1&&(ye+=st.key)};return window.addEventListener("keydown",Ie),()=>window.removeEventListener("keydown",Ie)},[]);const Nt=async ye=>{E(!0);try{const Ce=new URLSearchParams({limit:String(l.itemsPerPage),offset:String(ye)});I&&Ce.set("q",I),U&&Ce.set("grade",U),te==="category"&&R&&R!=="all"&&Ce.set("category",R),te==="po"&&z&&(Ce.set("po_id",z),ce&&Ce.set("categoryId",ce)),M==="INCOMPLETE"?Ce.set("status","incomplete"):M==="READY"?Ce.set("status","ready"):M==="SCRAP"?Ce.set("status","SCRAP"):M==="ALL"&&Ce.set("status","ALL");const Be=await Jt(`/rows?${Ce.toString()}`),Ie=I_(Be),st=Ie.map(x1).map(kp);f(Ot=>{const Yr=new Set(Ot.map(Xr=>Xr.synergyId)),Vt=[...Ot];return st.forEach(Xr=>{Yr.has(Xr.synergyId)?Vt[Vt.findIndex($n=>$n.synergyId===Xr.synergyId)]=Xr:Vt.push(Xr)}),Vt}),rt(Ie.length>=l.itemsPerPage),Ee(ye+Ie.length),_(!0)}catch{_(!1)}finally{E(!1)}},fe=async()=>{try{const ye=await Jt("/categories/summary");m(ye)}catch(ye){console.error(ye)}},Se=async ye=>{try{const Ce=await Jt(`/pos/${ye}/groups`);b(Be=>({...Be,[ye]:Ce}))}catch{}},pe=async()=>{try{const ye=await Jt("/pos/active");g(ye)}catch(ye){console.error("Failed to fetch POs",ye),g([])}},_e=async()=>{try{const ye=new URLSearchParams;I&&ye.set("q",I),U&&ye.set("grade",U),te==="category"&&R&&R!=="all"&&ye.set("category",R),te==="po"&&z&&(ye.set("po_id",z),ce&&ye.set("categoryId",ce)),M==="INCOMPLETE"?ye.set("status","incomplete"):M==="READY"?ye.set("status","ready"):M==="SCRAP"?ye.set("status","SCRAP"):M==="ALL"&&ye.set("status","ALL");const Ce=await Jt(`/rows/count?${ye.toString()}`);j(Number(Ce.total)||0)}catch{j(d.length)}},qe=async()=>{try{const ye=await Jt("/rows/counts");S({total:ye.total,ready:ye.ready,incomplete:ye.incomplete})}catch{}},Q=async()=>{P(!0),f([]),Ee(0);try{await Promise.all([Nt(0),_e(),qe(),fe(),pe(),z?Se(z):Promise.resolve()])}finally{P(!1)}},me=async ye=>{await Sl(`/rows/${ye}/record-print`,{}),f(Ce=>Ce.map(Be=>Be.synergyId===ye?{...Be,lastPrintedAt:new Date().toISOString()}:Be))},ke=async ye=>{const Ce=H.current??Te;if(Ce){A(!0);try{if(!ye){const Be=vee(Ce);await If(`/rows/${Ce.synergyId}`,Be)}if(l.soundOnSave){const Be=new AudioContext,Ie=Be.createOscillator();Ie.connect(Be.destination),Ie.start(),Ie.stop(Be.currentTime+.1)}f([]),Ee(0),Nt(0),We(!1)}catch{}finally{A(!1)}}};u.useEffect(()=>{fetch(`${Sg}/health`).then(ye=>_(ye.ok)).catch(()=>_(!1)),fe(),pe(),_e(),qe(),Nt(0)},[]),u.useEffect(()=>{f([]),Ee(0),Nt(0),_e()},[I,R,z,ce,U,M,te]),u.useEffect(()=>X0(Sg,{onRowUpserted:ye=>{const Ce=kp(ye);f(Be=>{const Ie=Be.findIndex(Ot=>Ot.synergyId===Ce.synergyId);if(Ie<0)return[...Be,Ce];const st=[...Be];return st[Ie]={...st[Ie],...Ce},st}),_e(),qe()},onRowBulkUpserted:()=>{Nt(0),_e(),qe()}}),[]);const Ge=ye=>{const Ce=`ws-${Date.now()}`,Be={id:Ce,title:ye.productName,productName:ye.productName,criteria:{productName:ye.productName,categoryId:null},seedRow:ye,patch:{grade:ye.grade,testedBy:e.name,specs:{...ye.specs}},flags:{grade:!0,testedBy:!0,testedDate:!0,testerComment:!1,specs:!0,price:!1,ebayPrice:!1,categoryId:!1},selection:d.filter(Ie=>Ie.synergyId!==ye.synergyId&&Ie.productName===ye.productName).map(Ie=>Ie.synergyId)};Ne(Ie=>[Be,...Ie]),Re(Ce),nt(!0)},Ct=ye=>{v(Ce=>({...Ce,[ye]:!Ce[ye]}))},Tt=(ye,Ce)=>{if(ye.stopPropagation(),z===Ce)ce?F(""):Z("");else{Z(Ce),F("");const Be=p.find(Ie=>Ie.id===Ce);Be&&(Be.inventory_count||0)>0&&Se(Ce)}},gt=(ye,Ce,Be)=>{ye.stopPropagation(),Z(Ce),F(Be)},Ut=u.useMemo(()=>d.filter(Ce=>{if(I&&!JSON.stringify(Ce).toLowerCase().includes(I.toLowerCase()))return!1;const Be=DR(Ce),Ie=(Ce.status||"").toUpperCase(),st=Ie.includes("SCRAP")||Ie.includes("SCRAPPED");return M==="READY"?Be.isReady&&!st:M==="INCOMPLETE"?!Be.isReady&&!st:M==="SCRAP"?st:!0}).sort((Ce,Be)=>{const Ie=ht.dir==="asc"?1:-1;let st="",Ot="";switch(ht.key){case"productName":st=Ce.productName||"",Ot=Be.productName||"";break;case"date":st=Ce.testedDate||Ce.synergyId,Ot=Be.testedDate||Be.synergyId;break;case"synergyId":default:st=Ce.synergyId,Ot=Be.synergyId;break}return String(st).localeCompare(String(Ot),void 0,{numeric:!0,sensitivity:"base"})*Ie}),[d,I,M,ht]),Hr=u.useMemo(()=>h.filter(ye=>J.trim()?ye.label.toLowerCase().includes(J.toLowerCase()):!0),[h,J]),ln=u.useMemo(()=>p.filter(ye=>J.trim()?(ye.po_number+(ye.vendor_name||"")).toLowerCase().includes(J.toLowerCase()):!0),[p,J]),oe=u.useMemo(()=>{const ye={};return ln.forEach(Ce=>{const Be=Ce.vendor_name||"Unknown Vendor";ye[Be]||(ye[Be]=[]),ye[Be].push(Ce)}),Object.entries(ye).sort((Ce,Be)=>Ce[0].localeCompare(Be[0]))},[ln]),He=()=>{q(""),Z(""),F(""),$(""),re("ALL"),D("")};return s.jsxs("div",{className:lt("flex h-screen w-screen overflow-hidden font-sans transition-colors duration-300",o?"bg-[#020617] text-gray-100":"bg-slate-50 text-slate-900"),children:[s.jsx(vie,{connecting:!k&&k!==null,syncing:C||W,saving:T,disconnected:k===!1}),s.jsxs("aside",{className:lt("flex w-72 flex-shrink-0 flex-col border-r h-full",o?"border-gray-800 bg-[#020617]":"border-gray-200 bg-white"),children:[s.jsxs("div",{className:lt("flex shrink-0 flex-col items-center justify-center py-6 border-b px-4",o?"border-gray-800":"border-gray-200"),children:[s.jsx("img",{src:"/images/tester.png",alt:"Tester Logo",className:"h-10 w-10 mb-2"}),s.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Synergy"}),s.jsx("span",{className:lt("text-[10px] uppercase font-semibold tracking-wide",o?"text-gray-500":"text-gray-400"),children:"Tester Dashboard"})]}),s.jsxs("div",{className:lt("grid grid-cols-2 gap-px border-b",o?"border-gray-800 bg-gray-800":"border-gray-200 bg-gray-200"),children:[s.jsxs("div",{className:lt("flex flex-col items-center justify-center p-3 text-center",o?"bg-[#020617]":"bg-white"),children:[s.jsx("span",{className:"text-emerald-500 font-bold text-lg",children:(N==null?void 0:N.ready)||0}),s.jsx("span",{className:"text-[10px] uppercase text-muted-foreground font-medium",children:"Ready"})]}),s.jsxs("div",{className:lt("flex flex-col items-center justify-center p-3 text-center",o?"bg-[#020617]":"bg-white"),children:[s.jsx("span",{className:"text-amber-500 font-bold text-lg",children:(N==null?void 0:N.incomplete)||0}),s.jsx("span",{className:"text-[10px] uppercase text-muted-foreground font-medium",children:"Queue"})]})]}),s.jsx("div",{className:"px-3 pt-3 pb-2",children:s.jsxs("div",{className:lt("grid grid-cols-2 gap-1 p-1 rounded-lg",o?"bg-gray-800/50":"bg-slate-100"),children:[s.jsxs("button",{onClick:()=>{le("po"),q("")},className:lt("flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all",te==="po"?o?"bg-gray-700 text-white shadow-sm":"bg-white text-slate-900 shadow-sm":"text-muted-foreground hover:text-foreground"),children:[" ",s.jsx(Ci,{className:"h-3.5 w-3.5"})," POs "]}),s.jsxs("button",{onClick:()=>{le("category"),Z(""),F("")},className:lt("flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all",te==="category"?o?"bg-gray-700 text-white shadow-sm":"bg-white text-slate-900 shadow-sm":"text-muted-foreground hover:text-foreground"),children:[" ",s.jsx(is,{className:"h-3.5 w-3.5"})," Cats "]})]})}),s.jsx("div",{className:lt("shrink-0 border-b px-3 pb-3",o?"border-gray-800":"border-gray-200"),children:s.jsxs("div",{className:"relative",children:[s.jsx(we,{placeholder:te==="category"?"Search categories...":"Search PO number...",value:J,onChange:ye=>L(ye.target.value),className:lt("h-8 w-full rounded-lg pl-7 text-xs shadow-sm focus-visible:ring-1",o?"border-gray-700 bg-[#020617] text-gray-100 placeholder:text-gray-500":"border-gray-300 bg-gray-50 text-gray-800 placeholder:text-gray-500")}),s.jsx(Yt,{className:"pointer-events-none absolute left-2 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-gray-400"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-200 dark:scrollbar-thumb-gray-800",children:s.jsxs("div",{className:"px-2 py-3",children:[te==="category"&&s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs("button",{onClick:()=>q(""),className:lt("flex w-full items-center justify-between rounded-md px-2 py-2 text-left text-xs transition-colors mb-2",R?o?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100":o?"bg-indigo-600/20 text-indigo-100":"bg-indigo-50 text-indigo-700 font-medium"),children:[" ",s.jsx("span",{children:"All Categories"})," ",s.jsx("span",{className:"text-[10px] opacity-60",children:"ALL"})," "]}),Hr.map(ye=>s.jsxs("button",{onClick:()=>q(ye.label),className:lt("flex w-full items-center justify-between rounded-md px-2 py-1.5 text-left text-xs transition-colors group",R===ye.label?o?"bg-indigo-600/20 text-indigo-100":"bg-indigo-50 text-indigo-700 font-medium":o?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100"),children:[" ",s.jsx("span",{className:"truncate",children:ye.label})," ",ye.total_units?s.jsxs(kt,{variant:"secondary",className:lt("ml-2 h-5 px-1.5 text-[9px] font-normal tabular-nums min-w-[24px] justify-center",o?"bg-gray-800 text-gray-300":"bg-white text-gray-500 shadow-sm border border-gray-200"),children:[" ",ye.total_units," "]}):null," "]},ye.id))]}),te==="po"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>{Z(""),F("")},className:lt("flex w-full items-center justify-between rounded-md px-2 py-2 text-left text-xs transition-colors mb-2",z?o?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100":o?"bg-indigo-600/20 text-indigo-100":"bg-indigo-50 text-indigo-700 font-medium"),children:[" ",s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(jl,{className:"h-3.5 w-3.5"})," All Shipments"]})," "]}),oe.map(([ye,Ce])=>{const Be=y[ye]||J.trim().length>0;return s.jsxs("div",{className:"mb-2",children:[s.jsxs("button",{onClick:()=>Ct(ye),className:lt("flex w-full items-center justify-between px-2 py-1.5 text-xs font-semibold rounded-md transition-colors",o?"text-gray-200 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100"),children:[" ",s.jsxs("div",{className:"flex items-center gap-2",children:[" ",s.jsx(Wl,{className:"h-3.5 w-3.5 opacity-70"})," ",s.jsx("span",{children:ye})," ",s.jsxs("span",{className:"text-[9px] font-normal opacity-50 ml-1",children:["(",Ce.length,")"]})," "]})," ",Be?s.jsx(Ls,{className:"h-3 w-3 opacity-50"}):s.jsx(In,{className:"h-3 w-3 opacity-50"})," "]}),Be&&s.jsx("div",{className:lt("pl-2 mt-1 space-y-1 border-l ml-2",o?"border-gray-800":"border-gray-200"),children:Ce.map(Ie=>{const st=z===Ie.id,Ot=x[Ie.id]||[],Yr=(Ie.inventory_count||0)>0;return s.jsxs("div",{className:"mb-1",children:[s.jsxs("button",{onClick:Vt=>Tt(Vt,Ie.id),className:lt("flex flex-col w-full items-start rounded-md px-2 py-2 text-left text-xs transition-colors border border-transparent",st?o?"bg-indigo-600/10 border-indigo-500/30":"bg-indigo-50 border-indigo-200":o?"text-gray-400 hover:bg-gray-800 hover:text-gray-200":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[" ",s.jsxs("div",{className:"flex items-center justify-between w-full",children:[" ",s.jsx("span",{className:lt("font-mono font-medium",st?"text-indigo-600 dark:text-indigo-400":""),children:Ie.po_number})," ",st?s.jsx(yd,{className:"h-3 w-3 opacity-50"}):s.jsx(Ls,{className:"h-3 w-3 opacity-50"})," "]})," ",s.jsxs("div",{className:"flex justify-between w-full mt-1",children:[" ",s.jsx("span",{className:lt("text-[9px]",st?"text-indigo-500/70 dark:text-indigo-300/70":"text-muted-foreground opacity-70"),children:new Date(Ie.created_at).toLocaleDateString()})," ",!Yr&&s.jsxs("span",{className:"text-[9px] text-amber-500 flex items-center gap-1",children:[s.jsx(Si,{className:"h-2.5 w-2.5"})," Pending"]})," "]})," "]}),st&&s.jsxs("div",{className:lt("ml-2 pl-2 border-l mt-1 space-y-0.5",o?"border-indigo-500/20":"border-indigo-200"),children:[" ",Yr?s.jsxs(s.Fragment,{children:[" ",s.jsxs("button",{onClick:Vt=>gt(Vt,Ie.id,""),className:lt("flex w-full items-center justify-between rounded-md px-2 py-1.5 text-left text-[11px] transition-colors",ce?"text-muted-foreground hover:text-foreground":o?"text-indigo-300 bg-white/5":"text-indigo-700 bg-white/60 font-medium"),children:[" ",s.jsx("span",{children:"View All"})," ",s.jsx(yo,{className:"h-3 w-3 opacity-50"})," "]})," ",Ot.length===0?s.jsx("div",{className:"px-2 py-1 text-[10px] text-muted-foreground italic opacity-70",children:"Loading contents..."}):Ot.map(Vt=>{const Xr=ce===Vt.category_id;return s.jsxs("button",{onClick:$n=>gt($n,Ie.id,Vt.category_id),className:lt("flex w-full items-center justify-between rounded-md px-2 py-1.5 text-left text-[11px] transition-colors",Xr?o?"text-indigo-300 bg-white/5":"text-indigo-700 bg-white/60 font-medium":o?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-900"),children:[" ",s.jsx("span",{className:"truncate",children:Vt.label||"Unassigned"})," ",s.jsx("span",{className:"text-[9px] opacity-60 ml-2",children:Vt.units})," "]},Vt.category_id||Vt.label)})," "]}):s.jsxs("div",{className:lt("px-2 py-2 my-1 text-[10px] rounded border border-dashed flex items-start gap-2",o?"bg-amber-900/20 border-amber-800 text-amber-400":"bg-amber-50 border-amber-200 text-amber-700"),children:[" ",s.jsx(Is,{className:"h-3 w-3 shrink-0 mt-0.5"})," ",s.jsx("span",{className:"leading-tight",children:"Items have not been sent to testing yet."})," "]})," "]})]},Ie.id)})})]},ye)})]})]})}),s.jsx("div",{className:lt("flex shrink-0 items-center justify-between border-t px-4 py-3 text-xs",o?"border-gray-800":"border-gray-200")})]}),s.jsxs("main",{className:lt("flex flex-1 flex-col h-full overflow-hidden min-w-0",o?"bg-[#020617]":"bg-slate-50"),children:[s.jsxs("div",{className:lt("flex shrink-0 items-center justify-between border-b px-6 py-3.5 shadow-sm backdrop-blur-sm z-10",o?"border-gray-800 bg-[#020617]/80":"border-gray-200 bg-white/80"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:lt("p-2 rounded-lg",o?"bg-gray-800 text-gray-300":"bg-gray-100 text-gray-500"),children:s.jsx(fh,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold tracking-wider text-gray-400",children:[s.jsx("span",{children:"Testing"}),s.jsx(In,{className:"h-3 w-3"}),s.jsx("span",{children:M==="ALL"?"All Inventory":M==="READY"?"Ready":"Queue"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:lt("text-sm font-bold",o?"text-white":"text-gray-900"),children:te==="po"?z?((Ue=p.find(ye=>ye.id===z))==null?void 0:Ue.po_number)+(ce&&((it=(St=x[z])==null?void 0:St.find(ye=>ye.category_id===ce))!=null&&it.label)?` / ${(Wt=x[z].find(ye=>ye.category_id===ce))==null?void 0:Wt.label}`:""):"All Shipments":R||"All Categories"}),s.jsx("span",{className:lt("rounded-full px-2 py-0.5 text-[10px] font-medium",o?"bg-gray-800 text-gray-300":"bg-gray-100 text-gray-600"),children:w||d.length})]})]})]}),Oe!=="idle"&&s.jsxs("div",{className:lt("ml-4 flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold animate-in fade-in slide-in-from-top-2",Oe==="scanning"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":Oe==="success"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"),children:[Oe==="scanning"&&s.jsx($t,{className:"h-3 w-3 animate-spin"}),Oe==="success"&&s.jsx(lh,{className:"h-3 w-3"}),Oe==="error"&&s.jsx(Sf,{className:"h-3 w-3"}),s.jsx("span",{children:Oe==="scanning"?"Scanning...":Oe==="success"?`Found ${Qt}`:`ID ${Qt} Not Found`})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative hidden md:block group",children:[s.jsx(we,{placeholder:"Search ID, Product, Comment...",value:K,onChange:ye=>D(ye.target.value),className:lt("h-9 w-72 rounded-full pl-9 text-sm transition-all shadow-sm",o?"border-gray-800 bg-gray-900/50 text-gray-100 placeholder:text-gray-500 focus:bg-gray-900 focus:w-80":"border-gray-200 bg-white text-gray-800 placeholder:text-gray-400 focus:border-indigo-300 focus:ring-2 focus:ring-indigo-100 focus:w-80")}),s.jsx(Yt,{className:lt("pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transition-colors",o?"text-gray-500 group-focus-within:text-indigo-400":"text-gray-400 group-focus-within:text-indigo-500")})]}),s.jsxs(V,{variant:"ghost",size:"icon",onClick:Q,className:lt("h-9 w-9 rounded-full",W&&"animate-spin",o?"text-gray-400 hover:bg-gray-800":"text-gray-500 hover:bg-gray-100"),children:[" ",s.jsx(hi,{className:"h-5 w-5"})," "]}),s.jsxs(V,{variant:"ghost",size:"icon",onClick:()=>i(ye=>!ye),className:lt("h-9 w-9 rounded-full",o?"text-gray-400 hover:bg-gray-800":"text-gray-500 hover:bg-gray-100"),children:[" ",o?s.jsx(Fi,{className:"h-5 w-5"}):s.jsx(Co,{className:"h-5 w-5"})," "]}),s.jsxs(V,{variant:"ghost",size:"icon",onClick:()=>X(!0),className:lt("h-9 w-9 rounded-full",o?"text-gray-400 hover:bg-gray-800 hover:text-gray-100":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"),children:[" ",s.jsx(vo,{className:"h-5 w-5"})," "]}),s.jsx("div",{className:"pl-2 border-l border-gray-200 dark:border-gray-800",children:s.jsx(K2,{user:r,onUpdate:a,logoutPath:"/login/testers"})})]})]}),s.jsxs("div",{className:lt("flex flex-wrap items-center gap-4 border-b px-6 py-3 shrink-0",o?"border-gray-800 bg-[#020617]":"border-gray-200 bg-slate-50"),children:[s.jsxs("div",{className:lt("flex p-1 rounded-lg border",o?"bg-gray-800/50 border-gray-700":"bg-gray-100 border-gray-200"),children:[s.jsxs("button",{onClick:()=>re("INCOMPLETE"),className:lt("px-3 py-1 text-[11px] font-medium rounded-md transition-all flex items-center gap-1.5",M==="INCOMPLETE"?o?"bg-amber-500/20 text-amber-300 shadow-sm ring-1 ring-amber-500/50":"bg-white text-amber-700 shadow-sm ring-1 ring-black/5":"text-muted-foreground hover:text-foreground"),children:[" ",s.jsx(ih,{className:"h-3 w-3"})," Queue "]}),s.jsxs("button",{onClick:()=>re("READY"),className:lt("px-3 py-1 text-[11px] font-medium rounded-md transition-all flex items-center gap-1.5",M==="READY"?o?"bg-emerald-500/20 text-emerald-300 shadow-sm ring-1 ring-emerald-500/50":"bg-white text-emerald-700 shadow-sm ring-1 ring-black/5":"text-muted-foreground hover:text-foreground"),children:[" ",s.jsx(N7,{className:"h-3 w-3"})," Ready "]}),s.jsxs("button",{onClick:()=>re("SCRAP"),className:lt("px-3 py-1 text-[11px] font-medium rounded-md transition-all flex items-center gap-1.5",M==="SCRAP"?o?"bg-red-500/20 text-red-300 shadow-sm ring-1 ring-red-500/50":"bg-white text-red-700 shadow-sm ring-1 ring-black/5":"text-muted-foreground hover:text-foreground"),children:[s.jsx(Tr,{className:"h-3 w-3"})," Scrap"]}),s.jsxs("button",{onClick:()=>re("ALL"),className:lt("px-3 py-1 text-[11px] font-medium rounded-md transition-all flex items-center gap-1.5",M==="ALL"?o?"bg-indigo-500/20 text-indigo-300 shadow-sm ring-1 ring-indigo-500/50":"bg-white text-indigo-700 shadow-sm ring-1 ring-black/5":"text-muted-foreground hover:text-foreground"),children:[" ",s.jsx(dh,{className:"h-3 w-3"})," All "]})]}),s.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-gray-800"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-[10px] font-semibold uppercase text-muted-foreground mr-1",children:"Grade"}),["A","B","C","D","P"].map(ye=>{const Ce=U===ye;return s.jsxs("button",{onClick:()=>$(Ce?"":ye),className:lt("h-6 w-6 rounded-full text-[10px] font-bold transition-all border",Ce?o?"bg-indigo-600 text-white border-indigo-500":"bg-indigo-600 text-white border-indigo-600":o?"bg-gray-800 border-gray-700 text-gray-400 hover:border-gray-500 hover:text-gray-200":"bg-white border-gray-200 text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:[" ",ye," "]},ye)})]}),s.jsxs("div",{className:"flex-1 flex justify-end items-center gap-3",children:[s.jsx(uD,{config:ht,onChange:Mr}),s.jsxs(V,{variant:"ghost",size:"sm",onClick:He,className:lt("h-8 rounded-full px-3 text-[11px]",o?"text-gray-400 hover:bg-gray-800":"text-gray-500 hover:bg-gray-100"),children:[" ",s.jsx(Yw,{className:"h-3.5 w-3.5 mr-1"})," Clear "]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 scrollbar-thin scrollbar-thumb-gray-200 dark:scrollbar-thumb-gray-800",children:s.jsx("div",{className:lt("min-h-full h-full rounded-2xl border shadow-sm overflow-hidden",o?"border-gray-4800 bg-gray-900/40":"border-gray-200 bg-white"),children:C&&d.length===0?s.jsx("div",{className:"p-4",children:s.jsx(mie,{})}):Ut.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground opacity-50",children:[s.jsx(e7,{className:"h-12 w-12 mb-3 opacity-30"}),s.jsx("p",{className:"font-medium",children:"No items match your filters"}),te==="po"&&!z&&s.jsx("p",{className:"text-xs mt-1",children:"Select a Purchase Order from the sidebar"}),(K||U||M!=="ALL")&&s.jsx(V,{variant:"link",size:"sm",onClick:He,className:"mt-2 text-indigo-500",children:"Clear all filters"})]}):s.jsx(bW,{style:{height:"100%"},data:Ut,itemContent:(ye,Ce)=>{const Be=(Ce.status||"").toUpperCase(),Ie=Be.includes("SCRAP")||Be.includes("SCRAPPED");return s.jsxs("div",{className:lt("px-2 pt-2 relative transition-all duration-300",Ie?"opacity-90 scale-[0.99]":""),children:[s.jsxs("div",{className:lt("relative rounded-lg overflow-hidden transition-all",Ie&&"ring-1 ring-red-300 dark:ring-red-900 bg-red-50/50 dark:bg-red-950/10"),children:[Ie&&s.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.03] dark:opacity-[0.05]",style:{backgroundImage:"repeating-linear-gradient(45deg, #000 0, #000 10px, transparent 10px, transparent 20px)"}}),s.jsx(xie,{row:Ce,onRecordPrint:me,onEdit:st=>{be(Ce),H.current=Ce,We(!0)},onWorkspace:Ge,denseMode:l.denseMode,showSpecsInline:l.showSpecsInline,style:Ie?{borderColor:"transparent",background:"transparent"}:void 0})]}),Ie&&s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20 pointer-events-none select-none",children:s.jsx("div",{className:"border-[3px] border-red-600/20 text-red-600/20 text-3xl font-black uppercase tracking-[0.2em] -rotate-12 px-4 py-1 rounded-lg backdrop-blur-[0.5px]",children:"SCRAPPED"})})]})},endReached:()=>Ze&&!Xe&&Nt(de),components:{Footer:()=>s.jsx("div",{className:"p-6 text-center text-xs text-muted-foreground",children:Xe?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx($t,{className:"h-3 w-3 animate-spin"})," Loading more..."]}):"End of list"})}})})})]}),Te&&s.jsx(dD,{open:Je,row:Te,user:e,onClose:()=>We(!1),onSave:ke}),s.jsx(pie,{open:ee,onClose:()=>X(!1),settings:l,onSave:c,currentPrefix:""}),s.jsx(yie,{open:at,onClose:()=>nt(!1),ws:ot,rows:d,updateWorkspace:(ye,Ce)=>Ne(Be=>Be.map(Ie=>Ie.id===ye?{...Ie,...Ce}:Ie)),applyWorkspace:ye=>{}}),s.jsx(Aj,{user:e})]})}function wie(){const[e,t]=u.useState(null);return u.useEffect(()=>{try{t(JSON.parse(localStorage.getItem(C1)))}catch{}},[]),e?s.jsx(bie,{user:e,onLogout:()=>{localStorage.removeItem(C1),t(null)}}):s.jsx(Bh,{onAuth:t,variant:"tester",filterByRole:!0})}function tx({title:e,icon:t,children:r,className:n}){return s.jsxs("div",{className:dt("rounded-xl border bg-background p-6 space-y-4",n),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[t,s.jsx("h2",{className:"font-semibold",children:e})]}),r]})}var rx="Popover",[r6,Qge]=jn(rx,[Ga]),Uh=Ga(),[jie,Xi]=r6(rx),n6=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=Uh(t),c=u.useRef(null),[d,f]=u.useState(!1),[h,m]=ca({prop:n,defaultProp:a??!1,onChange:o,caller:rx});return s.jsx(gh,{...l,children:s.jsx(jie,{scope:t,contentId:sn(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:u.useCallback(()=>f(!0),[]),onCustomAnchorRemove:u.useCallback(()=>f(!1),[]),modal:i,children:r})})};n6.displayName=rx;var s6="PopoverAnchor",Nie=u.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Xi(s6,r),o=Uh(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return u.useEffect(()=>(i(),()=>l()),[i,l]),s.jsx(Bd,{...o,...n,ref:t})});Nie.displayName=s6;var a6="PopoverTrigger",o6=u.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Xi(a6,r),o=Uh(r),i=pt(t,a.triggerRef),l=s.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":u6(a.open),...n,ref:i,onClick:$e(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Bd,{asChild:!0,...o,children:l})});o6.displayName=a6;var gN="PopoverPortal",[Sie,kie]=r6(gN,{forceMount:void 0}),i6=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=Xi(gN,t);return s.jsx(Sie,{scope:t,forceMount:r,children:s.jsx(on,{present:r||o.open,children:s.jsx(Dd,{asChild:!0,container:a,children:n})})})};i6.displayName=gN;var Md="PopoverContent",l6=u.forwardRef((e,t)=>{const r=kie(Md,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=Xi(Md,e.__scopePopover);return s.jsx(on,{present:n||o.open,children:o.modal?s.jsx(_ie,{...a,ref:t}):s.jsx(Eie,{...a,ref:t})})});l6.displayName=Md;var Cie=ji("PopoverContent.RemoveScroll"),_ie=u.forwardRef((e,t)=>{const r=Xi(Md,e.__scopePopover),n=u.useRef(null),a=pt(t,n),o=u.useRef(!1);return u.useEffect(()=>{const i=n.current;if(i)return j0(i)},[]),s.jsx(kh,{as:Cie,allowPinchZoom:!0,children:s.jsx(c6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:$e(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:$e(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Eie=u.forwardRef((e,t)=>{const r=Xi(Md,e.__scopePopover),n=u.useRef(!1),a=u.useRef(!1);return s.jsx(c6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),c6=u.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...h}=e,m=Xi(Md,r),p=Uh(r);return b0(),s.jsx(Sh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(ql,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(xh,{"data-state":u6(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),d6="PopoverClose",Tie=u.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Xi(d6,r);return s.jsx(Ve.button,{type:"button",...n,ref:t,onClick:$e(e.onClick,()=>a.onOpenChange(!1))})});Tie.displayName=d6;var Pie="PopoverArrow",Mie=u.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Uh(r);return s.jsx(yh,{...a,...n,ref:t})});Mie.displayName=Pie;function u6(e){return e?"open":"closed"}var Iie=n6,Aie=o6,Oie=i6,f6=l6;const nx=Iie,sx=Aie,Vh=u.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Oie,{children:s.jsx(f6,{ref:a,align:t,sideOffset:r,className:se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Vh.displayName=f6.displayName;function Ft(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function gs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Cn(e,t){const r=Ft(e);return isNaN(t)?gs(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ma(e,t){const r=Ft(e);if(isNaN(t))return gs(e,NaN);if(!t)return r;const n=r.getDate(),a=gs(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const o=a.getDate();return n>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const xN=6048e5,Rie=864e5;let Die={};function Hh(){return Die}function Ha(e,t){var l,c,d,f;const r=Hh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,a=Ft(e),o=a.getDay(),i=(o<n?7:0)+o-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Fl(e){return Ha(e,{weekStartsOn:1})}function h6(e){const t=Ft(e),r=t.getFullYear(),n=gs(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Fl(n),o=gs(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Fl(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Id(e){const t=Ft(e);return t.setHours(0,0,0,0),t}function Eg(e){const t=Ft(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Oa(e,t){const r=Id(e),n=Id(t),a=+r-Eg(r),o=+n-Eg(n);return Math.round((a-o)/Rie)}function Lie(e){const t=h6(e),r=gs(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Fl(r)}function _1(e,t){const r=t*7;return Cn(e,r)}function $ie(e,t){return ma(e,t*12)}function Fie(e){let t;return e.forEach(function(r){const n=Ft(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function zie(e){let t;return e.forEach(r=>{const n=Ft(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Wn(e,t){const r=Id(e),n=Id(t);return+r==+n}function yN(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Bie(e){if(!yN(e)&&typeof e!="number")return!1;const t=Ft(e);return!isNaN(Number(t))}function Yf(e,t){const r=Ft(e),n=Ft(t),a=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return a*12+o}function Uie(e,t,r){const n=Ha(e,r),a=Ha(t,r),o=+n-Eg(n),i=+a-Eg(a);return Math.round((o-i)/xN)}function vN(e){const t=Ft(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Qn(e){const t=Ft(e);return t.setDate(1),t.setHours(0,0,0,0),t}function m6(e){const t=Ft(e),r=gs(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function bN(e,t){var l,c,d,f;const r=Hh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,a=Ft(e),o=a.getDay(),i=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function p6(e){return bN(e,{weekStartsOn:1})}const Vie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hie=(e,t,r)=>{let n;const a=Vie[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Vy(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Wie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kie={date:Vy({formats:Wie,defaultWidth:"full"}),time:Vy({formats:Gie,defaultWidth:"full"}),dateTime:Vy({formats:qie,defaultWidth:"full"})},Yie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xie=(e,t,r,n)=>Yie[e];function wu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const Qie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ele={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nle=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sle={ordinalNumber:nle,era:wu({values:Qie,defaultWidth:"wide"}),quarter:wu({values:Jie,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wu({values:Zie,defaultWidth:"wide"}),day:wu({values:ele,defaultWidth:"wide"}),dayPeriod:wu({values:tle,defaultWidth:"wide",formattingValues:rle,defaultFormattingWidth:"wide"})};function ju(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ole(l,h=>h.test(i)):ale(l,h=>h.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const f=t.slice(i.length);return{value:d,rest:f}}}function ale(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ole(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ile(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const lle=/^(\d+)(th|st|nd|rd)?/i,cle=/\d+/i,dle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ule={any:[/^b/i,/^(a|c)/i]},fle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hle={any:[/1/i,/2/i,/3/i,/4/i]},mle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ple={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xle={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ble={ordinalNumber:ile({matchPattern:lle,parsePattern:cle,valueCallback:e=>parseInt(e,10)}),era:ju({matchPatterns:dle,defaultMatchWidth:"wide",parsePatterns:ule,defaultParseWidth:"any"}),quarter:ju({matchPatterns:fle,defaultMatchWidth:"wide",parsePatterns:hle,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ju({matchPatterns:mle,defaultMatchWidth:"wide",parsePatterns:ple,defaultParseWidth:"any"}),day:ju({matchPatterns:gle,defaultMatchWidth:"wide",parsePatterns:xle,defaultParseWidth:"any"}),dayPeriod:ju({matchPatterns:yle,defaultMatchWidth:"any",parsePatterns:vle,defaultParseWidth:"any"})},g6={code:"en-US",formatDistance:Hie,formatLong:Kie,formatRelative:Xie,localize:sle,match:ble,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wle(e){const t=Ft(e);return Oa(t,m6(t))+1}function x6(e){const t=Ft(e),r=+Fl(t)-+Lie(t);return Math.round(r/xN)+1}function y6(e,t){var f,h,m,p;const r=Ft(e),n=r.getFullYear(),a=Hh(),o=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=gs(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=Ha(i,t),c=gs(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const d=Ha(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function jle(e,t){var l,c,d,f;const r=Hh(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=y6(e,t),o=gs(e,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),Ha(o,t)}function v6(e,t){const r=Ft(e),n=+Ha(r,t)-+jle(r,t);return Math.round(n/xN)+1}function qt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ro={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return qt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):qt(r+1,2)},d(e,t){return qt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return qt(e.getHours()%12||12,t.length)},H(e,t){return qt(e.getHours(),t.length)},m(e,t){return qt(e.getMinutes(),t.length)},s(e,t){return qt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return qt(a,t.length)}},gc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J_={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ro.y(e,t)},Y:function(e,t,r,n){const a=y6(e,n),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return qt(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):qt(o,t.length)},R:function(e,t){const r=h6(e);return qt(r,t.length)},u:function(e,t){const r=e.getFullYear();return qt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return qt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return qt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ro.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return qt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=v6(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):qt(a,t.length)},I:function(e,t,r){const n=x6(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):qt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ro.d(e,t)},D:function(e,t,r){const n=wle(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):qt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return qt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return qt(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return qt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=gc.noon:n===0?a=gc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=gc.evening:n>=12?a=gc.afternoon:n>=4?a=gc.morning:a=gc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ro.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ro.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):qt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):qt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ro.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ro.s(e,t)},S:function(e,t){return Ro.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return e5(n);case"XXXX":case"XX":return il(n);case"XXXXX":case"XXX":default:return il(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return e5(n);case"xxxx":case"xx":return il(n);case"xxxxx":case"xxx":default:return il(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Z_(n,":");case"OOOO":default:return"GMT"+il(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Z_(n,":");case"zzzz":default:return"GMT"+il(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return qt(n,t.length)},T:function(e,t,r){const n=e.getTime();return qt(n,t.length)}};function Z_(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+t+qt(o,2)}function e5(e,t){return e%60===0?(e>0?"-":"+")+qt(Math.abs(e)/60,2):il(e,t)}function il(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=qt(Math.trunc(n/60),2),o=qt(n%60,2);return r+a+t+o}const t5=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},b6=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Nle=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return t5(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",t5(n,t)).replace("{{time}}",b6(a,t))},Sle={p:b6,P:Nle},kle=/^D+$/,Cle=/^Y+$/,_le=["D","DD","YY","YYYY"];function Ele(e){return kle.test(e)}function Tle(e){return Cle.test(e)}function Ple(e,t,r){const n=Mle(e,t,r);if(console.warn(n),_le.includes(e))throw new RangeError(n)}function Mle(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ile=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ale=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ole=/^'([^]*?)'?$/,Rle=/''/g,Dle=/[a-zA-Z]/;function sc(e,t,r){var f,h,m,p,g,x,b,y;const n=Hh(),a=(r==null?void 0:r.locale)??n.locale??g6,o=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((x=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((y=(b=n.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,l=Ft(e);if(!Bie(l))throw new RangeError("Invalid time value");let c=t.match(Ale).map(v=>{const w=v[0];if(w==="p"||w==="P"){const j=Sle[w];return j(v,a.formatLong)}return v}).join("").match(Ile).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:Lle(v)};if(J_[w])return{isToken:!0,value:v};if(w.match(Dle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const w=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Tle(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ele(w))&&Ple(w,t,String(e));const j=J_[w[0]];return j(l,w,a.localize,d)}).join("")}function Lle(e){const t=e.match(Ole);return t?t[1].replace(Rle,"'"):e}function $le(e){const t=Ft(e),r=t.getFullYear(),n=t.getMonth(),a=gs(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Fle(e){return Math.trunc(+Ft(e)/1e3)}function zle(e){const t=Ft(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Ble(e,t){return Uie(zle(e),Qn(e),t)+1}function E1(e,t){const r=Ft(e),n=Ft(t);return r.getTime()>n.getTime()}function w6(e,t){const r=Ft(e),n=Ft(t);return+r<+n}function wN(e,t){const r=Ft(e),n=Ft(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Ule(e,t){const r=Ft(e),n=Ft(t);return r.getFullYear()===n.getFullYear()}function Hy(e,t){return Cn(e,-t)}function Wy(e,t){const r=Ft(e),n=r.getFullYear(),a=r.getDate(),o=gs(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const i=$le(o);return r.setMonth(t,Math.min(a,i)),r}function r5(e,t){const r=Ft(e);return isNaN(+r)?gs(e,NaN):(r.setFullYear(t),r)}var ut=function(){return ut=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ut.apply(this,arguments)};function Vle(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function j6(e,t,r){for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Wh(e){return e.mode==="multiple"}function Gh(e){return e.mode==="range"}function ax(e){return e.mode==="single"}var Hle={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Wle(e,t){return sc(e,"LLLL y",t)}function Gle(e,t){return sc(e,"d",t)}function qle(e,t){return sc(e,"LLLL",t)}function Kle(e){return"".concat(e)}function Yle(e,t){return sc(e,"cccccc",t)}function Xle(e,t){return sc(e,"yyyy",t)}var Qle=Object.freeze({__proto__:null,formatCaption:Wle,formatDay:Gle,formatMonthCaption:qle,formatWeekNumber:Kle,formatWeekdayName:Yle,formatYearCaption:Xle}),Jle=function(e,t,r){return sc(e,"do MMMM (EEEE)",r)},Zle=function(){return"Month: "},ece=function(){return"Go to next month"},tce=function(){return"Go to previous month"},rce=function(e,t){return sc(e,"cccc",t)},nce=function(e){return"Week n. ".concat(e)},sce=function(){return"Year: "},ace=Object.freeze({__proto__:null,labelDay:Jle,labelMonthDropdown:Zle,labelNext:ece,labelPrevious:tce,labelWeekNumber:nce,labelWeekday:rce,labelYearDropdown:sce});function oce(){var e="buttons",t=Hle,r=g6,n={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:Qle,labels:ace,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function ice(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return n?o=Qn(n):t&&(o=new Date(t,0,1)),a?i=vN(a):r&&(i=new Date(r,11,31)),{fromDate:o?Id(o):void 0,toDate:i?Id(i):void 0}}var N6=u.createContext(void 0);function lce(e){var t,r=e.initialProps,n=oce(),a=ice(r),o=a.fromDate,i=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(ax(r)||Wh(r)||Gh(r))&&(c=r.onSelect);var d=ut(ut(ut({},n),r),{captionLayout:l,classNames:ut(ut({},n.classNames),r.classNames),components:ut({},r.components),formatters:ut(ut({},n.formatters),r.formatters),fromDate:o,labels:ut(ut({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:ut(ut({},n.modifiers),r.modifiers),modifiersClassNames:ut(ut({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:ut(ut({},n.styles),r.styles),toDate:i});return s.jsx(N6.Provider,{value:d,children:e.children})}function sr(){var e=u.useContext(N6);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function S6(e){var t=sr(),r=t.locale,n=t.classNames,a=t.styles,o=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function cce(e){return s.jsx("svg",ut({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function k6(e){var t,r,n=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,d=sr(),f=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:cce;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:n,children:o}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[i,s.jsx(f,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function dce(e){var t,r=sr(),n=r.fromDate,a=r.toDate,o=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,f=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(Ule(n,a))for(var m=Qn(n),p=n.getMonth();p<=a.getMonth();p++)h.push(Wy(m,p));else for(var m=Qn(new Date),p=0;p<=11;p++)h.push(Wy(m,p));var g=function(b){var y=Number(b.target.value),v=Wy(Qn(e.displayMonth),y);e.onChange(v)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:k6;return s.jsx(x,{name:"months","aria-label":f(),className:c.dropdown_month,style:o.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:h.map(function(b){return s.jsx("option",{value:b.getMonth(),children:l(b,{locale:i})},b.getMonth())})})}function uce(e){var t,r=e.displayMonth,n=sr(),a=n.fromDate,o=n.toDate,i=n.locale,l=n.styles,c=n.classNames,d=n.components,f=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,m=[];if(!a)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});for(var p=a.getFullYear(),g=o.getFullYear(),x=p;x<=g;x++)m.push(r5(m6(new Date),x));var b=function(v){var w=r5(Qn(r),Number(v.target.value));e.onChange(w)},y=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:k6;return s.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:r.getFullYear(),caption:f(r,{locale:i}),children:m.map(function(v){return s.jsx("option",{value:v.getFullYear(),children:f(v,{locale:i})},v.getFullYear())})})}function fce(e,t){var r=u.useState(e),n=r[0],a=r[1],o=t===void 0?n:t;return[o,a]}function hce(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&Yf(o,a)<0){var d=-1*(c-1);a=ma(o,d)}return i&&Yf(a,i)<0&&(a=i),Qn(a)}function mce(){var e=sr(),t=hce(e),r=fce(t,e.month),n=r[0],a=r[1],o=function(i){var l;if(!e.disableNavigation){var c=Qn(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,o]}function pce(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Qn(e),o=Qn(ma(a,n)),i=Yf(o,a),l=[],c=0;c<i;c++){var d=ma(a,c);l.push(d)}return r&&(l=l.reverse()),l}function gce(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=n?o:1,l=Qn(e);if(!r)return ma(l,i);var c=Yf(r,e);if(!(c<o))return ma(l,i)}}function xce(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=n?o:1,l=Qn(e);if(!r)return ma(l,-i);var c=Yf(l,r);if(!(c<=0))return ma(l,-i)}}var C6=u.createContext(void 0);function yce(e){var t=sr(),r=mce(),n=r[0],a=r[1],o=pce(n,t),i=gce(n,t),l=xce(n,t),c=function(h){return o.some(function(m){return wN(h,m)})},d=function(h,m){c(h)||(m&&w6(h,m)?a(ma(h,1+t.numberOfMonths*-1)):a(h))},f={currentMonth:n,displayMonths:o,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:i,isDateDisplayed:c};return s.jsx(C6.Provider,{value:f,children:e.children})}function qh(){var e=u.useContext(C6);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function n5(e){var t,r=sr(),n=r.classNames,a=r.styles,o=r.components,i=qh().goToMonth,l=function(f){i(ma(f,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:S6,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(dce,{onChange:l,displayMonth:e.displayMonth}),s.jsx(uce,{onChange:l,displayMonth:e.displayMonth})]})}function vce(e){return s.jsx("svg",ut({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function bce(e){return s.jsx("svg",ut({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Tg=u.forwardRef(function(e,t){var r=sr(),n=r.classNames,a=r.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var i=o.join(" "),l=ut(ut({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",ut({},e,{ref:t,type:"button",className:i,style:l}))});function wce(e){var t,r,n=sr(),a=n.dir,o=n.locale,i=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,f=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var m=d(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),g=f(e.nextMonth,{locale:o}),x=[i.nav_button,i.nav_button_next].join(" "),b=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:bce,y=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:vce;return s.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Tg,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(b,{className:i.nav_icon,style:l.nav_icon}):s.jsx(y,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Tg,{name:"next-month","aria-label":g,className:x,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(y,{className:i.nav_icon,style:l.nav_icon}):s.jsx(b,{className:i.nav_icon,style:l.nav_icon})})]})}function s5(e){var t=sr().numberOfMonths,r=qh(),n=r.previousMonth,a=r.nextMonth,o=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(g){return wN(e.displayMonth,g)}),c=l===0,d=l===i.length-1,f=t>1&&(c||!d),h=t>1&&(d||!c),m=function(){n&&o(n)},p=function(){a&&o(a)};return s.jsx(wce,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:h,nextMonth:a,previousMonth:n,onPreviousClick:m,onNextClick:p})}function jce(e){var t,r=sr(),n=r.classNames,a=r.disableNavigation,o=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:S6,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?d=s.jsx(n5,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(n5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(s5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(s5,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:o.caption,children:d})}function Nce(e){var t=sr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function Sce(e,t,r){for(var n=r?Fl(new Date):Ha(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=Cn(n,o);a.push(i)}return a}function kce(){var e=sr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=Sce(a,o,i);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(f,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(f,{locale:a}),children:l(f,{locale:a})},h)})]})}function Cce(){var e,t=sr(),r=t.classNames,n=t.styles,a=t.components,o=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:kce;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(o,{})})}function _ce(e){var t=sr(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var jN=u.createContext(void 0);function Ece(e){if(!Wh(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(jN.Provider,{value:t,children:e.children})}return s.jsx(Tce,{initialProps:e.initialProps,children:e.children})}function Tce(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,o=t.max,i=function(d,f,h){var m,p;(m=t.onDayClick)===null||m===void 0||m.call(t,d,f,h);var g=!!(f.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var x=!!(!f.selected&&o&&(n==null?void 0:n.length)===o);if(!x){var b=n?j6([],n):[];if(f.selected){var y=b.findIndex(function(v){return Wn(d,v)});b.splice(y,1)}else b.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,b,d,f,h)}}},l={disabled:[]};n&&l.disabled.push(function(d){var f=o&&n.length>o-1,h=n.some(function(m){return Wn(m,d)});return!!(f&&!h)});var c={selected:n,onDayClick:i,modifiers:l};return s.jsx(jN.Provider,{value:c,children:r})}function NN(){var e=u.useContext(jN);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Pce(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Wn(a,e)&&Wn(n,e)?void 0:Wn(a,e)?{from:a,to:void 0}:Wn(n,e)?void 0:E1(n,e)?{from:e,to:a}:{from:n,to:e}:a?E1(e,a)?{from:a,to:e}:{from:e,to:a}:n?w6(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var SN=u.createContext(void 0);function Mce(e){if(!Gh(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(SN.Provider,{value:t,children:e.children})}return s.jsx(Ice,{initialProps:e.initialProps,children:e.children})}function Ice(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},o=a.from,i=a.to,l=t.min,c=t.max,d=function(p,g,x){var b,y;(b=t.onDayClick)===null||b===void 0||b.call(t,p,g,x);var v=Pce(p,n);(y=t.onSelect)===null||y===void 0||y.call(t,v,p,g,x)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(f.range_start=[o],i?(f.range_end=[i],Wn(o,i)||(f.range_middle=[{after:o,before:i}])):f.range_end=[o]):i&&(f.range_start=[i],f.range_end=[i]),l&&(o&&!i&&f.disabled.push({after:Hy(o,l-1),before:Cn(o,l-1)}),o&&i&&f.disabled.push({after:o,before:Cn(o,l-1)}),!o&&i&&f.disabled.push({after:Hy(i,l-1),before:Cn(i,l-1)})),c){if(o&&!i&&(f.disabled.push({before:Cn(o,-c+1)}),f.disabled.push({after:Cn(o,c-1)})),o&&i){var h=Oa(i,o)+1,m=c-h;f.disabled.push({before:Hy(o,m)}),f.disabled.push({after:Cn(i,m)})}!o&&i&&(f.disabled.push({before:Cn(i,-c+1)}),f.disabled.push({after:Cn(i,c-1)}))}return s.jsx(SN.Provider,{value:{selected:n,onDayClick:d,modifiers:f},children:r})}function kN(){var e=u.useContext(SN);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function _p(e){return Array.isArray(e)?j6([],e):e!==void 0?[e]:[]}function Ace(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=_p(a)}),t}var pa;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(pa||(pa={}));var Oce=pa.Selected,Ja=pa.Disabled,Rce=pa.Hidden,Dce=pa.Today,Gy=pa.RangeEnd,qy=pa.RangeMiddle,Ky=pa.RangeStart,Lce=pa.Outside;function $ce(e,t,r){var n,a=(n={},n[Oce]=_p(e.selected),n[Ja]=_p(e.disabled),n[Rce]=_p(e.hidden),n[Dce]=[e.today],n[Gy]=[],n[qy]=[],n[Ky]=[],n[Lce]=[],n);return e.fromDate&&a[Ja].push({before:e.fromDate}),e.toDate&&a[Ja].push({after:e.toDate}),Wh(e)?a[Ja]=a[Ja].concat(t.modifiers[Ja]):Gh(e)&&(a[Ja]=a[Ja].concat(r.modifiers[Ja]),a[Ky]=r.modifiers[Ky],a[qy]=r.modifiers[qy],a[Gy]=r.modifiers[Gy]),a}var _6=u.createContext(void 0);function Fce(e){var t=sr(),r=NN(),n=kN(),a=$ce(t,r,n),o=Ace(t.modifiers),i=ut(ut({},a),o);return s.jsx(_6.Provider,{value:i,children:e.children})}function E6(){var e=u.useContext(_6);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function zce(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Bce(e){return!!(e&&typeof e=="object"&&"from"in e)}function Uce(e){return!!(e&&typeof e=="object"&&"after"in e)}function Vce(e){return!!(e&&typeof e=="object"&&"before"in e)}function Hce(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Wce(e,t){var r,n=t.from,a=t.to;if(n&&a){var o=Oa(a,n)<0;o&&(r=[a,n],n=r[0],a=r[1]);var i=Oa(e,n)>=0&&Oa(a,e)>=0;return i}return a?Wn(a,e):n?Wn(n,e):!1}function Gce(e){return yN(e)}function qce(e){return Array.isArray(e)&&e.every(yN)}function Kce(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Gce(r))return Wn(e,r);if(qce(r))return r.includes(e);if(Bce(r))return Wce(e,r);if(Hce(r))return r.dayOfWeek.includes(e.getDay());if(zce(r)){var n=Oa(r.before,e),a=Oa(r.after,e),o=n>0,i=a<0,l=E1(r.before,r.after);return l?i&&o:o||i}return Uce(r)?Oa(e,r.after)>0:Vce(r)?Oa(r.before,e)>0:typeof r=="function"?r(e):!1})}function CN(e,t,r){var n=Object.keys(t).reduce(function(o,i){var l=t[i];return Kce(e,l)&&o.push(i),o},[]),a={};return n.forEach(function(o){return a[o]=!0}),r&&!wN(e,r)&&(a.outside=!0),a}function Yce(e,t){for(var r=Qn(e[0]),n=vN(e[e.length-1]),a,o,i=r;i<=n;){var l=CN(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Cn(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=Cn(i,1)}return o||a}var Xce=365;function T6(e,t){var r=t.moveBy,n=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,d=a.fromDate,f=a.toDate,h=a.locale,m={day:Cn,week:_1,month:ma,year:$ie,startOfWeek:function(b){return a.ISOWeek?Fl(b):Ha(b,{locale:h,weekStartsOn:c})},endOfWeek:function(b){return a.ISOWeek?p6(b):bN(b,{locale:h,weekStartsOn:c})}},p=m[r](e,n==="after"?1:-1);n==="before"&&d?p=Fie([d,p]):n==="after"&&f&&(p=zie([f,p]));var g=!0;if(o){var x=CN(p,o);g=!x.disabled&&!x.hidden}return g?p:l.count>Xce?l.lastFocused:T6(p,{moveBy:r,direction:n,context:a,modifiers:o,retry:ut(ut({},l),{count:l.count+1})})}var P6=u.createContext(void 0);function Qce(e){var t=qh(),r=E6(),n=u.useState(),a=n[0],o=n[1],i=u.useState(),l=i[0],c=i[1],d=Yce(t.displayMonths,r),f=a??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(a),o(void 0)},m=function(b){o(b)},p=sr(),g=function(b,y){if(a){var v=T6(a,{moveBy:b,direction:y,context:p,modifiers:r});Wn(a,v)||(t.goToDate(v,a),m(v))}},x={focusedDay:a,focusTarget:f,blur:h,focus:m,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(P6.Provider,{value:x,children:e.children})}function _N(){var e=u.useContext(P6);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Jce(e,t){var r=E6(),n=CN(e,r,t);return n}var EN=u.createContext(void 0);function Zce(e){if(!ax(e.initialProps)){var t={selected:void 0};return s.jsx(EN.Provider,{value:t,children:e.children})}return s.jsx(ede,{initialProps:e.initialProps,children:e.children})}function ede(e){var t=e.initialProps,r=e.children,n=function(o,i,l){var c,d,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,o,i,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:n};return s.jsx(EN.Provider,{value:a,children:r})}function M6(){var e=u.useContext(EN);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function tde(e,t){var r=sr(),n=M6(),a=NN(),o=kN(),i=_N(),l=i.focusDayAfter,c=i.focusDayBefore,d=i.focusWeekAfter,f=i.focusWeekBefore,h=i.blur,m=i.focus,p=i.focusMonthBefore,g=i.focusMonthAfter,x=i.focusYearBefore,b=i.focusYearAfter,y=i.focusStartOfWeek,v=i.focusEndOfWeek,w=function(K){var D,I,R,q;ax(r)?(D=n.onDayClick)===null||D===void 0||D.call(n,e,t,K):Wh(r)?(I=a.onDayClick)===null||I===void 0||I.call(a,e,t,K):Gh(r)?(R=o.onDayClick)===null||R===void 0||R.call(o,e,t,K):(q=r.onDayClick)===null||q===void 0||q.call(r,e,t,K)},j=function(K){var D;m(e),(D=r.onDayFocus)===null||D===void 0||D.call(r,e,t,K)},N=function(K){var D;h(),(D=r.onDayBlur)===null||D===void 0||D.call(r,e,t,K)},S=function(K){var D;(D=r.onDayMouseEnter)===null||D===void 0||D.call(r,e,t,K)},k=function(K){var D;(D=r.onDayMouseLeave)===null||D===void 0||D.call(r,e,t,K)},_=function(K){var D;(D=r.onDayPointerEnter)===null||D===void 0||D.call(r,e,t,K)},C=function(K){var D;(D=r.onDayPointerLeave)===null||D===void 0||D.call(r,e,t,K)},E=function(K){var D;(D=r.onDayTouchCancel)===null||D===void 0||D.call(r,e,t,K)},T=function(K){var D;(D=r.onDayTouchEnd)===null||D===void 0||D.call(r,e,t,K)},A=function(K){var D;(D=r.onDayTouchMove)===null||D===void 0||D.call(r,e,t,K)},W=function(K){var D;(D=r.onDayTouchStart)===null||D===void 0||D.call(r,e,t,K)},P=function(K){var D;(D=r.onDayKeyUp)===null||D===void 0||D.call(r,e,t,K)},te=function(K){var D;switch(K.key){case"ArrowLeft":K.preventDefault(),K.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":K.preventDefault(),K.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":K.preventDefault(),K.stopPropagation(),d();break;case"ArrowUp":K.preventDefault(),K.stopPropagation(),f();break;case"PageUp":K.preventDefault(),K.stopPropagation(),K.shiftKey?x():p();break;case"PageDown":K.preventDefault(),K.stopPropagation(),K.shiftKey?b():g();break;case"Home":K.preventDefault(),K.stopPropagation(),y();break;case"End":K.preventDefault(),K.stopPropagation(),v();break}(D=r.onDayKeyDown)===null||D===void 0||D.call(r,e,t,K)},le={onClick:w,onFocus:j,onBlur:N,onKeyDown:te,onKeyUp:P,onMouseEnter:S,onMouseLeave:k,onPointerEnter:_,onPointerLeave:C,onTouchCancel:E,onTouchEnd:T,onTouchMove:A,onTouchStart:W};return le}function rde(){var e=sr(),t=M6(),r=NN(),n=kN(),a=ax(e)?t.selected:Wh(e)?r.selected:Gh(e)?n.selected:void 0;return a}function nde(e){return Object.values(pa).includes(e)}function sde(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(nde(n)){var o=e.classNames["day_".concat(n)];o&&r.push(o)}}),r}function ade(e,t){var r=ut({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=ut(ut({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function ode(e,t,r){var n,a,o,i=sr(),l=_N(),c=Jce(e,t),d=tde(e,c),f=rde(),h=!!(i.onDayClick||i.mode!=="default");u.useEffect(function(){var S;c.outside||l.focusedDay&&h&&Wn(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,h,c.outside]);var m=sde(i,c).join(" "),p=ade(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),x=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:_ce,b=s.jsx(x,{date:e,displayMonth:t,activeModifiers:c}),y={style:p,className:m,children:b,role:"gridcell"},v=l.focusTarget&&Wn(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Wn(l.focusedDay,e),j=ut(ut(ut({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||v?0:-1,n)),d),N={isButton:h,isHidden:g,activeModifiers:c,selectedDays:f,buttonProps:j,divProps:y};return N}function ide(e){var t=u.useRef(null),r=ode(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Tg,ut({name:"day",ref:t},r.buttonProps)):s.jsx("div",ut({},r.divProps))}function lde(e){var t=e.number,r=e.dates,n=sr(),a=n.onWeekNumberClick,o=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,f=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:f});var h=c(Number(t),{locale:l}),m=function(p){a(t,r,p)};return s.jsx(Tg,{name:"week-number","aria-label":h,className:i.weeknumber,style:o.weeknumber,onClick:m,children:f})}function cde(e){var t,r,n=sr(),a=n.styles,o=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:ide,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:lde,f;return i&&(f=s.jsx("td",{className:o.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:o.row,style:a.row,children:[f,e.dates.map(function(h){return s.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},Fle(h))})]})}function a5(e,t,r){for(var n=r!=null&&r.ISOWeek?p6(t):bN(t,r),a=r!=null&&r.ISOWeek?Fl(e):Ha(e,r),o=Oa(n,a),i=[],l=0;l<=o;l++)i.push(Cn(a,l));var c=i.reduce(function(d,f){var h=r!=null&&r.ISOWeek?x6(f):v6(f,r),m=d.find(function(p){return p.weekNumber===h});return m?(m.dates.push(f),d):(d.push({weekNumber:h,dates:[f]}),d)},[]);return c}function dde(e,t){var r=a5(Qn(e),vN(e),t);if(t!=null&&t.useFixedWeeks){var n=Ble(e,t);if(n<6){var a=r[r.length-1],o=a.dates[a.dates.length-1],i=_1(o,6-n),l=a5(_1(o,1),i,t);r.push.apply(r,l)}}return r}function ude(e){var t,r,n,a=sr(),o=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,f=a.components,h=a.weekStartsOn,m=a.firstWeekContainsDate,p=a.ISOWeek,g=dde(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:o,weekStartsOn:h,firstWeekContainsDate:m}),x=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:Cce,b=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:cde,y=(n=f==null?void 0:f.Footer)!==null&&n!==void 0?n:Nce;return s.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(x,{}),s.jsx("tbody",{className:i.tbody,style:l.tbody,children:g.map(function(v){return s.jsx(b,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),s.jsx(y,{displayMonth:e.displayMonth})]})}function fde(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var hde=fde()?u.useLayoutEffect:u.useEffect,Yy=!1,mde=0;function o5(){return"react-day-picker-".concat(++mde)}function pde(e){var t,r=e??(Yy?o5():null),n=u.useState(r),a=n[0],o=n[1];return hde(function(){a===null&&o(o5())},[]),u.useEffect(function(){Yy===!1&&(Yy=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function gde(e){var t,r,n=sr(),a=n.dir,o=n.classNames,i=n.styles,l=n.components,c=qh().displayMonths,d=pde(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[o.month],m=i.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,x=!p&&!g;a==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(h.push(o.caption_start),m=ut(ut({},m),i.caption_start)),g&&(h.push(o.caption_end),m=ut(ut({},m),i.caption_end)),x&&(h.push(o.caption_between),m=ut(ut({},m),i.caption_between));var b=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:jce;return s.jsxs("div",{className:h.join(" "),style:m,children:[s.jsx(b,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(ude,{id:f,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function xde(e){var t=sr(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function yde(e){var t,r,n=e.initialProps,a=sr(),o=_N(),i=qh(),l=u.useState(!1),c=l[0],d=l[1];u.useEffect(function(){a.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),d(!0)))},[a.initialFocus,c,o.focus,o.focusTarget,o]);var f=[a.classNames.root,a.className];a.numberOfMonths>1&&f.push(a.classNames.multiple_months),a.showWeekNumber&&f.push(a.classNames.with_weeknumber);var h=ut(ut({},a.styles.root),a.style),m=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,x){var b;return ut(ut({},g),(b={},b[x]=n[x],b))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:xde;return s.jsx("div",ut({className:f.join(" "),style:h,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},m,{children:s.jsx(p,{children:i.displayMonths.map(function(g,x){return s.jsx(gde,{displayIndex:x,displayMonth:g},x)})})}))}function vde(e){var t=e.children,r=Vle(e,["children"]);return s.jsx(lce,{initialProps:r,children:s.jsx(yce,{children:s.jsx(Zce,{initialProps:r,children:s.jsx(Ece,{initialProps:r,children:s.jsx(Mce,{initialProps:r,children:s.jsx(Fce,{children:s.jsx(Qce,{children:t})})})})})})})}function bde(e){return s.jsx(vde,ut({},e,{children:s.jsx(yde,{initialProps:e})}))}function i5(e){return e==null?"0":new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"}).format(e)}const I6=e=>{const t=e.total_lines_qty??0,r=e.posted_count??0,n=e.scrap_count??0,a=r+n;return t>0&&a>=t?"completed":e.minted_any||a>0?"inProgress":"new"};function wde({po:e}){const t=I6(e),r={completed:{text:"Completed",className:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"},inProgress:{text:"In Progress",className:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300"},new:{text:"New",className:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300"}},{text:n,className:a}=r[t];return s.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${a}`,children:n})}const jde=({allPOs:e,activePOId:t,onSelect:r})=>{const[n,a]=u.useState(new Date),[o,i]=u.useState(null),l=u.useMemo(()=>e.reduce((x,b)=>{const y=new Date(b.created_at).toISOString().split("T")[0];return x[y]||(x[y]=[]),x[y].push(b),x},{}),[e]),c=new Date(n.getFullYear(),n.getMonth(),1),d=new Date(n.getFullYear(),n.getMonth()+1,0),f=c.getDay(),h=Array.from({length:d.getDate()},(x,b)=>b+1),m=Array.from({length:f},()=>null),p=x=>{const b=new Date(n.getFullYear(),n.getMonth(),x);i(b)},g=u.useMemo(()=>{if(!o)return[];const x=o.toISOString().split("T")[0];return l[x]||[]},[o,l]);return s.jsxs("div",{className:"p-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>a(x=>new Date(x.getFullYear(),x.getMonth()-1,1)),children:s.jsx(Hw,{className:"h-4 w-4"})}),s.jsxs("div",{className:"text-sm font-semibold text-center",children:[n.toLocaleString("default",{month:"long"})," ",n.getFullYear()]}),s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>a(x=>new Date(x.getFullYear(),x.getMonth()+1,1)),children:s.jsx(In,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center text-muted-foreground mb-1",children:["S","M","T","W","T","F","S"].map(x=>s.jsx("div",{children:x},x))}),s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[m.map((x,b)=>s.jsx("div",{},`empty-${b}`)),h.map(x=>{var w;const b=new Date(n.getFullYear(),n.getMonth(),x).toISOString().split("T")[0],y=((w=l[b])==null?void 0:w.length)||0,v=(o==null?void 0:o.toISOString().split("T")[0])===b;return s.jsxs("button",{onClick:()=>p(x),disabled:y===0,className:dt("h-8 w-8 rounded-full text-xs flex items-center justify-center relative transition-colors",y>0?"hover:bg-muted font-semibold":"text-muted-foreground",v?"bg-primary text-primary-foreground":y>0?"bg-muted/50":""),children:[x,y>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-blue-500 text-white rounded-full text-[8px] flex items-center justify-center",children:y})]},x)})]}),o&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("h4",{className:"font-semibold text-sm mb-2",children:["POs for ",o.toLocaleDateString()]}),s.jsx("div",{className:"border rounded-md max-h-56 overflow-y-auto",children:g.length===0?s.jsx("p",{className:"p-4 text-center text-xs text-muted-foreground",children:"No POs on this date."}):g.map(x=>s.jsxs("button",{onClick:()=>r(x),className:dt("w-full text-left p-2 border-b last:border-b-0",t===x.id?"bg-primary/10":"hover:bg-muted/50"),children:[s.jsx("div",{className:"font-semibold text-sm",children:x.po_number}),s.jsx("div",{className:"text-xs text-muted-foreground",children:x.vendor_name})]},x.id))})]})]})};function l5({allPOs:e,activePOId:t,onSelect:r,onUploadClick:n}){const[a,o]=u.useState(""),[i,l]=u.useState({}),[c,d]=u.useState("list"),[f,h]=u.useState([]),[m,p]=u.useState(),g=(f.length>0?1:0)+(m!=null&&m.from?1:0),x=j=>{l(N=>({...N,[j]:!N[j]}))},b=u.useMemo(()=>{let j=e;f.length>0&&(j=j.filter(S=>f.includes(I6(S)))),m!=null&&m.from&&(j=j.filter(S=>{const k=new Date(S.created_at);k.setHours(0,0,0,0);const _=new Date(m.from);if(_.setHours(0,0,0,0),m.to){const C=new Date(m.to);return C.setHours(0,0,0,0),k>=_&&k<=C}return k.getTime()===_.getTime()}));const N=a.trim().toLowerCase();return N&&(j=j.filter(S=>{var k,_;return((k=S.po_number)==null?void 0:k.toLowerCase().includes(N))||((_=S.vendor_name)==null?void 0:_.toLowerCase().includes(N))})),j.reduce((S,k)=>{const _=k.vendor_name||"Unassigned";return S[_]||(S[_]=[]),S[_].push(k),S},{})},[e,a,f,m]),y=u.useMemo(()=>Object.keys(b).sort(),[b]),v=u.useMemo(()=>y.length===0?!1:y.every(j=>i[j]),[y,i]),w=()=>{const j=!v,N={};y.forEach(S=>{N[S]=j}),l(N)};return s.jsx(tx,{title:"Purchase Order Workbench",icon:s.jsx(_i,{className:"h-5 w-5 text-primary"}),children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(V,{className:"w-full",onClick:n,children:"Upload New Purchase Order Sheet"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(Yt,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{placeholder:"Filter by PO or vendor...",value:a,onChange:j=>o(j.target.value),className:"pl-8",disabled:c==="calendar"})]}),s.jsxs(nx,{children:[s.jsx(sx,{asChild:!0,children:s.jsxs(V,{variant:"outline",className:"relative",children:[s.jsx(dh,{className:"h-4 w-4 mr-2"}),"Filters",g>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 flex items-center justify-center rounded-full bg-primary text-primary-foreground text-xs",children:g})]})}),s.jsx(Vh,{className:"w-80",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Status"}),s.jsx("div",{className:"space-y-2",children:["new","inProgress","completed"].map(j=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Aa,{id:`status-${j}`,checked:f.includes(j),onCheckedChange:N=>{h(S=>N?[...S,j]:S.filter(k=>k!==j))}}),s.jsx("label",{htmlFor:`status-${j}`,className:"text-sm",children:j==="inProgress"?"In Progress":j.charAt(0).toUpperCase()+j.slice(1)})]},j))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Date Range"}),s.jsx(bde,{mode:"range",selected:m,onSelect:p,captionLayout:"dropdown-buttons",fromYear:2020,toYear:new Date().getFullYear()})]}),s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{h([]),p(void 0)},disabled:g===0,children:"Clear All Filters"})]})})]}),s.jsxs("div",{className:"flex rounded-md border p-0.5",children:[s.jsx(V,{variant:c==="list"?"secondary":"ghost",size:"icon",onClick:()=>d("list"),title:"List View",children:s.jsx(_i,{className:"h-4 w-4"})}),s.jsx(V,{variant:c==="calendar"?"secondary":"ghost",size:"icon",onClick:()=>d("calendar"),title:"Calendar View",children:s.jsx(Ni,{className:"h-4 w-4"})}),s.jsx(V,{variant:"ghost",size:"icon",onClick:w,title:v?"Expand All":"Collapse All",disabled:c!=="list"||y.length<=1,className:"border-l",children:v?s.jsx(Ls,{className:"h-4 w-4"}):s.jsx(yd,{className:"h-4 w-4"})})]})]}),c==="list"&&s.jsx("div",{className:"border rounded-md max-h-[60vh] overflow-y-auto",children:y.length===0?s.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground",children:"No purchase orders match your filters."}):y.map(j=>s.jsxs("div",{className:"border-b last:border-b-0",children:[s.jsxs("button",{onClick:()=>x(j),className:"w-full flex items-center justify-between font-bold text-sm bg-muted/50 px-3 py-2 sticky top-0 z-10 hover:bg-muted/70",children:[s.jsx("span",{children:j}),i[j]?s.jsx(yd,{className:"h-4 w-4"}):s.jsx(Ls,{className:"h-4 w-4"})]}),!i[j]&&b[j].map(N=>s.jsxs("button",{onClick:()=>r(N),className:dt("w-full text-left p-3 border-t hover:bg-muted/50 transition-colors relative",t===N.id&&"bg-primary/10"),children:[t===N.id&&s.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-primary rounded-r-full"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:N.po_number}),s.jsx(wde,{po:N})]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-2 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"flex items-center gap-1",title:"Total Items",children:[s.jsx(vs,{className:"h-3.5 w-3.5"})," ",i5(N.total_lines_qty)]}),s.jsxs("span",{className:"flex items-center gap-1",title:"Estimated Cost",children:[s.jsx(mr,{className:"h-3.5 w-3.5"})," ",i5(N.est_cost)]})]}),s.jsx("span",{children:lH(N.created_at)})]})]},N.id))]},j))}),c==="calendar"&&s.jsx("div",{className:"border rounded-md p-2",children:s.jsx(jde,{allPOs:e,activePOId:t,onSelect:r})})]})})}function c5(e){return new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"}).format(e)}function Nde(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e)}function d5({onManageClick:e}){const[t,r]=u.useState([]),[n,a]=u.useState(!0);return u.useEffect(()=>{a(!0),Jt("/categories/summary").then(r).catch(()=>r([])).finally(()=>a(!1))},[]),s.jsxs(tx,{title:"",icon:s.jsx(s.Fragment,{}),children:[s.jsxs("div",{className:"flex items-center justify-between -mt-1 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(is,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-semibold text-base",children:"Category Rollup"})]}),s.jsx("div",{children:s.jsxs(V,{variant:"outline",size:"sm",onClick:e,children:[s.jsx(vo,{className:"h-4 w-4 mr-2"}),"Manage"]})})]}),s.jsxs("div",{className:"border rounded-md max-h-96 overflow-y-auto",children:[n&&s.jsxs("div",{className:"flex items-center justify-center p-8 text-muted-foreground",children:[s.jsx($t,{className:"h-5 w-5 animate-spin mr-2"}),"Loading summary..."]}),!n&&t.map(o=>s.jsxs("div",{className:"p-3 border-b last:border-b-0",children:[s.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[s.jsx("span",{className:"truncate",title:o.label,children:o.label}),s.jsx("span",{className:"text-primary font-bold",children:Nde(o.total_cost)})]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1 grid grid-cols-3 gap-2",children:[s.jsxs("span",{children:["Prefix: ",s.jsx("span",{className:"font-medium text-foreground",children:o.prefix||"N/A"})]}),s.jsxs("span",{children:["Units: ",s.jsx("span",{className:"font-medium text-foreground",children:c5(o.total_units)})]}),s.jsxs("span",{children:["Lines: ",s.jsx("span",{className:"font-medium text-foreground",children:c5(o.total_lines)})]})]})]},o.id)),!n&&t.length===0&&s.jsx("div",{className:"p-6 text-center text-sm text-muted-foreground",children:"No categories found or in use."})]})]})}function Sde(e){return new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"}).format(e)}function kde(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e)}function u5({allPOs:e,vendors:t}){const r=u.useMemo(()=>{const n=e.length,a=t.length,o=e.reduce((l,c)=>l+Number(c.est_cost||0),0),i=e.reduce((l,c)=>l+Number(c.total_lines_qty||0),0);return{totalPOs:n,totalVendors:a,totalCost:o,totalItems:i}},[e,t]);return s.jsx(tx,{title:"Dashboard Stats",icon:s.jsx(Nf,{className:"h-5 w-5 text-primary"}),children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"rounded-lg border bg-background/50 p-3",children:[s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[s.jsx(mr,{className:"h-3.5 w-3.5"}),"Total Inventory Cost"]}),s.jsx("div",{className:"text-xl font-bold mt-1",title:r.totalCost.toLocaleString(void 0,{style:"currency",currency:"USD"}),children:kde(r.totalCost)})]}),s.jsxs("div",{className:"rounded-lg border bg-background/50 p-3",children:[s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[s.jsx(qw,{className:"h-3.5 w-3.5"}),"Total Items"]}),s.jsx("div",{className:"text-xl font-bold mt-1",title:r.totalItems.toLocaleString(),children:Sde(r.totalItems)})]}),s.jsxs("div",{className:"rounded-lg border bg-background/50 p-3",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total POs"}),s.jsx("div",{className:"text-xl font-bold mt-1",children:r.totalPOs})]}),s.jsxs("div",{className:"rounded-lg border bg-background/50 p-3",children:[s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[s.jsx(Wl,{className:"h-3.5 w-3.5"}),"Vendors"]}),s.jsx("div",{className:"text-xl font-bold mt-1",children:r.totalVendors})]})]})})}function xc(e,t,r){let n=r.initialDeps??[],a;function o(){var i,l,c,d;let f;r.key&&((i=r.debug)!=null&&i.call(r))&&(f=Date.now());const h=e();if(!(h.length!==n.length||h.some((g,x)=>n[x]!==g)))return a;n=h;let p;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(p=Date.now()),a=t(...h),r.key&&((c=r.debug)!=null&&c.call(r))){const g=Math.round((Date.now()-f)*100)/100,x=Math.round((Date.now()-p)*100)/100,b=x/16,y=(v,w)=>{for(v=String(v);v.length<w;)v=" "+v;return v};console.info(`%c ${y(x,5)} /${y(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(d=r==null?void 0:r.onChange)==null||d.call(r,a),a}return o.updateDeps=i=>{n=i},o}function f5(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Cde=(e,t)=>Math.abs(e-t)<1.01,_de=(e,t,r)=>{let n;return function(...a){e.clearTimeout(n),n=e.setTimeout(()=>t.apply(this,a),r)}},h5=e=>{const{offsetWidth:t,offsetHeight:r}=e;return{width:t,height:r}},Ede=e=>e,Tde=e=>{const t=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let a=t;a<=r;a++)n.push(a);return n},Pde=(e,t)=>{const r=e.scrollElement;if(!r)return;const n=e.targetWindow;if(!n)return;const a=i=>{const{width:l,height:c}=i;t({width:Math.round(l),height:Math.round(c)})};if(a(h5(r)),!n.ResizeObserver)return()=>{};const o=new n.ResizeObserver(i=>{const l=()=>{const c=i[0];if(c!=null&&c.borderBoxSize){const d=c.borderBoxSize[0];if(d){a({width:d.inlineSize,height:d.blockSize});return}}a(h5(r))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return o.observe(r,{box:"border-box"}),()=>{o.unobserve(r)}},m5={passive:!0},p5=typeof window>"u"?!0:"onscrollend"in window,Mde=(e,t)=>{const r=e.scrollElement;if(!r)return;const n=e.targetWindow;if(!n)return;let a=0;const o=e.options.useScrollendEvent&&p5?()=>{}:_de(n,()=>{t(a,!1)},e.options.isScrollingResetDelay),i=f=>()=>{const{horizontal:h,isRtl:m}=e.options;a=h?r.scrollLeft*(m&&-1||1):r.scrollTop,o(),t(a,f)},l=i(!0),c=i(!1);c(),r.addEventListener("scroll",l,m5);const d=e.options.useScrollendEvent&&p5;return d&&r.addEventListener("scrollend",c,m5),()=>{r.removeEventListener("scroll",l),d&&r.removeEventListener("scrollend",c)}},Ide=(e,t,r)=>{if(t!=null&&t.borderBoxSize){const n=t.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return e[r.options.horizontal?"offsetWidth":"offsetHeight"]},Ade=(e,{adjustments:t=0,behavior:r},n)=>{var a,o;const i=e+t;(o=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||o.call(a,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class Ode{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(o=>{const i=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var o;return(o=n())==null?void 0:o.observe(a,{box:"border-box"})},unobserve:a=>{var o;return(o=n())==null?void 0:o.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ede,rangeExtractor:Tde,onChange:()=>{},measureElement:Ide,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=xc(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,o=new Map;for(let i=n-1;i>=0;i--){const l=r[i];if(a.has(l.lane))continue;const c=o.get(l.lane);if(c==null||l.end>c.end?o.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=xc(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,o,i)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:o,enabled:i}),{key:!1}),this.getMeasurements=xc(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:o,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,c);for(let f=c;f<r;f++){const h=o(f),m=this.options.lanes===1?d[f-1]:this.getFurthestMeasurement(d,f),p=m?m.end+this.options.gap:n+a,g=l.get(h),x=typeof g=="number"?g:this.options.estimateSize(f),b=p+x,y=m?m.lane:f%this.options.lanes;d[f]={index:f,start:p,size:x,end:b,key:h,lane:y}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=xc(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,o)=>this.range=r.length>0&&n>0?Rde({measurements:r,outerSize:n,scrollOffset:a,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=xc(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,o,i)=>o===null||i===null?[]:r({startIndex:o,endIndex:i,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),o=this.measurementsCache[a];if(!o)return;const i=o.key,l=this.elementsCache.get(i);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(i,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const o=this.itemSizeCache.get(a.key)??a.size,i=n-o;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,i,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=xc(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let o=0,i=r.length;o<i;o++){const l=r[o],c=n[l];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return f5(n[A6(0,n.length-1,a=>f5(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const o=this.getSize(),i=this.getScrollOffset();n==="auto"&&(n=r>=i+o?"end":"start"),n==="center"?r+=(a-o)/2:n==="end"&&(r-=o);const l=this.getTotalSize()+this.options.scrollMargin-o;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const o=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(a.end>=i+o-this.options.scrollPaddingEnd)n="end";else if(a.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const l=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let o=0;const i=10,l=d=>{if(!this.targetWindow)return;const f=this.getOffsetForIndex(r,d);if(!f){console.warn("Failed to get offset for index:",r);return}const[h,m]=f;this._scrollToOffset(h,{adjustments:void 0,behavior:a}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),g=this.getOffsetForIndex(r,m);if(!g){console.warn("Failed to get offset for index:",r);return}Cde(g[0],p)||c(m)})},c=d=>{this.targetWindow&&(o++,o<i?this.targetWindow.requestAnimationFrame(()=>l(d)):console.warn(`Failed to scroll to index ${r} after ${i} attempts.`))};l(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const o=Array(this.options.lanes).fill(null);let i=n.length-1;for(;i>=0&&o.some(l=>l===null);){const l=n[i];o[l.lane]===null&&(o[l.lane]=l.end),i--}a=Math.max(...o.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const A6=(e,t,r,n)=>{for(;e<=t;){const a=(e+t)/2|0,o=r(a);if(o<n)e=a+1;else if(o>n)t=a-1;else return a}return e>0?e-1:0};function Rde({measurements:e,outerSize:t,scrollOffset:r,lanes:n}){const a=e.length-1,o=c=>e[c].start;if(e.length<=n)return{startIndex:0,endIndex:a};let i=A6(0,a,o,r),l=i;if(n===1)for(;l<a&&e[l].end<r+t;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<a&&c.some(f=>f<r+t);){const f=e[l];c[f.lane]=f.end,l++}const d=Array(n).fill(r+t);for(;i>=0&&d.some(f=>f>=r);){const f=e[i];d[f.lane]=f.start,i--}i=Math.max(0,i-i%n),l=Math.min(a,l+(n-1-l%n))}return{startIndex:i,endIndex:l}}const g5=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Dde(e){const t=u.useReducer(()=>({}),{})[1],r={...e,onChange:(a,o)=>{var i;o?Zt.flushSync(t):t(),(i=e.onChange)==null||i.call(e,a,o)}},[n]=u.useState(()=>new Ode(r));return n.setOptions(r),g5(()=>n._didMount(),[]),g5(()=>n._willUpdate()),n}function Lde(e){return Dde({observeElementRect:Pde,observeElementOffset:Mde,scrollToFn:Ade,...e})}function O6({scale:e=1,loop:t=!1}){return s.jsxs("div",{className:"flex items-center justify-center gap-2",style:{transform:`scale(${e})`},children:[s.jsx("svg",{height:"0",width:"0",viewBox:"0 0 64 64",className:"absolute",children:s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"grad-b",gradientUnits:"userSpaceOnUse",y2:"2",x2:"0",y1:"62",x1:"0",children:[s.jsx("stop",{stopColor:"#1e3a8a"}),s.jsx("stop",{stopColor:"#3b82f6",offset:"1"})]}),s.jsxs("linearGradient",{id:"grad-c",gradientUnits:"userSpaceOnUse",y2:"0",x2:"0",y1:"64",x1:"0",children:[s.jsx("stop",{stopColor:"#60a5fa"}),s.jsx("stop",{stopColor:"#2563eb",offset:"1"}),t&&s.jsx("animateTransform",{attributeName:"gradientTransform",type:"rotate",from:"0 32 32",to:"360 32 32",dur:"3s",repeatCount:"indefinite"})]}),s.jsxs("linearGradient",{id:"grad-d",gradientUnits:"userSpaceOnUse",y2:"2",x2:"0",y1:"62",x1:"0",children:[s.jsx("stop",{stopColor:"#06b6d4"}),s.jsx("stop",{stopColor:"#3b82f6",offset:"1"})]})]})}),["S","Y","N","E","R","G","Y2"].map((r,n)=>{const a={S:{d:"M 46 14 C 46 4 18 4 18 20 C 18 38 46 36 46 48 C 46 60 18 60 18 50",stroke:"url(#grad-b)"},Y:{d:"M 12 12 L 32 36 L 52 12 M 32 36 V 60",stroke:"url(#grad-c)"},N:{d:"M 16 58 V 12 L 48 58 V 12",stroke:"url(#grad-d)"},E:{d:"M 50 12 H 16 V 58 H 50 M 16 35 H 42",stroke:"url(#grad-b)"},R:{d:"M 16 58 V 12 H 34 C 48 12 48 34 34 34 H 16 M 34 34 L 48 58",stroke:"url(#grad-c)"},G:{d:"M 48 20 A 22 22 0 1 0 54 32 H 32",stroke:"url(#grad-d)"},Y2:{d:"M 12 12 L 32 36 L 52 12 M 32 36 V 60",stroke:"url(#grad-b)"}},{d:o,stroke:i}=a[r];return s.jsx("svg",{viewBox:"0 0 64 64",className:"h-16 w-16 block",fill:"none",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8",stroke:i,d:o,className:"dash",pathLength:"360",children:t?s.jsx("animate",{attributeName:"stroke-dashoffset",values:"360;0;360",keyTimes:"0;0.5;1",dur:"2s",begin:`${n*.1}s`,repeatCount:"indefinite"}):s.jsx("animate",{attributeName:"stroke-dashoffset",from:"360",to:"0",dur:"3s",fill:"freeze",calcMode:"spline",keySplines:"0.42 0 0.58 1"})})},r)}),s.jsx("style",{children:`
        .dash { stroke-dasharray: 360; stroke-dashoffset: 360; }
      `})]})}function El({loading:e,label:t,delay:r=100,progress:n}){const[a,o]=u.useState(!1),[i,l]=u.useState(!1);return u.useEffect(()=>(o(!0),()=>o(!1)),[]),u.useEffect(()=>{let c;return e?c=setTimeout(()=>l(!0),r):l(!1),()=>clearTimeout(c)},[e,r]),!a||!i?null:Zt.createPortal(s.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center animate-in fade-in duration-300",children:[s.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm dark:bg-black/80"}),s.jsxs("div",{className:"relative z-10 p-8 rounded-3xl bg-card border border-border/50 shadow-2xl flex flex-col items-center gap-6 min-w-[320px]",children:[s.jsx(O6,{scale:.9,loop:!0}),t&&s.jsx("p",{className:"text-base font-medium text-muted-foreground animate-pulse tracking-wide text-center",children:t}),typeof n=="number"&&s.jsx("div",{className:"w-full h-1.5 bg-muted/50 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary transition-all duration-200 ease-linear",style:{width:`${Math.max(0,Math.min(100,n))}%`}})})]})]}),document.body)}var ox="Switch",[$de,Jge]=jn(ox),[Fde,zde]=$de(ox),R6=u.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:f,...h}=e,[m,p]=u.useState(null),g=pt(t,w=>p(w)),x=u.useRef(!1),b=m?f||!!m.closest("form"):!0,[y,v]=ca({prop:a,defaultProp:o??!1,onChange:d,caller:ox});return s.jsxs(Fde,{scope:r,checked:y,disabled:l,children:[s.jsx(Ve.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":F6(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:$e(e.onClick,w=>{v(j=>!j),b&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),b&&s.jsx($6,{control:m,bubbles:!x.current,name:n,value:c,checked:y,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});R6.displayName=ox;var D6="SwitchThumb",L6=u.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=zde(D6,r);return s.jsx(Ve.span,{"data-state":F6(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});L6.displayName=D6;var Bde="SwitchBubbleInput",$6=u.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},o)=>{const i=u.useRef(null),l=pt(i,o),c=fN(r),d=a2(t);return u.useEffect(()=>{const f=i.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(f,r),f.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$6.displayName=Bde;function F6(e){return e?"checked":"unchecked"}var z6=R6,Ude=L6;const Ba=u.forwardRef(({className:e,...t},r)=>s.jsx(z6,{className:se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(Ude,{className:se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ba.displayName=z6.displayName;function B6({poId:e,apiBase:t=Kt,onClose:r,onLineAdded:n}){const[a,o]=u.useState(""),[i,l]=u.useState(1),[c,d]=u.useState(""),[f,h]=u.useState(""),[m,p]=u.useState(""),[g,x]=u.useState(!1),[b,y]=u.useState({active:!1,text:"",progress:null}),v=async()=>{if(!a.trim()){alert("Please enter a product name.");return}const w={product_name_raw:a.trim(),upc:c.trim()||null,msrp:f?Number(f):null,unit_cost:m?Number(m):null},j=`${t}/pos/${encodeURIComponent(e)}/lines`,N={"Content-Type":"application/json",Accept:"application/json"},S="include";y({active:!0,text:"Creating line...",progress:0});try{if(g&&i>1)for(let k=0;k<i;k++)y({active:!0,text:`Creating line ${k+1} of ${i}...`,progress:(k+1)/i*100}),await fetch(j,{method:"POST",credentials:S,headers:N,body:JSON.stringify({...w,qty:1})});else{const k=await fetch(j,{method:"POST",credentials:S,headers:N,body:JSON.stringify({...w,qty:Number.isFinite(i)&&i>0?i:1})});if(!k.ok)throw new Error(await k.text()||`HTTP ${k.status}`)}n(),r()}catch(k){alert("Failed to add line item: "+k.message)}finally{y({active:!1,text:"",progress:null})}};return s.jsx(Gd,{open:!0,onOpenChange:w=>!b.active&&!w&&r(),children:s.jsxs(Xl,{className:"sm:max-w-[550px]",children:[s.jsx(El,{loading:b.active,label:b.text,progress:b.progress}),s.jsxs(Ql,{children:[s.jsx(Jl,{children:"Add Line Item"}),s.jsx(A2,{children:"Enter details below. You can split quantities into individual lines automatically."})]}),s.jsxs("div",{className:"grid gap-5 py-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"name",children:"Product Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(vs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{id:"name",className:"pl-9",placeholder:"e.g., Sony WH-1000XM5 Wireless Headphones",value:a,onChange:w=>o(w.target.value),autoFocus:!0,disabled:b.active})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"qty",children:"Qty"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ua,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{id:"qty",type:"number",className:"pl-9",min:1,value:i,onChange:w=>l(parseInt(w.target.value||"1",10)),disabled:b.active})]})]}),s.jsxs("div",{className:"space-y-2 col-span-2",children:[s.jsx(Ke,{htmlFor:"upc",children:"UPC"}),s.jsxs("div",{className:"relative",children:[s.jsx(Uw,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{id:"upc",className:"pl-9",placeholder:"e.g., 027242919002",value:c,onChange:w=>d(w.target.value),disabled:b.active})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"msrp",children:"MSRP"}),s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{id:"msrp",className:"pl-9",inputMode:"decimal",placeholder:"49.99",value:f,onChange:w=>h(w.target.value),disabled:b.active})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"cost",children:"Paid Unit Cost"}),s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(we,{id:"cost",className:"pl-9",inputMode:"decimal",placeholder:"25.00",value:m,onChange:w=>p(w.target.value),disabled:b.active})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 bg-muted/20",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${g?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:g?s.jsx(Xw,{className:"h-4 w-4"}):s.jsx(yo,{className:"h-4 w-4"})}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ke,{htmlFor:"split-mode",className:"text-sm font-medium",children:"Split into individual lines"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:g?`Will create ${i} separate lines (Qty 1 each)`:`Will create 1 line with Qty ${i}`})]})]}),s.jsx(Ba,{id:"split-mode",checked:g,onCheckedChange:x,disabled:i<=1||b.active})]})]}),s.jsxs(Ch,{children:[s.jsx(V,{variant:"outline",onClick:r,disabled:b.active,children:"Cancel"}),s.jsxs(V,{onClick:v,disabled:b.active,children:[s.jsx(qc,{className:"mr-2 h-4 w-4"}),g&&i>1?`Create ${i} Lines`:"Create Line"]})]})]})})}function U6({open:e,onClose:t,onConfirm:r,title:n,description:a,confirmText:o="Delete",requireVerification:i=!1}){const[l,c]=u.useState(!1),[d,f]=u.useState(!1),[h,m]=u.useState("");if(u.useEffect(()=>{f(!0),e&&(m(""),c(!1))},[e]),!e||!d)return null;const p=async()=>{c(!0);try{await r(),t()}catch(x){console.error(x)}finally{c(!1)}},g=!l&&(!i||h==="CONFIRM");return Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"w-full max-w-md bg-card rounded-2xl shadow-2xl border overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-200",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:t,className:"absolute top-3 right-3 z-20 hover:bg-muted rounded-full",children:s.jsx(Mt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{className:"p-8 flex flex-col items-center text-center",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-5 shadow-sm",children:s.jsx(Is,{className:"h-8 w-8"})}),s.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:n}),s.jsx("div",{className:"text-muted-foreground text-sm mb-6 px-2 leading-relaxed",children:a}),i&&s.jsxs("div",{className:"w-full mb-6 space-y-2 text-left",children:[s.jsxs("label",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:["Type ",s.jsx("span",{className:"font-mono font-bold text-foreground",children:"CONFIRM"})," to continue"]}),s.jsx(we,{value:h,onChange:x=>m(x.target.value),placeholder:"CONFIRM",className:"text-center font-medium placeholder:font-normal",autoFocus:!0})]}),s.jsxs("div",{className:"flex items-center gap-3 w-full",children:[s.jsx(V,{variant:"outline",onClick:t,disabled:l,className:"flex-1 h-11",children:"Cancel"}),s.jsx(V,{variant:"destructive",onClick:p,disabled:!g,className:"flex-1 h-11 shadow-sm transition-all",children:l?s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"h-4 w-4 animate-spin mr-2"})," Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Tr,{className:"h-4 w-4 mr-2"})," ",o]})})]})]})]})}),document.body)}var x5=1,Vde=.9,Hde=.8,Wde=.17,Xy=.1,Qy=.999,Gde=.9999,qde=.99,Kde=/[\\\/_+.#"@\[\(\{&]/,Yde=/[\\\/_+.#"@\[\(\{&]/g,Xde=/[\s-]/,V6=/[\s-]/g;function T1(e,t,r,n,a,o,i){if(o===t.length)return a===e.length?x5:qde;var l=`${a},${o}`;if(i[l]!==void 0)return i[l];for(var c=n.charAt(o),d=r.indexOf(c,a),f=0,h,m,p,g;d>=0;)h=T1(e,t,r,n,d+1,o+1,i),h>f&&(d===a?h*=x5:Kde.test(e.charAt(d-1))?(h*=Hde,p=e.slice(a,d-1).match(Yde),p&&a>0&&(h*=Math.pow(Qy,p.length))):Xde.test(e.charAt(d-1))?(h*=Vde,g=e.slice(a,d-1).match(V6),g&&a>0&&(h*=Math.pow(Qy,g.length))):(h*=Wde,a>0&&(h*=Math.pow(Qy,d-a))),e.charAt(d)!==t.charAt(o)&&(h*=Gde)),(h<Xy&&r.charAt(d-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(d-1)!==n.charAt(o))&&(m=T1(e,t,r,n,d+1,o+2,i),m*Xy>h&&(h=m*Xy)),h>f&&(f=h),d=r.indexOf(c,d+1);return i[l]=f,f}function y5(e){return e.toLowerCase().replace(V6," ")}function Qde(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,T1(e,t,y5(e),y5(t),0,0,{})}var Nu='[cmdk-group=""]',Jy='[cmdk-group-items=""]',Jde='[cmdk-group-heading=""]',H6='[cmdk-item=""]',v5=`${H6}:not([aria-disabled="true"])`,P1="cmdk-item-select",wc="data-value",Zde=(e,t,r)=>Qde(e,t,r),W6=u.createContext(void 0),Kh=()=>u.useContext(W6),G6=u.createContext(void 0),TN=()=>u.useContext(G6),q6=u.createContext(void 0),K6=u.forwardRef((e,t)=>{let r=jc(()=>{var z,Z;return{search:"",value:(Z=(z=e.value)!=null?z:e.defaultValue)!=null?Z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=jc(()=>new Set),a=jc(()=>new Map),o=jc(()=>new Map),i=jc(()=>new Set),l=Y6(e),{label:c,children:d,value:f,onValueChange:h,filter:m,shouldFilter:p,loop:g,disablePointerSelection:x=!1,vimBindings:b=!0,...y}=e,v=sn(),w=sn(),j=sn(),N=u.useRef(null),S=due();zl(()=>{if(f!==void 0){let z=f.trim();r.current.value=z,k.emit()}},[f]),zl(()=>{S(6,W)},[]);let k=u.useMemo(()=>({subscribe:z=>(i.current.add(z),()=>i.current.delete(z)),snapshot:()=>r.current,setState:(z,Z,ce)=>{var F,J,L,U;if(!Object.is(r.current[z],Z)){if(r.current[z]=Z,z==="search")A(),E(),S(1,T);else if(z==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let $=document.getElementById(j);$?$.focus():(F=document.getElementById(v))==null||F.focus()}if(S(7,()=>{var $;r.current.selectedItemId=($=P())==null?void 0:$.id,k.emit()}),ce||S(5,W),((J=l.current)==null?void 0:J.value)!==void 0){let $=Z??"";(U=(L=l.current).onValueChange)==null||U.call(L,$);return}}k.emit()}},emit:()=>{i.current.forEach(z=>z())}}),[]),_=u.useMemo(()=>({value:(z,Z,ce)=>{var F;Z!==((F=o.current.get(z))==null?void 0:F.value)&&(o.current.set(z,{value:Z,keywords:ce}),r.current.filtered.items.set(z,C(Z,ce)),S(2,()=>{E(),k.emit()}))},item:(z,Z)=>(n.current.add(z),Z&&(a.current.has(Z)?a.current.get(Z).add(z):a.current.set(Z,new Set([z]))),S(3,()=>{A(),E(),r.current.value||T(),k.emit()}),()=>{o.current.delete(z),n.current.delete(z),r.current.filtered.items.delete(z);let ce=P();S(4,()=>{A(),(ce==null?void 0:ce.getAttribute("id"))===z&&T(),k.emit()})}),group:z=>(a.current.has(z)||a.current.set(z,new Set),()=>{o.current.delete(z),a.current.delete(z)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:v,inputId:j,labelId:w,listInnerRef:N}),[]);function C(z,Z){var ce,F;let J=(F=(ce=l.current)==null?void 0:ce.filter)!=null?F:Zde;return z?J(z,r.current.search,Z):0}function E(){if(!r.current.search||l.current.shouldFilter===!1)return;let z=r.current.filtered.items,Z=[];r.current.filtered.groups.forEach(F=>{let J=a.current.get(F),L=0;J.forEach(U=>{let $=z.get(U);L=Math.max($,L)}),Z.push([F,L])});let ce=N.current;te().sort((F,J)=>{var L,U;let $=F.getAttribute("id"),M=J.getAttribute("id");return((L=z.get(M))!=null?L:0)-((U=z.get($))!=null?U:0)}).forEach(F=>{let J=F.closest(Jy);J?J.appendChild(F.parentElement===J?F:F.closest(`${Jy} > *`)):ce.appendChild(F.parentElement===ce?F:F.closest(`${Jy} > *`))}),Z.sort((F,J)=>J[1]-F[1]).forEach(F=>{var J;let L=(J=N.current)==null?void 0:J.querySelector(`${Nu}[${wc}="${encodeURIComponent(F[0])}"]`);L==null||L.parentElement.appendChild(L)})}function T(){let z=te().find(ce=>ce.getAttribute("aria-disabled")!=="true"),Z=z==null?void 0:z.getAttribute(wc);k.setState("value",Z||void 0)}function A(){var z,Z,ce,F;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let J=0;for(let L of n.current){let U=(Z=(z=o.current.get(L))==null?void 0:z.value)!=null?Z:"",$=(F=(ce=o.current.get(L))==null?void 0:ce.keywords)!=null?F:[],M=C(U,$);r.current.filtered.items.set(L,M),M>0&&J++}for(let[L,U]of a.current)for(let $ of U)if(r.current.filtered.items.get($)>0){r.current.filtered.groups.add(L);break}r.current.filtered.count=J}function W(){var z,Z,ce;let F=P();F&&(((z=F.parentElement)==null?void 0:z.firstChild)===F&&((ce=(Z=F.closest(Nu))==null?void 0:Z.querySelector(Jde))==null||ce.scrollIntoView({block:"nearest"})),F.scrollIntoView({block:"nearest"}))}function P(){var z;return(z=N.current)==null?void 0:z.querySelector(`${H6}[aria-selected="true"]`)}function te(){var z;return Array.from(((z=N.current)==null?void 0:z.querySelectorAll(v5))||[])}function le(z){let Z=te()[z];Z&&k.setState("value",Z.getAttribute(wc))}function K(z){var Z;let ce=P(),F=te(),J=F.findIndex(U=>U===ce),L=F[J+z];(Z=l.current)!=null&&Z.loop&&(L=J+z<0?F[F.length-1]:J+z===F.length?F[0]:F[J+z]),L&&k.setState("value",L.getAttribute(wc))}function D(z){let Z=P(),ce=Z==null?void 0:Z.closest(Nu),F;for(;ce&&!F;)ce=z>0?lue(ce,Nu):cue(ce,Nu),F=ce==null?void 0:ce.querySelector(v5);F?k.setState("value",F.getAttribute(wc)):K(z)}let I=()=>le(te().length-1),R=z=>{z.preventDefault(),z.metaKey?I():z.altKey?D(1):K(1)},q=z=>{z.preventDefault(),z.metaKey?le(0):z.altKey?D(-1):K(-1)};return u.createElement(Ve.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:z=>{var Z;(Z=y.onKeyDown)==null||Z.call(y,z);let ce=z.nativeEvent.isComposing||z.keyCode===229;if(!(z.defaultPrevented||ce))switch(z.key){case"n":case"j":{b&&z.ctrlKey&&R(z);break}case"ArrowDown":{R(z);break}case"p":case"k":{b&&z.ctrlKey&&q(z);break}case"ArrowUp":{q(z);break}case"Home":{z.preventDefault(),le(0);break}case"End":{z.preventDefault(),I();break}case"Enter":{z.preventDefault();let F=P();if(F){let J=new Event(P1);F.dispatchEvent(J)}}}}},u.createElement("label",{"cmdk-label":"",htmlFor:_.inputId,id:_.labelId,style:fue},c),ix(e,z=>u.createElement(G6.Provider,{value:k},u.createElement(W6.Provider,{value:_},z))))}),eue=u.forwardRef((e,t)=>{var r,n;let a=sn(),o=u.useRef(null),i=u.useContext(q6),l=Kh(),c=Y6(e),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;zl(()=>{if(!d)return l.item(a,i==null?void 0:i.id)},[d]);let f=X6(a,o,[e.value,e.children,o],e.keywords),h=TN(),m=Oi(S=>S.value&&S.value===f.current),p=Oi(S=>d||l.filter()===!1?!0:S.search?S.filtered.items.get(a)>0:!0);u.useEffect(()=>{let S=o.current;if(!(!S||e.disabled))return S.addEventListener(P1,g),()=>S.removeEventListener(P1,g)},[p,e.onSelect,e.disabled]);function g(){var S,k;x(),(k=(S=c.current).onSelect)==null||k.call(S,f.current)}function x(){h.setState("value",f.current,!0)}if(!p)return null;let{disabled:b,value:y,onSelect:v,forceMount:w,keywords:j,...N}=e;return u.createElement(Ve.div,{ref:xo(o,t),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!m,"data-disabled":!!b,"data-selected":!!m,onPointerMove:b||l.getDisablePointerSelection()?void 0:x,onClick:b?void 0:g},e.children)}),tue=u.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...o}=e,i=sn(),l=u.useRef(null),c=u.useRef(null),d=sn(),f=Kh(),h=Oi(p=>a||f.filter()===!1?!0:p.search?p.filtered.groups.has(i):!0);zl(()=>f.group(i),[]),X6(i,l,[e.value,e.heading,c]);let m=u.useMemo(()=>({id:i,forceMount:a}),[a]);return u.createElement(Ve.div,{ref:xo(l,t),...o,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&u.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),ix(e,p=>u.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},u.createElement(q6.Provider,{value:m},p))))}),rue=u.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=u.useRef(null),o=Oi(i=>!i.search);return!r&&!o?null:u.createElement(Ve.div,{ref:xo(a,t),...n,"cmdk-separator":"",role:"separator"})}),nue=u.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,o=TN(),i=Oi(d=>d.search),l=Oi(d=>d.selectedItemId),c=Kh();return u.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),u.createElement(Ve.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:d=>{a||o.setState("search",d.target.value),r==null||r(d.target.value)}})}),sue=u.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,o=u.useRef(null),i=u.useRef(null),l=Oi(d=>d.selectedItemId),c=Kh();return u.useEffect(()=>{if(i.current&&o.current){let d=i.current,f=o.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let p=d.offsetHeight;f.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(h),m.unobserve(d)}}},[]),u.createElement(Ve.div,{ref:xo(o,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},ix(e,d=>u.createElement("div",{ref:xo(i,c.listInnerRef),"cmdk-list-sizer":""},d)))}),aue=u.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:o,container:i,...l}=e;return u.createElement(TI,{open:r,onOpenChange:n},u.createElement(PI,{container:i},u.createElement(M2,{"cmdk-overlay":"",className:a}),u.createElement(I2,{"aria-label":e.label,"cmdk-dialog":"",className:o},u.createElement(K6,{ref:t,...l}))))}),oue=u.forwardRef((e,t)=>Oi(r=>r.filtered.count===0)?u.createElement(Ve.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),iue=u.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...o}=e;return u.createElement(Ve.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},ix(e,i=>u.createElement("div",{"aria-hidden":!0},i)))}),Jn=Object.assign(K6,{List:sue,Item:eue,Input:nue,Group:tue,Separator:rue,Dialog:aue,Empty:oue,Loading:iue});function lue(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function cue(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Y6(e){let t=u.useRef(e);return zl(()=>{t.current=e}),t}var zl=typeof window>"u"?u.useEffect:u.useLayoutEffect;function jc(e){let t=u.useRef();return t.current===void 0&&(t.current=e()),t}function Oi(e){let t=TN(),r=()=>e(t.snapshot());return u.useSyncExternalStore(t.subscribe,r,r)}function X6(e,t,r,n=[]){let a=u.useRef(),o=Kh();return zl(()=>{var i;let l=(()=>{var d;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(d=f.current.textContent)==null?void 0:d.trim():a.current}})(),c=n.map(d=>d.trim());o.value(e,l,c),(i=t.current)==null||i.setAttribute(wc,l),a.current=l}),a}var due=()=>{let[e,t]=u.useState(),r=jc(()=>new Map);return zl(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function uue(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function ix({asChild:e,children:t},r){return e&&u.isValidElement(t)?u.cloneElement(uue(t),{ref:t.ref},r(t.props.children)):r(t)}var fue={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const lx=u.forwardRef(({className:e,...t},r)=>s.jsx(Jn,{ref:r,className:se("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));lx.displayName=Jn.displayName;const cx=u.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Yt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(Jn.Input,{ref:r,className:se("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));cx.displayName=Jn.Input.displayName;const dx=u.forwardRef(({className:e,...t},r)=>s.jsx(Jn.List,{ref:r,className:se("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));dx.displayName=Jn.List.displayName;const ux=u.forwardRef((e,t)=>s.jsx(Jn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));ux.displayName=Jn.Empty.displayName;const fx=u.forwardRef(({className:e,...t},r)=>s.jsx(Jn.Group,{ref:r,className:se("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));fx.displayName=Jn.Group.displayName;const hue=u.forwardRef(({className:e,...t},r)=>s.jsx(Jn.Separator,{ref:r,className:se("-mx-1 h-px bg-border",e),...t}));hue.displayName=Jn.Separator.displayName;const hx=u.forwardRef(({className:e,...t},r)=>s.jsx(Jn.Item,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));hx.displayName=Jn.Item.displayName;function mue({value:e,categories:t,onChange:r}){const[n,a]=u.useState(!1),o=t.find(i=>i.id===e);return s.jsxs(nx,{open:n,onOpenChange:a,children:[s.jsx(sx,{asChild:!0,children:s.jsxs(V,{variant:"outline",role:"combobox","aria-expanded":n,className:dt("h-8 w-full justify-between px-2 text-xs",e?"text-foreground":"text-muted-foreground border-dashed"),children:[o?s.jsxs("span",{className:"truncate flex items-center gap-2",children:[o.label,o.prefix&&s.jsx("span",{className:"font-mono text-[10px] opacity-50 bg-muted px-1 rounded",children:o.prefix})]}):"Unassigned",s.jsx(Ww,{className:"ml-1 h-3 w-3 shrink-0 opacity-50"})]})}),s.jsx(Vh,{className:"w-[--radix-popover-trigger-width] p-0 z-[200]",align:"start",children:s.jsxs(lx,{children:[s.jsx(cx,{placeholder:"Search...",className:"h-8 text-xs"}),s.jsxs(dx,{children:[s.jsx(ux,{children:"No category found."}),s.jsx(fx,{children:t.map(i=>s.jsxs(hx,{value:i.label,onSelect:()=>{r(i.id),a(!1)},className:"text-xs",children:[s.jsx(tr,{className:dt("mr-2 h-3.5 w-3.5",e===i.id?"opacity-100":"opacity-0")}),s.jsx("span",{className:"flex-1 truncate",children:i.label}),i.prefix&&s.jsx("span",{className:"ml-2 font-mono text-[10px] text-muted-foreground",children:i.prefix})]},i.id))})]})]})})]})}function pue({open:e,onClose:t,onAssign:r,categories:n,selectedCount:a}){const[o,i]=u.useState(""),[l,c]=u.useState(!1),[d,f]=u.useState(!1);if(u.useEffect(()=>{f(!0),e&&(i(""),c(!1))},[e]),!e||!d)return null;const h=async()=>{if(o){c(!0);try{await r(o),t()}catch(m){console.error(m)}finally{c(!1)}}};return Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"w-full max-w-md bg-card rounded-2xl shadow-2xl border overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-200",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:t,className:"absolute top-4 right-4 z-20 hover:bg-muted rounded-full",children:s.jsx(Mt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{className:"p-8 flex flex-col items-center text-center",children:[s.jsx(Rr,{className:"h-20 w-20 border-4 border-muted/20 shadow-xl mb-6",children:s.jsx(Dr,{className:"bg-primary/5 text-primary",children:s.jsx(is,{className:"h-9 w-9"})})}),s.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Bulk Assignment"}),s.jsxs("p",{className:"text-muted-foreground text-sm mb-8",children:["Assigning a category to ",s.jsx("span",{className:"font-bold text-foreground",children:a})," selected lines."]}),s.jsxs("div",{className:"w-full text-left space-y-2 mb-6",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"Category"}),s.jsx("div",{className:"h-12",children:s.jsx(mue,{value:o,categories:n,onChange:i})})]}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx(V,{variant:"ghost",onClick:t,className:"flex-1",disabled:l,children:"Cancel"}),s.jsxs(V,{onClick:h,disabled:!o||l,className:"flex-1 h-11 shadow-lg shadow-primary/20",children:[l?s.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(tr,{className:"mr-2 h-4 w-4"}),"Assign"]})]})]})]})}),document.body)}function gue({open:e,onClose:t,onSave:r,lineCount:n,initialValues:a={}}){const[o,i]=u.useState(!1),[l,c]=u.useState(!1),[d,f]=u.useState(""),[h,m]=u.useState(""),[p,g]=u.useState(""),[x,b]=u.useState(""),[y,v]=u.useState("");if(u.useEffect(()=>{i(!0),e&&(f(a.product_name_raw||""),m(a.qty?String(a.qty):""),g(a.upc||""),b(a.unit_cost?String(a.unit_cost):""),v(a.msrp?String(a.msrp):""),c(!1))},[e,a]),!e||!o)return null;const w=async()=>{const j={};if(d.trim()&&(j.product_name_raw=d.trim()),h.trim()&&(j.qty=Number(h)),p.trim()&&(j.upc=p.trim()),x.trim()&&(j.unit_cost=Number(x)),y.trim()&&(j.msrp=Number(y)),Object.keys(j).length===0){t();return}c(!0);try{await r(j),t()}catch(N){console.error(N)}finally{c(!1)}};return Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"w-full max-w-lg bg-card rounded-2xl shadow-2xl border overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-200",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:t,className:"absolute top-4 right-4 z-20 hover:bg-muted rounded-full",children:s.jsx(Mt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[s.jsx(Rr,{className:"h-20 w-20 border-4 border-muted/20 shadow-xl mb-6",children:s.jsx(Dr,{className:"bg-primary/5 text-primary",children:s.jsx(V7,{className:"h-9 w-9"})})}),s.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Bulk Edit Lines"}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:["Updating ",s.jsx("span",{className:"font-bold text-foreground",children:n})," selected lines.",s.jsx("br",{}),"Only filled fields will be updated."]})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"Product Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{value:d,onChange:j=>f(j.target.value),placeholder:"Keep unchanged",className:"pl-9 bg-muted/20 border-muted-foreground/20 focus:bg-background transition-all"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"Qty"}),s.jsxs("div",{className:"relative",children:[s.jsx(yo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"number",min:1,value:h,onChange:j=>m(j.target.value),placeholder:"--",className:"pl-9 bg-muted/20 border-muted-foreground/20 focus:bg-background transition-all"})]})]}),s.jsxs("div",{className:"col-span-2 space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"UPC"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{value:p,onChange:j=>g(j.target.value),placeholder:"Keep unchanged",className:"pl-9 bg-muted/20 border-muted-foreground/20 focus:bg-background transition-all"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"Unit Cost"}),s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"number",step:"0.01",value:x,onChange:j=>b(j.target.value),placeholder:"Keep unchanged",className:"pl-9 bg-muted/20 border-muted-foreground/20 focus:bg-background transition-all"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"MSRP"}),s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"number",step:"0.01",value:y,onChange:j=>v(j.target.value),placeholder:"Keep unchanged",className:"pl-9 bg-muted/20 border-muted-foreground/20 focus:bg-background transition-all"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-8",children:[s.jsx(V,{variant:"ghost",onClick:t,className:"flex-1 h-11 text-muted-foreground",disabled:l,children:"Cancel"}),s.jsx(V,{onClick:w,disabled:l,className:"flex-1 h-11 shadow-lg shadow-primary/20 text-base",children:l?s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"mr-2 h-4 w-4"})," Update Lines"]})})]})]})]})}),document.body)}function xue({open:e,onClose:t,onSave:r,line:n,lineId:a}){const[o,i]=u.useState(!1),[l,c]=u.useState(!1),[d,f]=u.useState(""),[h,m]=u.useState(""),[p,g]=u.useState(""),[x,b]=u.useState(""),[y,v]=u.useState("");if(u.useEffect(()=>{i(!0)},[]),u.useEffect(()=>{e&&(f(n.product_name_raw||""),m(n.qty?String(n.qty):"1"),g(n.upc||""),b(n.unit_cost?String(n.unit_cost):""),v(n.msrp?String(n.msrp):""),c(!1))},[e,n]),!e||!o)return null;const w=async j=>{j&&j.preventDefault(),c(!0);try{const N={product_name_raw:d.trim()||null,qty:Number(h)||1,upc:p.trim()||null,unit_cost:x?Number(x):null,msrp:y?Number(y):null};await r(a,N),t()}catch(N){console.error(N)}finally{c(!1)}};return Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"w-full max-w-lg bg-card rounded-2xl shadow-2xl border overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-200",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:t,className:"absolute top-4 right-4 z-20 hover:bg-muted rounded-full",children:s.jsx(Mt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[s.jsx(Rr,{className:"h-20 w-20 border-4 border-muted/20 shadow-xl mb-6",children:s.jsx(Dr,{className:"bg-primary/5 text-primary",children:s.jsx($i,{className:"h-9 w-9"})})}),s.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Edit Line Item"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Update details for this specific line."})]}),s.jsxs("form",{onSubmit:w,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"Product Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{value:d,onChange:j=>f(j.target.value),placeholder:"Product Name",className:"pl-9 bg-muted/20 border-muted-foreground/20 focus:bg-background transition-all",autoFocus:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"Qty"}),s.jsxs("div",{className:"relative",children:[s.jsx(yo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"number",min:1,value:h,onChange:j=>m(j.target.value),className:"pl-9 bg-muted/20 border-muted-foreground/20 focus:bg-background transition-all"})]})]}),s.jsxs("div",{className:"col-span-2 space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"UPC"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{value:p,onChange:j=>g(j.target.value),placeholder:"UPC / EAN",className:"pl-9 bg-muted/20 border-muted-foreground/20 focus:bg-background transition-all"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"Unit Cost"}),s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"number",step:"0.01",value:x,onChange:j=>b(j.target.value),placeholder:"0.00",className:"pl-9 bg-muted/20 border-muted-foreground/20 focus:bg-background transition-all"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"MSRP"}),s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"number",step:"0.01",value:y,onChange:j=>v(j.target.value),placeholder:"0.00",className:"pl-9 bg-muted/20 border-muted-foreground/20 focus:bg-background transition-all"})]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-8 pt-2",children:[s.jsx(V,{variant:"ghost",type:"button",onClick:t,className:"flex-1 h-11 text-muted-foreground",disabled:l,children:"Cancel"}),s.jsx(V,{type:"submit",disabled:l,className:"flex-1 h-11 shadow-lg shadow-primary/20 text-base",children:l?s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"mr-2 h-4 w-4"})," Save Changes"]})})]})]})]})]})}),document.body)}var Zy,mx="HoverCard",[Q6,Zge]=jn(mx,[Ga]),px=Ga(),[yue,PN]=Q6(mx),J6=e=>{const{__scopeHoverCard:t,children:r,open:n,defaultOpen:a,onOpenChange:o,openDelay:i=700,closeDelay:l=300}=e,c=px(t),d=u.useRef(0),f=u.useRef(0),h=u.useRef(!1),m=u.useRef(!1),[p,g]=ca({prop:n,defaultProp:a??!1,onChange:o,caller:mx}),x=u.useCallback(()=>{clearTimeout(f.current),d.current=window.setTimeout(()=>g(!0),i)},[i,g]),b=u.useCallback(()=>{clearTimeout(d.current),!h.current&&!m.current&&(f.current=window.setTimeout(()=>g(!1),l))},[l,g]),y=u.useCallback(()=>g(!1),[g]);return u.useEffect(()=>()=>{clearTimeout(d.current),clearTimeout(f.current)},[]),s.jsx(yue,{scope:t,open:p,onOpenChange:g,onOpen:x,onClose:b,onDismiss:y,hasSelectionRef:h,isPointerDownOnContentRef:m,children:s.jsx(gh,{...c,children:r})})};J6.displayName=mx;var Z6="HoverCardTrigger",e8=u.forwardRef((e,t)=>{const{__scopeHoverCard:r,...n}=e,a=PN(Z6,r),o=px(r);return s.jsx(Bd,{asChild:!0,...o,children:s.jsx(Ve.a,{"data-state":a.open?"open":"closed",...n,ref:t,onPointerEnter:$e(e.onPointerEnter,Mg(a.onOpen)),onPointerLeave:$e(e.onPointerLeave,Mg(a.onClose)),onFocus:$e(e.onFocus,a.onOpen),onBlur:$e(e.onBlur,a.onClose),onTouchStart:$e(e.onTouchStart,i=>i.preventDefault())})})});e8.displayName=Z6;var vue="HoverCardPortal",[e0e,bue]=Q6(vue,{forceMount:void 0}),Pg="HoverCardContent",t8=u.forwardRef((e,t)=>{const r=bue(Pg,e.__scopeHoverCard),{forceMount:n=r.forceMount,...a}=e,o=PN(Pg,e.__scopeHoverCard);return s.jsx(on,{present:n||o.open,children:s.jsx(wue,{"data-state":o.open?"open":"closed",...a,onPointerEnter:$e(e.onPointerEnter,Mg(o.onOpen)),onPointerLeave:$e(e.onPointerLeave,Mg(o.onClose)),ref:t})})});t8.displayName=Pg;var wue=u.forwardRef((e,t)=>{const{__scopeHoverCard:r,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,...l}=e,c=PN(Pg,r),d=px(r),f=u.useRef(null),h=pt(t,f),[m,p]=u.useState(!1);return u.useEffect(()=>{if(m){const g=document.body;return Zy=g.style.userSelect||g.style.webkitUserSelect,g.style.userSelect="none",g.style.webkitUserSelect="none",()=>{g.style.userSelect=Zy,g.style.webkitUserSelect=Zy}}},[m]),u.useEffect(()=>{if(f.current){const g=()=>{p(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",g),()=>{document.removeEventListener("pointerup",g),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),u.useEffect(()=>{f.current&&Sue(f.current).forEach(x=>x.setAttribute("tabindex","-1"))}),s.jsx(ql,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:i,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:$e(o,g=>{g.preventDefault()}),onDismiss:c.onDismiss,children:s.jsx(xh,{...d,...l,onPointerDown:$e(l.onPointerDown,g=>{g.currentTarget.contains(g.target)&&p(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:h,style:{...l.style,userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),jue="HoverCardArrow",Nue=u.forwardRef((e,t)=>{const{__scopeHoverCard:r,...n}=e,a=px(r);return s.jsx(yh,{...a,...n,ref:t})});Nue.displayName=jue;function Mg(e){return t=>t.pointerType==="touch"?void 0:e()}function Sue(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)t.push(r.currentNode);return t}var kue=J6,Cue=e8,r8=t8;const _ue=kue,Eue=Cue,n8=u.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(r8,{ref:a,align:t,sideOffset:r,className:se("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));n8.displayName=r8.displayName;async function en(e,t){const r=await fetch(e,t);if(!r.ok){const a=await r.text();throw new Error(a||`HTTP ${r.status}`)}if(r.status===204)return{};if(!(r.headers.get("content-type")||"").includes("application/json")){const a=await r.text();try{return JSON.parse(a)}catch{return{ok:!0,text:a}}}return r.json()}function s8(e){return e?e.replace(/Intel\(R\)/yi,"").replace(/Core\(TM\)/yi,"").replace(/CPU/yi,"").replace(/@.*/,"").replace(/1\dth Gen/yi,"").replace(/Processor/yi,"").trim():""}function Lu({checked:e,onChange:t,indeterminate:r=!1,label:n="",disabled:a=!1}){return s.jsx("button",{type:"button",role:"checkbox","aria-checked":r?"mixed":e,"aria-label":n||(r?"Partially selected":e?"Selected":"Not selected"),disabled:a,onClick:o=>{a||(o.stopPropagation(),t(!e))},className:dt("inline-flex h-6 w-6 shrink-0 items-center justify-center rounded-full border transition","focus:outline-none focus:ring-2 ring-primary/40 ring-offset-1",a&&"opacity-50 cursor-not-allowed",r||e?"bg-primary text-primary-foreground border-primary":"bg-background text-transparent border-border hover:bg-muted/60"),children:r?s.jsx(r4,{className:"h-4 w-4"}):e?s.jsx(tr,{className:"h-4 w-4"}):null})}function Tue(e){return e?String(e).slice(0,10):null}function yi(e){return e==null?null:e.toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2})}function Pue(e){if(!e)return 0;const t=new Date(e),n=Math.abs(new Date().getTime()-t.getTime());return Math.ceil(n/(1e3*60*60*24))}const M1=u.memo(({l:e,selected:t,onToggle:r,categories:n,onUpdateCategory:a,onMint:o,onEdit:i,onOverride:l,onSplit:c,onDelete:d,rowBrief:f,markParts:h,poId:m,apiBase:p})=>{const g=e.synergy_id?f[e.synergy_id]:void 0,x=((g==null?void 0:g.status)||"").toUpperCase(),b=x==="SOLD",y=x==="IN_STORE",v=x==="SCRAP",w=e.isAwaitingParts||(g==null?void 0:g.partStatus)==="NEEDED",j=typeof e.unit_cost=="number"?e.unit_cost:0,N=g!=null&&g.ebayPrice?Number(g.ebayPrice):0,S=N>0?N-j:0,k=e.raw_json||{},_=k.specs||{},C=s8(_.processor||_.cpu),E=_.ram||_.memory,T=_.storage||_.hdd||_.ssd,A=[_.screen,_.color,_.batteryHealth].filter(Boolean).join("  "),W=C||E||T||A,P=k.item_notes||k.notes||k.tester_comment,te=u.useCallback(()=>r(e.id),[r,e.id]),le=u.useCallback(()=>i(e.id),[i,e.id]),K=u.useCallback(()=>o(e.id),[o,e.id]),D=u.useCallback(()=>l(e.synergy_id),[l,e.synergy_id]),I=u.useCallback(()=>c(e.id),[c,e.id]),R=u.useCallback(()=>d(e.id),[d,e.id]),q=u.useCallback(Z=>a(e.id,Z),[a,e.id]),z=u.useCallback(Z=>{Z.stopPropagation(),h(e.synergy_id||e.id)},[h,e.synergy_id,e.id]);return s.jsxs("div",{className:dt("group relative flex flex-col bg-card border rounded-xl shadow-sm transition-all duration-200 overflow-hidden hover:shadow-md",t?"ring-2 ring-primary border-primary":"hover:border-primary/50",b&&"bg-purple-50/30 dark:bg-purple-900/10"),children:[s.jsxs("div",{className:"relative h-32 w-full bg-muted/20 border-b overflow-hidden",children:[s.jsx("div",{className:"absolute top-2 left-2 z-10",children:s.jsx(Lu,{checked:t,onChange:te})}),s.jsxs("div",{className:"absolute top-2 right-2 z-10 flex flex-col gap-1 items-end",children:[b?s.jsxs(kt,{className:"bg-purple-100 text-purple-700 dark:bg-purple-900/80 dark:text-purple-200 border-purple-200/50 shadow-sm",children:[s.jsx(mr,{className:"h-3 w-3 mr-1"})," Sold"]}):y?s.jsxs(kt,{className:"bg-orange-100 text-orange-700 dark:bg-orange-900/80 dark:text-orange-200 border-orange-200/50 shadow-sm",children:[s.jsx(bo,{className:"h-3 w-3 mr-1"})," In Store"]}):(g==null?void 0:g.status)==="POSTED"||g!=null&&g.posted?s.jsxs(kt,{className:"bg-blue-100 text-blue-700 dark:bg-blue-900/80 dark:text-blue-200 border-blue-200/50 shadow-sm",children:[s.jsx(fs,{className:"h-3 w-3 mr-1"})," Active"]}):(g==null?void 0:g.status)==="TESTED"?s.jsxs(kt,{variant:"outline",className:"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:border-emerald-800",children:[s.jsx(tr,{className:"h-3 w-3 mr-1"})," Tested"]}):v?s.jsxs(kt,{variant:"destructive",children:[s.jsx(Tr,{className:"h-3 w-3 mr-1"})," Scrap"]}):null,w&&s.jsxs(kt,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200 cursor-pointer",onClick:z,children:[s.jsx(hs,{className:"h-3 w-3 mr-1"})," Parts"]})]}),s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g!=null&&g.ebayThumbnail?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center blur-xl opacity-20",style:{backgroundImage:`url(${g.ebayThumbnail})`}}),s.jsx("img",{src:g.ebayThumbnail,alt:"",className:"relative h-full w-full object-contain p-2 z-0 transition-transform group-hover:scale-105",loading:"lazy"})]}):s.jsx(s0,{className:"h-10 w-10 text-muted-foreground/20"})})]}),s.jsxs("div",{className:"p-3 flex-1 flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsx("div",{className:"font-semibold text-sm leading-snug line-clamp-2",title:e.product_name_raw,children:e.product_name_raw||s.jsx("span",{className:"italic text-muted-foreground",children:"No Product Name"})}),s.jsx(V,{size:"icon",variant:"ghost",className:"h-6 w-6 shrink-0 text-muted-foreground",onClick:le,children:s.jsx($i,{className:"h-3.5 w-3.5"})})]}),W&&s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[C&&s.jsxs(kt,{variant:"secondary",className:"h-5 px-1.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border-slate-200 dark:border-slate-700 font-medium text-[10px] gap-1",children:[s.jsx(ki,{className:"h-3 w-3 opacity-70"})," ",C]}),E&&s.jsxs(kt,{variant:"secondary",className:"h-5 px-1.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border-slate-200 dark:border-slate-700 font-medium text-[10px] gap-1",children:[s.jsx(bd,{className:"h-3 w-3 opacity-70"})," ",E]}),T&&s.jsxs(kt,{variant:"secondary",className:"h-5 px-1.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border-slate-200 dark:border-slate-700 font-medium text-[10px] gap-1",children:[s.jsx(vd,{className:"h-3 w-3 opacity-70"})," ",T]}),A&&s.jsx("span",{className:"text-[10px] text-muted-foreground",children:A})]}),P&&s.jsxs("div",{className:"flex items-start gap-2 p-2 rounded-md bg-amber-50 dark:bg-amber-950/30 border border-amber-100 dark:border-amber-900/50",children:[s.jsx(hh,{className:"h-3.5 w-3.5 text-amber-600 dark:text-amber-500 mt-0.5 shrink-0"}),s.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-300 leading-snug line-clamp-3",children:P})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto pt-2",children:[s.jsx("div",{className:"col-span-2",children:e.synergy_id?s.jsxs("div",{className:"flex items-center justify-between bg-muted/40 rounded-md border px-2 py-1",children:[s.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase",children:"ID"}),s.jsx("span",{className:"font-mono text-xs font-medium",children:e.synergy_id})]}):e.category_id?s.jsxs(V,{variant:"outline",size:"sm",className:"w-full h-7 text-xs border-dashed text-primary hover:bg-primary/5",onClick:K,children:[s.jsx(Vr,{className:"h-3 w-3 mr-1"})," Mint ID"]}):s.jsx("div",{className:"text-[10px] text-amber-600 bg-amber-50 px-2 py-1 rounded-md border border-amber-100 text-center font-medium",children:"Categorize to Mint"})}),s.jsx("div",{className:"col-span-2",children:s.jsx(a8,{value:e.category_id||null,categories:n,onChange:q})})]}),s.jsxs("div",{className:"mt-2 pt-3 border-t grid grid-cols-3 gap-1 text-center",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Qty"}),s.jsx("span",{className:"text-xs font-semibold",children:e.qty||1})]}),s.jsxs("div",{className:"flex flex-col border-l border-border/50",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Cost"}),s.jsx("span",{className:"text-xs font-medium",children:yi(j)})]}),s.jsxs("div",{className:"flex flex-col border-l border-border/50",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Profit"}),S!==0?s.jsx("span",{className:dt("text-xs font-bold",S>0?"text-emerald-600":"text-red-600"),children:yi(S)}):s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})]})]}),s.jsxs("div",{className:"bg-muted/30 px-3 py-2 border-t flex justify-between items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(g==null?void 0:g.ebayItemUrl)&&s.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7 text-blue-600 bg-blue-50 hover:bg-blue-100 hover:text-blue-700",asChild:!0,title:"View on eBay",children:s.jsx("a",{href:g.ebayItemUrl,target:"_blank",rel:"noreferrer",children:s.jsx(ch,{className:"h-3.5 w-3.5"})})}),s.jsxs("div",{className:"flex ml-auto gap-1",children:[e.synergy_id&&s.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7 text-amber-600 hover:bg-amber-100",onClick:D,title:"Override / Tester View",children:s.jsx(hs,{className:"h-3.5 w-3.5"})}),(e.qty??1)>1&&s.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7 hover:bg-background",onClick:I,title:"Split",children:s.jsx(Xw,{className:"h-3.5 w-3.5"})}),s.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7 hover:bg-red-100 hover:text-red-600",onClick:R,title:"Delete",children:s.jsx(Tr,{className:"h-3.5 w-3.5"})})]})]})]})});M1.displayName="LineCard";function Mue({info:e,unitCost:t}){const r=Pue(e.postedAt),n=e.ebayPrice||0,a=t||0,o=n-a,i=a>0?o/a*100:0,l=e.status==="SOLD",c=e.status==="IN_STORE",d=r>60;return s.jsxs("div",{className:"w-80 overflow-hidden bg-card text-card-foreground",children:[s.jsxs("div",{className:"relative h-20 bg-muted/30 border-b flex items-center px-4 overflow-hidden",children:[e.ebayThumbnail&&s.jsx("div",{className:"absolute inset-0 opacity-10 bg-center bg-cover blur-md",style:{backgroundImage:`url(${e.ebayThumbnail})`}}),s.jsxs("div",{className:"relative z-10 flex items-center gap-3 w-full",children:[e.ebayThumbnail?s.jsx("div",{className:"h-12 w-12 rounded border bg-background shadow-sm overflow-hidden shrink-0",children:s.jsx("img",{src:e.ebayThumbnail,className:"h-full w-full object-contain",alt:""})}):s.jsx("div",{className:"h-12 w-12 rounded border bg-background/50 flex items-center justify-center shrink-0",children:s.jsx(s0,{className:"h-5 w-5 text-muted-foreground/30"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:dt("text-[10px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded-sm border",l?"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800":c?"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800":"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800"),children:l?"Sold":c?"In Store":"Active Listing"}),e.ebayItemUrl&&s.jsxs("a",{href:e.ebayItemUrl,target:"_blank",rel:"noreferrer",className:"text-[10px] text-muted-foreground hover:text-primary flex items-center gap-1 transition-colors",children:["View ",s.jsx(ch,{className:"h-3 w-3"})]})]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1 text-[10px] text-muted-foreground",children:[s.jsx(Si,{className:"h-3 w-3"}),s.jsxs("span",{children:[l?"Sold after":"Listed for",s.jsxs("span",{className:dt("font-medium ml-1",!l&&d?"text-amber-600":"text-foreground"),children:[r," day",r!==1?"s":""]})]})]})]})]})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center divide-x divide-border/60",children:[s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-[10px] uppercase text-muted-foreground font-medium",children:"Revenue"}),s.jsx("span",{className:"text-sm font-bold text-foreground",children:yi(n)})]}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-[10px] uppercase text-muted-foreground font-medium",children:"Cost"}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground line-through decoration-red-300/50 decoration-2",children:yi(a)})]}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-[10px] uppercase text-muted-foreground font-medium flex items-center justify-center gap-1",children:"Profit"}),s.jsx("span",{className:dt("text-sm font-extrabold",o>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600"),children:yi(o)})]})]}),a>0&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex justify-between text-[10px] font-medium text-muted-foreground",children:[s.jsx("span",{children:"Return on Investment"}),s.jsxs("span",{className:o>=0?"text-emerald-600":"text-red-600",children:[i.toFixed(0),"%"]})]}),s.jsx("div",{className:"h-1.5 w-full bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:dt("h-full rounded-full",o>=0?"bg-emerald-500":"bg-red-500"),style:{width:`${Math.min(100,Math.max(0,i))}%`}})})]}),s.jsxs("div",{className:"pt-3 border-t flex justify-between items-center text-[10px] text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1.5",title:"Lister",children:[s.jsx("div",{className:"p-1 rounded-full bg-blue-50 text-blue-600 dark:bg-blue-900/20",children:s.jsx(is,{className:"h-3 w-3"})}),s.jsx("span",{className:"truncate max-w-[80px]",children:e.postedByName||e.postedBy||"Unknown"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",title:"Tester",children:[s.jsx("div",{className:"p-1 rounded-full bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20",children:s.jsx(Gl,{className:"h-3 w-3"})}),s.jsx("span",{className:"truncate max-w-[80px]",children:e.testedByName||e.testedBy||"Unknown"})]})]})]})]})}function a8({value:e,categories:t,onChange:r}){const[n,a]=u.useState(!1),o=t.find(i=>i.id===e);return s.jsxs(nx,{open:n,onOpenChange:a,children:[s.jsx(sx,{asChild:!0,children:s.jsxs(V,{variant:"outline",role:"combobox","aria-expanded":n,className:dt("h-8 w-full justify-between px-2 text-xs",e?"text-foreground":"text-muted-foreground border-dashed"),children:[o?s.jsxs("span",{className:"truncate flex items-center gap-2",children:[o.label,o.prefix&&s.jsx("span",{className:"font-mono text-[10px] opacity-50 bg-muted px-1 rounded",children:o.prefix})]}):"Unassigned",s.jsx(Ww,{className:"ml-1 h-3 w-3 shrink-0 opacity-50"})]})}),s.jsx(Vh,{className:"w-[200px] p-0",align:"start",children:s.jsxs(lx,{children:[s.jsx(cx,{placeholder:"Search category...",className:"h-8 text-xs"}),s.jsxs(dx,{children:[s.jsx(ux,{children:"No category found."}),s.jsx(fx,{children:t.map(i=>s.jsxs(hx,{value:i.label,onSelect:()=>{r(i.id),a(!1)},className:"text-xs",children:[s.jsx(tr,{className:dt("mr-2 h-3.5 w-3.5",e===i.id?"opacity-100":"opacity-0")}),s.jsx("span",{className:"flex-1 truncate",children:i.label}),i.prefix&&s.jsx("span",{className:"ml-2 font-mono text-[10px] text-muted-foreground",children:i.prefix})]},i.id))})]})]})})]})}function b5(e){const t=(e==null?void 0:e.synergyId)||(e==null?void 0:e.synergy_id)||(e==null?void 0:e.id)||(e==null?void 0:e.synergy)||(e==null?void 0:e.rowId);if(!t)return null;const r=String((e==null?void 0:e.status)||(e==null?void 0:e.testStatus)||"").toUpperCase();return{synergyId:t,status:r,grade:(e==null?void 0:e.grade)??(e==null?void 0:e.testGrade)??null,testedBy:(e==null?void 0:e.testedBy)??(e==null?void 0:e.tester)??null,testedDate:(e==null?void 0:e.testedDate)??(e==null?void 0:e.tested_at)??null,testedByName:(e==null?void 0:e.testedByName)??(e==null?void 0:e.testerName)??null,postedByName:(e==null?void 0:e.postedByName)??(e==null?void 0:e.posterName)??null,posted:!!((e==null?void 0:e.posted)??(e==null?void 0:e.ebayItemId)??(e==null?void 0:e.postedAt)),postedAt:(e==null?void 0:e.postedAt)??null,postedBy:(e==null?void 0:e.postedBy)??null,ebayPrice:(e==null?void 0:e.ebayPrice)??(e==null?void 0:e.price)??null,ebayItemUrl:(e==null?void 0:e.ebayItemUrl)??(e==null?void 0:e.listingUrl)??null,ebayThumbnail:(e==null?void 0:e.ebayThumbnail)||null,partStatus:(e==null?void 0:e.partStatus)||null}}function Iue({open:e,onClose:t,onSave:r,count:n}){const[a,o]=u.useState("NO_CHANGE"),[i,l]=u.useState(""),[c,d]=u.useState(""),[f,h]=u.useState(""),[m,p]=u.useState(!1),g=a==="POSTED"||a==="SOLD";return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-card border rounded-xl shadow-xl overflow-hidden animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"px-6 py-4 border-b bg-muted/30 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-lg",children:["Update ",n," Selected Item",n!==1?"s":""]}),s.jsx(V,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(Mt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"p-3 bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded-lg text-sm flex gap-2 items-start",children:[s.jsx(t4,{className:"h-4 w-4 mt-0.5 shrink-0"}),s.jsx("span",{children:"These changes will apply to the inventory records linked to these lines."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{children:"Status"}),s.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:a,onChange:x=>o(x.target.value),children:[s.jsx("option",{value:"NO_CHANGE",children:"-- Do not change --"}),s.jsx("option",{value:"INTAKE",children:"INTAKE (Reset)"}),s.jsx("option",{value:"TESTED",children:"TESTED"}),s.jsx("option",{value:"POSTED",children:"POSTED"}),s.jsx("option",{value:"SOLD",children:"SOLD"}),s.jsx("option",{value:"SCRAP",children:"SCRAP"})]})]}),g&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in slide-in-from-top-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{children:"eBay Price ($)"}),s.jsx(we,{type:"number",step:"0.01",placeholder:"0.00",value:c,onChange:x=>d(x.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{children:"eBay Link / Item ID"}),s.jsx(we,{placeholder:"URL or Item ID",value:f,onChange:x=>h(x.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{children:"Tester Comment"}),s.jsx(Rh,{placeholder:"Enter comment (e.g., 'Pre-verified batch'). Leave empty to keep existing.",value:i,onChange:x=>l(x.target.value),className:"resize-none h-24"})]})]}),s.jsxs("div",{className:"px-6 py-4 border-t bg-muted/30 flex justify-end gap-2",children:[s.jsx(V,{variant:"outline",onClick:t,disabled:m,children:"Cancel"}),s.jsxs(V,{onClick:async()=>{p(!0),await r(a==="NO_CHANGE"?null:a,i.trim()||null,g&&c.trim()?c:null,g&&f.trim()?f:null),p(!1),t()},disabled:m,variant:a==="SCRAP"?"destructive":"default",children:[m?s.jsx($t,{className:"h-4 w-4 animate-spin mr-2"}):a==="SCRAP"?s.jsx(Tr,{className:"h-4 w-4 mr-2"}):s.jsx(tr,{className:"h-4 w-4 mr-2"}),a==="SCRAP"?"Scrap Items":"Apply Changes"]})]})]})}):null}function Aue({poId:e,apiBase:t=Kt,refreshKey:r=0,categories:n,onLinesLoaded:a,scrollToLineId:o}){const[i,l]=u.useState("list"),[c,d]=u.useState(!1),[f,h]=u.useState({}),[m,p]=u.useState(""),[g,x]=u.useState(""),[b,y]=u.useState(!1),[v,w]=u.useState(!1),[j,N]=u.useState(""),[S,k]=u.useState(""),[_,C]=u.useState(""),[E,T]=u.useState(!1),[A,W]=u.useState(null),[P,te]=u.useState(null),[le,K]=u.useState(null),[D,I]=u.useState([]),[R,q]=u.useState([]),[z,Z]=u.useState(!1),[ce,F]=u.useState({}),J=u.useMemo(()=>ce,[JSON.stringify(ce)]),L=u.useRef(new Set),[U,$]=u.useState({}),M=u.useMemo(()=>Object.keys(U).filter(B=>U[B]),[U]),[re,de]=u.useState(!1),[Ee,Ze]=u.useState(!1),[rt,Xe]=u.useState(null),[et,Je]=u.useState({}),[We,ee]=u.useState(!1),[X,Te]=u.useState({}),[be,H]=u.useState(!1),[ge,Ne]=u.useState(!1),[xe,Re]=u.useState(null),[at,nt]=u.useState(!1),ot=u.useRef(null),Oe=u.useRef(null),[Ht,Qt]=u.useState(null),[Pr,ht]=u.useState(!1),[Mr,Ir]=u.useState(!1),Nt=u.useMemo(()=>{const B=m.trim().toLowerCase(),G=/^\d+$/.test(B);let Y=[...D];return B&&(Y=Y.filter(he=>{const ne=[he.product_name_raw,he.upc,he.asin,he.synergy_id].map(ze=>String(ze||"").toLowerCase()).some(ze=>ze.includes(B));if(!G)return ne;const Fe=gt(he.synergy_id);return ne||Number.isFinite(Fe)&&String(Fe).includes(B)})),g&&(Y=Y.filter(he=>String(he.category_id||"")===g)),b&&(Y=Y.filter(he=>!he.category_id)),_&&(Y=Y.filter(he=>{if(!he.synergy_id)return _==="INTAKE";const ne=ce[he.synergy_id];return((ne==null?void 0:ne.status)||"INTAKE")===_})),Y},[D,m,g,b,_]),fe=u.useRef(0);if(fe.current++,console.log(" RENDER #",fe.current),fe.current>100)throw console.error(" INFINITE LOOP DETECTED - Check these:"),console.log("viewMode:",i),console.log("isGrouped:",c),console.log("filtered.length:",Nt==null?void 0:Nt.length),new Error("STOP - Infinite render loop");const[Se,pe]=u.useState({active:!1,text:"",progress:null}),_e=()=>{T(!1),ya()};u.useMemo(()=>{const B=D||[],G=B.length,Y=B.filter(Fe=>!Fe.category_id).length,he=B.filter(Fe=>!!Fe.category_id&&!Fe.synergy_id).length,ne=G>0&&Y===0&&he===0;return{total:G,uncategorized:Y,unminted:he,allAssigned:ne}},[D]),u.useEffect(()=>{n&&q(n)},[n]),u.useEffect(()=>{o&&K(o)},[o]);const qe=async B=>{var G;pe({active:!0,text:"Loading Item Details..."});try{const Y=await en(`${t}/rows?q=${encodeURIComponent(B)}&limit=1`),he=Array.isArray(Y)?Y[0]:((G=Y==null?void 0:Y.items)==null?void 0:G[0])||null;he?(W(he),T(!0)):alert("Could not find inventory record.")}catch(Y){alert("Error fetching item details: "+String(Y))}finally{pe({active:!1,text:""})}},[Q,me]=u.useState({key:null,dir:"asc"}),ke=B=>{me(G=>G.key===B?{key:B,dir:G.dir==="asc"?"desc":"asc"}:{key:B,dir:"asc"})},Ge=B=>Q.key!==B?s.jsx(Bw,{className:"h-3.5 w-3.5 opacity-60"}):Q.dir==="asc"?s.jsx(yd,{className:"h-3.5 w-3.5"}):s.jsx(Ls,{className:"h-3.5 w-3.5"}),Ct=B=>B==null?"":String(B).trim(),Tt=B=>{if(typeof B=="number")return B;const G=Number(String(B??"").replace(/[^0-9.\-]/g,""));return Number.isFinite(G)?G:0},gt=B=>{if(!B)return Number.NaN;const G=String(B).trim();let Y=G.match(/^[A-Za-z0-9]+[-\s]?(\d+)$/);return Y?parseInt(Y[1],10):(Y=G.match(/(\d+)\s*$/),Y?parseInt(Y[1],10):Number.NaN)},Ut=(B,G)=>{switch(G){case"product":return Ct(B.product_name_raw);case"category":return Ct(B.category_label??B.category_name??B.category??B.category_id??"");case"synergy":return gt(B.synergy_id??B.synergyId??null);case"qty":return Tt(B.qty);case"unit":return Tt(B.unit_cost??B.cost??B.price_paid);case"msrp":return Tt(B.msrp??B.msrp_price??B.msrp_usd);default:return""}};u.useMemo(()=>{const B=[...D||[]];if(!Q.key)return B;const G=Q.key,Y=Q.dir==="asc"?1:-1,he=G==="qty"||G==="unit"||G==="msrp"||G==="synergy";return B.sort((ne,Fe)=>{if(he){const ze=Ut(ne,G),_t=Ut(Fe,G);return ze<_t?-1*Y:ze>_t?1*Y:0}else{const ze=Ut(ne,G),_t=Ut(Fe,G);return ze.localeCompare(_t,void 0,{sensitivity:"base"})*Y}}),B},[D,Q]),u.useMemo(()=>{const B={};return(R||[]).forEach(G=>{G!=null&&G.id&&(B[G.id]=G.prefix??null)}),B},[R]);async function Hr(B){pe({active:!0,text:"Updating..."});try{await en(`${t}/rows/${encodeURIComponent(B)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({partStatus:"ARRIVED"})}),await ya(),F(G=>({...G,[B]:{...G[B],partStatus:"ARRIVED"}}))}catch(G){alert("Failed: "+String(G))}finally{pe({active:!1,text:""})}}const ln=u.useMemo(()=>{const B=D||[],G=B.length,Y=B.filter(ze=>!ze.category_id).length,he=B.filter(ze=>!!ze.category_id&&!ze.synergy_id).length,ne=G>0&&Y===0&&he===0;let Fe;return ne?Fe=s.jsxs("span",{className:"text-emerald-600 font-semibold",children:["All ",G," lines ready"]}):Y>0?Fe=s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-rose-600 font-semibold",children:[Y," / ",G," lines unassigned"]}),he>0&&s.jsxs("span",{className:"text-amber-600",children:["  ",he," need IDs"]})]}):Fe=s.jsxs("span",{className:"text-amber-600 font-semibold",children:[he," / ",G," lines need IDs"]}),{total:G,uncategorized:Y,unminted:he,allAssigned:ne,labelNodes:Fe}},[D]),oe=u.useCallback(async()=>{Z(!0);try{const B=await en(`${t}/pos/${encodeURIComponent(e)}/lines`,{credentials:"include",headers:{Accept:"application/json"}}),Y=(Array.isArray(B)?B:Array.isArray(B==null?void 0:B.rows)?B.rows:[]).map(he=>({...he,product_name_raw:he.product_name_raw??"",synergy_id:he.synergy_id??he.synergyId??null,qty:Number(he.qty??1),isAwaitingParts:!!he.isAwaitingParts}));I(he=>{const ne=he.map(ze=>ze.id).sort().join(","),Fe=Y.map(ze=>ze.id).sort().join(",");return ne===Fe&&JSON.stringify(he)===JSON.stringify(Y)?he:Y}),a==null||a(Y)}catch(B){console.error("loadLines failed",B),I([]),a==null||a([])}finally{Z(!1)}},[e,t,a]),He=u.useCallback(async()=>{if(n)return;const B=await en(`${t}/categories`,{credentials:"include"});q(B||[])},[t,n]);u.useEffect(()=>{oe(),He()},[e,r,oe,He]);const Ue=u.useMemo(()=>{const B=(D||[]).reduce((he,ne)=>he+(ne.qty??1),0),G=(D||[]).reduce((he,ne)=>he+Number(ne.unit_cost??0)*(ne.qty??1),0),Y=(D||[]).reduce((he,ne)=>he+Number(ne.msrp??0)*(ne.qty??1),0);return{units:B,cost:G,msrpGross:Y}},[D]),[St,it]=u.useState(100),[Wt,ye]=u.useState(80),[Ce,Be]=u.useState(null);function Ie(B){return B.toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2})}const st=u.useCallback((B,G)=>{$(Y=>({...Y,[B]:typeof G=="boolean"?G:!Y[B]}))},[]);async function Ot(B){if(!(!B||!M.length)){pe({active:!0,text:"Assigning Categories..."});try{await en(`${t}/pos/lines/bulk_category`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_ids:M,category_id:B})}),$({}),Ir(!0),await oe()}finally{de(!1),pe({active:!1,text:""})}}}const Yr=u.useCallback(async(B,G)=>{await en(`${t}/pos/lines/bulk_category`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_ids:[B],category_id:G})}),Ir(!0),await oe()},[t,oe]);async function Vt(B,G){const Y={product_name_raw:(G.product_name_raw||"").trim()||null,upc:(G.upc||"").trim()||null,qty:Number(G.qty??1)||1,unit_cost:G.unit_cost!=null?Number(G.unit_cost):null,msrp:G.msrp!=null?Number(G.msrp):null};if(!Y.product_name_raw)return Xe(null);try{await en(`${t}/pos/lines/${encodeURIComponent(B)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})}catch{}Xe(null),Je({}),await oe()}async function Xr(B){if(M.length){pe({active:!0,text:"Updating Lines..."});try{await en(`${t}/pos/lines/bulk_update`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_ids:M,updates:B})}),$({}),await oe()}catch(G){alert("Failed to update lines: "+String(G))}finally{pe({active:!1,text:""}),ee(!1)}}}async function $n(B,G,Y,he){if(!M.length)return;const ne={};if(B&&(ne.status=B),G&&(ne.tester_comment=G),Y&&(ne.ebay_price=parseFloat(Y)),he&&(ne.ebay_item_url=he),Object.keys(ne).length!==0){pe({active:!0,text:"Updating Status & Details..."});try{await en(`${t}/pos/lines/bulk_update`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_ids:M,updates:ne})}),$({}),await oe(),await ya(),window.dispatchEvent(new CustomEvent("rows:bulk_upserted"))}catch(Fe){alert("Failed to update: "+String(Fe))}finally{pe({active:!1,text:""})}}}async function Ya(){if(Ce){if(Ce.type==="single")await en(`${t}/pos/lines/${encodeURIComponent(Ce.id)}`,{method:"DELETE",credentials:"include"}),await oe();else if(Ce.type==="bulk"){const B=M.length;pe({active:!0,text:"Deleting lines...",progress:0});try{for(let G=0;G<B;G++){const Y=M[G];await en(`${t}/pos/lines/${encodeURIComponent(Y)}`,{method:"DELETE",credentials:"include"}),pe(he=>({...he,progress:(G+1)/B*100}))}$({}),await oe()}catch(G){alert("Failed to delete lines: "+String(G))}finally{pe({active:!1,text:"",progress:null})}}}}const Us=u.useMemo(()=>M.length===0?!1:D.filter(G=>M.includes(G.id)).every(G=>!G.synergy_id),[M,D]),Fn=u.useCallback(async B=>{const G=D.find(Fe=>Fe.id===B);if(!G||(G.qty??1)<=1)return;const Y=G.qty??1;if(!confirm(`Split line "${G.product_name_raw||"unnamed"}" with qty ${Y} into ${Y} individual lines?`))return;let he=0;const ne=Y;pe({active:!0,text:"Splitting line...",progress:0});try{const Fe=Y-1,ze=Array.from({length:Fe},()=>({product_name_raw:G.product_name_raw,upc:G.upc??null,asin:G.asin??null,qty:1,unit_cost:G.unit_cost??null,msrp:G.msrp??null,category_id:G.category_id??null,synergy_id:G.synergy_id??null}));await en(`${t}/pos/lines/${encodeURIComponent(B)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({qty:1})}),he++,pe(_t=>({..._t,progress:he/ne*100}));for(const _t of ze)await en(`${t}/pos/${encodeURIComponent(e)}/lines`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(_t)}),he++,pe(Sr=>({...Sr,progress:he/ne*100}));await oe()}catch(Fe){alert("Failed to split line: "+String(Fe))}finally{pe({active:!1,text:"",progress:null})}},[D,t,e,oe]);async function ac(){if(!M.length)return alert("Select at least one line.");pe({active:!0,text:"Minting Synergy IDs..."});try{await en(`${t}/pos/${encodeURIComponent(e)}/mint_synergy`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_ids:M,use_line_categories:!0})}),$({}),await oe()}catch(B){alert("Minting failed: "+B.message)}finally{pe({active:!1,text:""})}}const wt=u.useMemo(()=>(D||[]).map(B=>B.synergy_id?String(B.synergy_id):"").filter(Boolean),[D]),xa=u.useMemo(()=>wt.join(","),[wt]),ya=u.useCallback(async()=>{if(console.log(" refreshBrief effect triggered",{synergyIdsCount:wt.length}),!wt.length){F({});return}const B=t.replace(/\/+$/,"");try{const G=await en(`${B}/rows/brief`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:wt})}),Y={};(G||[]).forEach(he=>{const ne=b5(he);ne&&(Y[ne.synergyId]=ne)}),F(Y)}catch{F({})}},[t,xa]);u.useEffect(()=>{if(!wt.length)return;let B=!1;return(async()=>{const Y=wt.filter(he=>{const ne=ce[he];if(!ne||L.current.has(he))return!1;const Fe=(ne.status||"").toUpperCase();return Fe==="POSTED"||Fe==="ACTIVE"||ne.posted===!0});if(Y.length)for(const he of Y){if(B)break;if(!L.current.has(he)){L.current.add(he);try{const ne=await fetch(`${t}/integrations/ebay/refresh-sold-when/${he}?days=720`,{method:"POST"});if(ne.ok){const Fe=await ne.json();F(ze=>({...ze,[he]:{...ze[he],ebayPrice:Fe.price,status:Fe.listingStatus==="Completed"||Fe.listingStatus==="Ended"?"SOLD":"POSTED",ebayThumbnail:Fe.thumbnail,posted:!0}}))}}catch(ne){console.error("Auto-refresh failed for",he,ne)}await new Promise(ne=>setTimeout(ne,600))}}})(),()=>{B=!0}},[xa,t]),u.useEffect(()=>{ya();const B=()=>ya();return window.addEventListener("focus",B),document.addEventListener("visibilitychange",B),()=>{window.removeEventListener("focus",B),document.removeEventListener("visibilitychange",B)}},[ya,r]);const Fr=u.useMemo(()=>{const B=[...Nt];if(!Q.key)return B;const G=Q.key,Y=Q.dir==="asc"?1:-1,he=G==="qty"||G==="unit"||G==="msrp"||G==="synergy";return B.sort((ne,Fe)=>{if(he){const ze=Ut(ne,G),_t=Ut(Fe,G),Sr=Number.isFinite(ze)?ze:Number.POSITIVE_INFINITY,er=Number.isFinite(_t)?_t:Number.POSITIVE_INFINITY;return Sr<er?-1*Y:Sr>er?1*Y:0}else{const ze=String(Ut(ne,G)??""),_t=String(Ut(Fe,G)??"");return ze.localeCompare(_t,void 0,{numeric:!0,sensitivity:"base"})*Y}}),B},[Nt,Q]),ru=B=>{h(G=>({...G,[B]:!G[B]}))},gx=B=>{const G=B.every(he=>U[he.id]),Y={...U};B.forEach(he=>{Y[he.id]=!G}),$(Y)},Qi=u.useMemo(()=>{if(!c)return Fr;const B={};Fr.forEach(he=>{const ne=he.product_name_raw||"(No Product Name)";B[ne]||(B[ne]=[]),B[ne].push(he)});const G=Object.keys(B).sort((he,ne)=>he.localeCompare(ne)),Y=[];return G.forEach(he=>{const ne=B[he],Fe=ne.reduce((er,kr)=>er+(kr.qty||1),0),ze=ne.reduce((er,kr)=>er+(kr.unit_cost||0)*(kr.qty||1),0),_t=ne.reduce((er,kr)=>er+(kr.msrp||0)*(kr.qty||1),0),Sr=Fe>0?ze/Fe:0;Y.push({type:"group",key:he,count:ne.length,totalQty:Fe,avgCost:Sr,totalMsrp:_t,items:ne,isExpanded:!!f[he]}),f[he]&&Y.push(...ne)}),Y},[c,Fr,f]),Eo=Lde({count:Qi.length,getScrollElement:()=>Oe.current,estimateSize:B=>{const G=Qi[B];return"type"in G&&G.type==="group"?48:64},overscan:20,getItemKey:B=>{const G=Qi[B];return"type"in G&&G.type==="group"?`group-${G.key}`:G.id}}),xx=Eo.getVirtualItems();u.useEffect(()=>{const B="/backend",G=Fe=>{const ze=b5(Fe);ze&&wt.includes(ze.synergyId)&&F(_t=>({..._t,[ze.synergyId]:{..._t[ze.synergyId]||{},...ze}}))},Y=()=>{ya()};let he;he=X0(B,{onRowUpserted:G,onRowBulkUpserted:Y});const ne=Fe=>G(Fe.detail);return window.addEventListener("rows:upserted",ne),()=>{window.removeEventListener("rows:upserted",ne),he==null||he()}},[xa,ya,D]);const nu=u.useCallback(()=>{const B=(D||[]).filter(Y=>!Y.category_id).map(Y=>Y.id);if(B.length>0){const Y={};B.forEach(ne=>{Y[ne]=!0}),$(Y);const he=Fr.find(ne=>B.includes(ne.id));he&&(K(null),setTimeout(()=>{K(he.id)},50));return}const G=(D||[]).filter(Y=>!!Y.category_id&&!Y.synergy_id).map(Y=>Y.id);if(G.length>0){const Y={};G.forEach(ne=>{Y[ne]=!0}),$(Y);const he=Fr.find(ne=>G.includes(ne.id));he&&(K(null),setTimeout(()=>{K(he.id)},50))}},[D,Fr]);u.useEffect(()=>{if(!le)return;const B=Fr.findIndex(G=>G.id===le);if(B!==-1){Eo.scrollToIndex(B,{align:"center",behavior:"smooth"}),Qt(le);const G=setTimeout(()=>{Qt(null),K(null)},1800);return()=>clearTimeout(G)}},[le,Fr,Eo]);const Jh=Nt.length>0&&Nt.every(B=>U[B.id]),Xa=Nt.some(B=>U[B.id])&&!Jh,[Zh,$N]=u.useState("normal"),yx=()=>{if(Object.keys(f).some(G=>f[G]))h({});else{const G={};Fr.forEach(Y=>{const he=Y.product_name_raw||"(No Product Name)";G[he]=!0}),h(G)}},vx=()=>{if(!D.length)return;const G=[["ID","Product Name","Category","Synergy ID","UPC","ASIN","Qty","Unit Cost","MSRP","Status"].join(",")];D.forEach(Fe=>{var kr,xr;const ze=((kr=ce[Fe.synergy_id||""])==null?void 0:kr.status)||"INTAKE";let _t=(Fe.product_name_raw||"").replace(/"/g,'""');/^[=+\-@]/.test(_t)&&(_t="'"+_t);const Sr=((xr=R.find(cn=>cn.id===Fe.category_id))==null?void 0:xr.label)||"",er=[Fe.id,`"${_t}"`,`"${Sr}"`,Fe.synergy_id||"",Fe.upc||"",Fe.asin||"",Fe.qty||1,Fe.unit_cost||0,Fe.msrp||0,ze];G.push(er.join(","))});const Y=new Blob([G.join(`
`)],{type:"text/csv"}),he=window.URL.createObjectURL(Y),ne=document.createElement("a");ne.href=he,ne.download=`PO_${e}_Export_${new Date().toISOString().slice(0,10)}.csv`,ne.click(),window.URL.revokeObjectURL(he)},To=u.useCallback(B=>st(B),[]),O=u.useCallback(B=>{const G=D.find(Y=>Y.id===B);G&&(Xe(B),Je({product_name_raw:G.product_name_raw||"",upc:G.upc||"",qty:G.qty??1,unit_cost:typeof G.unit_cost=="number"?String(G.unit_cost):"",msrp:typeof G.msrp=="number"?String(G.msrp):""}))},[D]),ie=u.useCallback(async B=>{await en(`${t}/pos/${encodeURIComponent(e)}/mint_synergy`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_ids:[B],use_line_categories:!0})}).then(()=>oe())},[t,e,oe]),ve=u.useCallback((B,G)=>Yr(B,G),[Yr]),De=u.useCallback(B=>Fn(B),[Fn]),Pt=u.useCallback(B=>Be({type:"single",id:B}),[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx(El,{loading:Se.active,label:Se.text,progress:Se.progress}),s.jsxs("div",{className:"relative flex flex-wrap items-center gap-2 p-1 border-b mb-2",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>w(B=>!B),className:dt("h-8 border-dashed",[m,g,b,j,S].filter(Boolean).length>0?"border-primary/50 bg-primary/5 text-primary":"text-muted-foreground"),children:[s.jsx(Yt,{className:"mr-2 h-3.5 w-3.5"}),"Filter",[m,g,b,j,S].filter(Boolean).length>0&&s.jsx("span",{className:"ml-2 inline-flex h-5 min-w-5 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground",children:[m,g,b,j,S].filter(Boolean).length})]}),s.jsx("div",{className:"h-6 w-px bg-border/60 mx-1"}),s.jsxs("div",{className:"flex items-center gap-1 rounded-lg border bg-muted/40 p-1",children:[s.jsxs("div",{className:"flex bg-background/50 rounded-md border p-0.5 mr-1",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>l("grid"),className:dt("h-6 w-6 rounded-sm",i==="grid"&&"bg-white dark:bg-zinc-600 shadow-sm text-primary"),title:"Grid View",children:s.jsx(fh,{className:"h-3.5 w-3.5"})}),s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>l("list"),className:dt("h-6 w-6 rounded-sm",i==="list"&&"bg-white dark:bg-zinc-600 shadow-sm text-primary"),title:"List View",children:s.jsx(_i,{className:"h-3.5 w-3.5"})})]}),s.jsx("div",{className:"w-px h-4 bg-border/50 mx-1"}),s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>d(!c),className:dt("h-7 w-7 rounded-md",c&&"bg-white dark:bg-zinc-700 shadow-sm text-primary"),title:c?"Ungroup Items":"Group by Product Name",children:c?s.jsx(aF,{className:"h-4 w-4"}):s.jsx(yo,{className:"h-4 w-4"})}),c&&s.jsx(V,{variant:"ghost",size:"icon",onClick:yx,className:"h-7 w-7 rounded-md text-muted-foreground hover:text-foreground",title:"Toggle Expand All",children:Object.keys(f).some(B=>f[B])?s.jsx(O7,{className:"h-4 w-4"}):s.jsx(e4,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"h-6 w-px bg-border/60 mx-1"}),s.jsx(V,{variant:"ghost",size:"sm",className:"h-8 px-2 text-muted-foreground hover:text-foreground",onClick:vx,title:"Download CSV",children:s.jsx(tg,{className:"h-4 w-4"})}),s.jsxs(V,{size:"sm",variant:"outline",className:"h-8 gap-1 ml-1",onClick:()=>H(!0),children:[s.jsx(Vr,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"hidden sm:inline",children:"Add Item"})]}),M.length>0&&s.jsxs("div",{className:"ml-2 flex items-center gap-2 animate-in fade-in slide-in-from-left-2",children:[s.jsx("div",{className:"h-6 w-px bg-border/60"}),s.jsxs("div",{className:"flex items-center gap-1 rounded-lg border bg-primary/5 px-2 py-1",children:[s.jsx("span",{className:"text-[10px] font-bold text-primary mr-1",children:M.length}),s.jsx(ti,{children:s.jsxs(ri,{children:[s.jsx(ni,{asChild:!0,children:s.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7 hover:bg-primary/10 hover:text-primary",onClick:()=>de(!0),children:s.jsx(is,{className:"h-3.5 w-3.5"})})}),s.jsx(oo,{children:"Assign Category"})]})}),s.jsx(ti,{children:s.jsxs(ri,{children:[s.jsx(ni,{asChild:!0,children:s.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7 hover:bg-primary/10 hover:text-primary",onClick:()=>Ze(!0),children:s.jsx(t4,{className:"h-3.5 w-3.5"})})}),s.jsx(oo,{children:"Set Status"})]})}),s.jsx(ti,{children:s.jsxs(ri,{children:[s.jsx(ni,{asChild:!0,children:s.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7 hover:bg-primary/10 hover:text-primary",onClick:ac,disabled:!Us,children:s.jsx(KP,{className:"h-3.5 w-3.5"})})}),s.jsx(oo,{children:"Mint Synergy IDs"})]})}),s.jsx("div",{className:"w-px h-4 bg-primary/20 mx-1"}),s.jsx(ti,{children:s.jsxs(ri,{children:[s.jsx(ni,{asChild:!0,children:s.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/30",onClick:()=>Be({type:"bulk"}),children:s.jsx(Tr,{className:"h-3.5 w-3.5"})})}),s.jsx(oo,{children:"Delete Selected"})]})})]})]}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground",onClick:()=>ht(B=>!B),title:"Profit Simulator",children:s.jsx(Nf,{className:"h-4 w-4"})}),Pr&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>ht(!1)}),s.jsx("div",{className:"absolute z-50 right-0 top-full mt-2 w-[min(720px,95vw)] rounded-xl border bg-card p-4 shadow-xl",children:(()=>{const B=St,G=B/100,Y=Ue.cost,he=Y*G,ne=Y*(G-1),Fe=he>0?ne/he:0,ze=G,_t=ne>=0,Sr=(xr,cn,Rt)=>Math.max(cn,Math.min(Rt,xr)),er=xr=>xr.toLocaleString(void 0,{style:"currency",currency:"USD"}),kr=xr=>`${xr.toFixed(2)}`;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"rounded-lg border bg-background/50 p-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Potential Sales"}),s.jsx("div",{className:"text-xl font-bold whitespace-normal break-words",children:er(he)})]}),s.jsxs("div",{className:"rounded-lg border bg-background/50 p-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Est. Profit"}),s.jsx("div",{className:dt("text-xl font-bold whitespace-normal break-words",_t?"text-emerald-500":"text-rose-500"),children:er(ne)})]}),s.jsxs("div",{className:"rounded-lg border bg-background/50 p-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Profit % (Margin)"}),s.jsxs("div",{className:"text-xl font-bold",children:[(Fe*100).toFixed(1),"%"]})]}),s.jsxs("div",{className:"rounded-lg border bg-background/50 p-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Return on Cost (ROI)"}),s.jsxs("div",{className:"text-xl font-bold",children:[ze.toFixed(2),""]})]})]}),s.jsxs("div",{className:"rounded-lg border bg-background/50 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 flex-wrap gap-2",children:[s.jsx("div",{className:"text-sm font-semibold whitespace-normal break-words",children:"Target Revenue Multiple ( Cost)"}),s.jsx("span",{className:"text-xl font-bold px-3 py-1 rounded-md bg-primary/10 text-primary whitespace-nowrap",children:kr(G)})]}),s.jsx("input",{type:"range",min:100,max:300,step:5,value:B,onChange:xr=>it(Number(xr.target.value)),className:"w-full"}),s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[[1.25,1.5,1.75,2,2.5,3].map(xr=>{const cn=Math.round(xr*100);return s.jsx(V,{size:"sm",variant:B===cn?"default":"outline",onClick:()=>it(cn),children:kr(xr)},xr)}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-muted-foreground",children:"type"}),s.jsx("input",{type:"number",min:1,max:3,step:.05,value:G.toFixed(2),onChange:xr=>{const cn=parseFloat(xr.target.value||"0");it(Sr(Math.round(cn*100),100,300))},className:"h-9 w-20 rounded-md border bg-background px-2 text-sm text-center font-medium"}),s.jsx("span",{className:"text-sm",children:""})]})]})]})]})})()})]})]}),s.jsxs(V,{type:"button",variant:ln.allAssigned?"secondary":"outline",size:"sm",className:"h-8 text-xs font-medium",onClick:nu,disabled:ln.allAssigned,children:[ge?s.jsx($t,{className:"animate-spin h-3.5 w-3.5 mr-2"}):null,ln.labelNodes]})]}),v&&s.jsxs("div",{className:"absolute z-50 top-14 left-0 w-[400px] rounded-2xl border bg-card p-6 shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:s.jsx(dh,{className:"h-4 w-4"})}),s.jsx("h3",{className:"font-semibold",children:"Filter Lines"})]}),s.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>w(!1),children:s.jsx(Mt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground ml-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{className:"pl-9 h-10 bg-muted/20 border-muted-foreground/20",placeholder:"Product, UPC, ID...",value:m,onChange:B=>p(B.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground ml-1",children:"Category"}),s.jsxs("select",{className:"w-full h-10 rounded-md border border-muted-foreground/20 bg-muted/20 px-3 text-sm",value:g,onChange:B=>x(B.target.value),children:[s.jsx("option",{value:"",children:"All Categories"}),R.map(B=>s.jsx("option",{value:B.id,children:B.label},B.id))]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground ml-1",children:"Item Status"}),s.jsxs("select",{className:"w-full h-10 rounded-md border border-muted-foreground/20 bg-muted/20 px-3 text-sm",value:_,onChange:B=>C(B.target.value),children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"INTAKE",children:"Intake (Unprocessed)"}),s.jsx("option",{value:"TESTED",children:"Tested (Ready)"}),s.jsx("option",{value:"POSTED",children:"Posted (Active)"}),s.jsx("option",{value:"SOLD",children:"Sold"}),s.jsx("option",{value:"SCRAP",children:"Scrap"})]})]})]}),s.jsx("div",{className:"pt-2 border-t",children:s.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[s.jsx(Lu,{checked:b,onChange:y}),s.jsx("span",{className:"text-sm font-medium",children:"Show unassigned lines only"})]})}),s.jsxs("div",{className:"pt-2 flex justify-end gap-2",children:[s.jsx(V,{variant:"ghost",onClick:()=>{p(""),x(""),C(""),y(!1)},children:"Clear All"}),s.jsx(V,{onClick:()=>w(!1),children:"Done"})]})]})]}),z&&s.jsx("div",{className:"absolute right-1/2 top-1/2 -translate-y-1/2",children:s.jsx($t,{className:"animate-spin h-5 w-5 text-primary"})})]}),s.jsx("div",{className:"min-h-[500px]",children:i==="list"?s.jsxs("div",{className:"rounded-xl border bg-card overflow-hidden",children:[s.jsxs("table",{ref:ot,className:"w-full text-sm table-fixed [&>thead>tr>th]:align-middle [&>tbody>tr>td]:align-middle [&>tbody>tr>td:nth-child(1)]:text-center [&>tbody>tr>td:nth-child(2)]:text-left [&>tbody>tr>td:nth-child(3)]:text-left [&>tbody>tr>td:nth-child(4)]:text-center [&>tbody>tr>td:nth-child(5)]:text-right [&>tbody>tr>td:nth-child(6)]:text-right [&>tbody>tr>td:nth-child(7)]:text-right [&>tbody>tr>td:nth-child(8)]:text-right",children:[s.jsxs("colgroup",{children:[s.jsx("col",{style:{width:48}}),s.jsx("col",{style:{width:"40%"}}),s.jsx("col",{style:{width:176}}),s.jsx("col",{style:{width:140}}),s.jsx("col",{style:{width:80}}),s.jsx("col",{style:{width:100}}),s.jsx("col",{style:{width:100}}),s.jsx("col",{style:{width:80}})]}),s.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:s.jsxs("tr",{children:[s.jsx("th",{className:"w-12 p-3",children:s.jsx(Lu,{checked:Jh,indeterminate:Xa,label:"Select all",onChange:B=>{const G={...U};Nt.forEach(Y=>G[Y.id]=B),$(G)}})}),s.jsx("th",{className:"px-3 py-2 text-left",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-semibold text-foreground",children:"Product & Specs"}),s.jsx("button",{className:"inline-flex h-5 w-5 items-center justify-center rounded hover:bg-muted/60",onClick:()=>ke("product"),children:Ge("product")})]})}),s.jsx("th",{className:"px-3 py-2 text-left",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-semibold text-foreground",children:"Category"}),s.jsx("button",{className:"inline-flex h-5 w-5 items-center justify-center rounded hover:bg-muted/60",onClick:()=>ke("category"),children:Ge("category")})]})}),s.jsx("th",{className:"px-3 py-2 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("span",{className:"font-semibold text-foreground",children:"Synergy ID"}),s.jsx("button",{className:"inline-flex h-5 w-5 items-center justify-center rounded hover:bg-muted/60",onClick:()=>ke("synergy"),children:Ge("synergy")})]})}),s.jsx("th",{className:"px-3 py-2 text-right",children:s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"font-semibold text-foreground",children:"Qty"}),s.jsx("button",{className:"inline-flex h-5 w-5 items-center justify-center rounded hover:bg-muted/60",onClick:()=>ke("qty"),children:Ge("qty")})]})}),s.jsx("th",{className:"px-3 py-2 text-right",children:s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"font-semibold text-foreground",children:"Unit $"}),s.jsx("button",{className:"inline-flex h-5 w-5 items-center justify-center rounded hover:bg-muted/60",onClick:()=>ke("unit"),children:Ge("unit")})]})}),s.jsx("th",{className:"px-3 py-2 text-right",children:s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"font-semibold text-foreground",children:"MSRP"}),s.jsx("button",{className:"inline-flex h-5 w-5 items-center justify-center rounded hover:bg-muted/60",onClick:()=>ke("msrp"),children:Ge("msrp")})]})}),s.jsx("th",{className:"w-20 p-3"})]})})]}),s.jsx("div",{ref:Oe,className:"max-h-[70vh] overflow-auto relative",children:s.jsx("div",{style:{height:`${Eo.getTotalSize()}px`,width:"100%",position:"relative"},children:xx.map(B=>{const G=Qi[B.index];if(!G)return null;if("type"in G&&G.type==="group"){const Rt=G,It=Rt.items.every(Vs=>U[Vs.id]),dn=Rt.items.some(Vs=>U[Vs.id])&&!It;return s.jsx("div",{ref:Eo.measureElement,"data-index":B.index,className:"absolute top-0 left-0 w-full z-20",style:{transform:`translateY(${B.start}px)`},children:s.jsx("div",{className:"bg-secondary/90 border-y border-border shadow-sm hover:bg-secondary transition-colors",children:s.jsxs("table",{className:"w-full text-sm table-fixed",children:[s.jsxs("colgroup",{children:[s.jsx("col",{style:{width:48}}),s.jsx("col",{style:{width:"40%"}}),s.jsx("col",{style:{width:176}}),s.jsx("col",{style:{width:140}}),s.jsx("col",{style:{width:80}}),s.jsx("col",{style:{width:100}}),s.jsx("col",{style:{width:100}}),s.jsx("col",{style:{width:80}})]}),s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 text-center align-middle",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>ru(Rt.key),className:"p-1 rounded-md hover:bg-background/50 text-foreground/70 transition-transform active:scale-95",children:s.jsx(In,{className:dt("h-4 w-4 transition-transform duration-200",Rt.isExpanded&&"rotate-90")})}),s.jsx(Lu,{checked:It,indeterminate:dn,onChange:()=>gx(Rt.items)})]})}),s.jsx("td",{className:"p-2 pl-2 align-middle",colSpan:3,children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer select-none",onClick:()=>ru(Rt.key),children:[s.jsx("div",{className:dt("p-1.5 rounded-md transition-colors",Rt.isExpanded?"bg-primary text-primary-foreground shadow-sm":"bg-background text-muted-foreground border"),children:Rt.isExpanded?s.jsx(hp,{className:"h-4 w-4"}):s.jsx(yo,{className:"h-4 w-4"})}),s.jsx("span",{className:"font-bold text-sm text-foreground/90 truncate max-w-[500px]",children:Rt.key||"(No Product Name)"}),s.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full bg-background/50 border text-muted-foreground shadow-sm",children:Rt.count})]})}),s.jsx("td",{className:"p-2 text-right font-semibold tabular-nums text-foreground/80 align-middle",children:Rt.totalQty}),s.jsxs("td",{className:"p-2 text-right text-muted-foreground tabular-nums align-middle",children:[s.jsx("span",{className:"text-[10px] opacity-50 mr-1",children:"AVG"}),yi(Rt.avgCost)]}),s.jsxs("td",{className:"p-2 text-right text-muted-foreground tabular-nums align-middle",children:[s.jsx("span",{className:"text-[10px] opacity-50 mr-1",children:"TOT"}),yi(Rt.totalMsrp)]}),s.jsx("td",{className:"p-2"})]})})]})})},`group-${Rt.key}`)}const Y=G,he=`${Y.id}_${Y.category_id||"nocat"}_${Y.synergy_id||"noid"}`,ne=Y.synergy_id?ce[Y.synergy_id]:void 0,Fe=Y.raw_json||{},ze=Fe.specs||{},_t=s8(ze.processor||ze.cpu),Sr=ze.ram||ze.memory,er=ze.storage||ze.hdd||ze.ssd,kr=[ze.screen,ze.color,ze.batteryHealth].filter(Boolean).join("  "),xr=_t||Sr||er||kr,cn=Fe.item_notes||Fe.notes||Fe.tester_comment;return s.jsx("div",{ref:Eo.measureElement,"data-index":B.index,className:"hover:z-20 relative",style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${B.start}px)`},children:s.jsxs("table",{className:"w-full text-sm table-fixed bg-card",children:[s.jsxs("colgroup",{children:[s.jsx("col",{style:{width:48}}),s.jsx("col",{style:{width:"40%"}}),s.jsx("col",{style:{width:176}}),s.jsx("col",{style:{width:140}}),s.jsx("col",{style:{width:80}}),s.jsx("col",{style:{width:100}}),s.jsx("col",{style:{width:100}}),s.jsx("col",{style:{width:80}})]}),s.jsx("tbody",{children:(()=>{const Rt=Zh==="compact",It=Rt?"p-1.5":"p-3",dn=Rt?"h-8 w-8":"h-11 w-11",Vs=Rt?"text-xs":"text-sm",Ji=(ne==null?void 0:ne.status)==="SOLD",em=(ne==null?void 0:ne.status)==="SCRAP",tm=Y.isAwaitingParts||(ne==null?void 0:ne.partStatus)==="NEEDED",bx=!!(ne&&(ne.posted||ne.status==="POSTED"||Ji)&&ne.ebayPrice);return s.jsxs("tr",{"data-line-id":Y.id,className:dt("group border-t transition-all hover:bg-muted/60 relative",Ji?"bg-gradient-to-r from-purple-50/80 to-transparent dark:from-purple-900/20 dark:to-transparent border-l-4 border-l-purple-500":em?"bg-gradient-to-r from-red-50/80 to-transparent dark:from-red-900/20 dark:to-transparent border-l-4 border-l-red-500":tm?"bg-gradient-to-r from-amber-50/80 to-transparent dark:from-amber-900/20 dark:to-transparent border-l-4 border-l-amber-500":"border-l-4 border-l-transparent",Ht===Y.id&&"bg-amber-100/40 dark:bg-amber-900/20",c&&"bg-muted/5"),children:[s.jsxs("td",{className:`${It} align-top relative w-12`,children:[c&&s.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-px bg-border/40"}),s.jsx("div",{className:dt("flex justify-center",Rt?"pt-1":"pt-2",c&&"pl-6"),children:s.jsx(Lu,{checked:!!U[Y.id],label:"Select row",onChange:()=>st(Y.id)})})]}),s.jsx("td",{className:`${It} align-top`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:dt("shrink-0",Rt?"pt-0":"pt-0.5"),children:ne!=null&&ne.ebayThumbnail?s.jsx("div",{className:`${dn} overflow-hidden rounded-md border bg-white shadow-sm hover:scale-105 transition-transform cursor-pointer`,children:ne.ebayItemUrl?s.jsx("a",{href:ne.ebayItemUrl,target:"_blank",rel:"noreferrer",children:s.jsx("img",{src:ne.ebayThumbnail,alt:"Item",className:"h-full w-full object-contain",loading:"lazy"})}):s.jsx("img",{src:ne.ebayThumbnail,alt:"Item",className:"h-full w-full object-contain",loading:"lazy"})}):s.jsx("div",{className:`${dn} flex items-center justify-center rounded-md border bg-muted/40 text-muted-foreground/20`,children:s.jsx(s0,{className:Rt?"h-4 w-4":"h-5 w-5"})})}),s.jsxs("div",{className:"flex flex-col gap-1 min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:dt("font-medium leading-snug text-foreground/90 break-words line-clamp-2",Vs,Ji&&"text-foreground font-semibold"),children:Y.product_name_raw||"(no name)"}),s.jsx(V,{size:"icon",variant:"ghost",className:"h-5 w-5 opacity-0 group-hover:opacity-100 transition-opacity shrink-0 -mt-0.5 text-muted-foreground",onClick:()=>{Xe(Y.id),Je({product_name_raw:Y.product_name_raw||"",upc:Y.upc||"",qty:Y.qty??1,unit_cost:typeof Y.unit_cost=="number"?String(Y.unit_cost):"",msrp:typeof Y.msrp=="number"?String(Y.msrp):""})},children:s.jsx($i,{className:"h-3 w-3"})})]}),xr&&s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[_t&&s.jsxs(kt,{variant:"secondary",className:"h-4 px-1.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border-slate-200 dark:border-slate-700 font-medium text-[10px] gap-1",children:[s.jsx(ki,{className:"h-2.5 w-2.5 opacity-70"})," ",_t]}),Sr&&s.jsxs(kt,{variant:"secondary",className:"h-4 px-1.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border-slate-200 dark:border-slate-700 font-medium text-[10px] gap-1",children:[s.jsx(bd,{className:"h-2.5 w-2.5 opacity-70"})," ",Sr]}),er&&s.jsxs(kt,{variant:"secondary",className:"h-4 px-1.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border-slate-200 dark:border-slate-700 font-medium text-[10px] gap-1",children:[s.jsx(vd,{className:"h-2.5 w-2.5 opacity-70"})," ",er]}),kr&&s.jsx("span",{className:"text-[10px] text-muted-foreground",children:kr})]}),cn&&s.jsxs("div",{className:"flex items-start gap-2 p-1.5 rounded-md bg-amber-50 dark:bg-amber-950/30 border border-amber-100 dark:border-amber-900/50 mt-0.5",children:[s.jsx(hh,{className:"h-3 w-3 text-amber-600 dark:text-amber-500 mt-0.5 shrink-0"}),s.jsx("p",{className:"text-[10px] text-amber-800 dark:text-amber-300 leading-snug line-clamp-2",children:cn})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-xs mt-0.5",children:[ne?(()=>{let Zr=null;const Po=Rt?"h-4 px-1 text-[10px] gap-0.5":"h-5 px-1.5 gap-1 font-semibold";return Ji?Zr=s.jsxs(kt,{variant:"secondary",className:`bg-purple-100 text-purple-700 dark:bg-purple-900/60 dark:text-purple-200 border border-purple-200/50 shadow-sm cursor-help hover:bg-purple-200 decoration-dotted underline decoration-purple-400/50 underline-offset-2 ${Po}`,children:[s.jsx(mr,{className:Rt?"h-2.5 w-2.5":"h-3 w-3"})," Sold"]}):ne.status==="IN_STORE"?Zr=s.jsxs(kt,{className:`bg-orange-100 text-orange-700 dark:bg-orange-900/80 dark:text-orange-200 border-orange-200/50 shadow-sm ${Po}`,children:[s.jsx(bo,{className:Rt?"h-2.5 w-2.5":"h-3 w-3"})," In Store"]}):ne.status==="POSTED"||ne.posted?Zr=s.jsxs(kt,{variant:"secondary",className:`bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 border-0 cursor-help hover:bg-blue-200 decoration-dotted underline decoration-blue-400/50 underline-offset-2 ${Po}`,children:[s.jsx(fs,{className:Rt?"h-2.5 w-2.5":"h-3 w-3"})," Active"]}):ne.status==="TESTED"?Zr=s.jsxs(kt,{variant:"outline",className:`text-emerald-600 border-emerald-200 dark:border-emerald-800 dark:text-emerald-400 ${Po}`,children:[s.jsx(tr,{className:Rt?"h-2.5 w-2.5":"h-3 w-3"})," Tested"]}):em&&(Zr=s.jsxs(kt,{variant:"destructive",className:Po,children:[s.jsx(Tr,{className:Rt?"h-2.5 w-2.5":"h-3 w-3"})," Scrap"]})),(bx||ne.status==="IN_STORE")&&Zr?s.jsxs(_ue,{openDelay:150,closeDelay:100,children:[s.jsx(Eue,{asChild:!0,children:s.jsx("div",{className:"inline-flex",children:Zr})}),s.jsx(n8,{className:"w-80 p-0 border-none shadow-xl",align:"start",side:"right",children:s.jsx(Mue,{info:ne,unitCost:Y.unit_cost})})]}):Zr})():s.jsx("span",{className:"text-[10px] text-muted-foreground/60 italic",children:"Intake"}),((ne==null?void 0:ne.testedBy)||(ne==null?void 0:ne.postedAt))&&s.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted-foreground leading-none",children:[s.jsx("div",{className:"h-3 w-px bg-border/60"}),ne.testedBy&&s.jsxs("div",{className:"flex items-center gap-1",title:`Tested by ${ne.testedByName||ne.testedBy} on ${Tue(ne.testedDate)}`,children:[s.jsx(Gl,{className:"h-3 w-3 text-emerald-600/70"}),s.jsx("span",{className:"font-medium text-foreground/80",children:ne.testedByName||ne.testedBy})]}),ne.testedBy&&ne.postedBy&&s.jsx("span",{className:"opacity-30",children:""}),ne.postedBy&&s.jsxs("div",{className:"flex items-center gap-1",title:`Listed by ${ne.postedByName||ne.postedBy}`,children:[s.jsx(is,{className:"h-3 w-3 text-blue-600/70"}),s.jsx("span",{className:"font-medium text-foreground/80",children:ne.postedByName||ne.postedBy})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-0.5",children:[tm?s.jsxs("button",{onClick:Zr=>{Zr.stopPropagation(),Hr(Y.synergy_id||Y.id)},className:"inline-flex items-center gap-1 rounded bg-amber-50 px-1.5 py-0.5 text-[10px] font-medium text-amber-700 hover:bg-amber-100 ring-1 ring-inset ring-amber-600/20 dark:bg-amber-900/30 dark:text-amber-400 transition-colors",children:[s.jsx(hs,{className:"h-3 w-3"})," Parts Needed"]}):(ne==null?void 0:ne.partStatus)==="ARRIVED"?s.jsxs("span",{className:"inline-flex items-center gap-1 rounded bg-emerald-50 px-1.5 py-0.5 text-[10px] font-medium text-emerald-700 ring-1 ring-inset ring-emerald-600/20 dark:bg-emerald-900/30 dark:text-emerald-400",children:[s.jsx(Kw,{className:"h-3 w-3"})," Parts Arrived"]}):null,(Y.upc||Y.asin)&&s.jsxs("div",{className:"text-[10px] text-muted-foreground/50 font-mono tracking-tight flex gap-2",children:[Y.upc&&s.jsxs("span",{children:["UPC: ",Y.upc]}),Y.asin&&s.jsxs("span",{children:["ASIN: ",Y.asin]})]})]})]})]})}),s.jsx("td",{className:`${It} align-top`,children:s.jsx("div",{className:"pt-1",children:s.jsx(a8,{value:Y.category_id||null,categories:R,onChange:Zr=>Yr(Y.id,Zr)})})}),s.jsx("td",{className:`${It} align-top text-center`,children:s.jsx("div",{className:"pt-2",children:Y.synergy_id?s.jsx("span",{className:"inline-flex items-center gap-1.5 rounded-md border border-border/50 px-2 py-1 text-xs font-medium bg-muted/30 text-foreground/80 font-mono",children:Y.synergy_id}):Y.category_id?s.jsxs("button",{className:"inline-flex items-center gap-1 rounded-md bg-primary/5 px-2 py-1 text-xs font-medium text-primary hover:bg-primary/15 transition-colors",onClick:()=>{en(`${t}/pos/${encodeURIComponent(e)}/mint_synergy`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_ids:[Y.id],use_line_categories:!0})}).then(()=>oe())},children:[s.jsx(Vr,{className:"h-3 w-3"})," Mint ID"]}):s.jsx("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-1 text-[10px] font-medium text-muted-foreground bg-muted/30",children:"Waiting for Category"})})}),s.jsx("td",{className:`${It} text-right align-top tabular-nums`,children:s.jsx("span",{className:dt("inline-block pt-2.5 font-medium text-foreground/80",Vs),children:Y.qty??1})}),s.jsx("td",{className:`${It} text-right align-top tabular-nums`,children:s.jsxs("div",{className:"flex flex-col items-end gap-0.5 pt-2.5",children:[s.jsx("div",{className:dt("text-foreground/80",Vs),children:typeof Y.unit_cost=="number"?Ie(Y.unit_cost):""}),(()=>{const Zr=typeof Y.unit_cost=="number"?Y.unit_cost:null;if(Zr===null)return null;if(!!(ne&&(ne.posted||Ji)&&typeof ne.ebayPrice=="number")){const su=(Number(ne.ebayPrice)||0)-Zr;return s.jsxs("div",{className:dt("text-[10px] font-medium",su>0?"text-emerald-600":"text-rose-600"),children:[su>0?"+":"",Ie(su)]})}return null})()]})}),s.jsx("td",{className:`${It} text-right align-top tabular-nums`,children:s.jsx("span",{className:dt("inline-block pt-2.5 text-muted-foreground",Vs),children:typeof Y.msrp=="number"?Ie(Y.msrp):""})}),s.jsx("td",{className:`${It} text-right align-top`,children:s.jsxs("div",{className:"flex items-center justify-end gap-1 pt-1.5",children:[(ne==null?void 0:ne.ebayItemUrl)&&s.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7 text-blue-600 hover:text-blue-700 hover:bg-blue-50",asChild:!0,title:"View on eBay",children:s.jsx("a",{href:ne.ebayItemUrl,target:"_blank",rel:"noreferrer",children:s.jsx(ch,{className:"h-3.5 w-3.5"})})}),Y.synergy_id&&s.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7 text-amber-600 hover:bg-amber-100",onClick:()=>qe(Y.synergy_id),title:"Override / Tester View",children:s.jsx(hs,{className:"h-3.5 w-3.5"})}),(Y.qty??1)>1&&s.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7 text-muted-foreground",onClick:()=>Fn(Y.id),title:"Split Line",children:s.jsx(Xw,{className:"h-3.5 w-3.5"})}),s.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7 text-muted-foreground hover:text-red-600 hover:bg-red-50",onClick:()=>Be({type:"single",id:Y.id}),title:"Delete",children:s.jsx(Tr,{className:"h-3.5 w-3.5"})})]})}),"                            "]})})()})]})},he)})})})]}):s.jsx("div",{ref:Oe,className:"max-h-[70vh] overflow-y-auto overflow-x-hidden p-2",children:s.jsx("div",{className:"space-y-8 pb-10",children:c?Qi.map(B=>{if(B.type==="group"){const G=B;return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"sticky top-0 z-20 flex items-center gap-2 bg-background/95 backdrop-blur py-2 px-1 border-b cursor-pointer group",onClick:()=>ru(G.key),children:[s.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:s.jsx(In,{className:dt("h-4 w-4 transition-transform",G.isExpanded&&"rotate-90")})}),s.jsxs("h3",{className:"font-bold text-sm flex items-center gap-2",children:[G.key,s.jsx(kt,{variant:"secondary",className:"text-[10px] h-5",children:G.count})]}),s.jsx("div",{className:"h-px flex-1 bg-border/50 group-hover:bg-border transition-colors"}),s.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:[yi(G.totalMsrp)," ",s.jsx("span",{className:"opacity-50",children:"Est. MSRP"})]})]}),G.isExpanded&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4 px-1",children:G.items.map(Y=>s.jsx(M1,{l:Y,onOverride:qe,selected:!!U[Y.id],onToggle:To,categories:R,onUpdateCategory:ve,onMint:ie,onEdit:O,onSplit:De,onDelete:Pt,rowBrief:J,markParts:Hr,poId:e,apiBase:t},Y.id))})]},G.key)}return null}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:Fr.map(B=>s.jsx(M1,{l:B,onOverride:qe,selected:!!U[B.id],onToggle:To,categories:R,onUpdateCategory:ve,onMint:ie,onEdit:O,onSplit:De,onDelete:Pt,rowBrief:J,markParts:Hr,poId:e,apiBase:t},B.id))})})})}),at&&s.jsxs("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex",children:[s.jsxs("div",{className:"ml-auto h-full w-[520px] bg-card border-l p-4 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold",children:"Preview Identifiers"}),s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>nt(!1),children:s.jsx(Mt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-4 space-y-2 text-sm",children:((xe==null?void 0:xe.previews)||[]).map(B=>{var G;return s.jsxs("div",{className:"rounded-lg border p-3",children:[s.jsx("div",{className:"font-medium truncate",children:B.product_name_raw||"(no name)"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Prefix: ",B.prefix||""," | Qty: ",B.qty]}),(G=B.codes)!=null&&G.length?s.jsx("div",{className:"mt-2 text-xs",children:B.codes.join(", ")}):s.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"No category prefix; cannot preview."})]},B.line_id)})})]}),s.jsx("div",{className:"flex-1",onClick:()=>nt(!1)})]}),s.jsx(pue,{open:re,onClose:()=>de(!1),onAssign:Ot,categories:R,selectedCount:M.length}),rt&&s.jsx(xue,{open:!!rt,onClose:()=>Xe(null),onSave:Vt,line:et,lineId:rt}),s.jsx(U6,{open:!!Ce,onClose:()=>Be(null),onConfirm:Ya,title:(Ce==null?void 0:Ce.type)==="bulk"&&M.length>1?`Delete ${M.length} Lines?`:"Delete Line?",description:(Ce==null?void 0:Ce.type)==="bulk"&&M.length>1?s.jsxs("span",{children:["You are about to delete ",s.jsx("span",{className:"font-bold text-foreground",children:M.length})," selected lines.",s.jsx("br",{}),"This action cannot be undone."]}):s.jsxs("span",{children:["Are you sure you want to delete this line?",s.jsx("br",{}),"This action cannot be undone."]}),confirmText:(Ce==null?void 0:Ce.type)==="bulk"&&M.length>1?`Delete ${M.length} Lines`:"Delete Line"}),s.jsx(gue,{open:We,onClose:()=>ee(!1),onSave:Xr,lineCount:M.length,initialValues:X}),s.jsx(Iue,{open:Ee,onClose:()=>Ze(!1),onSave:$n,count:M.length}),E&&A&&s.jsx(dD,{open:E,row:A,user:P,onClose:()=>T(!1),onSave:_e}),be&&s.jsx(B6,{poId:e,apiBase:t,onClose:()=>H(!1),onLineAdded:()=>{H(!1),oe()}})]})}function Oue({ai:e}){const t=!!(e!=null&&e.configured)&&!!(e!=null&&e.has_key)&&!!(e!=null&&e.genai_imported);return s.jsxs("span",{className:dt("inline-flex items-center gap-1 rounded-full border px-2 py-1 text-xs",t?"border-green-600 text-green-700 dark:text-green-400":"border-amber-600 text-amber-700 dark:text-amber-400"),title:t?"Gemini is configured":"AI is disabled or missing key",children:[s.jsx(pb,{className:"h-3.5 w-3.5"}),t?"AI Ready":"AI Off"]})}function Rue({checked:e,onChange:t,size:r="5px"}){return s.jsxs("div",{style:{fontSize:r},children:[s.jsx("style",{children:`
        /* From Uiverse.io by Galahhad - Scoped to bb8-wrapper */
        .bb8-toggle {
          --toggle-size: 1em; /* Scaled by parent font-size */
          --toggle-width: 10.625em;
          --toggle-height: 5.625em;
          --toggle-offset: calc((var(--toggle-height) - var(--bb8-diameter)) / 2);
          --toggle-bg: linear-gradient(#2c4770, #070e2b 35%, #628cac 50% 70%, #a6c5d4) no-repeat;
          --bb8-diameter: 4.375em;
          --radius: 99em;
          --transition: 0.4s;
          --accent: #de7d2f;
          --bb8-bg: #fff;
          cursor: pointer;
          display: inline-block;
        }

        .bb8-toggle *, .bb8-toggle *::before, .bb8-toggle *::after {
          box-sizing: border-box;
        }

        .bb8-toggle__checkbox {
          display: none;
        }

        .bb8-toggle__container {
          width: var(--toggle-width);
          height: var(--toggle-height);
          background: var(--toggle-bg);
          background-size: 100% 11.25em;
          background-position-y: -5.625em;
          border-radius: var(--radius);
          position: relative;
          transition: var(--transition);
        }

        .bb8 {
          display: flex;
          flex-direction: column;
          align-items: center;
          position: absolute;
          top: calc(var(--toggle-offset) - 1.688em + 0.188em);
          left: var(--toggle-offset);
          transition: var(--transition);
          z-index: 2;
        }

        .bb8__head-container {
          position: relative;
          transition: var(--transition);
          z-index: 2;
          transform-origin: 1.25em 3.75em;
        }

        .bb8__head {
          overflow: hidden;
          margin-bottom: -0.188em;
          width: 2.5em;
          height: 1.688em;
          background: linear-gradient(transparent 0.063em, dimgray 0.063em 0.313em, transparent 0.313em 0.375em, var(--accent) 0.375em 0.5em, transparent 0.5em 1.313em, silver 1.313em 1.438em, transparent 1.438em),
                      linear-gradient(45deg, transparent 0.188em, var(--bb8-bg) 0.188em 1.25em, transparent 1.25em),
                      linear-gradient(-45deg, transparent 0.188em, var(--bb8-bg) 0.188em 1.25em, transparent 1.25em),
                      linear-gradient(var(--bb8-bg) 1.25em, transparent 1.25em);
          border-radius: var(--radius) var(--radius) 0 0;
          position: relative;
          z-index: 1;
          filter: drop-shadow(0 0.063em 0.125em gray);
        }

        .bb8__head::before {
          content: "";
          position: absolute;
          width: 0.563em;
          height: 0.563em;
          background: radial-gradient(0.125em circle at 0.25em 0.375em, red, transparent),
                      radial-gradient(0.063em circle at 0.375em 0.188em, var(--bb8-bg) 50%, transparent 100%),
                      linear-gradient(45deg, #000 0.188em, dimgray 0.313em 0.375em, #000 0.5em);
          border-radius: var(--radius);
          top: 0.413em;
          left: 50%;
          transform: translate(-50%);
          box-shadow: 0 0 0 0.089em lightgray, 0.563em 0.281em 0 -0.148em, 0.563em 0.281em 0 -0.1em var(--bb8-bg), 0.563em 0.281em 0 -0.063em;
          z-index: 1;
          transition: var(--transition);
        }

        .bb8__head::after {
          content: "";
          position: absolute;
          bottom: 0.375em;
          left: 0;
          width: 100%;
          height: 0.188em;
          background: linear-gradient(to right, var(--accent) 0.125em, transparent 0.125em 0.188em, var(--accent) 0.188em 0.313em, transparent 0.313em 0.375em, var(--accent) 0.375em 0.938em, transparent 0.938em 1em, var(--accent) 1em 1.125em, transparent 1.125em 1.875em, var(--accent) 1.875em 2em, transparent 2em 2.063em, var(--accent) 2.063em 2.25em, transparent 2.25em 2.313em, var(--accent) 2.313em 2.375em, transparent 2.375em 2.438em, var(--accent) 2.438em);
          transition: var(--transition);
        }

        .bb8__antenna {
          position: absolute;
          transform: translateY(-90%);
          width: 0.059em;
          border-radius: var(--radius) var(--radius) 0 0;
          transition: var(--transition);
        }

        .bb8__antenna:nth-child(1) {
          height: 0.938em;
          right: 0.938em;
          background: linear-gradient(#000 0.188em, silver 0.188em);
        }

        .bb8__antenna:nth-child(2) {
          height: 0.375em;
          left: 50%;
          transform: translate(-50%, -90%);
          background: silver;
        }

        .bb8__body {
          width: 4.375em;
          height: 4.375em;
          background: var(--bb8-bg);
          border-radius: var(--radius);
          position: relative;
          overflow: hidden;
          transition: var(--transition);
          z-index: 1;
          transform: rotate(45deg);
          background: linear-gradient(-90deg, var(--bb8-bg) 4%, var(--accent) 4% 10%, transparent 10% 90%, var(--accent) 90% 96%, var(--bb8-bg) 96%),
                      linear-gradient(var(--bb8-bg) 4%, var(--accent) 4% 10%, transparent 10% 90%, var(--accent) 90% 96%, var(--bb8-bg) 96%),
                      linear-gradient(to right, transparent 2.156em, silver 2.156em 2.219em, transparent 2.188em),
                      linear-gradient(transparent 2.156em, silver 2.156em 2.219em, transparent 2.188em);
          background-color: var(--bb8-bg);
        }

        .bb8__body::after {
          content: "";
          bottom: 1.5em;
          left: 0.563em;
          position: absolute;
          width: 0.188em;
          height: 0.188em;
          background: rgb(236, 236, 236);
          color: rgb(236, 236, 236);
          border-radius: 50%;
          box-shadow: 0.875em 0.938em, 0 -1.25em, 0.875em -2.125em, 2.125em -2.125em, 3.063em -1.25em, 3.063em 0, 2.125em 0.938em;
        }

        .bb8__body::before {
          content: "";
          width: 2.625em;
          height: 2.625em;
          position: absolute;
          border-radius: 50%;
          z-index: 0.1;
          overflow: hidden;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          border: 0.313em solid var(--accent);
          background: radial-gradient(1em circle at center, rgb(236, 236, 236) 50%, transparent 51%),
                      radial-gradient(1.25em circle at center, var(--bb8-bg) 50%, transparent 51%),
                      linear-gradient(-90deg, transparent 42%, var(--accent) 42% 58%, transparent 58%),
                      linear-gradient(var(--bb8-bg) 42%, var(--accent) 42% 58%, var(--bb8-bg) 58%);
        }

        .bb8__shadow {
          content: "";
          width: var(--bb8-diameter);
          height: 20%;
          border-radius: 50%;
          background: #3a271c;
          box-shadow: 0.313em 0 3.125em #3a271c;
          opacity: 0.25;
          position: absolute;
          bottom: 0;
          left: calc(var(--toggle-offset) - 0.938em);
          transition: var(--transition);
          transform: skew(-70deg);
          z-index: 1;
        }

        .bb8-toggle__scenery {
          width: 100%;
          height: 100%;
          pointer-events: none;
          overflow: hidden;
          position: relative;
          border-radius: inherit;
        }

        .bb8-toggle__scenery::before {
          content: "";
          position: absolute;
          width: 100%;
          height: 30%;
          bottom: 0;
          background: #b18d71;
          z-index: 1;
        }

        .bb8-toggle__cloud {
          z-index: 1;
          position: absolute;
          border-radius: 50%;
        }

        .bb8-toggle__cloud:nth-last-child(1) {
          width: 0.875em;
          height: 0.625em;
          filter: blur(0.125em) drop-shadow(0.313em 0.313em #ffffffae) drop-shadow(-0.625em 0 #fff) drop-shadow(-0.938em -0.125em #fff);
          right: 1.875em;
          top: 2.813em;
          background: linear-gradient(to top right, #ffffffae, #ffffffae);
          transition: var(--transition);
        }

        .bb8-toggle__cloud:nth-last-child(2) {
          top: 0.625em;
          right: 4.375em;
          width: 0.875em;
          height: 0.375em;
          background: #dfdedeae;
          filter: blur(0.125em) drop-shadow(-0.313em -0.188em #e0dfdfae) drop-shadow(-0.625em -0.188em #bbbbbbae) drop-shadow(-1em 0.063em #cfcfcfae);
          transition: 0.6s;
        }

        .bb8-toggle__cloud:nth-last-child(3) {
          top: 1.25em;
          right: 0.938em;
          width: 0.875em;
          height: 0.375em;
          background: #ffffffae;
          filter: blur(0.125em) drop-shadow(0.438em 0.188em #ffffffae) drop-shadow(-0.625em 0.313em #ffffffae);
          transition: 0.8s;
        }

        .gomrassen, .hermes, .chenini {
          position: absolute;
          border-radius: var(--radius);
          background: linear-gradient(#fff, #6e8ea2);
          top: 100%;
        }

        .gomrassen {
          left: 0.938em;
          width: 1.875em;
          height: 1.875em;
          box-shadow: 0 0 0.188em #ffffff52, 0 0 0.188em #6e8ea24b;
          transition: var(--transition);
        }

        .gomrassen::before, .gomrassen::after {
          content: "";
          position: absolute;
          border-radius: inherit;
          box-shadow: inset 0 0 0.063em rgb(140, 162, 169);
          background: rgb(184, 196, 200);
        }

        .gomrassen::before { left: 0.313em; top: 0.313em; width: 0.438em; height: 0.438em; }
        .gomrassen::after { width: 0.25em; height: 0.25em; left: 1.25em; top: 0.75em; }

        .hermes {
          left: 3.438em;
          width: 0.625em;
          height: 0.625em;
          box-shadow: 0 0 0.125em #ffffff52, 0 0 0.125em #6e8ea24b;
          transition: 0.6s;
        }

        .chenini {
          left: 4.375em;
          width: 0.5em;
          height: 0.5em;
          box-shadow: 0 0 0.125em #ffffff52, 0 0 0.125em #6e8ea24b;
          transition: 0.8s;
        }

        .tatto-1, .tatto-2 {
          position: absolute;
          width: 1.25em;
          height: 1.25em;
          border-radius: var(--radius);
        }

        .tatto-1 {
          background: #fefefe;
          right: 3.125em;
          top: 0.625em;
          box-shadow: 0 0 0.438em #fdf4e1;
          transition: var(--transition);
        }

        .tatto-2 {
          background: linear-gradient(#e6ac5c, #d75449);
          right: 1.25em;
          top: 2.188em;
          box-shadow: 0 0 0.438em #e6ad5c3d, 0 0 0.438em #d755494f;
          transition: 0.7s;
        }

        .bb8-toggle__star {
          position: absolute;
          width: 0.063em;
          height: 0.063em;
          background: #fff;
          border-radius: var(--radius);
          filter: drop-shadow(0 0 0.063em #fff);
          color: #fff;
          top: 100%;
        }

        .bb8-toggle__star:nth-child(1) { left: 3.75em; box-shadow: 1.25em 0.938em, -1.25em 2.5em, 0 1.25em, 1.875em 0.625em, -3.125em 1.875em, 1.25em 2.813em; transition: 0.2s; }
        .bb8-toggle__star:nth-child(2) { left: 4.688em; box-shadow: 0.625em 0, 0 0.625em, -0.625em -0.625em, 0.625em 0.938em, -3.125em 1.25em, 1.25em -1.563em; transition: 0.3s; }
        .bb8-toggle__star:nth-child(3) { left: 5.313em; box-shadow: -0.625em -0.625em, -2.188em 1.25em, -2.188em 0, -3.75em -0.625em, -3.125em -0.625em, -2.5em -0.313em, 0.75em -0.625em; transition: var(--transition); }
        .bb8-toggle__star:nth-child(4) { left: 1.875em; width: 0.125em; height: 0.125em; transition: 0.5s; }
        .bb8-toggle__star:nth-child(5) { left: 5em; width: 0.125em; height: 0.125em; transition: 0.6s; }
        .bb8-toggle__star:nth-child(6) { left: 2.5em; width: 0.125em; height: 0.125em; transition: 0.7s; }
        .bb8-toggle__star:nth-child(7) { left: 3.438em; width: 0.125em; height: 0.125em; transition: 0.8s; }

        /* Actions */
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .bb8-toggle__star:nth-child(1) { top: 0.625em; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .bb8-toggle__star:nth-child(2) { top: 1.875em; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .bb8-toggle__star:nth-child(3) { top: 1.25em; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .bb8-toggle__star:nth-child(4) { top: 3.438em; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .bb8-toggle__star:nth-child(5) { top: 3.438em; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .bb8-toggle__star:nth-child(6) { top: 0.313em; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .bb8-toggle__star:nth-child(7) { top: 1.875em; }

        .bb8-toggle__checkbox:checked + .bb8-toggle__container .bb8-toggle__cloud { right: -100%; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .gomrassen { top: 0.938em; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .hermes { top: 2.5em; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .chenini { top: 2.75em; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container { background-position-y: 0; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .tatto-1 { top: 100%; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .tatto-2 { top: 100%; }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .bb8 { left: calc(100% - var(--bb8-diameter) - var(--toggle-offset)); }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .bb8__shadow { left: calc(100% - var(--bb8-diameter) - var(--toggle-offset) + 0.938em); transform: skew(70deg); }
        .bb8-toggle__checkbox:checked + .bb8-toggle__container .bb8__body { transform: rotate(225deg); }
        
        .bb8-toggle__checkbox:hover + .bb8-toggle__container .bb8__head::before { left: 100%; }
        .bb8-toggle__checkbox:not(:checked):hover + .bb8-toggle__container .bb8__antenna:nth-child(1) { right: 1.5em; }
        .bb8-toggle__checkbox:hover + .bb8-toggle__container .bb8__antenna:nth-child(2) { left: 0.938em; }
        .bb8-toggle__checkbox:hover + .bb8-toggle__container .bb8__head::after { background-position: 1.375em 0; }
        .bb8-toggle__checkbox:checked:hover + .bb8-toggle__container .bb8__head::before { left: 0; }
        .bb8-toggle__checkbox:checked:hover + .bb8-toggle__container .bb8__antenna:nth-child(2) { left: calc(100% - 0.938em); }
        .bb8-toggle__checkbox:checked:hover + .bb8-toggle__container .bb8__head::after { background-position: -1.375em 0; }
        
        .bb8-toggle__checkbox:active + .bb8-toggle__container .bb8__head-container { transform: rotate(25deg); }
        .bb8-toggle__checkbox:checked:active + .bb8-toggle__container .bb8__head-container { transform: rotate(-25deg); }
        
        .bb8:hover .bb8__head::before, .bb8:hover .bb8__antenna:nth-child(2) { left: 50% !important; }
        .bb8:hover .bb8__antenna:nth-child(1) { right: 0.938em !important; }
        .bb8:hover .bb8__head::after { background-position: 0 0 !important; }
      `}),s.jsxs("label",{className:"bb8-toggle",children:[s.jsx("input",{className:"bb8-toggle__checkbox",type:"checkbox",checked:e,onChange:n=>t(n.target.checked)}),s.jsxs("div",{className:"bb8-toggle__container",children:[s.jsxs("div",{className:"bb8-toggle__scenery",children:[s.jsx("div",{className:"bb8-toggle__star"}),s.jsx("div",{className:"bb8-toggle__star"}),s.jsx("div",{className:"bb8-toggle__star"}),s.jsx("div",{className:"bb8-toggle__star"}),s.jsx("div",{className:"bb8-toggle__star"}),s.jsx("div",{className:"bb8-toggle__star"}),s.jsx("div",{className:"bb8-toggle__star"}),s.jsx("div",{className:"tatto-1"}),s.jsx("div",{className:"tatto-2"}),s.jsx("div",{className:"gomrassen"}),s.jsx("div",{className:"hermes"}),s.jsx("div",{className:"chenini"}),s.jsx("div",{className:"bb8-toggle__cloud"}),s.jsx("div",{className:"bb8-toggle__cloud"}),s.jsx("div",{className:"bb8-toggle__cloud"})]}),s.jsxs("div",{className:"bb8",children:[s.jsxs("div",{className:"bb8__head-container",children:[s.jsx("div",{className:"bb8__antenna"}),s.jsx("div",{className:"bb8__antenna"}),s.jsx("div",{className:"bb8__head"})]}),s.jsx("div",{className:"bb8__body"})]}),s.jsx("div",{className:"bb8__shadow"})]})]})]})}function Due({open:e,title:t="Are you sure?",description:r,confirmLabel:n="Confirm",cancelLabel:a="Cancel",variant:o="default",onCancel:i,onConfirm:l}){const c=u.useRef(null),[d,f]=u.useState(!1);u.useEffect(()=>{var p;e&&((p=c.current)==null||p.focus())},[e]);const h=()=>{f(!0),setTimeout(()=>{l(),f(!1)},300)};if(!e&&!d)return null;const m=o==="destructive"?s.jsx(V,{variant:"destructive",onClick:h,children:n}):s.jsx(V,{onClick:h,children:n});return s.jsxs("div",{className:`fixed inset-0 z-50 transition-opacity duration-300 ${d?"opacity-0":"opacity-100"}`,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-title",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:i}),s.jsx("div",{className:`absolute inset-0 flex items-center justify-center p-4 transition-all duration-300 ease-in-out ${d?"scale-95 -translate-y-4":""}`,children:s.jsx("div",{className:`w-full max-w-md rounded-xl glass-card bg-card p-5 shadow-lg ${d?"opacity-0":"opacity-100"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-0.5",children:s.jsx(Is,{className:"h-5 w-5 text-yellow-600","aria-hidden":!0})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{id:"confirm-title",className:"text-base font-semibold",children:t}),s.jsx("button",{"aria-label":"Close",className:"p-1 rounded-md hover:bg-muted",onClick:i,children:s.jsx(Mt,{className:"h-4 w-4"})})]}),r&&s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:r}),s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx(V,{ref:c,variant:"outline",onClick:i,children:a}),m]})]})]})})}),s.jsx("div",{tabIndex:0,onKeyDown:p=>{p.key==="Escape"&&i()}})]})}var Lue="Separator",w5="horizontal",$ue=["horizontal","vertical"],o8=u.forwardRef((e,t)=>{const{decorative:r,orientation:n=w5,...a}=e,o=Fue(n)?n:w5,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return s.jsx(Ve.div,{"data-orientation":o,...l,...a,ref:t})});o8.displayName=Lue;function Fue(e){return $ue.includes(e)}var i8=o8;const Zc=u.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(i8,{ref:a,decorative:r,orientation:t,className:se("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Zc.displayName=i8.displayName;const zue={slate:"bg-slate-500",red:"bg-red-500",orange:"bg-orange-500",amber:"bg-amber-500",green:"bg-emerald-500",blue:"bg-blue-500",sky:"bg-sky-500",indigo:"bg-indigo-500",violet:"bg-violet-500",purple:"bg-purple-500",fuchsia:"bg-fuchsia-500",pink:"bg-pink-500"};function Bue({open:e,onClose:t,categories:r,onCreate:n,onUpdate:a,onDelete:o}){const[i,l]=u.useState(!1);u.useEffect(()=>l(!0),[]);const[c,d]=u.useState(""),[f,h]=u.useState(null),[m,p]=u.useState("idle"),[g,x]=u.useState(!1),[b,y]=u.useState(""),[v,w]=u.useState(""),[j,N]=u.useState("box"),[S,k]=u.useState("slate"),[_,C]=u.useState(!1),[E,T]=u.useState(null);u.useEffect(()=>{e&&(p("idle"),h(null),y(""),w(""),d(""),x(!1))},[e]),u.useEffect(()=>{m==="create"?(y(""),w(""),N("box"),k("slate"),h(null),x(!1)):m==="edit"&&f&&(y(f.label),w(f.prefix),N(f.icon||"box"),k(f.color||"slate"),x(!1))},[m,f]);const A=u.useMemo(()=>{if(!c)return r;const I=c.toLowerCase();return r.filter(R=>R.label.toLowerCase().includes(I)||R.prefix.toLowerCase().includes(I))},[r,c]),W=I=>{h(I),p("edit")},P=()=>{h(null),p("create")},te=async I=>{if(I.preventDefault(),!(!b.trim()||!v.trim())){if(!/^\d{5}$/.test(v))return alert("Prefix should be 5 digits (e.g., 22425).");C(!0);try{m==="create"?(await n(b.trim(),v.trim(),j,S),y(""),w("")):m==="edit"&&f&&await a(f.id,b.trim(),v.trim(),j,S)}catch(R){alert("Operation failed: "+R.message)}finally{C(!1)}}},le=async()=>{if(E){C(!0);try{await o(E.id),T(null),h(null),p("idle")}catch(I){alert("Delete failed: "+I.message)}finally{C(!1)}}},K=I=>(I||"?").substring(0,2).toUpperCase();if(!e||!i)return null;const D=Cp(j);return Zt.createPortal(s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 animate-in fade-in duration-200",children:[s.jsxs("div",{className:"w-full max-w-4xl h-[650px] bg-background rounded-xl shadow-2xl border flex overflow-hidden",children:[s.jsxs("div",{className:"w-1/3 min-w-[280px] border-r bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-3 border-b bg-background/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h2",{className:"font-bold text-base flex items-center gap-2",children:[s.jsx(is,{className:"h-4 w-4 text-primary"}),"Categories"]}),s.jsxs(V,{size:"sm",variant:"default",onClick:P,className:"gap-1 h-7 text-xs",children:[s.jsx(Vr,{className:"h-3 w-3"})," New"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(we,{placeholder:"Search...",className:"pl-8 bg-background h-8 text-xs",value:c,onChange:I=>d(I.target.value)})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 scrollbar-thin scrollbar-thumb-muted-foreground/20 hover:scrollbar-thumb-muted-foreground/40",children:A.length===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground opacity-60",children:[s.jsx(is,{className:"h-10 w-10 mb-2 stroke-1"}),s.jsx("p",{className:"text-xs",children:"No categories found"})]}):s.jsx("div",{className:"space-y-1",children:A.map(I=>{const R=Cp(I.icon);return s.jsxs("button",{onClick:()=>W(I),className:se("w-full flex items-center gap-3 p-2 rounded-lg border text-left transition-all",(f==null?void 0:f.id)===I.id?"bg-primary/5 border-primary/40 shadow-sm":"bg-background border-transparent hover:border-border hover:bg-white dark:hover:bg-gray-800"),children:[s.jsx(Rr,{className:"h-8 w-8 border",children:s.jsx(Dr,{className:se("text-[10px] flex items-center justify-center",(f==null?void 0:f.id)===I.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:I.icon?s.jsx(R,{className:"h-4 w-4"}):K(I.label)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium truncate",children:I.label}),s.jsxs(kt,{variant:"secondary",className:"mt-0.5 text-[9px] h-3.5 px-1 font-mono text-muted-foreground font-normal",children:["#",I.prefix]})]}),(f==null?void 0:f.id)===I.id&&s.jsx(In,{className:"h-3 w-3 text-primary"})]},I.id)})})}),s.jsxs("div",{className:"p-2 text-[10px] text-center text-muted-foreground border-t bg-background/50",children:[A.length," total"]})]}),s.jsxs("div",{className:"flex-1 bg-background flex flex-col relative min-w-0",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:t,className:"absolute top-2 right-2 z-10 h-8 w-8 hover:bg-muted rounded-full",children:s.jsx(Mt,{className:"h-4 w-4 text-muted-foreground"})}),m==="idle"?s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground/50 p-10 text-center",children:[s.jsx("div",{className:"bg-muted/30 p-6 rounded-full mb-4",children:s.jsx(is,{className:"h-12 w-12 stroke-1"})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Select a Category"}),s.jsxs("p",{className:"max-w-xs mx-auto text-xs mt-2 leading-relaxed",children:["Select an item from the list to edit, or click ",s.jsx("strong",{children:"New"})," to create one."]})]}):s.jsxs("form",{onSubmit:te,className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-b",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Rr,{className:"h-12 w-12 border-2 shadow-sm",children:s.jsx(Dr,{className:"bg-primary/5 text-primary text-lg font-medium flex items-center justify-center",children:(()=>{const I=Cp(j);return m==="create"&&j==="box"?s.jsx(Vr,{className:"h-6 w-6"}):s.jsx(I,{className:"h-6 w-6"})})()})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold tracking-tight",children:m==="create"?"New Category":"Edit Category"}),s.jsx("p",{className:"text-muted-foreground text-xs",children:m==="create"?"Configure a new item type":"Update category details"})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-5 space-y-6 scrollbar-thin scrollbar-thumb-muted-foreground/20",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Ke,{className:"text-[10px] uppercase text-muted-foreground font-bold tracking-wider",children:"Label"}),s.jsxs("div",{className:"relative",children:[s.jsx(is,{className:"absolute left-2.5 top-2.5 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(we,{value:b,onChange:I=>y(I.target.value),className:"pl-8 h-9 bg-muted/10 border-muted-foreground/20 focus:bg-background text-sm",placeholder:"e.g. Tablets - iPad",autoFocus:!0})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Ke,{className:"text-[10px] uppercase text-muted-foreground font-bold tracking-wider",children:"Prefix (5 Digits)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ua,{className:"absolute left-2.5 top-2.5 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(we,{value:v,onChange:I=>w(I.target.value.replace(/[^0-9]/g,"")),className:"pl-8 h-9 font-mono bg-muted/10 border-muted-foreground/20 focus:bg-background text-sm",placeholder:"00000",maxLength:5})]})]})]}),s.jsx(Zc,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ke,{className:"text-[10px] uppercase text-muted-foreground font-bold tracking-wider flex items-center gap-2",children:[s.jsx(fh,{className:"h-3 w-3"})," Icon"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{type:"button",onClick:()=>x(!g),className:"flex w-full items-center justify-between p-2 rounded-lg border bg-card hover:bg-muted/50 transition-all group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-md bg-primary/10 text-primary border border-primary/20 group-hover:border-primary/40 transition-colors",children:s.jsx(D,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wider",children:"Selected"}),s.jsx("div",{className:"text-sm font-semibold capitalize text-foreground",children:j})]})]}),s.jsx("div",{className:"pr-2 text-muted-foreground group-hover:text-foreground",children:s.jsx(Ls,{className:se("h-4 w-4 transition-transform duration-200",g&&"rotate-180")})})]}),g&&s.jsx("div",{className:"grid grid-cols-8 gap-2 p-3 rounded-lg border bg-muted/20 animate-in slide-in-from-top-2 fade-in duration-200",children:Object.entries(RR).map(([I,R])=>s.jsx("button",{type:"button",onClick:()=>{N(I),x(!1)},className:se("flex items-center justify-center aspect-square rounded-md border transition-all",j===I?"bg-primary text-primary-foreground border-primary shadow-sm scale-105":"bg-background text-muted-foreground border-border hover:border-primary/50 hover:text-foreground hover:bg-white dark:hover:bg-gray-800"),title:I,children:s.jsx(R,{className:"h-5 w-5"})},I))})]})]}),s.jsx(Zc,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ke,{className:"text-[10px] uppercase text-muted-foreground font-bold tracking-wider flex items-center gap-2",children:[s.jsx(F7,{className:"h-3 w-3"})," Color Theme"]}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(g1).map(I=>s.jsxs("button",{type:"button",onClick:()=>k(I),className:se("group relative flex items-center gap-2 px-2 py-2 rounded-lg border transition-all text-xs font-medium capitalize",S===I?"bg-accent border-primary ring-1 ring-primary text-accent-foreground shadow-sm":"hover:bg-muted/50 border-border bg-card text-muted-foreground"),children:[s.jsx("div",{className:se("w-3 h-3 rounded-full border shadow-sm flex-shrink-0",zue[I]||"bg-gray-500")}),s.jsx("span",{className:"truncate",children:I})]},I))})]})]}),s.jsxs("div",{className:"flex-shrink-0 px-6 py-4 border-t bg-muted/5 flex justify-between items-center gap-4",children:[m==="edit"?s.jsxs(V,{type:"button",variant:"ghost",size:"sm",onClick:()=>T(f),disabled:_,className:"text-destructive hover:text-destructive hover:bg-destructive/10 h-9",children:[s.jsx(Tr,{className:"mr-2 h-4 w-4"})," Delete"]}):s.jsx("div",{}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:t,disabled:_,className:"h-9",children:"Cancel"}),s.jsxs(V,{type:"submit",size:"sm",disabled:_||!b.trim()||!v.trim(),className:"min-w-[120px] h-9",children:[_?"Saving...":m==="create"?"Create Category":"Save Changes",!_&&(m==="create"?s.jsx(qc,{className:"ml-2 h-3.5 w-3.5"}):s.jsx(Ei,{className:"ml-2 h-3.5 w-3.5"}))]})]})]})]})]})]}),s.jsx(Due,{open:!!E,title:"Delete category?",description:E?`${E.label} (prefix ${E.prefix}) will be removed permanently.`:"",confirmLabel:"Delete Category",cancelLabel:"Cancel",variant:"destructive",onCancel:()=>T(null),onConfirm:le})]}),document.body)}const Vm="/backend",MN=(()=>{if(/^https?:\/\//i.test(Vm))return Vm.replace(/\/+$/,"");const e=Vm.trim()?Vm:"/backend";return(e.startsWith("/")?e:`/${e}`).replace(/\/+$/,"")})(),IN=(e,t)=>`${e}${t.startsWith("/")?t:`/${t}`}`;async function Uue(e){const t=await fetch(IN(MN,e),{method:"DELETE"});if(!t.ok)throw new Error(await t.text());return t.json().catch(()=>({}))}async function Vue(e,t){const r=await fetch(IN(MN,e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error(await r.text());return await r.json()}async function Hue(e,t){const r=await fetch(IN(MN,e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error(await r.text());return await r.json()}function Wue({vendors:e,onClose:t,onUpdate:r}){const[n,a]=u.useState(!1);u.useEffect(()=>{a(!0)},[]);const[o,i]=u.useState(""),[l,c]=u.useState(null),[d,f]=u.useState("idle"),[h,m]=u.useState(""),[p,g]=u.useState(!1);u.useEffect(()=>{d==="create"?(m(""),c(null)):d==="edit"&&l&&m(l.name)},[d,l]);const x=u.useMemo(()=>o?e.filter(N=>N.name.toLowerCase().includes(o.toLowerCase())):e,[e,o]),b=N=>(N||"?").split(" ").map(S=>S[0]).slice(0,2).join("").toUpperCase(),y=N=>{c(N),f("edit")},v=()=>{c(null),f("create")},w=async N=>{if(N.preventDefault(),!!h.trim()){g(!0);try{d==="create"?await Vue("/vendors",{name:h.trim()}):d==="edit"&&l&&await Hue(`/vendors/${l.id}`,{name:h.trim()}),r(),d==="create"?(m(""),alert("Vendor created successfully.")):alert("Vendor updated.")}catch(S){alert(S.message||"Operation failed")}finally{g(!1)}}},j=async()=>{if(!(!l||!window.confirm("Are you sure you want to delete this vendor?"))){g(!0);try{await Uue(`/vendors/${l.id}`),r(),c(null),f("idle")}catch(N){alert(N.message||"Delete failed")}finally{g(!1)}}};return n?Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"w-full max-w-4xl h-[600px] flex bg-card rounded-2xl shadow-2xl border overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"w-80 md:w-96 border-r bg-muted/10 flex flex-col flex-shrink-0",children:[s.jsxs("div",{className:"p-4 border-b space-y-3 bg-background",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-semibold",children:[s.jsx(bo,{className:"h-5 w-5"}),s.jsx("span",{children:"Vendor Directory"})]}),s.jsx(V,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:v,title:"Add New Vendor",children:s.jsx(Vr,{className:"h-5 w-5 text-primary"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{placeholder:"Search vendors...",className:"pl-9 bg-background border-muted-foreground/20",value:o,onChange:N=>i(N.target.value)})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:x.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-muted-foreground/60 text-center px-4",children:[s.jsx(gb,{className:"h-10 w-10 mb-2 opacity-20"}),s.jsx("p",{className:"text-sm",children:"No vendors found."}),s.jsx(V,{variant:"link",onClick:v,children:"Create one?"})]}):x.map(N=>s.jsxs("button",{onClick:()=>y(N),className:`
                    w-full flex items-center gap-3 p-3 rounded-xl border transition-all text-left group
                    ${(l==null?void 0:l.id)===N.id?"bg-primary/10 border-primary/30 shadow-sm z-10 relative":"bg-transparent border-transparent hover:bg-muted/80 hover:border-muted"}
                  `,children:[s.jsx(Rr,{className:`h-10 w-10 border ${(l==null?void 0:l.id)===N.id?"ring-2 ring-primary/20":""}`,children:s.jsx(Dr,{className:(l==null?void 0:l.id)===N.id?"bg-primary text-primary-foreground":"bg-muted",children:b(N.name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:`text-sm font-medium truncate ${(l==null?void 0:l.id)===N.id?"text-primary":"text-foreground"}`,children:N.name}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:[N.po_count||0," Purchase Orders"]})]}),(l==null?void 0:l.id)===N.id&&s.jsx(In,{className:"h-4 w-4 text-primary animate-in slide-in-from-left-1"})]},N.id))}),s.jsxs("div",{className:"p-2 text-xs text-center text-muted-foreground border-t bg-background/50",children:[x.length," vendors total"]})]}),s.jsxs("div",{className:"flex-1 bg-background relative flex flex-col",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:t,className:"absolute top-3 right-3 z-20 hover:bg-muted rounded-full",children:s.jsx(Mt,{className:"h-5 w-5 text-muted-foreground"})}),d==="idle"?s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground/40 p-8 text-center bg-muted/5",children:[s.jsx("div",{className:"bg-muted/20 p-6 rounded-full mb-4",children:s.jsx(bo,{className:"h-12 w-12"})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground/80",children:"Select a Vendor"}),s.jsxs("p",{className:"max-w-xs mx-auto text-sm mt-2",children:["Select a vendor from the list to edit details, or click the ",s.jsx(Vr,{className:"inline h-3 w-3"})," icon to create a new one."]})]}):s.jsx("div",{className:"flex-1 flex flex-col animate-in fade-in slide-in-from-bottom-2 duration-300",children:s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 max-w-sm mx-auto w-full",children:[s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsx(Rr,{className:"h-24 w-24 border-4 border-muted/20 shadow-xl mb-4",children:s.jsx(Dr,{className:"bg-primary/5 text-primary text-3xl font-light",children:d==="create"?s.jsx(Vr,{className:"h-10 w-10"}):b(h)})}),s.jsx("h2",{className:"text-2xl font-bold text-center",children:d==="create"?"New Vendor":"Edit Vendor"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:d==="create"?"Enter details below":"Update vendor information"})]}),s.jsxs("form",{onSubmit:w,className:"w-full space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"Vendor Name"}),s.jsxs("div",{className:"relative group",children:[s.jsx(gb,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),s.jsx(we,{value:h,onChange:N=>m(N.target.value),className:"pl-10 h-11 bg-muted/20 border-muted-foreground/20 focus:bg-background",placeholder:"e.g., Acme Corp",autoFocus:!0})]})]}),s.jsxs(V,{type:"submit",disabled:p||!h.trim(),className:"w-full h-11 mt-2 text-base font-medium shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all",children:[p?"Saving...":d==="create"?"Create Vendor":"Save Changes",!p&&(d==="create"?s.jsx(qc,{className:"ml-2 h-4 w-4"}):s.jsx(Ei,{className:"ml-2 h-4 w-4"}))]}),d==="edit"&&s.jsxs(V,{type:"button",variant:"ghost",onClick:j,disabled:p,className:"w-full text-destructive hover:text-destructive hover:bg-destructive/10",children:[s.jsx(Tr,{className:"mr-2 h-4 w-4"})," Delete Vendor"]})]})]})})]})]})}),document.body):null}var AN="Progress",ON=100,[Gue,t0e]=jn(AN),[que,Kue]=Gue(AN),l8=u.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:o=Yue,...i}=e;(a||a===0)&&!j5(a)&&console.error(Xue(`${a}`,"Progress"));const l=j5(a)?a:ON;n!==null&&!N5(n,l)&&console.error(Que(`${n}`,"Progress"));const c=N5(n,l)?n:null,d=Ig(c)?o(c,l):void 0;return s.jsx(que,{scope:r,value:c,max:l,children:s.jsx(Ve.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ig(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":u8(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});l8.displayName=AN;var c8="ProgressIndicator",d8=u.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=Kue(c8,r);return s.jsx(Ve.div,{"data-state":u8(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});d8.displayName=c8;function Yue(e,t){return`${Math.round(e/t*100)}%`}function u8(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ig(e){return typeof e=="number"}function j5(e){return Ig(e)&&!isNaN(e)&&e>0}function N5(e,t){return Ig(e)&&!isNaN(e)&&e<=t&&e>=0}function Xue(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ON}\`.`}function Que(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ON} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var f8=l8,Jue=d8;const RN=u.forwardRef(({className:e,value:t,...r},n)=>s.jsx(f8,{ref:n,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(Jue,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));RN.displayName=f8.displayName;const ev={name:"",qty:"1",unitCost:"",msrp:"",upc:""};function Su(e,t){return`${e}${t.startsWith("/")?t:`/${t}`}`}function rl(e){return e===null||typeof e>"u"?"":`$${Number(e).toFixed(2)}`}function Zue(e){if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]}function efe({progress:e,error:t}){return t?s.jsxs("div",{className:"p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Is,{className:"h-4 w-4"})," Preview Failed"]}),s.jsx("p",{className:"text-sm mt-1",children:t})]}):e?s.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 space-y-3 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-blue-800 dark:text-blue-300",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-4 w-4 animate-spin text-blue-600"}),s.jsx("span",{children:"Processing File..."})]}),s.jsxs("span",{className:"font-mono text-xs opacity-80",children:[e.pct,"%"]})]}),s.jsx(RN,{value:e.pct,className:"w-full h-2"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 font-medium truncate",children:e.label})]}):null}function tfe({vendors:e,onClose:t,onSuccess:r,apiBase:n=Kt,aiPaths:a={health:"/ai/health",preview:"/imports/ai-preview-stream",upload:"/imports/ai-upload"}}){const[o,i]=u.useState(!1);u.useEffect(()=>{i(!0)},[]);const[l,c]=u.useState("upload"),[d,f]=u.useState("initial"),[h,m]=u.useState(!0),[p,g]=u.useState("openai"),[x,b]=u.useState(null),[y,v]=u.useState(""),[w,j]=u.useState(""),[N,S]=u.useState(!1),[k,_]=u.useState(null),[C,E]=u.useState("all"),[T,A]=u.useState(null),[W,P]=u.useState(""),[te,le]=u.useState(""),[K,D]=u.useState(!0),[I,R]=u.useState(!1),[q,z]=u.useState("existing"),[Z,ce]=u.useState(""),[F,J]=u.useState(e),[L,U]=u.useState([]),[$,M]=u.useState(""),[re,de]=u.useState([]),[Ee,Ze]=u.useState(ev),[rt,Xe]=u.useState(!1),[et,Je]=u.useState(""),[We,ee]=u.useState({}),[X,Te]=u.useState(!1),be=u.useRef(null),[H,ge]=u.useState(null),[Ne,xe]=u.useState(null),Re=u.useRef(!1),at=u.useMemo(()=>Object.values(We).filter(Boolean).length,[We]),nt=u.useMemo(()=>re.length>0&&at===re.length,[re,at]),ot=u.useMemo(()=>at>0&&!nt,[at,nt]),Oe=u.useCallback(oe=>{ee(He=>({...He,[oe]:!He[oe]}))},[]),Ht=u.useCallback(()=>{if(nt)ee({});else{const oe={};re.forEach((He,Ue)=>{oe[Ue]=!0}),ee(oe)}},[nt,re]),Qt=u.useCallback(()=>{at!==0&&window.confirm(`Are you sure you want to delete ${at} selected line(s)?`)&&(de(oe=>oe.filter((He,Ue)=>!We[Ue])),ee({}))},[at,We]),Pr=()=>{N&&!window.confirm(`A parsing/upload process is currently running.

Are you sure you want to close? All progress will be lost.`)||t()};u.useEffect(()=>{fetch(Su(n,a.health)).then(oe=>oe.ok?oe.json():null).then(A).catch(()=>A(null)),fetch(Su(n,"/categories"),{credentials:"include"}).then(oe=>oe.ok?oe.json():[]).then(oe=>U((oe||[]).sort((He,Ue)=>He.label.localeCompare(Ue.label)))).catch(()=>U([])),fetch(Su(n,"/vendors"),{credentials:"include"}).then(oe=>oe.ok?oe.json():e).then(J).catch(()=>J(e))},[]);const ht=u.useMemo(()=>F.find(oe=>oe.id===y)||null,[F,y]);T!=null&&T.configured&&(T!=null&&T.has_key)&&(T!=null&&T.genai_imported);async function Mr(){if(q==="existing"){if(!y)throw new Error("Select a vendor.");return y}const oe=Z.trim();if(!oe)throw new Error("Enter a vendor name.");const He=await fetch(Su(n,"/vendors"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:oe})});if(!He.ok)throw new Error(await He.text());const Ue=await He.json();return J(St=>St.some(it=>it.id===Ue.id)?St:[...St,Ue]),v(Ue.id),Ue.id}const Ir=u.useCallback(async()=>{var oe,He,Ue,St,it,Wt,ye;if(!x){alert("Choose a CSV or XLSX file.");return}if(x.size>50*1024*1024){alert("File is too large (Maximum 50MB). Please split the file.");return}if(!w.trim()){alert("Please enter a PO/Lot #.");return}S(!0),ge({pct:1,label:"Initializing..."}),xe(null),_(null),E("all");try{const Ce=await Mr(),Be=new FormData;Be.append("po_file",x),Be.append("expand_units",String(K)),Be.append("limit_rows","8000"),Be.append("require_ai",String(h)),Be.append("ai_model",p);const Ie=`${n}${a.preview}/${encodeURIComponent(Ce)}`,st=await fetch(Ie,{method:"POST",body:Be});if(!st.ok||!st.body)throw new Error(`Server error: ${st.status} ${st.statusText}`);const Ot=st.body.getReader(),Yr=new TextDecoder;let Vt="";for(;;){const{done:Xr,value:$n}=await Ot.read();if(Xr)break;Vt+=Yr.decode($n,{stream:!0});let Ya;for(;(Ya=Vt.indexOf(`

`))!==-1;){const Us=Vt.slice(0,Ya).trim();if(Vt=Vt.slice(Ya+2),!Us||Us.startsWith(":"))continue;const Fn=Us.split(`
`).map(wt=>wt.trim()).find(wt=>wt.startsWith("data:"));if(!Fn)continue;const ac=Fn.replace(/^data:\s*/,"");try{const wt=JSON.parse(ac);if(wt.type==="progress")ge({pct:typeof wt.pct=="number"?wt.pct:1,label:wt.label||"Working"});else if(wt.type==="complete"){const xa={ok:!0,vendor_id:Ce,file_name:x.name,new_po_lines:((oe=wt.payload)==null?void 0:oe.new_po_lines)||[],existing_pos_summary:((He=wt.payload)==null?void 0:He.existing_pos_summary)||[],headers_seen:((Ue=wt.payload)==null?void 0:Ue.headers_seen)||[],ai_notes:(St=wt.payload)==null?void 0:St.ai_notes,ai_model:(it=wt.payload)==null?void 0:it.ai_model};P(((Wt=wt.payload)==null?void 0:Wt.ai_model)||""),le(((ye=wt.payload)==null?void 0:ye.ai_notes)||""),_(xa),f("preview"),S(!1),ge(null);return}else{if(wt.type==="error")throw new Error(wt.message||"Server error");wt.type==="log"?console.debug("[AI LOG]",wt.message||wt.msg||wt.text||wt):wt.type==="ping"&&wt.label&&ge(xa=>xa?{...xa,label:wt.label}:null)}}catch(wt){console.error("Failed to parse stream event:",ac,wt)}}}S(!1),ge(null),xe("Preview stream ended unexpectedly.")}catch(Ce){xe(Ce.message||"An unknown error occurred during preview."),S(!1),ge(null)}},[x,w,y,Z,q,K,n,a.preview]);async function Nt(){var He;if(!k||(k.new_po_lines||[]).length===0){alert("Nothing to commit. Run Preview first.");return}if(!w.trim()){alert("Please enter a PO/Lot #.");return}if(q==="existing"&&!y||q==="new"&&!Z.trim()){alert("Please choose or create a vendor.");return}S(!0);const oe=Ue=>({po_number:w.trim(),vendor_id:q==="existing"?y:void 0,vendor_name:q==="new"?Z.trim():void 0,allow_append:Ue,expand_units:K,category_id:$||void 0,lines:k.new_po_lines});try{let Ue=await fetch(`${n}/imports/manual-commit`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe(!1))});if(Ue.status===409){const it=await Ue.json().catch(()=>({})),Wt=String(((He=it==null?void 0:it.detail)==null?void 0:He.id)||(it==null?void 0:it.id)||"");if(window.confirm(`A PO with this number already exists for this vendor.

Append these lines to it?`))Ue=await fetch(`${n}/imports/manual-commit`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe(!0))});else{S(!1);return}}if(!Ue.ok){const it=await Ue.text();throw new Error(`Commit failed (${Ue.status}): ${it}`)}const St=await Ue.json();alert(`Committed ${St.created_lines??0} lines to PO ${w}.`),await r(String(St.po_id)),t()}catch(Ue){alert("Commit failed: "+((Ue==null?void 0:Ue.message)||"unknown error")),S(!1)}}async function fe(){var oe;if(!w.trim()){alert("Please enter a PO/Lot #.");return}S(!0);try{const He=await Mr(),Ue=await fetch(Su(n,"/purchase_orders"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({po_number:w.trim(),vendor_id:He})});if(Ue.status===409){let it="";try{const Wt=await Ue.json();it=String(((oe=Wt==null?void 0:Wt.detail)==null?void 0:oe.id)||(Wt==null?void 0:Wt.id)||"")}catch{}it&&window.confirm("A PO with this number already exists. Open it?")&&(r(it),t());return}if(!Ue.ok)throw new Error(await Ue.text());const St=await Ue.json();alert(`Created PO ${w} (no lines yet).`),r(String(St.id)),t()}catch(He){alert("Create failed: "+((He==null?void 0:He.message)||"unknown error"))}finally{S(!1)}}const Se=oe=>{var Be;oe.preventDefault();const{name:He,qty:Ue,unitCost:St,msrp:it,upc:Wt}=Ee;if(!He.trim())return alert("Product name cannot be empty.");const ye=parseInt(Ue,10);if(!Number.isFinite(ye)||ye<=0)return alert("Quantity must be a positive number.");const Ce={product_name_raw:He.trim(),qty:ye,unit_cost:St?Number(St.replace(/[^0-9.]/g,"")):null,msrp:it?Number(it.replace(/[^0-9.]/g,"")):null,upc:Wt.trim()||void 0,splitLine:I};de(Ie=>[...Ie,Ce]),Ze(ev),(Be=document.getElementById("manual-input-name"))==null||Be.focus()};function pe(oe){return oe?oe.replace(/Intel\(R\)/yi,"").replace(/Core\(TM\)/yi,"").replace(/CPU/yi,"").replace(/@.*/,"").replace(/1\dth Gen/yi,"").replace(/Processor/yi,"").trim():""}const _e=oe=>{de(He=>He.filter((Ue,St)=>St!==oe)),ee(He=>{const Ue={...He};return delete Ue[oe],Ue})},qe=u.useMemo(()=>{const oe=re.reduce((Ue,St)=>Ue+(St.unit_cost||0)*(St.qty||1),0),He=re.reduce((Ue,St)=>Ue+(St.qty||1),0);return{cost:oe,items:He}},[re]);u.useEffect(()=>{k&&Re.current&&(Re.current=!1,Nt())},[k,Nt]);const Q=()=>{const{name:oe,unitCost:He,msrp:Ue}=Ee;if(!oe.trim())return alert("Product name cannot be empty.");const St=et.split(`
`).map(Wt=>Wt.trim()).filter(Boolean);if(St.length===0)return alert("Please paste at least one UPC.");const it=St.map(Wt=>({product_name_raw:oe.trim(),qty:1,unit_cost:He?Number(He.replace(/[^0-9.]/g,"")):null,msrp:Ue?Number(Ue.replace(/[^0-9.]/g,"")):null,upc:Wt,splitLine:!1}));de(Wt=>[...Wt,...it]),Ze(ev),Xe(!1),Je("")},me=u.useMemo(()=>et.split(`
`).map(oe=>oe.trim()).filter(Boolean).length,[et]),ke=oe=>{oe.preventDefault(),Te(!0)},Ge=oe=>{oe.preventDefault(),Te(!1)},Ct=oe=>{oe.preventDefault(),Te(!1);const He=oe.dataTransfer.files;He&&He[0]&&b(He[0])},Tt=oe=>{oe.target.files&&oe.target.files[0]&&b(oe.target.files[0])},gt=u.useMemo(()=>{if(!(k!=null&&k.new_po_lines))return null;const oe=k.new_po_lines,He=oe.reduce((ye,Ce)=>ye+(Ce.qty||0),0),Ue=oe.reduce((ye,Ce)=>ye+(Ce.unit_cost||0)*(Ce.qty||1),0),St=oe.filter(ye=>!ye.unit_cost||ye.unit_cost===0),it=oe.filter(ye=>!ye.product_name_raw||ye.product_name_raw.trim()===""),Wt=oe.filter(ye=>ye.product_name_raw&&/[^a-zA-Z0-9\s\-\.\(\)]/.test(ye.product_name_raw)&&ye.product_name_raw.length>50);return{totalQty:He,totalCost:Ue,zeroCostLines:St,missingNames:it,weirdChars:Wt}},[k]),Ut=u.useMemo(()=>k!=null&&k.new_po_lines?C==="all"?k.new_po_lines:k.new_po_lines.filter(oe=>!oe.unit_cost||oe.unit_cost===0||!oe.product_name_raw||oe.product_name_raw.trim()===""):[],[k,C]),[,Hr]=u.useState(0),ln=(oe,He,Ue)=>{oe[He]=Ue,Hr(St=>St+1),k&&_({...k})};return o?Zt.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",role:"dialog",children:s.jsxs("div",{className:`bg-background rounded-xl w-[min(1400px,96vw)] shadow-2xl overflow-hidden transition-all duration-300 ease-in-out flex flex-col ${d==="initial"?"max-h-[85vh]":"h-[90vh]"}`,children:[d==="initial"&&s.jsx("div",{className:"p-6 pb-4 border-b bg-background dark:bg-card flex-shrink-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(nk,{className:"h-6 w-6 text-primary"}),s.jsx("h3",{id:"upload-po-title",className:"text-xl font-bold",children:l==="upload"?"Upload New PO Sheet":"Create New Purchase Order (Manual Entry)"})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 sm:mt-0",children:[s.jsxs("div",{className:"inline-flex rounded-full border bg-muted p-0.5 text-sm",children:[s.jsx("button",{disabled:N,className:`px-3 py-1 rounded-full transition-colors ${l==="upload"?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:bg-muted/70"} ${N?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{c("upload"),f("initial"),_(null),ge(null),xe(null)},children:"Upload File"}),s.jsx("button",{disabled:N,className:`px-3 py-1 rounded-full transition-colors ${l==="manual"?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:bg-muted/70"} ${N?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{c("manual"),f("initial"),_(null),de([])},children:"Manual Entry"})]}),s.jsx(V,{variant:"ghost",size:"icon",onClick:Pr,children:s.jsx(Mt,{className:"h-5 w-5"})})]})]})}),s.jsxs("div",{className:`flex-1 flex flex-col overflow-hidden ${d==="initial"?"p-6 overflow-y-auto":""}`,children:[d==="initial"&&s.jsxs("div",{className:"bg-card p-5 rounded-xl shadow-sm border space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 items-start",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ke,{className:"text-sm font-semibold",children:"Vendor (Required)"}),s.jsxs("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>z("existing"),className:`px-2 py-0.5 text-xs font-medium rounded-md transition-all ${q==="existing"?"bg-background dark:bg-slate-700 shadow text-primary dark:text-white":"text-muted-foreground hover:text-foreground"}`,children:"Existing"}),s.jsx("button",{onClick:()=>z("new"),className:`px-2 py-0.5 text-xs font-medium rounded-md transition-all ${q==="new"?"bg-background dark:bg-slate-700 shadow text-primary dark:text-white":"text-muted-foreground hover:text-foreground"}`,children:"Create New"})]})]}),q==="existing"?s.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:y,onChange:oe=>v(oe.target.value),children:[s.jsx("option",{value:"",children:" Select Vendor "}),F.map(oe=>s.jsxs("option",{value:oe.id,children:[oe.name," (",oe.po_count," POs)"]},oe.id))]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(we,{className:"rounded-lg",value:Z,onChange:oe=>ce(oe.target.value),placeholder:"Enter new vendor name"}),s.jsx(V,{variant:"secondary",size:"icon",onClick:async()=>{try{await Mr()}catch(oe){alert((oe==null?void 0:oe.message)||"Could not create vendor")}},title:"Create vendor",children:s.jsx(qc,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Ke,{className:"text-sm font-semibold block",children:"PO / Lot # (Required)"}),s.jsx(we,{className:"rounded-lg h-10",value:w,onChange:oe=>j(oe.target.value),placeholder:"e.g., 22150"})]})]}),l==="upload"&&s.jsxs("div",{className:"pt-4 border-t",children:[(H||Ne)&&s.jsx("div",{className:"mb-4",children:s.jsx(efe,{progress:H,error:Ne})}),!(H||Ne)&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 items-start",children:[s.jsxs("div",{children:[s.jsx(Ke,{className:"text-sm font-semibold block mb-1.5",children:"Manifest File"}),x?s.jsxs("div",{className:"flex items-center justify-between w-full p-3 bg-muted/60 dark:bg-muted/20 border rounded-lg h-32",children:[s.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[s.jsx("div",{className:"p-2 bg-background rounded border",children:s.jsx(x7,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1 truncate",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:x.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Zue(x.size)})]})]}),s.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>b(null),children:s.jsx(Mt,{className:"h-4 w-4"})})]}):s.jsxs("div",{onDragOver:ke,onDragLeave:Ge,onDrop:Ct,onClick:()=>{var oe;return(oe=be.current)==null?void 0:oe.click()},className:`relative flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer transition-colors ${X?"border-primary bg-primary/10":"border-border hover:border-primary/50 dark:hover:bg-muted/20"}`,children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-3 pb-4 text-center",children:[s.jsx(nk,{className:"w-6 h-6 mb-2 text-muted-foreground"}),s.jsxs("p",{className:"mb-1 text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-semibold text-primary",children:"Click to upload"})," or drag"]})]}),s.jsx("input",{ref:be,type:"file",className:"hidden",accept:".csv,.xlsx",onChange:Tt})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(Ke,{className:"text-sm font-semibold block mb-1.5",children:["Default Category ",s.jsx("span",{className:"text-muted-foreground font-normal text-xs ml-1",children:"(Optional)"})]}),s.jsxs("select",{className:"w-full h-10 rounded-lg border bg-background px-3 text-sm",value:$,onChange:oe=>M(oe.target.value),children:[s.jsx("option",{value:"",children:" Auto-guess on server "}),L.map(oe=>s.jsxs("option",{value:oe.id,children:[oe.label,oe.prefix?` (${oe.prefix})`:""]},oe.id))]})]}),s.jsxs("div",{className:"rounded-lg border bg-muted/20 p-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ke,{htmlFor:"use-ai-switch",className:"cursor-pointer pr-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pb,{className:`h-4 w-4 ${h?"text-purple-600":"text-muted-foreground"}`}),s.jsx("span",{className:"font-semibold text-sm",children:"Use AI Parsing"})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:"Slower but smarter. Disable for simple CSVs."})]}),s.jsx(Ba,{id:"use-ai-switch",checked:h,onCheckedChange:m})]}),h&&s.jsxs("div",{className:"pt-2 border-t border-border/50 animate-in slide-in-from-top-1 fade-in",children:[s.jsx(Ke,{className:"text-xs font-medium block mb-1.5",children:"AI Model"}),s.jsxs("select",{className:"w-full h-8 rounded-md border bg-background px-2 text-xs",value:p,onChange:oe=>g(oe.target.value),children:[s.jsx("option",{value:"openai",children:"OpenAI (Fast & Standard)"}),s.jsx("option",{value:"qwen",children:"Qwen 2.5 (Good Logic)"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg border",children:[s.jsxs(Ke,{htmlFor:"expand-units-switch",className:"cursor-pointer pr-4",children:[s.jsx("span",{className:"font-semibold block text-sm",children:"Expand Units"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Split quantity >1 into rows"})]}),s.jsx(Ba,{id:"expand-units-switch",checked:K,onCheckedChange:D})]})]})]})]}),l==="manual"&&s.jsxs("div",{className:"pt-6 border-t space-y-6",children:[" ",s.jsxs("div",{children:[" ",s.jsx("h3",{className:"text-lg font-semibold",children:"Line Item Entry"})," ",s.jsx("p",{className:"text-sm text-muted-foreground",children:' Add items one by one, or use the "Bulk Add" for items with unique UPCs. '})," "]})," ",s.jsxs("form",{onSubmit:Se,className:"p-4 border rounded-lg bg-muted/40 dark:bg-muted/10 space-y-4",children:[" ",s.jsxs("div",{className:"w-full",children:[" ",s.jsx(Ke,{htmlFor:"manual-input-name",className:"text-sm font-medium",children:"Product Name *"})," ",s.jsx(we,{id:"manual-input-name",placeholder:"e.g., Apple MacBook Pro 14-inch M3",value:Ee.name,onChange:oe=>Ze(He=>({...He,name:oe.target.value})),className:"mt-1"})," "]})," ",s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[" ",s.jsxs("div",{children:[" ",s.jsx(Ke,{className:"text-sm font-medium",children:"Quantity *"})," ",s.jsx(we,{type:"number",min:1,value:Ee.qty,onChange:oe=>Ze(He=>({...He,qty:oe.target.value})),className:"mt-1"})," "]})," ",s.jsxs("div",{children:[" ",s.jsx(Ke,{className:"text-sm font-medium",children:"Unit Cost ($)"})," ",s.jsx(we,{inputMode:"decimal",placeholder:"e.g., 850.00",value:Ee.unitCost,onChange:oe=>Ze(He=>({...He,unitCost:oe.target.value})),className:"mt-1"})," "]})," ",s.jsxs("div",{children:[" ",s.jsx(Ke,{className:"text-sm font-medium",children:"MSRP ($)"})," ",s.jsx(we,{inputMode:"decimal",placeholder:"e.g., 1599.99",value:Ee.msrp,onChange:oe=>Ze(He=>({...He,msrp:oe.target.value})),className:"mt-1"})," "]})," ",s.jsxs("div",{children:[" ",s.jsx(Ke,{className:"text-sm font-medium",children:"UPC"})," ",s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[" ",s.jsx(we,{placeholder:"Single UPC",value:Ee.upc,onChange:oe=>Ze(He=>({...He,upc:oe.target.value}))})," ",s.jsxs(V,{type:"button",variant:"outline",size:"sm",className:"h-9",onClick:()=>Xe(!0),title:"Add multiple items with unique UPCs",children:[" ",s.jsx(sk,{className:"h-4 w-4 mr-1.5"})," Bulk Add "]})," "]})," "]})," "]})," ",s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[" ",s.jsxs("div",{className:"flex items-center space-x-2",children:[" ",s.jsx(Ba,{id:"manual-expand-toggle",checked:I,onCheckedChange:R})," ",s.jsx(Ke,{htmlFor:"manual-expand-toggle",className:"cursor-pointer",children:"Split this line's quantity into individual units"})," "]})," ",s.jsxs(V,{type:"submit",className:"w-40",children:[s.jsx(qc,{className:"h-4 w-4 mr-2"})," Add to Staging"]})," "]})," "]})," ",s.jsx("hr",{className:"border-dashed"})," ",s.jsxs("div",{children:[" ",s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[" ",s.jsxs("h3",{className:"text-lg font-semibold",children:["Staged Lines (",re.length,")"]})," ",at>0&&s.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 border rounded-lg px-2 py-1",children:[" ",s.jsxs("span",{className:"text-sm font-medium",children:[at," selected"]})," ",s.jsxs(V,{variant:"ghost",size:"sm",onClick:Qt,className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:[" ",s.jsx(Tr,{className:"h-4 w-4 mr-1"})," Delete "]})," "]})," "]})," ",re.length===0?s.jsxs("div",{className:"text-center py-10 border-2 border-dashed rounded-lg mt-2 flex flex-col items-center",children:[" ",s.jsx(ok,{className:"h-10 w-10 text-muted-foreground/50 mb-3"})," ",s.jsx("h4",{className:"font-semibold text-muted-foreground",children:"The staging area is empty"})," ",s.jsx("p",{className:"text-sm text-muted-foreground/80",children:"Use the form above to add lines to this purchase order."})," "]}):s.jsxs("div",{className:"border rounded-lg max-h-[40vh] overflow-y-auto mt-2",children:[" ",s.jsxs("table",{className:"w-full text-sm",children:[" ",s.jsxs("thead",{className:"bg-muted sticky top-0 z-10",children:[" ",s.jsxs("tr",{children:[" ",s.jsxs("th",{className:"p-2 w-12 text-center",children:[" ",s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",checked:nt,ref:oe=>{oe&&(oe.indeterminate=ot)},onChange:Ht})," "]})," ",s.jsx("th",{className:"p-2 text-left font-medium",children:"Product Name"})," ",s.jsx("th",{className:"p-2 text-center font-medium w-24",children:"Qty"})," ",s.jsx("th",{className:"p-2 text-right font-medium w-24",children:"Unit Cost"})," ",s.jsx("th",{className:"p-2 text-right font-medium w-24",children:"MSRP"})," ",s.jsx("th",{className:"p-2 text-left font-medium w-32",children:"UPC"})," ",s.jsx("th",{className:"p-2 w-16 text-center font-medium",children:"Action"})," "]})," "]})," ",s.jsxs("tbody",{children:[" ",re.map((oe,He)=>s.jsxs("tr",{className:`border-b last:border-0 ${We[He]?"bg-primary/10":"even:bg-muted/30 even:dark:bg-muted/10"}`,children:[" ",s.jsxs("td",{className:"p-2 text-center",children:[" ",s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",checked:!!We[He],onChange:()=>Oe(He)})," "]})," ",s.jsx("td",{className:"p-2 font-medium",children:oe.product_name_raw})," ",s.jsxs("td",{className:"p-2 text-center",children:[" ",oe.qty," ",oe.splitLine&&(oe.qty??0)>1&&s.jsx("span",{title:"This line will be split into individual units upon creation",className:"ml-2 text-xs font-semibold text-blue-600 bg-blue-100 px-1.5 py-0.5 rounded-full",children:" Split "})," "]})," ",s.jsx("td",{className:"p-2 text-right font-mono",children:rl(oe.unit_cost)})," ",s.jsx("td",{className:"p-2 text-right font-mono",children:rl(oe.msrp)})," ",s.jsx("td",{className:"p-2 font-mono",children:oe.upc||""})," ",s.jsxs("td",{className:"p-2 text-center",children:[" ",s.jsx(V,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>_e(He),title:"Remove line",children:s.jsx(Tr,{className:"h-4 w-4 text-red-500"})})," "]})," "]},He))," "]})," "]})," "]})," ",re.length>0&&s.jsxs("div",{className:"text-sm font-semibold mt-2 text-right",children:["Total Staged Units: ",qe.items.toLocaleString(),"  Est. Total Cost: ",rl(qe.cost)]})," "]})," "]})]}),d==="preview"&&k&&s.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[s.jsxs("div",{className:"flex-shrink-0 px-5 py-3 border-b bg-background dark:bg-card flex items-center justify-between shadow-sm z-20 h-16",children:[s.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md text-primary",children:s.jsx(gb,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wide",children:"Vendor"}),s.jsx("p",{className:"font-bold text-foreground leading-tight",children:(ht==null?void 0:ht.name)||Z})]})]}),s.jsx("div",{className:"w-px h-8 bg-border/60"}),s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md text-primary",children:s.jsx(Ci,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wide",children:"PO Number"}),s.jsx("p",{className:"font-bold text-foreground leading-tight",children:w})]})]}),s.jsx("div",{className:"w-px h-8 bg-border/60"}),s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"p-1.5 bg-blue-50 dark:bg-blue-900/30 rounded-md text-blue-600 dark:text-blue-300",children:s.jsx(g7,{className:"h-4 w-4"})}),s.jsxs("div",{className:"hidden lg:block",children:[s.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wide",children:"Source File"}),s.jsx("p",{className:"font-medium text-foreground leading-tight truncate max-w-[150px]",title:k.file_name,children:k.file_name})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(V,{variant:"outline",onClick:Pr,disabled:N,className:"border-border",children:"Cancel"}),s.jsx(V,{onClick:Nt,disabled:N||!k||((k==null?void 0:k.new_po_lines)||[]).length===0,className:"bg-green-600 hover:bg-green-700 text-white font-bold shadow-md",children:N?s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"h-4 w-4 mr-2 animate-spin"})," Saving..."]}):`Commit ${k.new_po_lines.length} Lines`})]})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden bg-muted/20 min-h-0",children:[s.jsxs("div",{className:"flex-1 flex flex-col bg-card min-w-0 shadow-sm m-4 mr-2 rounded-xl border overflow-hidden",children:[s.jsxs("div",{className:"flex-shrink-0 border-b px-4 py-2 bg-card flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[s.jsx(ok,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-semibold",children:"Parsed Line Items"}),s.jsx("span",{className:"bg-muted text-muted-foreground px-2 py-0.5 rounded-full text-xs font-medium",children:k.new_po_lines.length})]}),C==="errors"&&s.jsxs("div",{className:"flex items-center gap-2 bg-red-50 dark:bg-red-950/50 text-red-700 dark:text-red-200 px-3 py-1 rounded-md text-xs font-medium animate-pulse",children:[s.jsx(Is,{className:"h-3.5 w-3.5"}),"Reviewing Issues",s.jsx("button",{onClick:()=>E("all"),className:"ml-2 hover:underline font-bold",children:"Clear Filter"})]})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("table",{className:"w-full table-fixed text-sm relative border-collapse",children:[s.jsxs("colgroup",{children:[s.jsx("col",{className:"w-[50%]"}),s.jsx("col",{className:"w-[16%]"}),s.jsx("col",{className:"w-[8%]"}),s.jsx("col",{className:"w-[13%]"}),s.jsx("col",{className:"w-[13%]"})]}),s.jsx("thead",{className:"bg-muted/50 sticky top-0 z-10 shadow-sm ring-1 ring-black/5",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-left font-semibold text-muted-foreground border-b bg-muted/50 pl-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vs,{className:"h-3.5 w-3.5"}),"Product & Specs"]})}),s.jsx("th",{className:"p-3 text-left font-semibold text-muted-foreground border-b bg-muted/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($s,{className:"h-3.5 w-3.5"}),"Category"]})}),s.jsx("th",{className:"p-3 text-center font-semibold text-muted-foreground border-b bg-muted/50",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ua,{className:"h-3.5 w-3.5"}),"Qty"]})}),s.jsx("th",{className:"p-3 text-right font-semibold text-muted-foreground border-b bg-muted/50",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(mr,{className:"h-3.5 w-3.5"}),"Cost"]})}),s.jsx("th",{className:"p-3 text-right font-semibold text-muted-foreground border-b bg-muted/50 pr-6",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(mr,{className:"h-3.5 w-3.5"}),"MSRP"]})})]})}),s.jsxs("tbody",{className:"bg-card divide-y divide-border",children:[(Ut||[]).slice(0,300).map((oe,He)=>{const Ue=!oe.unit_cost||oe.unit_cost===0,St=!oe.product_name_raw,it=oe.specs||{},Wt=pe(it.processor||it.cpu),ye=it.ram||it.memory,Ce=it.storage||it.hdd||it.ssd,Be=[it.screen,it.color,it.batteryHealth].filter(Boolean).join("  "),Ie=Wt||ye||Ce||Be;return s.jsxs("tr",{className:"hover:bg-muted/50 transition-colors group",children:[s.jsx("td",{className:"p-3 pl-4 border-r border-transparent group-hover:border-border align-top",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("input",{className:`w-full bg-transparent font-medium border border-transparent hover:border-border focus:border-primary focus:ring-2 focus:ring-primary/20 rounded-md px-2 py-1 text-sm transition-all ${St?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-900 placeholder:text-red-400":"text-foreground"}`,defaultValue:oe.product_name_raw||"",placeholder:St?"Missing Name...":"",onChange:st=>ln(oe,"product_name_raw",st.target.value)}),Ie&&s.jsxs("div",{className:"flex flex-wrap items-center gap-2 pl-2",children:[Wt&&s.jsxs(kt,{variant:"secondary",className:"h-5 px-1.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border-slate-200 dark:border-slate-700 font-medium text-[10px] gap-1",children:[s.jsx(ki,{className:"h-3 w-3 opacity-70"})," ",Wt]}),ye&&s.jsxs(kt,{variant:"secondary",className:"h-5 px-1.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border-slate-200 dark:border-slate-700 font-medium text-[10px] gap-1",children:[s.jsx(bd,{className:"h-3 w-3 opacity-70"})," ",ye]}),Ce&&s.jsxs(kt,{variant:"secondary",className:"h-5 px-1.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300 border-slate-200 dark:border-slate-700 font-medium text-[10px] gap-1",children:[s.jsx(vd,{className:"h-3 w-3 opacity-70"})," ",Ce]}),Be&&s.jsx("span",{className:"text-[10px] text-muted-foreground ml-1",children:Be})]}),oe.item_notes&&s.jsxs("div",{className:"flex items-start gap-2 mt-1 mx-1 p-2 rounded-md bg-amber-50 dark:bg-amber-950/30 border border-amber-100 dark:border-amber-900/50",children:[s.jsx(hh,{className:"h-3.5 w-3.5 text-amber-600 dark:text-amber-500 mt-0.5 shrink-0"}),s.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-300 leading-snug",children:oe.item_notes})]})]})}),s.jsx("td",{className:"p-2 border-r border-transparent group-hover:border-border align-top pt-3",children:s.jsx("div",{className:"bg-muted text-muted-foreground px-2 py-1 rounded-md border border-border inline-flex items-center gap-1.5 whitespace-nowrap font-medium text-xs max-w-full overflow-hidden text-ellipsis",children:oe.category_guess||"Uncategorized"})}),s.jsx("td",{className:"p-2 text-center font-medium text-foreground border-r border-transparent group-hover:border-border align-top pt-3.5",children:oe.qty??""}),s.jsx("td",{className:"p-2 text-right font-mono border-r border-transparent group-hover:border-border align-top pt-3",children:s.jsxs("div",{className:`relative rounded-md overflow-hidden transition-all ${Ue?"ring-1 ring-amber-300 dark:ring-amber-700 bg-amber-50 dark:bg-amber-950/20":"hover:bg-muted"}`,children:[s.jsx("span",{className:`absolute left-2 top-1/2 -translate-y-1/2 text-xs pointer-events-none ${Ue?"text-amber-600 dark:text-amber-400":"text-muted-foreground"}`,children:"$"}),s.jsx("input",{className:`w-full text-right bg-transparent border-none focus:ring-2 focus:ring-primary/20 py-1.5 pr-3 pl-5 text-sm outline-none ${Ue?"text-amber-800 dark:text-amber-200 font-bold":"text-foreground"}`,defaultValue:oe.unit_cost||"",placeholder:"0.00",type:"number",step:"0.01",onChange:st=>ln(oe,"unit_cost",parseFloat(st.target.value))})]})}),s.jsx("td",{className:"p-2 text-right font-mono text-muted-foreground text-sm pr-6 align-top pt-3.5",children:rl(oe.msrp)})]},He)}),(Ut||[]).length>300&&s.jsx("tr",{children:s.jsxs("td",{colSpan:5,className:"p-4 text-center text-sm text-muted-foreground bg-muted/20",children:["... and ",s.jsx("strong",{children:(Ut.length-300).toLocaleString()})," more lines hidden for performance ..."]})})]})]})})]}),s.jsxs("div",{className:"w-80 flex-shrink-0 bg-card border-l border-border m-4 ml-0 rounded-xl shadow-sm flex flex-col overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b bg-muted/20",children:s.jsxs("h4",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[s.jsx(pb,{className:"h-4 w-4 text-purple-600"}),"Import Analysis"]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 rounded-lg border bg-card shadow-sm",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-muted-foreground font-semibold mb-1",children:"Estimated Total Value"}),s.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400 tracking-tight",children:rl(gt==null?void 0:gt.totalCost)})]}),s.jsxs("div",{className:"p-3 rounded-lg border bg-card shadow-sm",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-muted-foreground font-semibold mb-1",children:"Total Units Count"}),s.jsx("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400 tracking-tight",children:gt==null?void 0:gt.totalQty})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h5",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Data Validation"}),!(gt!=null&&gt.zeroCostLines.length)&&!(gt!=null&&gt.missingNames.length)?s.jsxs("div",{className:"flex items-start gap-3 text-sm text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-950/30 p-3 rounded-lg border border-green-100 dark:border-green-900",children:[s.jsx(fs,{className:"h-5 w-5 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"All Clear"}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-0.5",children:"All lines have names and valid costs."})]})]}):s.jsxs("div",{className:"space-y-2",children:[gt.zeroCostLines.length>0&&s.jsx("button",{onClick:()=>E(C==="errors"?"all":"errors"),className:`w-full flex items-center justify-between text-sm p-3 rounded-lg border transition-all text-left group ${C==="errors"?"bg-amber-50 dark:bg-amber-950/40 border-amber-300 dark:border-amber-700 ring-1 ring-amber-200 dark:ring-amber-800":"bg-card border-border hover:border-amber-300 hover:shadow-sm"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-1.5 bg-amber-100 dark:bg-amber-900 text-amber-700 dark:text-amber-200 rounded-md",children:s.jsx(Is,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-foreground group-hover:text-amber-800 dark:group-hover:text-amber-200",children:"Missing Costs"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[gt.zeroCostLines.length," items at $0.00"]})]})]})}),gt.missingNames.length>0&&s.jsx("button",{onClick:()=>E(C==="errors"?"all":"errors"),className:`w-full flex items-center justify-between text-sm p-3 rounded-lg border transition-all text-left group ${C==="errors"?"bg-red-50 dark:bg-red-950/40 border-red-300 dark:border-red-700 ring-1 ring-red-200 dark:ring-red-800":"bg-card border-border hover:border-red-300 hover:shadow-sm"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200 rounded-md",children:s.jsx(Is,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-foreground group-hover:text-red-800 dark:group-hover:text-red-200",children:"Missing Names"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[gt.missingNames.length," items blank"]})]})]})})]})]}),s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(C7,{className:"h-3 w-3"}),s.jsx("span",{children:"Parsing Meta"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Model:"}),s.jsx("span",{className:"font-mono bg-muted px-1 rounded",children:W})]}),k.headers_seen&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"block mb-1",children:"Mapped Columns:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:k.headers_seen.map(oe=>s.jsx("span",{className:"bg-muted border border-border px-1.5 py-0.5 rounded text-[10px] font-mono text-muted-foreground",children:oe},oe))})]})]})]})]})]})]})]})]}),d==="initial"&&s.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t bg-background rounded-b-xl shadow-inner flex-shrink-0",children:[s.jsx(V,{variant:"outline",onClick:Pr,disabled:N,children:"Cancel"}),l==="upload"?s.jsx(V,{onClick:Ir,disabled:N||!x||!w.trim()||q==="existing"&&!y||q==="new"&&!Z.trim(),className:"bg-primary hover:bg-primary/90 text-primary-foreground font-semibold",children:N?s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"h-4 w-4 mr-2 animate-spin"})," Working..."]}):"Next: Review & Commit"}):s.jsx(V,{onClick:async()=>{if(re.length>0)try{const oe=await Mr(),He=re.flatMap(Ue=>Ue.splitLine&&(Ue.qty??0)>1?Array.from({length:Ue.qty},()=>({...Ue,qty:1})):Ue);D(!1),Re.current=!0,_({ok:!0,vendor_id:oe,file_name:"Manual Entry",new_po_lines:He,existing_pos_summary:[]})}catch(oe){alert("Manual commit failed: "+((oe==null?void 0:oe.message)||"unknown error"))}else fe()},disabled:N||!w.trim()||q==="existing"&&!y||q==="new"&&!Z.trim(),className:"bg-primary hover:bg-primary/90 text-primary-foreground font-semibold",children:N?s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"h-4 w-4 mr-2 animate-spin"})," Creating"]}):re.length>0?`Create PO with ${re.length} Lines`:"Create Empty PO"})]})]})}),rt&&s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-background rounded-xl w-full max-w-lg shadow-2xl flex flex-col",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(sk,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Bulk Add Items with Unique UPCs"})]}),s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Xe(!1),children:s.jsx(Mt,{className:"h-5 w-5"})})]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-950/20 text-yellow-800 dark:text-yellow-200 text-sm space-y-1",children:[s.jsx("p",{className:"font-semibold",children:"The main form's quantity field will be ignored."}),s.jsx("p",{children:"The number of unique UPCs you paste below will determine the number of items created, each with a quantity of 1."})]}),s.jsxs("div",{className:"p-3 border rounded-lg bg-muted/50 text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Product Name:"})," ",Ee.name||s.jsx("span",{className:"text-red-500",children:"Please enter a name first"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Unit Cost:"})," ",rl(Number(Ee.unitCost)||null)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"MSRP:"})," ",rl(Number(Ee.msrp)||null)]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bulk-upc-textarea",className:"text-sm font-semibold block mb-2",children:"Paste UPCs (one per line)"}),s.jsx(Rh,{id:"bulk-upc-textarea",className:"h-48 font-mono text-sm",placeholder:`190199098428
190199098435
190199098442
...`,value:et,onChange:oe=>Je(oe.target.value)}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Found ",s.jsx("strong",{children:me})," unique UPCs."]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t bg-background rounded-b-xl",children:[s.jsx(V,{variant:"outline",onClick:()=>Xe(!1),children:"Cancel"}),s.jsxs(V,{onClick:Q,disabled:!Ee.name.trim()||me===0,children:[s.jsx(qc,{className:"h-4 w-4 mr-2"}),"Add ",me," Items"]})]})]})})]}),document.body):null}function rfe({open:e,onClose:t,po:r,vendors:n,allowVendorEdit:a=!1,onSaved:o}){const[i,l]=u.useState(r.po_number),[c,d]=u.useState(r.vendor_id),[f,h]=u.useState(!1),[m,p]=u.useState(!1);if(u.useEffect(()=>{p(!0)},[]),u.useEffect(()=>{e&&(l(r.po_number||""),d(r.vendor_id||""),h(!1))},[e,r]),!e||!m)return null;const g=async b=>{var v;b&&b.preventDefault();const y=(i||"").trim();if(y){h(!0);try{const w={};if(y!==(r.po_number||"")&&(w.po_number=y||null),a&&(c||"")!==(r.vendor_id||"")&&(w.vendor_id=c||null),Object.keys(w).length===0){t();return}await If(`/purchase_orders/${r.id}`,w),o==null||o({po_number:w.po_number??void 0,vendor_id:w.vendor_id??void 0,vendor_name:a&&w.vendor_id?(v=n.find(j=>j.id===w.vendor_id))==null?void 0:v.name:void 0}),t()}catch(w){console.error(w),alert("Failed to update PO: "+((w==null?void 0:w.message)||String(w)))}finally{h(!1)}}},x=(i||"").trim()!==(r.po_number||"")||a&&(c||"")!==(r.vendor_id||"");return Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"w-full max-w-md bg-card rounded-2xl shadow-2xl border overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-200",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:t,disabled:f,className:"absolute top-4 right-4 z-20 hover:bg-muted rounded-full",children:s.jsx(Mt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[s.jsx(Rr,{className:"h-20 w-20 border-4 border-muted/20 shadow-xl mb-6",children:s.jsx(Dr,{className:"bg-primary/5 text-primary",children:s.jsx($i,{className:"h-9 w-9"})})}),s.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Edit Purchase Order"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Update details for this PO."})]}),s.jsxs("form",{onSubmit:g,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"PO Number"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),s.jsx(we,{value:i,onChange:b=>l(b.target.value),className:"pl-9 bg-muted/20 border-muted-foreground/20 focus:bg-background transition-all h-11",placeholder:"e.g. PO-12345",autoFocus:!0,disabled:f})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"Vendor"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Wl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),s.jsxs("select",{disabled:!a||f,value:c,onChange:b=>d(b.target.value),className:"w-full pl-9 h-11 rounded-md border border-muted-foreground/20 bg-muted/20 px-3 text-sm focus:bg-background focus:ring-2 focus:ring-primary focus:outline-none transition-all appearance-none disabled:opacity-60 disabled:cursor-not-allowed cursor-pointer",children:[s.jsx("option",{value:"",children:" None "}),n.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none opacity-50",children:s.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),!a&&s.jsx("p",{className:"text-[10px] text-muted-foreground ml-1",children:'Vendor cannot be changed here. Use the "Move" action instead.'})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-8 pt-2",children:[s.jsx(V,{variant:"ghost",type:"button",onClick:t,disabled:f,className:"flex-1 h-11 text-muted-foreground hover:text-foreground",children:"Cancel"}),s.jsx(V,{type:"submit",disabled:f||!x||!i.trim(),className:"flex-1 h-11 shadow-lg shadow-primary/20 text-base",children:f?s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"mr-2 h-4 w-4"})," Save Changes"]})})]})]})]})]})}),document.body)}function nfe(e,t){const[r,n]=u.useState(e);return u.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function sfe(e){return e?new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}function h8(e){return e==null?"":e.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2})}function afe({open:e,onClose:t,onPickPO:r,onPickLine:n}){const[a,o]=u.useState(!1);u.useEffect(()=>{o(!0)},[]);const[i,l]=u.useState(""),[c,d]=u.useState(null),[f,h]=u.useState(!1),[m,p]=u.useState(null),[g,x]=u.useState(0),b=nfe(i,250),y=u.useRef(null),v=u.useRef([]),w=ue.useMemo(()=>c?[...c.pos.map(S=>({type:"po",data:S})),...c.lines.map(S=>({type:"line",data:S})),...c.vendors.map(S=>({type:"vendor",data:S}))]:[],[c]),j=u.useCallback(async S=>{if(S.trim().length<2){d(null),p(null);return}h(!0),p(null);try{const k=await Jt(`/search?q=${encodeURIComponent(S)}`);d(k)}catch{p("Search failed: Could not connect to the server."),d(null)}finally{h(!1),x(0)}},[]);u.useEffect(()=>{j(b)},[b,j]);const N=S=>{const k=w[S];k&&(k.type==="po"?r({id:k.data.id,po_number:k.data.po_number}):k.type==="line"?n(k.data.po_id,k.data.line_id):k.type==="vendor"&&console.log("Vendor selected, no action defined yet.",k.data),t())};return u.useEffect(()=>{const S=k=>{e&&(k.key==="ArrowDown"?(k.preventDefault(),x(_=>Math.min(_+1,w.length-1))):k.key==="ArrowUp"?(k.preventDefault(),x(_=>Math.max(_-1,0))):k.key==="Enter"?(k.preventDefault(),N(g)):k.key==="Escape"&&t())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[e,g,w,t]),u.useEffect(()=>{v.current=[]},[c]),u.useEffect(()=>{const S=v.current[g];S&&S.scrollIntoView({block:"nearest"})},[g]),u.useEffect(()=>{e||(l(""),d(null),p(null),h(!1))},[e]),!e||!a?null:Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-50 flex justify-center items-start pt-20 bg-black/60",onClick:t,children:s.jsxs("div",{className:"w-full max-w-2xl bg-card rounded-xl border shadow-2xl",role:"dialog",onClick:S=>S.stopPropagation(),children:[s.jsxs("div",{className:"relative flex items-center border-b",children:[s.jsx(Yt,{className:"absolute left-4 h-5 w-5 text-muted-foreground"}),s.jsx("input",{type:"text",value:i,onChange:S=>l(S.target.value),placeholder:"Search POs, products, vendors, Synergy IDs...",className:"w-full bg-transparent h-14 pl-12 pr-4 text-base outline-none",autoFocus:!0}),f&&s.jsx($t,{className:"animate-spin h-5 w-5 mr-4 text-muted-foreground"})]}),s.jsxs("div",{className:"max-h-[60vh] overflow-y-auto p-2",children:[m&&s.jsx("div",{className:"p-4 text-center text-rose-500",children:m}),!c&&!f&&!m&&s.jsx("div",{className:"p-8 text-center text-muted-foreground",children:b.length<2?"Enter at least 2 characters to search.":"No results found."}),c&&w.length===0&&!f&&s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:['No results found for "',b,'".']}),c&&s.jsx("ul",{ref:y,children:w.map((S,k)=>{const _=k>0?w[k-1]:null,C=!_||_.type!==S.type;return s.jsxs(ue.Fragment,{children:[C&&s.jsx("li",{className:"px-3 pt-3 pb-2 text-xs font-semibold text-muted-foreground uppercase",children:S.type==="po"?"Purchase Orders":S.type==="line"?"Products":"Vendors"}),s.jsxs(ofe,{ref:E=>v.current[k]=E,active:g===k,onClick:()=>N(k),children:[S.type==="po"&&s.jsx(lfe,{data:S.data}),S.type==="line"&&s.jsx(cfe,{data:S.data}),S.type==="vendor"&&s.jsx(ife,{data:S.data})]})]},`${S.type}-${S.data.id||S.data.line_id}`)})})]}),w.length>0&&s.jsxs("div",{className:"border-t p-2 text-xs text-muted-foreground flex items-center justify-between",children:[s.jsxs("span",{children:["Use / to navigate, ",s.jsx(d7,{className:"inline h-3 w-3 mx-1"})," to select."]}),s.jsx("button",{onClick:t,className:"px-2 py-1 rounded hover:bg-muted",children:"Esc"})]})]})}),document.body)}const ofe=ue.forwardRef(({children:e,active:t,...r},n)=>s.jsx("li",{ref:n,className:dt("flex items-center p-3 rounded-md cursor-pointer",t?"bg-primary/10 text-primary font-semibold":"hover:bg-muted/50"),...r,children:e}));function ife({data:e}){return s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx(Wl,{className:"h-5 w-5 mr-3 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:e.name}),s.jsxs("span",{className:"ml-auto text-sm text-muted-foreground",children:[e.po_count," POs"]})]})}function lfe({data:e}){return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ci,{className:"h-5 w-5 mr-3 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:e.po_number})]}),s.jsx("span",{className:"text-sm font-semibold",children:h8(e.est_cost)})]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1.5 flex items-center justify-between pl-8",children:[s.jsx("span",{children:e.vendor_name}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(vs,{className:"h-3 w-3"})," ",e.total_lines_qty," units"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ni,{className:"h-3 w-3"})," ",sfe(e.created_at)]})]})]})]})}function cfe({data:e}){return s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(M7,{className:"h-5 w-5 mr-3 mt-0.5 self-start text-muted-foreground"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium leading-snug",children:e.product_name_raw}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1.5 flex flex-wrap items-center gap-x-3 gap-y-1",children:[e.synergy_id&&s.jsxs("span",{className:"font-mono text-blue-500 flex items-center gap-1",children:[s.jsx(Ua,{className:"h-3 w-3"}),e.synergy_id]}),e.upc&&s.jsxs("span",{className:"font-mono",children:["UPC: ",e.upc]}),e.asin&&s.jsxs("span",{className:"font-mono",children:["ASIN: ",e.asin]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1.5 flex items-center justify-between",children:[s.jsxs("span",{children:["in PO ",e.po_number]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(vs,{className:"h-3 w-3"})," Qty: ",e.qty]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(mr,{className:"h-3 w-3"})," ",h8(e.unit_cost)]})]})]})]})]})})}const Ys=e=>Number.isFinite(Number(e))?Number(e):0,ba=e=>Ys(e).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});function dfe(e){if(!e)return null;const t=new Date(e);if(isNaN(t.getTime()))return null;const r=Math.floor((Date.now()-t.getTime())/1e3);if(r<60)return"Just now";const n=Math.floor(r/60);if(n<60)return`${n}m ago`;const a=Math.floor(n/60);return a<24?`${a}h ago`:t.toLocaleDateString()}function tv(e){const{title:t,icon:r,children:n,action:a}=e;return s.jsxs("div",{className:"bg-card border rounded-xl shadow-sm overflow-hidden flex flex-col h-full transition-all hover:shadow-md",children:[s.jsxs("div",{className:"px-4 py-3 border-b bg-muted/30 flex items-center justify-between min-h-[48px]",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[r,t]}),a]}),s.jsx("div",{className:"p-4 flex-1 flex flex-col justify-between gap-4",children:n})]})}function Hm(e){const{label:t,value:r,sub:n,icon:a,tooltip:o,highlight:i,valueColor:l}=e,c=s.jsxs("div",{className:dt("flex items-center justify-between text-sm",i?"py-1":""),children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a&&s.jsx("span",{className:"opacity-70",children:a}),s.jsx("span",{className:dt(i?"font-semibold text-foreground":""),children:t})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:dt("font-mono font-medium tracking-tight",l||"text-foreground"),children:r}),n&&s.jsx("div",{className:"text-[10px] text-muted-foreground",children:n})]})]});return o?s.jsx(ti,{children:s.jsxs(ri,{delayDuration:300,children:[s.jsx(ni,{asChild:!0,className:"cursor-help",children:c}),s.jsx(oo,{side:"left",className:"max-w-xs text-xs",children:o})]})}):c}function rv(e){const{value:t,max:r,colorClass:n="bg-primary"}=e,a=Math.min(100,Math.max(0,r>0?t/r*100:0));return s.jsx("div",{className:"h-1.5 w-full bg-muted rounded-full overflow-hidden mt-1",children:s.jsx("div",{className:dt("h-full transition-all duration-500",n),style:{width:`${a}%`}})})}function ufe({profit:e,hasActive:t,poId:r,lastSync:n,onRefresh:a}){const[o,i]=u.useState(!1),[l,c]=u.useState(n||null);u.useEffect(()=>{n!==void 0&&c(n)},[n]);const d=async()=>{if(r){i(!0);try{const C=await fetch(`${Kt}/pos/${r}/reconcile-sales`,{method:"POST"}),E=await C.json();C.ok&&(E.reconciled_at?c(E.reconciled_at):c(new Date().toISOString()),E.updated>0&&alert(`Reconciled! Detected ${E.updated} items sold on eBay.`)),a&&a()}catch(C){console.error(C)}finally{i(!1)}}};if(!t)return s.jsxs("div",{className:"mb-6 flex flex-col items-center justify-center border-2 border-dashed rounded-xl p-8 bg-muted/10 text-muted-foreground",children:[s.jsx(vs,{className:"h-10 w-10 mb-2 opacity-20"}),s.jsx("p",{className:"text-sm font-medium",children:"Select a Purchase Order to view analytics"})]});if(!e)return s.jsx("div",{className:"mb-6 h-32 flex items-center justify-center border rounded-xl bg-muted/10",children:s.jsx($t,{className:"h-6 w-6 animate-spin text-muted-foreground opacity-50"})});const f=Ys(e.total_units),h=Ys(e.units_sold),m=Ys(e.units_posted),p=Ys(e.total_inventory_cost),g=Ys(e.sales_net_revenue),x=Ys(e.line_profit_sold??e.gross_profit),b=x-p,y=p>0?g/p*100:0,v=Ys(e.cost_of_goods_sold)>0?x/Ys(e.cost_of_goods_sold)*100:0,w=Ys(e.posted_value),N=g+w-p,S=p>0?N/p*100:0,k=Ys(e.cost_in_unsold_inventory),_=Math.max(0,f-m);return s.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(tv,{title:"Financial Performance",icon:s.jsx(mr,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Net Cash Flow"}),s.jsx("span",{className:dt("text-2xl font-bold tabular-nums tracking-tight",b>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:ba(b)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[s.jsx("span",{children:"Break Even Progress"}),s.jsxs("span",{children:[y.toFixed(0),"%"]})]}),s.jsx(rv,{value:y,max:100,colorClass:y>=100?"bg-emerald-500":"bg-blue-500"}),s.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground pt-0.5",children:[s.jsxs("span",{children:["Rev: ",ba(g)]}),s.jsxs("span",{children:["Paid: ",ba(p)]})]})]})]}),s.jsxs("div",{className:"pt-3 mt-1 border-t border-dashed space-y-2",children:[s.jsx(Hm,{label:"Gross Profit (Sold)",icon:s.jsx(dF,{className:"h-3.5 w-3.5"}),value:ba(x),valueColor:x>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400",sub:`ROI: ${v.toFixed(0)}%`,tooltip:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-semibold border-b pb-1 mb-1",children:"Profit on Sold Items Only"}),s.jsxs("div",{className:"flex justify-between gap-4",children:[s.jsx("span",{children:"Sold Profit Sum:"}),s.jsx("span",{children:ba(x)})]}),s.jsxs("div",{className:"flex justify-between gap-4 pt-1 border-t border-white/20",children:[s.jsx("span",{children:"Minus PO Cost:"}),s.jsx("span",{children:ba(p)})]}),s.jsxs("div",{className:"flex justify-between gap-4",children:[s.jsx("span",{children:"= Net Cash Flow:"}),s.jsx("span",{children:ba(b)})]})]})}),s.jsx(Hm,{label:"Projected Profit",icon:s.jsx(i7,{className:"h-3.5 w-3.5"}),value:ba(N),valueColor:N>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400",sub:`${S.toFixed(0)}% ROI if all sell`})]})]})}),s.jsx(tv,{title:"Stock Valuation",icon:s.jsx(Y7,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),action:r&&s.jsxs("div",{className:"flex items-center gap-2",children:[l&&s.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground bg-muted/50 px-2 py-1 rounded-md",title:new Date(l).toLocaleString(),children:[s.jsx(Si,{className:"h-3 w-3"}),s.jsx("span",{children:dfe(l)})]}),s.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-blue-100 dark:hover:bg-blue-900/50 text-muted-foreground hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:d,disabled:o,title:"Reconcile Sales with eBay",children:s.jsx(a0,{className:dt("h-3.5 w-3.5",o&&"animate-spin")})})]}),children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Sold"}),s.jsxs("span",{className:"font-mono font-bold text-foreground",children:[h,s.jsxs("span",{className:"text-muted-foreground font-normal",children:[" ","/ ",f]})]})]}),s.jsx(rv,{value:h,max:f,colorClass:"bg-blue-500 dark:bg-blue-600"})]}),s.jsxs("div",{className:"pt-2 space-y-2",children:[s.jsx(Hm,{label:"Unsold Value (Cost)",icon:s.jsx(bb,{className:"h-3.5 w-3.5"}),value:ba(k),sub:"Sunk cost of items on shelf"}),s.jsx(Hm,{label:"Active List Price",icon:s.jsx($s,{className:"h-3.5 w-3.5 text-purple-600 dark:text-purple-400"}),value:ba(w),valueColor:"text-purple-700 dark:text-purple-400 font-bold"})]})]})}),s.jsx(tv,{title:"Listing Operations",icon:s.jsx(rF,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Posted to eBay"}),s.jsxs("span",{className:"font-mono font-bold text-foreground",children:[m,s.jsxs("span",{className:"text-muted-foreground font-normal",children:[" ","/ ",f]})]})]}),s.jsx(rv,{value:m,max:f,colorClass:"bg-purple-500 dark:bg-purple-600"})]}),s.jsx("div",{className:"pt-2 space-y-3",children:_>0?s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/30 text-amber-800 dark:text-amber-200 p-3 rounded-lg border border-amber-100 dark:border-amber-900/50 flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs font-bold uppercase tracking-wide",children:[s.jsx("span",{children:"Action Needed"}),s.jsx(ih,{className:"h-4 w-4"})]}),s.jsxs("div",{className:"text-sm",children:["You have ",s.jsx("strong",{children:_})," items waiting to be posted."]})]}):s.jsxs("div",{className:"bg-green-50 dark:bg-green-950/30 text-green-800 dark:text-green-200 p-3 rounded-lg border border-green-100 dark:border-green-900/50 flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs font-bold uppercase tracking-wide",children:[s.jsx("span",{children:"Complete"}),s.jsx(fs,{className:"h-4 w-4"})]}),s.jsx("div",{className:"text-sm",children:"All inventory items have been posted to eBay."})]})})]})})]})}const Wm="/backend",Yh=(()=>{if(/^https?:\/\//i.test(Wm))return Wm.replace(/\/+$/,"");const e=Wm.trim()?Wm:"/backend";return(e.startsWith("/")?e:`/${e}`).replace(/\/+$/,"")})(),Xh=(e,t)=>`${e}${t.startsWith("/")?t:`/${t}`}`;async function ffe(e){const t=await fetch(Xh(Yh,e),{headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(await t.text());return t.json()}async function hfe(e,t){const r=await fetch(Xh(Yh,e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error(await r.text());return r.json()}async function mfe(e,t,r={}){const n=await fetch(Xh(Yh,e),{method:"PUT",headers:{"Content-Type":"application/json",...r},body:JSON.stringify(t)});if(!n.ok)throw new Error(await n.text());return n.json()}async function pfe(e,t,r={}){const n=await fetch(Xh(Yh,e),{method:"PATCH",headers:{"Content-Type":"application/json",...r},body:JSON.stringify(t)});if(!n.ok)throw new Error(await n.text());return n.json()}async function gfe(e,t){const r=await fetch(Xh(Yh,e),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error(await r.text());return r.json().catch(()=>({}))}const nv=[{label:"Tester",icon:QP,color:"text-indigo-500"},{label:"Poster",icon:H7,color:"text-emerald-500"},{label:"Manager",icon:wd,color:"text-sky-500"},{label:"Admin",icon:Gl,color:"text-rose-500"}];function xfe({open:e,managerId:t,onClose:r}){var ee;const[n,a]=u.useState(!1);u.useEffect(()=>{a(!0)},[]);const[o,i]=u.useState([]),[l,c]=u.useState(!1),[d,f]=u.useState(0),[h,m]=u.useState("idle"),[p,g]=u.useState(null),[x,b]=u.useState(""),[y,v]=u.useState("All"),[w,j]=u.useState(""),[N,S]=u.useState(["Tester"]),[k,_]=u.useState(""),[C,E]=u.useState(""),[T,A]=u.useState("none"),[W,P]=u.useState(""),[te,le]=u.useState(!1),[K,D]=u.useState(""),[I,R]=u.useState(null),[q,z]=u.useState(null),[Z,ce]=u.useState(!1),[F,J]=u.useState(null);u.useEffect(()=>{e&&(async()=>{c(!0);try{const Te=await ffe("/auth/users?active=true");i(Te||[])}catch{R("Failed to load user list.")}finally{c(!1)}})()},[e,d]);const L=()=>{U(),m("idle"),v("All"),b(""),r()},U=()=>{j(""),S(["Tester"]),_(""),E(""),P(""),A("none"),le(!1),R(null),z(null),ce(!1),J(null)},$=X=>(X||"?").split(" ").map(Te=>Te[0]).slice(0,2).join("").toUpperCase(),M=u.useMemo(()=>!p||!t?!1:String(p.id)===String(t),[p,t]),re=X=>{M||S(Te=>Te.includes(X)?Te.length===1?Te:Te.filter(be=>be!==X):[...Te,X])},de=()=>{m("create"),g(null),U()},Ee=X=>{m("edit"),g(X),j(X.name),S(X.roles&&X.roles.length>0?X.roles:[X.role]),_(""),E(""),R(null),z(null),A("none")},Ze=async X=>{if(X.preventDefault(),!t)return;if(R(null),!w.trim()){R("Name required.");return}if(k!==C){R("Passwords do not match.");return}if(N.some(be=>["Manager","Admin"].includes(be))&&!k){R("Managers/Admins must have a password.");return}ce(!0);try{const be=await hfe("/auth/users",{name:w.trim(),roles:N,active:!0,password:k||void 0});z(`User "${w}" created.`),j(""),_(""),E(""),f(H=>H+1),setTimeout(()=>z(null),3e3)}catch(be){R((be==null?void 0:be.message)||"Create failed.")}finally{ce(!1)}},rt=async X=>{if(X.preventDefault(),!(!p||!t)){J("profile"),R(null),z(null);try{await pfe(`/admin/users/${p.id}`,{name:w.trim(),roles:N},{"X-User-ID":String(t)}),z("Profile updated."),f(Te=>Te+1),g(Te=>Te?{...Te,name:w,roles:N,role:N[0]}:null)}catch(Te){R(Te.message||"Update failed.")}finally{J(null)}}},Xe=async X=>{if(X.preventDefault(),!(!p||!t)){if(!k){R("Password empty.");return}if(k!==C){R("Passwords do not match.");return}J("password"),R(null),z(null);try{await mfe(`/admin/users/${p.id}/reset-password`,{password:k},{"X-User-ID":String(t)}),z("Password updated."),_(""),E("")}catch(Te){R(Te.message||"Reset failed.")}finally{J(null)}}},et=async X=>{if(X.preventDefault(),!p||!t||!W){W||R("Password required.");return}if(String(p.id)===String(t)){R("You cannot delete your own account.");return}J("delete"),R(null);try{const Te=p.name;await gfe(`/admin/users/${p.id}`,{manager_id:Number(t),manager_password:W}),D(Te),A("done"),f(be=>be+1)}catch(Te){R(Te.detail||"Deletion failed. Check password.")}finally{J(null)}},Je=u.useMemo(()=>o.filter(X=>{const Te=X.name.toLowerCase().includes(x.toLowerCase()),be=X.roles||[X.role],H=y==="All"||be.includes(y);return Te&&H}),[o,x,y]),We=["All",...nv.map(X=>X.label)];return!e||!n?null:Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"w-full max-w-5xl h-[700px] flex bg-card dark:bg-slate-900 rounded-2xl shadow-2xl border dark:border-slate-800 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"w-80 md:w-96 border-r dark:border-slate-800 bg-muted/10 dark:bg-slate-950/50 flex flex-col flex-shrink-0",children:[s.jsxs("div",{className:"p-4 border-b dark:border-slate-800 bg-background dark:bg-slate-900/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-semibold",children:[s.jsx(ik,{className:"h-5 w-5"})," ",s.jsx("span",{children:"User Directory"})]}),s.jsx(V,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:de,children:s.jsx(Vr,{className:"h-5 w-5 text-primary"})})]}),s.jsxs("div",{className:"relative mb-3",children:[s.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{placeholder:"Search users...",className:"pl-9 bg-background dark:bg-slate-950",value:x,onChange:X=>b(X.target.value)})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide mask-linear-fade",children:We.map(X=>s.jsx("button",{onClick:()=>v(X),className:`px-3 py-1 text-xs font-medium rounded-full whitespace-nowrap transition-colors border ${y===X?"bg-primary text-primary-foreground border-primary":"bg-transparent text-muted-foreground border-transparent hover:bg-muted"}`,children:X},X))})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:l?s.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-muted-foreground text-sm",children:"Loading..."}):Je.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-muted-foreground/60 text-center px-4",children:[s.jsx(ik,{className:"h-10 w-10 mb-2 opacity-20"}),s.jsx("p",{className:"text-sm",children:"No users found."})]}):Je.map(X=>{const Te=X.roles&&X.roles.length>0?X.roles:[X.role];return s.jsxs("button",{onClick:()=>Ee(X),className:`w-full flex items-center gap-3 p-3 rounded-xl border transition-all text-left group ${(p==null?void 0:p.id)===X.id&&h==="edit"?"bg-primary/10 border-primary/30 dark:bg-primary/20 shadow-sm relative z-10":"bg-transparent border-transparent hover:bg-muted/80 dark:hover:bg-slate-800"}`,children:[s.jsx(Rr,{className:`h-10 w-10 border ${(p==null?void 0:p.id)===X.id&&h==="edit"?"ring-2 ring-primary/20":""}`,children:X.avatar_url?s.jsx("img",{src:X.avatar_url,className:"object-cover"}):s.jsx(Dr,{className:"bg-muted text-muted-foreground",children:$(X.name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:`text-sm font-medium truncate ${(p==null?void 0:p.id)===X.id&&h==="edit"?"text-primary":"text-foreground"}`,children:X.name}),s.jsx("div",{className:"flex flex-wrap items-center gap-1 mt-1",children:Te.map(be=>s.jsx(kt,{variant:"outline",className:"text-[9px] px-1 py-0 h-3.5 font-normal text-muted-foreground border-muted-foreground/20 bg-background/50",children:be},be))})]}),(p==null?void 0:p.id)===X.id&&h==="edit"&&s.jsx(In,{className:"h-4 w-4 text-primary"})]},X.id)})})]}),s.jsxs("div",{className:"flex-1 bg-background dark:bg-slate-900 relative flex flex-col",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:L,className:"absolute top-3 right-3 z-20 hover:bg-muted rounded-full",children:s.jsx(Mt,{className:"h-5 w-5 text-muted-foreground"})}),h==="idle"&&s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground/40 p-8 text-center",children:[s.jsx("div",{className:"bg-muted/20 dark:bg-slate-800 p-6 rounded-full mb-4",children:s.jsx(wd,{className:"h-12 w-12"})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground/80",children:"User Management"}),s.jsx("p",{className:"max-w-xs mx-auto text-sm mt-2",children:"Select a user or create a new one."})]}),h==="create"&&s.jsxs("div",{className:"flex-1 flex flex-col animate-in fade-in slide-in-from-bottom-2 duration-300 p-8 max-w-lg mx-auto w-full justify-center",children:[s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsx("div",{className:"h-20 w-20 bg-primary/10 rounded-full flex items-center justify-center mb-4 border-2 border-dashed border-primary/30",children:s.jsx(o4,{className:"h-10 w-10 text-primary"})}),s.jsx("h2",{className:"text-2xl font-bold",children:"Create New User"})]}),s.jsxs("form",{onSubmit:Ze,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(mi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{value:w,onChange:X=>j(X.target.value),className:"pl-10 dark:bg-slate-950",placeholder:"e.g. Jane Doe",autoFocus:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"Roles (Multi-Select)"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:nv.map(X=>{const Te=N.includes(X.label);return s.jsxs("button",{type:"button",onClick:()=>re(X.label),className:`flex flex-col items-center justify-center gap-1.5 text-[11px] py-3 rounded-lg border transition-all ${Te?"bg-primary/10 border-primary text-primary ring-1 ring-primary/50":"bg-background dark:bg-slate-950 border-input hover:bg-muted"}`,children:[s.jsx(X.icon,{className:`h-5 w-5 ${Te?"text-primary":X.color}`}),s.jsx("span",{className:"font-medium",children:X.label})]},X.label)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1 flex justify-between",children:[s.jsx("span",{children:"Password"}),s.jsx("span",{className:"text-[10px] font-normal opacity-70",children:N.some(X=>["Manager","Admin"].includes(X))?"(Required)":"(Optional)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Nl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"password",value:k,onChange:X=>_(X.target.value),className:"pl-10 dark:bg-slate-950",placeholder:""})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Nl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"password",value:C,onChange:X=>E(X.target.value),className:"pl-10 dark:bg-slate-950",placeholder:"Confirm Password"})]}),I&&s.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-3 rounded-md border border-destructive/20",children:I}),q&&s.jsx("div",{className:"text-sm text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 p-3 rounded-md border border-emerald-100 dark:border-emerald-900",children:q}),s.jsx(V,{type:"submit",disabled:Z,className:"w-full h-11 text-base shadow-lg shadow-primary/20",children:Z?s.jsx($t,{className:"animate-spin mr-2 h-4 w-4"}):"Create User"})]})]}),h==="edit"&&p&&s.jsx("div",{className:"flex-1 flex flex-col h-full",children:T==="done"?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center animate-in zoom-in-95",children:[s.jsx("div",{className:"h-24 w-24 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mb-6",children:s.jsx(fs,{className:"h-12 w-12 text-emerald-600 dark:text-emerald-400"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"User Deleted"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:[s.jsx("strong",{children:K})," has been permanently removed."]}),s.jsx(V,{onClick:()=>{A("none"),m("idle"),g(null)},children:"Done"})]}):T==="none"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-center justify-between border-b dark:border-slate-800 p-6 bg-background dark:bg-slate-900 shrink-0",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Rr,{className:"h-14 w-14 border-2 border-muted/50",children:p.avatar_url?s.jsx("img",{src:p.avatar_url,className:"object-cover"}):s.jsx(Dr,{className:"bg-primary/5 text-primary text-xl",children:$(p.name)})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold leading-none mb-1",children:p.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[((ee=p.roles)==null?void 0:ee.map(X=>s.jsx(kt,{variant:"secondary",className:"text-[10px] h-5",children:X},X)))||s.jsx(kt,{variant:"secondary",className:"text-[10px] h-5",children:p.role}),M&&s.jsx(kt,{variant:"outline",className:"text-[10px] h-5 border-primary/50 text-primary",children:"You"})]})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[I&&s.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-3 rounded-md border border-destructive/20",children:I}),q&&s.jsx("div",{className:"text-sm text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 p-3 rounded-md border border-emerald-100 dark:border-emerald-900",children:q}),s.jsxs("form",{onSubmit:rt,className:"rounded-xl border dark:border-slate-800 bg-muted/20 p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between border-b dark:border-slate-800 pb-3",children:[s.jsxs("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider flex items-center gap-2",children:[s.jsx(wd,{className:"h-3.5 w-3.5"})," Account Details"]}),F==="profile"&&s.jsx($t,{className:"h-3 w-3 animate-spin text-muted-foreground"})]}),s.jsxs("div",{className:"space-y-4 pt-1",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[s.jsx("label",{className:"col-span-3 text-xs font-medium text-muted-foreground",children:"Display Name"}),s.jsxs("div",{className:"col-span-9 relative",children:[s.jsx(mi,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(we,{value:w,onChange:X=>j(X.target.value),className:"pl-8 bg-white dark:bg-slate-950 h-9 text-sm"})]})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[s.jsxs("label",{className:"col-span-3 text-xs font-medium text-muted-foreground pt-2",children:["Roles",M&&s.jsx("span",{className:"block text-[10px] text-amber-500 font-normal mt-0.5",children:"(Cannot change own)"})]}),s.jsx("div",{className:"col-span-9 grid grid-cols-4 gap-2",children:nv.map(X=>{const Te=N.includes(X.label);return s.jsxs("button",{type:"button",disabled:M,onClick:()=>re(X.label),className:`flex flex-col items-center justify-center gap-1 py-2 rounded-lg border transition-all ${M?"opacity-50 cursor-not-allowed grayscale":""} ${Te?"bg-background dark:bg-slate-950 border-primary text-primary ring-1 ring-primary/30":"bg-white dark:bg-slate-950 border-transparent hover:bg-muted hover:border-muted-foreground/20"}`,children:[s.jsx(X.icon,{className:`h-4 w-4 ${Te?"text-primary":X.color}`}),s.jsx("span",{className:"text-[10px] font-medium",children:X.label})]},X.label)})})]})]}),s.jsx("div",{className:"flex justify-end pt-2",children:s.jsxs(V,{type:"submit",size:"sm",variant:"outline",disabled:F==="profile",className:"h-8 text-xs gap-2",children:[s.jsx(Ei,{className:"h-3 w-3"})," Save Changes"]})})]}),s.jsxs("form",{onSubmit:Xe,className:"rounded-xl border dark:border-slate-800 bg-muted/20 p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between border-b dark:border-slate-800 pb-3",children:[s.jsxs("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider flex items-center gap-2",children:[s.jsx(Gl,{className:"h-3.5 w-3.5"})," Password Reset"]}),F==="password"&&s.jsx($t,{className:"h-3 w-3 animate-spin text-muted-foreground"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-1",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Nl,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(we,{type:"password",value:k,onChange:X=>_(X.target.value),className:"pl-8 bg-white dark:bg-slate-950 h-9 text-sm",placeholder:"New Password"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(E7,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(we,{type:"password",value:C,onChange:X=>E(X.target.value),className:"pl-8 bg-white dark:bg-slate-950 h-9 text-sm",placeholder:"Confirm"})]})]}),s.jsx("div",{className:"flex justify-end pt-2",children:s.jsxs(V,{type:"submit",size:"sm",variant:"outline",disabled:F==="password",className:"h-8 text-xs gap-2",children:[s.jsx(fs,{className:"h-3 w-3"})," Update Password"]})})]})]}),s.jsx("div",{className:"p-4 border-t dark:border-slate-800 bg-muted/10 mt-auto",children:M?s.jsxs("div",{className:"w-full flex items-center justify-center gap-2 p-2 rounded border border-dashed border-muted-foreground/30 text-muted-foreground text-sm",children:[s.jsx(eF,{className:"h-4 w-4"}),s.jsx("span",{children:"You cannot delete your own account."})]}):s.jsxs(V,{type:"button",variant:"ghost",onClick:()=>{R(null),A("confirm")},className:"w-full text-destructive hover:text-destructive hover:bg-destructive/10 border border-transparent hover:border-destructive/20 h-9 text-sm gap-2",children:[s.jsx(Tr,{className:"h-4 w-4"})," Delete User Account"]})})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 max-w-sm mx-auto w-full text-center h-full",children:[s.jsx("div",{className:"h-20 w-20 bg-destructive/10 rounded-full flex items-center justify-center mb-4 border-2 border-dashed border-destructive/30",children:s.jsx(Z7,{className:"h-10 w-10 text-destructive"})}),s.jsx("h3",{className:"text-xl font-bold text-destructive mb-2",children:"Delete Account?"}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["Permanently delete ",s.jsx("strong",{children:p.name}),"? This cannot be undone."]}),T==="confirm"&&s.jsxs("div",{className:"w-full space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[s.jsxs("div",{className:"flex items-start gap-3 text-left p-3 bg-muted/30 rounded-lg border",children:[s.jsx("input",{type:"checkbox",checked:te,onChange:X=>le(X.target.checked),className:"mt-1 h-4 w-4 rounded"}),s.jsx("label",{className:"text-sm cursor-pointer",onClick:()=>le(!te),children:"I understand this action is permanent."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(V,{variant:"outline",className:"flex-1",onClick:()=>A("none"),children:"Cancel"}),s.jsx(V,{variant:"destructive",className:"flex-1",disabled:!te,onClick:()=>A("verify"),children:"Next"})]})]}),T==="verify"&&s.jsxs("form",{onSubmit:et,className:"w-full space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"Manager Password Required"}),s.jsx(we,{type:"password",value:W,onChange:X=>P(X.target.value),className:"mt-1 dark:bg-slate-950",placeholder:"Enter password",autoFocus:!0})]}),I&&s.jsx("div",{className:"text-sm text-destructive text-left bg-destructive/10 p-2 rounded",children:I}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(V,{type:"button",variant:"outline",className:"flex-1",onClick:()=>A("none"),children:"Cancel"}),s.jsx(V,{type:"submit",variant:"destructive",className:"flex-1",disabled:F==="delete"||!W,children:F==="delete"?"Deleting...":"Confirm Delete"})]})]})]})})]})]})}),document.body)}const Gm="/backend",m8=(()=>{if(/^https?:\/\//i.test(Gm))return Gm.replace(/\/+$/,"");const e=Gm.trim()?Gm:"/backend";return(e.startsWith("/")?e:`/${e}`).replace(/\/+$/,"")})(),p8=(e,t)=>`${e}${t.startsWith("/")?t:`/${t}`}`;async function qm(e){const t=await fetch(p8(m8,e),{headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(await t.text());return t.json()}async function S5(e,t){const r=await fetch(p8(m8,e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error(await r.text());return r.json()}function yfe({open:e,onClose:t,currentUserName:r}){const[n,a]=u.useState(!1);u.useEffect(()=>{a(!0)},[]);const[o,i]=u.useState("overview"),[l,c]=u.useState([]),[d,f]=u.useState([]),[h,m]=u.useState(!1),[p,g]=u.useState(!1),[x,b]=u.useState(null),[y,v]=u.useState(null);u.useEffect(()=>{e&&w()},[e]);const w=async()=>{m(!0),v(null);try{const[k,_]=await Promise.all([qm("/synergy-id/overview"),qm("/synergy-id/events?limit=50")]),C=k.items||[];c(C),!x&&C.length&&b(C[0].prefix),f(_.items||[])}catch{v("Failed to load Synergy ID data.")}finally{m(!1)}},j=l.find(k=>k.prefix===x)||null,N=async(k,_)=>{var C,E;if(!(!Number.isFinite(_)||_<1)){g(!0);try{await S5(`/prefix/${encodeURIComponent(k)}/set`,{next:_,actor:r||"Manager",reason:"Updated from Synergy ID Settings"});const T=await qm("/synergy-id/overview");c(T.items||[])}catch(T){const A=((E=(C=T==null?void 0:T.response)==null?void 0:C.data)==null?void 0:E.detail)??(T==null?void 0:T.detail)??null,W=A==null?void 0:A.safe_next;W?(alert((A==null?void 0:A.message)||`Sequence conflict. Resetting to safe value ${W}.`),w()):alert("Failed to update sequence.")}finally{g(!1)}}},S=async()=>{if(j&&window.confirm(`Reset sequence for prefix ${j.prefix}? This will auto-detect the next safe ID.`)){g(!0);try{await S5(`/synergy-id/prefix/${encodeURIComponent(j.prefix)}/reset`,{actor:r||"Manager"});const k=await qm("/synergy-id/overview");c(k.items||[])}catch{alert("Reset failed.")}finally{g(!1)}}};return!e||!n?null:Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"w-full max-w-5xl h-[650px] flex bg-card dark:bg-slate-900 rounded-2xl shadow-2xl border dark:border-slate-800 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"w-72 md:w-80 border-r dark:border-slate-800 bg-muted/10 dark:bg-slate-950/50 flex flex-col flex-shrink-0",children:[s.jsxs("div",{className:"p-4 border-b dark:border-slate-800 bg-background dark:bg-slate-900/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-semibold mb-4",children:[s.jsx(Ua,{className:"h-5 w-5"}),s.jsx("span",{children:"ID Management"})]}),s.jsxs("div",{className:"grid grid-cols-2 bg-muted/50 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>i("overview"),className:`flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all ${o==="overview"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[s.jsx(_i,{className:"h-3.5 w-3.5"})," Prefixes"]}),s.jsxs("button",{onClick:()=>i("audit"),className:`flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all ${o==="audit"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[s.jsx(JP,{className:"h-3.5 w-3.5"})," Audit Log"]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[h&&s.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:"Loading data..."}),!h&&o==="overview"&&(l.length===0?s.jsx("div",{className:"p-6 text-center text-xs text-muted-foreground",children:"No prefixes found."}):l.map(k=>s.jsxs("button",{onClick:()=>b(k.prefix),className:`
                          w-full text-left px-3 py-2.5 rounded-lg mb-1 text-sm border transition-all
                          ${k.prefix===x?"bg-primary/10 border-primary/30 text-primary dark:bg-primary/20":"bg-transparent border-transparent hover:bg-muted/80 dark:hover:bg-slate-800"}
                        `,children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"font-mono font-bold tracking-wide",children:k.prefix}),s.jsxs(kt,{variant:"outline",className:"text-[10px] h-5 font-normal text-muted-foreground",children:["Seq: ",k.next_seq]})]}),s.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-1",children:[s.jsx(fs,{className:"h-3 w-3"})," ",k.minted_count," IDs Minted"]})]},k.prefix))),!h&&o==="audit"&&s.jsxs("div",{className:"px-2 py-3 text-xs text-muted-foreground text-center",children:["Select a prefix to view settings. ",s.jsx("br",{})," Switch to the right panel to see full logs."]})]})]}),s.jsxs("div",{className:"flex-1 bg-background dark:bg-slate-900 relative flex flex-col overflow-hidden",children:[s.jsx("div",{className:"absolute top-3 right-3 z-10",children:s.jsx(V,{variant:"ghost",size:"icon",onClick:t,className:"hover:bg-muted rounded-full",children:s.jsx(Mt,{className:"h-5 w-5 text-muted-foreground"})})}),s.jsxs("div",{className:"p-6 border-b dark:border-slate-800",children:[s.jsx("h2",{className:"text-xl font-bold",children:o==="overview"?"Prefix Configuration":"System Audit Log"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o==="overview"?"Manage ID sequences and view minting stats.":"Review recent ID generation events and manual changes."})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o==="overview"?j?s.jsxs("div",{className:"space-y-6 max-w-2xl",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl border dark:border-slate-800 bg-muted/10",children:[s.jsx("div",{className:"text-xs text-muted-foreground font-medium uppercase mb-1",children:"Next ID to Mint"}),s.jsx("div",{className:"text-2xl font-mono font-bold text-primary tracking-wide",children:j.next_code||""})]}),s.jsxs("div",{className:"p-4 rounded-xl border dark:border-slate-800 bg-muted/10",children:[s.jsx("div",{className:"text-xs text-muted-foreground font-medium uppercase mb-1",children:"Total Minted"}),s.jsx("div",{className:"text-2xl font-bold text-foreground",children:j.minted_count.toLocaleString()})]})]}),s.jsxs("div",{className:"rounded-xl border dark:border-slate-800 overflow-hidden",children:[s.jsxs("div",{className:"grid grid-cols-2 border-b dark:border-slate-800 bg-muted/30",children:[s.jsx("div",{className:"p-3 text-xs font-medium text-muted-foreground",children:"Metric"}),s.jsx("div",{className:"p-3 text-xs font-medium text-muted-foreground",children:"Value"})]}),s.jsxs("div",{className:"divide-y dark:divide-slate-800",children:[s.jsxs("div",{className:"grid grid-cols-2 p-3 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Prefix Code"}),s.jsx("span",{className:"font-mono",children:j.prefix})]}),s.jsxs("div",{className:"grid grid-cols-2 p-3 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Current Sequence"}),s.jsx("span",{className:"font-mono",children:j.next_seq})]}),s.jsxs("div",{className:"grid grid-cols-2 p-3 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Highest Minted"}),s.jsx("span",{className:"font-mono",children:j.max_minted_seq??"None"})]}),s.jsxs("div",{className:"grid grid-cols-2 p-3 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Last Activity"}),s.jsx("span",{children:j.last_minted_at?new Date(j.last_minted_at).toLocaleString():"Never"})]})]})]}),s.jsxs("div",{className:"rounded-xl border dark:border-slate-800 bg-card p-5 space-y-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[s.jsx(K7,{className:"h-4 w-4 text-primary"})," Sequence Control"]}),s.jsxs("div",{className:"flex items-end gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-1.5",children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Override Next Sequence"}),s.jsx(we,{type:"number",defaultValue:j.next_seq,min:1,className:"font-mono bg-muted/20 dark:bg-slate-950",onBlur:k=>N(j.prefix,Number(k.target.value))})]}),s.jsx(V,{variant:"outline",onClick:S,disabled:p,className:"mb-[2px]",children:"Reset to Auto-Safe"})]}),s.jsxs("p",{className:"text-[11px] text-muted-foreground bg-amber-50 dark:bg-amber-900/10 text-amber-700 dark:text-amber-400 p-2 rounded border border-amber-200 dark:border-amber-800",children:[s.jsx(ih,{className:"h-3 w-3 inline mr-1 -mt-0.5"}),s.jsx("strong",{children:"Caution:"})," Manually changing the sequence may cause ID collisions if set lower than existing records."]})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[s.jsx(Ua,{className:"h-12 w-12 mb-2 opacity-20"}),s.jsx("p",{children:"Select a prefix to view details."})]}):s.jsx("div",{className:"rounded-xl border dark:border-slate-800 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-muted/50 dark:bg-slate-950 text-xs uppercase text-muted-foreground font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Time"}),s.jsx("th",{className:"p-3",children:"Event"}),s.jsx("th",{className:"p-3",children:"ID"}),s.jsx("th",{className:"p-3",children:"Context"}),s.jsx("th",{className:"p-3",children:"User"})]})}),s.jsxs("tbody",{className:"divide-y dark:divide-slate-800",children:[d.map(k=>s.jsxs("tr",{className:"hover:bg-muted/30 dark:hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"p-3 whitespace-nowrap text-xs text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Si,{className:"h-3 w-3"}),new Date(k.created_at).toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"})]})}),s.jsx("td",{className:"p-3",children:s.jsx(kt,{variant:"secondary",className:"text-[10px] font-normal",children:k.event_type})}),s.jsx("td",{className:"p-3 font-mono text-xs font-medium text-primary",children:k.code}),s.jsx("td",{className:"p-3 text-xs",children:k.po_number?s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Ci,{className:"h-3 w-3"})," PO ",k.po_number]}):s.jsx("span",{className:"opacity-30",children:""})}),s.jsx("td",{className:"p-3 text-xs",children:k.actor_name?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(mi,{className:"h-3 w-3 text-muted-foreground"})," ",k.actor_name]}):s.jsx("span",{className:"opacity-30",children:""})})]},k.id)),d.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-8 text-center text-muted-foreground text-xs",children:"No audit events found."})})]})]})})})]})]})}),document.body)}function vfe({open:e,onClose:t,poNumber:r,currentVendorId:n,vendors:a,onMove:o}){var w;const[i,l]=u.useState(""),[c,d]=u.useState(!1),[f,h]=u.useState(!1),[m,p]=u.useState(!1),[g,x]=u.useState(!1),b=((w=a.find(j=>j.id===n))==null?void 0:w.name)||"Unknown Vendor",y=a.find(j=>j.id===i);if(u.useEffect(()=>{p(!0),e&&(l(""),h(!1),d(!1))},[e]),!e||!m)return null;const v=async()=>{if(i){d(!0);try{await o(i),h(!0),setTimeout(()=>{t()},1500)}catch(j){console.error(j),d(!1),alert("Failed to move PO. Please try again.")}}};return Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"w-full max-w-2xl bg-card rounded-2xl shadow-2xl border overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-200 min-h-[400px]",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:t,className:"absolute top-4 right-4 z-20 hover:bg-muted rounded-full",children:s.jsx(Mt,{className:"h-5 w-5 text-muted-foreground"})}),f?s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-10 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsx("div",{className:"h-24 w-24 rounded-full bg-green-100 text-green-600 flex items-center justify-center mb-6 shadow-sm",children:s.jsx(fs,{className:"h-12 w-12"})}),s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Transfer Complete!"}),s.jsxs("p",{className:"text-muted-foreground mt-2 text-center max-w-sm",children:["Purchase Order ",s.jsx("span",{className:"font-mono font-medium text-foreground",children:r})," has been successfully moved to ",s.jsx("span",{className:"font-medium text-foreground",children:y==null?void 0:y.name}),"."]})]}):s.jsxs("div",{className:"p-8 flex flex-col h-full justify-center",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Transfer Purchase Order"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Moving PO ",s.jsx("span",{className:"font-mono font-medium text-foreground bg-muted px-1.5 py-0.5 rounded",children:r})," to a new vendor."]})]}),s.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-4 items-center mb-10 relative",children:[s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsx("span",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider ml-1",children:"From (Current)"}),s.jsxs("div",{className:"h-24 rounded-xl border bg-muted/30 flex flex-col items-center justify-center p-4 text-center relative overflow-hidden group cursor-not-allowed",children:[s.jsx(bo,{className:"absolute -bottom-4 -left-4 h-20 w-20 text-muted-foreground/10"}),s.jsx("div",{className:"z-10 font-semibold text-lg text-muted-foreground truncate w-full px-2",children:b}),s.jsx("div",{className:"z-10 text-xs text-muted-foreground/70 mt-1",children:"Source Vendor"})]})]}),s.jsx("div",{className:"flex flex-col items-center justify-center pt-6",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary shadow-sm",children:s.jsx(Ld,{className:"h-5 w-5"})})}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsx("label",{className:"text-xs font-semibold uppercase text-primary tracking-wider ml-1",children:"To (New)"}),s.jsxs(nx,{open:g,onOpenChange:x,children:[s.jsx(sx,{asChild:!0,children:s.jsxs("button",{className:se("relative h-24 w-full rounded-xl border-2 bg-card flex flex-col justify-center text-left overflow-hidden transition-all outline-none",g?"border-primary ring-4 ring-primary/10":"border-primary/20 hover:border-primary/40 focus:border-primary focus:ring-4 focus:ring-primary/10"),children:[s.jsx(Wl,{className:se("absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 transition-colors",y?"text-primary":"text-muted-foreground")}),s.jsx("div",{className:"pl-12 pr-10 w-full",children:y?s.jsx("div",{className:"font-semibold text-lg truncate",children:y.name}):s.jsx("div",{className:"text-lg text-muted-foreground font-medium",children:"Select Vendor..."})}),s.jsx(Ww,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-4 w-4 opacity-50"}),s.jsx("div",{className:"absolute bottom-2.5 left-0 w-full text-center text-[10px] font-medium text-muted-foreground pointer-events-none uppercase tracking-wide",children:"Destination Vendor"})]})}),s.jsx(Vh,{className:"w-[280px] p-0 z-[110]",align:"center",children:s.jsxs(lx,{children:[s.jsx(cx,{placeholder:"Search vendor...",className:"h-9"}),s.jsxs(dx,{children:[s.jsx(ux,{children:"No vendor found."}),s.jsx(fx,{children:a.map(j=>s.jsxs(hx,{value:j.name,onSelect:()=>{l(j.id===n?"":j.id),x(!1)},disabled:j.id===n,className:"cursor-pointer",children:[s.jsx(tr,{className:se("mr-2 h-4 w-4",i===j.id?"opacity-100":"opacity-0")}),s.jsx("span",{className:se("flex-1",j.id===n&&"text-muted-foreground line-through"),children:j.name}),j.id===n&&s.jsx("span",{className:"text-[10px] text-muted-foreground ml-2",children:"(Current)"})]},j.id))})]})]})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[!c&&s.jsx(V,{variant:"ghost",onClick:t,className:"w-32",children:"Cancel"}),s.jsx(V,{onClick:v,disabled:!i||c,className:"w-48 h-11 text-base font-medium shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all",children:c?s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"})," Moving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"mr-2 h-4 w-4"})," Confirm Move"]})})]})]})]})}),document.body)}function bfe({open:e,onClose:t,userId:r}){const[n,a]=u.useState(!1);u.useEffect(()=>a(!0),[]);const[o,i]=u.useState([]),[l,c]=u.useState(!1),[d,f]=u.useState(null),[h,m]=u.useState(""),[p,g]=u.useState([]),[x,b]=u.useState(""),[y,v]=u.useState([]),[w,j]=u.useState(!1),N=async()=>{c(!0);try{const T=await(await fetch(`${Kt}/admin/ebay/unlinked`)).json();i(T.items||[])}catch(E){console.error(E)}finally{c(!1)}},S=async()=>{try{const A=(await(await fetch(`${Kt}/rows?status=TESTED`)).json()||[]).map(W=>({id:W.id,product_name:W.productName||W.product_name_raw||"(No Name)",synergy_id:W.synergyId||W.synergy_id,status:W.status}));g(A)}catch(E){console.error(E)}};u.useEffect(()=>{e&&(N(),S(),f(null),v([]),m(""),b(""))},[e]);const k=u.useMemo(()=>{if(!h)return o;const E=h.toLowerCase();return o.filter(T=>T.title.toLowerCase().includes(E)||T.id.includes(E))},[o,h]),_=u.useMemo(()=>{const E=x.toLowerCase();return p.filter(T=>!E||T.product_name.toLowerCase().includes(E)||T.synergy_id.toLowerCase().includes(E))},[p,x]),C=async()=>{const E=o.find(T=>T.id===d);if(!(!E||!y.length)){j(!0);try{const T={ebay_item_id:E.id,ebay_item_url:E.url,ebay_price:E.price,synergy_ids:y,posted_by_user_id:Number(r)};if(!(await fetch(`${Kt}/admin/ebay/link`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).ok)throw new Error("Link failed");i(W=>W.filter(P=>P.id!==d)),g(W=>W.filter(P=>!y.includes(P.synergy_id))),f(null),v([])}catch{alert("Failed to link items.")}finally{j(!1)}}};return!e||!n?null:Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/60 p-6",children:s.jsxs("div",{className:"w-full max-w-6xl h-[85vh] bg-background rounded-2xl shadow-2xl border flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-muted/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-400",children:s.jsx(rg,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"eBay Linker"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Match active eBay listings to Synergy inventory."})]})]}),s.jsx(V,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(Mt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-2 overflow-hidden min-h-0",children:[s.jsxs("div",{className:"flex flex-col border-r bg-muted/5 min-h-0",children:[s.jsxs("div",{className:"p-3 border-b flex flex-col gap-3 bg-background",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider",children:"1. Select Active Listing"}),s.jsxs(V,{variant:"ghost",size:"sm",onClick:N,disabled:l,className:"h-7 text-xs",children:[s.jsx(hi,{className:`h-3 w-3 mr-1 ${l?"animate-spin":""}`})," Refresh"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(we,{className:"h-8 pl-8 bg-muted/30 text-sm",placeholder:"Search eBay Title or ID...",value:h,onChange:E=>m(E.target.value)})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 min-h-0",children:l?s.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-muted-foreground",children:[s.jsx($t,{className:"h-6 w-6 animate-spin mb-2"})," Loading eBay..."]}):k.length===0?s.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:h?"No matches found.":"No unlinked listings found."}):k.map(E=>s.jsxs("div",{onClick:()=>f(E.id),className:`
                         p-3 rounded-xl border cursor-pointer transition-all flex gap-3 group
                         ${d===E.id?"bg-blue-50 border-blue-500/50 dark:bg-blue-900/20 shadow-md":"bg-card hover:bg-accent hover:border-accent-foreground/20"}
                       `,children:[E.image?s.jsx("img",{src:E.image,alt:"",className:"w-12 h-12 rounded-md object-cover bg-white border shrink-0"}):s.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center shrink-0",children:s.jsx(vs,{className:"h-5 w-5 opacity-20"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-sm truncate group-hover:whitespace-normal group-hover:overflow-visible group-hover:h-auto leading-tight",children:E.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1.5 text-xs text-muted-foreground",children:[s.jsxs(kt,{variant:"outline",className:"bg-background h-5 px-1.5 font-normal",children:[E.currency," ",E.price]}),s.jsxs("span",{children:["Qty: ",E.qty]}),s.jsx("a",{href:E.url,target:"_blank",rel:"noreferrer",className:"hover:text-primary p-1",onClick:T=>T.stopPropagation(),title:"View on eBay",children:s.jsx(ch,{className:"h-3 w-3"})})]})]}),d===E.id&&s.jsx(fs,{className:"h-5 w-5 text-blue-500 self-center shrink-0"})]},E.id))})]}),s.jsxs("div",{className:"flex flex-col bg-background min-h-0",children:[s.jsxs("div",{className:"p-3 border-b flex flex-col gap-3",children:[s.jsx("span",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wider",children:"2. Match Inventory"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(we,{className:"h-8 pl-8 bg-muted/30 text-sm",placeholder:"Search Synergy ID or Product Name...",value:x,onChange:E=>b(E.target.value)})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 min-h-0",children:_.length===0?s.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:"No matching inventory found."}):_.map(E=>{const T=y.includes(E.synergy_id);return s.jsxs("div",{onClick:()=>{v(T?A=>A.filter(W=>W!==E.synergy_id):A=>[...A,E.synergy_id])},className:`
                             p-2 rounded-lg border cursor-pointer flex items-center justify-between transition-all select-none
                             ${T?"bg-emerald-50 border-emerald-500/50 dark:bg-emerald-900/20":"hover:bg-muted border-transparent"}
                          `,children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium text-sm truncate",children:E.product_name}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:E.synergy_id})]}),T?s.jsx(fs,{className:"h-4 w-4 text-emerald-500 shrink-0"}):s.jsx("div",{className:"h-4 w-4 border-2 rounded-full border-muted-foreground/20 shrink-0"})]},E.synergy_id)})}),s.jsxs("div",{className:"p-4 border-t bg-muted/5 flex justify-between items-center shrink-0",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[d?"Listing selected.":"Select a listing.",y.length>0&&s.jsxs("span",{className:"ml-2 font-medium text-foreground",children:[" ",y.length," items matched."]})]}),s.jsxs(V,{onClick:C,disabled:!d||y.length===0||w,className:"bg-blue-600 hover:bg-blue-700 text-white shadow-md",children:[w?s.jsx($t,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(rg,{className:"h-4 w-4 mr-2"}),"Link Items"]})]})]})]})]})}),document.body)}function wfe(){return s.jsxs("div",{className:"relative w-[80px] h-[60px] mx-auto scale-75 mb-6 mt-2 origin-center translate-x-8",children:[s.jsxs("div",{className:"hand-container",children:[s.jsx("div",{className:"palm"}),s.jsx("div",{className:"thumb"}),s.jsx("div",{className:"finger"}),s.jsx("div",{className:"finger"}),s.jsx("div",{className:"finger"}),s.jsx("div",{className:"finger"})]}),s.jsx("style",{children:`
        .hand-container {
          --skin-color: #E4C560;
          --tap-speed: 0.6s;
          --tap-stagger: 0.1s;
          position: relative;
          width: 80px;
          height: 60px;
        }

        /* Shadow */
        .hand-container:before {
          content: '';
          display: block;
          width: 180%;
          height: 75%;
          position: absolute;
          top: 70%;
          right: 20%;
          background-color: black;
          border-radius: 40px 10px;
          filter: blur(10px);
          opacity: 0.3;
        }

        .palm {
          display: block;
          width: 100%;
          height: 100%;
          position: absolute;
          top: 0;
          left: 0;
          background-color: var(--skin-color);
          border-radius: 10px 40px;
        }

        .thumb {
          position: absolute;
          width: 120%;
          height: 38px;
          background-color: var(--skin-color);
          bottom: -18%;
          right: 1%;
          transform-origin: calc(100% - 20px) 20px;
          transform: rotate(-20deg);
          border-radius: 30px 20px 20px 10px;
          border-bottom: 2px solid rgba(0, 0, 0, 0.1);
          border-left: 2px solid rgba(0, 0, 0, 0.1);
        }

        .thumb:after {
          width: 20%;
          height: 60%;
          content: '';
          background-color: rgba(255, 255, 255, 0.3);
          position: absolute;
          bottom: -8%;
          left: 5px;
          border-radius: 60% 10% 10% 30%;
          border-right: 2px solid rgba(0, 0, 0, 0.05);
        }

        .finger {
          position: absolute;
          width: 80%;
          height: 35px;
          background-color: var(--skin-color);
          bottom: 32%;
          right: 64%;
          transform-origin: 100% 20px;
          animation-duration: calc(var(--tap-speed) * 2);
          animation-timing-function: ease-in-out;
          animation-iteration-count: infinite;
          transform: rotate(10deg);
        }

        .finger:before {
          content: '';
          position: absolute;
          width: 140%;
          height: 30px;
          background-color: var(--skin-color);
          bottom: 8%;
          right: 65%;
          transform-origin: calc(100% - 20px) 20px;
          transform: rotate(-60deg);
          border-radius: 20px;
        }

        .finger:nth-child(3) { animation-delay: 0s; filter: brightness(70%); animation-name: tap-upper-1; z-index: 1; }
        .finger:nth-child(4) { animation-delay: var(--tap-stagger); filter: brightness(80%); animation-name: tap-upper-2; z-index: 2; }
        .finger:nth-child(5) { animation-delay: calc(var(--tap-stagger) * 2); filter: brightness(90%); animation-name: tap-upper-3; z-index: 3; }
        .finger:nth-child(6) { animation-delay: calc(var(--tap-stagger) * 3); filter: brightness(100%); animation-name: tap-upper-4; z-index: 4; }

        @keyframes tap-upper-1 { 0%, 50%, 100% { transform: rotate(10deg) scale(0.4); } 40% { transform: rotate(50deg) scale(0.4); } }
        @keyframes tap-upper-2 { 0%, 50%, 100% { transform: rotate(10deg) scale(0.6); } 40% { transform: rotate(50deg) scale(0.6); } }
        @keyframes tap-upper-3 { 0%, 50%, 100% { transform: rotate(10deg) scale(0.8); } 40% { transform: rotate(50deg) scale(0.8); } }
        @keyframes tap-upper-4 { 0%, 50%, 100% { transform: rotate(10deg) scale(1); } 40% { transform: rotate(50deg) scale(1); } }
      `})]})}const k5="synergy_user";function jfe(){const[e,t]=u.useState([]),[r,n]=u.useState([]),[a,o]=u.useState(!1),[i,l]=u.useState([]),[c,d]=u.useState(null),[f,h]=u.useState([]),[m,p]=u.useState(null),g=ue.useCallback(Q=>{h(Array.isArray(Q)?Q:[])},[]),[x,b]=u.useState(!1),[y,v]=u.useState(null),w=Array.isArray(f)?f:[],j=ue.useMemo(()=>{const Q=Tt=>{const gt=Tt.purchaseCost??Tt.unit_cost;return Number(gt)||0},me=Tt=>Number(Tt.qty)||1,ke=w.reduce((Tt,gt)=>Tt+me(gt),0),Ge=w.reduce((Tt,gt)=>Tt+Q(gt)*me(gt),0),Ct=w.filter(Tt=>Tt.status&&String(Tt.status).toUpperCase()==="SOLD").reduce((Tt,gt)=>Tt+Q(gt)*me(gt),0);return{items:ke,cost:Ge,soldCost:Ct}},[w]),[N,S]=u.useState(!1),[k,_]=u.useState(!1),[C,E]=u.useState(!1),[T,A]=u.useState(!1),[W,P]=u.useState(!1),[te,le]=u.useState(!1),[K,D]=u.useState(!1),[I,R]=u.useState(!1),[q,z]=u.useState(!1),[Z,ce]=u.useState(!1),[F,J]=u.useState(null),[L,U]=u.useState(!1),[$,M]=u.useState(!1),[re,de]=u.useState(!1),[Ee,Ze]=u.useState(0),[rt,Xe]=u.useState(()=>localStorage.getItem("mgr_sidebar_collapsed")==="true"),[et,Je]=u.useState(null);ue.useMemo(()=>e,[e]);const[We,ee]=u.useState(()=>{try{return JSON.parse(localStorage.getItem(k5)||"null")}catch{return null}}),X=Q=>{const me={...We,...Q};ee(me),localStorage.setItem(k5,JSON.stringify(me))};u.useEffect(()=>{localStorage.setItem("mgr_sidebar_collapsed",String(rt)),rt||Je(null)},[rt]);const[Te,be]=u.useState(()=>{const Q=localStorage.getItem("darkMode");return Q!==null?Q==="true":window.matchMedia("(prefers-color-scheme: dark)").matches});u.useEffect(()=>{document.documentElement.classList.toggle("dark",Te),localStorage.setItem("darkMode",String(Te))},[Te]);const H=u.useMemo(()=>typeof navigator<"u"&&/Mac|iPhone|iPad|iPod/.test(navigator.platform),[]),[ge,Ne]=u.useState(null);u.useEffect(()=>{Jt("/ai/health").then(Ne).catch(()=>Ne(null))},[]);const[xe,Re]=u.useState(()=>localStorage.getItem("mgr_layout_mode")||"wide");u.useEffect(()=>localStorage.setItem("mgr_layout_mode",xe),[xe]);const at=u.useMemo(()=>w.some(Q=>(Q.qty??1)>0&&!Q.category_id),[w]),nt=u.useMemo(()=>w.some(Q=>{const me=Number((Q==null?void 0:Q.qty)??1);return!Number.isFinite(me)||me<=0?!1:!!Q.category_id&&!Q.synergy_id}),[w]),ot=u.useMemo(()=>w.reduce((Q,me)=>{const ke=Number(me==null?void 0:me.qty);return Q+(Number.isFinite(ke)&&ke>0?ke:1)},0),[w]),[Oe,Ht]=u.useState(null),[Qt,Pr]=u.useState(null),ht=u.useCallback(async()=>{try{const[Q,me,ke]=await Promise.all([Jt("/categories"),Jt("/vendors"),Jt("/pos/summaries")]),Ge=iH(Q).sort((Ct,Tt)=>Ct.label.localeCompare(Tt.label));t(Ct=>JSON.stringify(Ct)===JSON.stringify(Ge)?Ct:Ge),n(me),l(ke)}catch(Q){console.error("Global load failed",Q)}},[]),Mr=u.useCallback(async Q=>{try{const[me,ke,Ge]=await Promise.all([Jt(`/pos/${Q}/summary`),Jt(`/pos/${Q}/profit`).catch(()=>null),Jt(`/pos/${Q}/mint-stats`).catch(()=>null)]);d(me),p(ke),Ge&&(Ht(typeof Ge.pending=="number"?Math.max(0,Ge.pending):null),Pr(typeof Ge.minted=="number"?Math.max(0,Ge.minted):null))}catch(me){console.error("Active context refresh failed",me)}},[]),Ir=u.useCallback(async()=>{o(!0);try{await ht(),c!=null&&c.id&&(await Mr(c.id),Ze(Q=>Q+1))}finally{o(!1)}},[ht,Mr,c==null?void 0:c.id]);u.useEffect(()=>{ht()},[ht]),u.useEffect(()=>{if(!(c!=null&&c.id)){p(null),Ht(null),Pr(null),h([]);return}de(!0),Mr(c.id).finally(()=>de(!1))},[c==null?void 0:c.id,Mr]),u.useEffect(()=>{c!=null&&c.id&&j.cost>0&&l(Q=>{const me=Q.findIndex(ke=>ke.id===c.id);if(me!==-1&&Math.abs((Q[me].est_cost||0)-j.cost)>1){const ke=[...Q];return ke[me]={...ke[me],est_cost:j.cost},ke}return Q})},[j.cost,c==null?void 0:c.id]);async function Nt(Q,me){try{await If(`/purchase_orders/${Q}`,{vendor_id:me}),await Ir()}catch(ke){console.error("Failed to move PO:",ke),alert("Failed to move purchase order")}}async function fe(){if(F)try{await Db(`/purchase_orders/${F.id}`),(c==null?void 0:c.id)===F.id&&d(null),J(null),await ht()}catch(Q){alert("Failed to delete PO: "+Q.message)}}async function Se(){if(!(!(c!=null&&c.id)||$))try{M(!0);const Q=await Sl(`/imports/${encodeURIComponent(c.id)}/explode-by-line`,{}),me=Number((Q==null?void 0:Q.created)||0);alert(me>0?`Successfully created ${me} new inventory item(s).`:"All eligible items have already been sent."),await Ir()}catch(Q){alert(Q.message||"An unexpected error occurred.")}finally{M(!1)}}ue.useEffect(()=>{console.log(" RENDER TRIGGER CHECK:"),console.log("activePO.id changed:",c==null?void 0:c.id),console.log("categories length:",e==null?void 0:e.length),console.log("scrollToLineId:",y),console.log("refreshKey:",Ee),console.log("handleLinesLoaded reference:",g)},[c==null?void 0:c.id,e,y,Ee,g]);const pe=u.useMemo(()=>{const Q=Oe??ot,me=(Qt??0)>0;return $?{state:"sending",canSend:!1,label:"Sending",subText:"Sending"}:at?{state:"needs",canSend:!1,label:"Send to testers",subText:"Needs categories"}:nt?{state:"needs-ids",canSend:!1,label:"Send to testers",subText:"Needs Synergy IDs"}:Q>0?{state:"ready",canSend:!0,label:"Send to testers",subText:`Ready to send (${Q})`}:Q===0&&w.length>0&&me?{state:"done",canSend:!1,label:"Sent to testers",subText:"All items sent to testers"}:{state:"idle",canSend:!1,label:"Send to testers",subText:"No items to send"}},[$,Oe,Qt,at,nt,ot,w.length]),_e=Q=>Je(me=>me===Q?null:Q),qe=Q=>{if(!Q)return null;const me={workbench:s.jsx(l5,{allPOs:i,activePOId:(c==null?void 0:c.id)||null,onSelect:ke=>{d(ke),Je(null)},onUploadClick:()=>{S(!0),Je(null)}}),stats:s.jsx(u5,{allPOs:i,vendors:r}),categories:s.jsx(d5,{onManageClick:()=>{_(!0),Je(null)}})}[Q];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>Je(null)}),s.jsx("div",{className:"absolute left-[72px] top-0 z-50 h-full flex items-start pt-4",children:s.jsxs("div",{className:"w-[480px] max-h-[calc(100vh-32px)] bg-card border rounded-xl shadow-2xl overflow-hidden animate-in fade-in slide-in-from-left-4 duration-200 flex flex-col ml-2",children:[s.jsxs("div",{className:"p-3 border-b flex items-center justify-between bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"p-1.5 rounded-md bg-background border shadow-sm",children:[Q==="workbench"&&s.jsx(Ci,{className:"h-4 w-4 text-primary"}),Q==="stats"&&s.jsx(Nf,{className:"h-4 w-4 text-primary"}),Q==="categories"&&s.jsx(is,{className:"h-4 w-4 text-primary"})]}),s.jsx("span",{className:"text-sm font-semibold",children:Q==="workbench"?"PO Workbench":Q==="stats"?"Dashboard Stats":"Categories"})]}),s.jsx(V,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>Je(null),children:s.jsx(Mt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-muted/5",children:me})]})})]})};return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[s.jsxs("header",{className:"sticky top-0 z-[40] flex h-16 items-center gap-4 border-b bg-background/95 px-6 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-fit",children:[s.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-foreground mr-1 -ml-2",onClick:()=>Xe(Q=>!Q),children:rt?s.jsx(B7,{className:"h-5 w-5"}):s.jsx(z7,{className:"h-5 w-5"})}),s.jsx("img",{src:"/images/managertrans.png",alt:"Company Logo",className:"h-9 w-9"}),s.jsx("h1",{className:"text-lg font-semibold hidden md:block",children:"Manager Workbench"})]}),s.jsx("div",{className:"flex-1 flex justify-center max-w-lg mx-auto",children:s.jsxs("button",{onClick:()=>b(!0),className:"relative inline-flex h-9 w-full items-center justify-start rounded-md border border-input bg-muted/50 px-4 py-2 text-sm font-medium text-muted-foreground shadow-sm hover:bg-muted/80 transition-all sm:pr-12 md:w-96 lg:w-[500px]",children:[s.jsx(Yt,{className:"mr-2 h-4 w-4"})," ",s.jsx("span",{children:"Search..."}),s.jsxs("kbd",{className:"pointer-events-none absolute right-1.5 top-1.5 hidden h-6 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[s.jsx("span",{className:"text-xs",children:H?"":"Ctrl"}),"K"]})]})}),s.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[s.jsx(Rue,{checked:Te,onChange:be,size:"5px"}),s.jsx("div",{className:"h-6 w-px bg-border/60"}),s.jsx(Oue,{ai:ge}),s.jsxs(ti,{children:[s.jsxs(ri,{children:[s.jsx(ni,{asChild:!0,children:s.jsx(V,{variant:"ghost",size:"icon",onClick:Ir,disabled:a,children:s.jsx(hi,{className:dt("h-5 w-5 text-muted-foreground",a&&"animate-spin")})})}),s.jsx(oo,{children:"Refresh Data"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs(ri,{children:[s.jsx(ni,{asChild:!0,children:s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>z(Q=>!Q),children:s.jsx(vo,{className:"h-5 w-5 text-muted-foreground"})})}),s.jsx(oo,{children:"Settings"})]}),q&&s.jsxs("div",{className:"absolute right-0 top-10 z-50 w-64 rounded-md border bg-card p-2 shadow-lg space-y-1 animate-in fade-in zoom-in-95 duration-100",children:[s.jsx("h3",{className:"text-xs font-semibold uppercase text-muted-foreground px-2 pt-1",children:"Management"}),s.jsxs(V,{variant:"ghost",className:"w-full justify-start",onClick:()=>{z(!1),E(!0)},children:[s.jsx(Wl,{className:"h-4 w-4 mr-2"})," Manage Vendors"]}),s.jsxs(V,{variant:"ghost",className:"w-full justify-start",onClick:()=>{z(!1),_(!0)},children:[s.jsx(vo,{className:"h-4 w-4 mr-2"})," Manage Categories"]}),s.jsxs(V,{variant:"ghost",className:"w-full justify-start",onClick:()=>{z(!1),R(!0)},children:[s.jsx(_i,{className:"h-4 w-4 mr-2"})," Synergy ID Settings"]}),s.jsxs(V,{variant:"ghost",className:"w-full justify-start",onClick:()=>{z(!1),D(!0)},children:[s.jsx(_7,{className:"h-4 w-4 mr-2"})," User Management"]}),s.jsxs(V,{variant:"ghost",className:"w-full justify-start",onClick:()=>{ce(!1),ce(!0)},children:[s.jsx(bo,{className:"h-4 w-4 mr-2"})," EBAY Management"]})]})]})]}),We&&s.jsx(K2,{user:We,onUpdate:X,logoutPath:"/login/manager"})]})]}),s.jsxs("div",{className:"w-full px-6 py-8 flex gap-6 flex-1 overflow-hidden relative",children:[s.jsx("div",{className:dt("relative flex flex-col z-30 transition-all duration-300 ease-in-out",rt?"w-[72px] items-center py-4 bg-background border-r":dt("flex-shrink-0",xe==="split"?"w-full xl:w-4/12":"w-full lg:w-3/12")),children:rt?s.jsxs("div",{className:"flex flex-col gap-4 items-center w-full sticky top-0 pt-2",children:[s.jsxs("button",{onClick:()=>_e("workbench"),className:dt("group flex flex-col items-center justify-center gap-1 w-14 h-14 rounded-2xl transition-all duration-200",et==="workbench"?"bg-primary text-primary-foreground shadow-md scale-110":"text-muted-foreground hover:bg-muted/80 hover:text-foreground"),children:[s.jsx(Ci,{className:"h-6 w-6"})," ",s.jsx("span",{className:"text-[9px] font-semibold tracking-tight",children:"Work"})]}),et==="workbench"&&qe("workbench"),s.jsxs("button",{onClick:()=>_e("stats"),className:dt("group flex flex-col items-center justify-center gap-1 w-14 h-14 rounded-2xl transition-all duration-200",et==="stats"?"bg-primary text-primary-foreground shadow-md scale-110":"text-muted-foreground hover:bg-muted/80 hover:text-foreground"),children:[s.jsx(Nf,{className:"h-6 w-6"})," ",s.jsx("span",{className:"text-[9px] font-semibold tracking-tight",children:"Stats"})]}),et==="stats"&&qe("stats"),s.jsxs("button",{onClick:()=>_e("categories"),className:dt("group flex flex-col items-center justify-center gap-1 w-14 h-14 rounded-2xl transition-all duration-200",et==="categories"?"bg-primary text-primary-foreground shadow-md scale-110":"text-muted-foreground hover:bg-muted/80 hover:text-foreground"),children:[s.jsx(is,{className:"h-6 w-6"})," ",s.jsx("span",{className:"text-[9px] font-semibold tracking-tight",children:"Cats"})]}),et==="categories"&&qe("categories"),s.jsx("div",{className:"w-10 h-px bg-border/60 my-2"}),s.jsxs("button",{onClick:()=>S(!0),className:"group flex flex-col items-center justify-center gap-1 w-14 h-14 rounded-2xl transition-all duration-200 text-muted-foreground hover:bg-primary/10 hover:text-primary border border-transparent hover:border-primary/20",children:[s.jsx(mp,{className:"h-5 w-5 fill-current"})," ",s.jsx("span",{className:"text-[9px] font-semibold tracking-tight",children:"Upload"})]})]}):s.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[s.jsx(l5,{allPOs:i,activePOId:(c==null?void 0:c.id)||null,onSelect:d,onUploadClick:()=>S(!0)}),s.jsx(u5,{allPOs:i,vendors:r}),s.jsx(d5,{onManageClick:()=>_(!0)})]})}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden bg-background relative min-w-0",children:c?s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:"space-y-6 pb-12",children:s.jsxs(tx,{title:`Lines for Purchase Order ${c.po_number}`,icon:s.jsx(qw,{className:"h-5 w-5 text-primary"}),children:[s.jsxs("div",{className:"flex justify-start gap-6 text-sm sm:text-base border-t pt-3 mt-2",children:[s.jsxs("div",{className:"font-medium",children:["Total Cost Paid: ",s.jsx("span",{className:"font-semibold text-primary ml-2 inline-flex items-center",children:L?"...":j.cost.toLocaleString(void 0,{style:"currency",currency:"USD"})})]}),s.jsxs("div",{className:"font-medium",children:["Total Items: ",s.jsx("span",{className:"font-semibold text-primary ml-2 inline-flex items-center",children:L?"...":j.items.toLocaleString()})]})]}),s.jsx(ufe,{profit:m,hasActive:!!c,poId:c.id,onRefresh:Ir,totalCostOverride:j.cost,soldCostOverride:j.soldCost}),s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-4 mt-4",children:[s.jsx("div",{className:"flex flex-col items-start gap-1",children:(()=>{const{state:Q,canSend:me,label:ke,subText:Ge}=pe,Ct=Q==="ready"?"bg-emerald-50 text-emerald-700 border-emerald-200":Q==="sending"?"bg-amber-50 text-amber-700 border-amber-200":"text-muted-foreground";return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(V,{onClick:Se,size:"sm",variant:me?"outline":"ghost",disabled:!me,className:`h-8 text-xs rounded-full border ${Ct}`,children:[Q==="sending"?s.jsx($t,{className:"h-3.5 w-3.5 mr-2 animate-spin"}):s.jsx(mp,{className:"h-3.5 w-3.5 mr-2"}),ke]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Ge})]})})()}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(V,{size:"sm",variant:"outline",onClick:()=>le(!0),children:[s.jsx($i,{className:"h-3.5 w-3.5 mr-2"})," Edit PO"]}),s.jsxs(V,{size:"sm",variant:"ghost",onClick:()=>P(!0),children:[s.jsx(r7,{className:"h-3.5 w-3.5 mr-2"})," Move"]}),s.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>J(c),children:[s.jsx(Tr,{className:"h-3.5 w-3.5 mr-2"})," Delete"]})]})]}),c&&s.jsx(ue.Suspense,{fallback:s.jsx("div",{children:"Loading..."}),children:s.jsx(Aue,{poId:c.id,categories:e,scrollToLineId:y,refreshKey:Ee,onLinesLoaded:g},`${c.id}-${Ee}`)})]})})}):s.jsxs("div",{className:"rounded-xl border border-dashed bg-muted/20 p-12 h-[calc(100vh-250px)] flex flex-col items-center justify-center text-center",children:[s.jsx(wfe,{}),s.jsx("h2",{className:"text-xl font-semibold text-muted-foreground",children:"No Purchase Order Selected"}),s.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Select a PO from the ",rt?"workbench icon":"list on the left"," to view lines."]}),s.jsxs(V,{variant:"outline",className:"mt-6",onClick:()=>S(!0),children:[s.jsx(mp,{className:"mr-2 h-4 w-4"})," Upload New PO"]})]})})]}),N&&s.jsx(tfe,{onClose:()=>S(!1),onSuccess:async Q=>{await ht();const me=await Jt(`/pos/${Q}/summary`);d(me)},vendors:r}),k&&s.jsx(Bue,{open:k,onClose:()=>_(!1),categories:e,onCreate:async(Q,me,ke,Ge)=>{await Sl("/categories",{label:Q,prefix:me,icon:ke,color:Ge}),ht()},onUpdate:async(Q,me,ke,Ge,Ct)=>{await If(`/categories/${Q}`,{label:me,prefix:ke,icon:Ge,color:Ct}),ht()},onDelete:async Q=>{await Db(`/categories/${Q}`),ht()}}),C&&s.jsx(Wue,{vendors:r,onClose:()=>E(!1),onUpdate:ht}),W&&c&&s.jsx(vfe,{open:W,onClose:()=>P(!1),poNumber:c.po_number,currentVendorId:c.vendor_id,vendors:r,onMove:async Q=>{await Nt(c.id,Q)}}),te&&c&&s.jsx(rfe,{open:te,onClose:()=>le(!1),po:c,vendors:r,allowVendorEdit:!1,onSaved:async Q=>{le(!1),d(me=>me&&{...me,...Q}),await Ir()}}),s.jsx(U6,{open:!!F,onClose:()=>J(null),onConfirm:fe,title:"Delete Purchase Order?",requireVerification:!0,description:s.jsxs("span",{children:["Are you sure you want to permanently delete PO ",s.jsx("span",{className:"font-mono font-medium text-foreground bg-muted px-1 rounded",children:F==null?void 0:F.po_number}),"?",s.jsx("br",{}),s.jsx("span",{className:"text-red-500 font-medium mt-1 block",children:"All associated lines and inventory items will be removed."})]}),confirmText:"Delete PO"}),s.jsx(yfe,{open:I,onClose:()=>R(!1),currentUserName:We==null?void 0:We.name}),s.jsx(xfe,{open:K,onClose:()=>D(!1),managerId:(We==null?void 0:We.id)??null}),We&&s.jsx(Aj,{user:We}),T&&c&&s.jsx(B6,{poId:c.id,onClose:()=>A(!1),onLineAdded:()=>{A(!1),Ze(Q=>Q+1)}}),s.jsx(afe,{open:x,onClose:()=>b(!1),onPickPO:Q=>{const me=i.find(ke=>ke.id===Q.id);me&&d(me),v(null)},onPickLine:(Q,me)=>{if(!c||c.id!==Q){const ke=i.find(Ge=>Ge.id===Q);ke&&d(ke)}v(me)}}),s.jsx(bfe,{open:Z,onClose:()=>ce(!1),userId:(We==null?void 0:We.id)||0}),s.jsx(El,{loading:re,label:"Loading Purchase Order..."}),s.jsx(El,{loading:$,label:"Sending items to testers..."}),s.jsx(El,{loading:a,label:"Refreshing Data..."})]})}function Nfe({onAuth:e}){const t={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return s.jsxs("div",{"data-theme":"auth tester",className:"relative min-h-screen overflow-hidden bg-slate-900 flex flex-col items-center justify-center px-4 py-12 font-['Inter',-apple-system,BlinkMacSystemFont,'Segoe_UI',Roboto,sans-serif]",children:[s.jsx("style",{children:`
        @keyframes floatSlow { 0%{transform:translate3d(-5%,-3%,0)} 50%{transform:translate3d(5%,3%,0)} 100%{transform:translate3d(-5%,-3%,0)} }
        @keyframes drift { 0%{transform:translate3d(4%,-4%,0)} 50%{transform:translate3d(-4%,4%,0)} 100%{transform:translate3d(4%,-4%,0)} }
        [data-theme~="tester"]{ --accent-500:#6366f1; --accent-600:#4f46e5; --accent-700:#4338ca; --muted:#94a3b8; --blob-a: rgba(79,70,229,0.12); --blob-b: rgba(14,165,233,0.12); }
        [data-theme~="auth"] .auth-skin .mb-6.flex.items-center.gap-3 { display:none !important; }
        [data-theme~="auth"] .auth-skin .mb-4 input[type="text"]{ background:rgba(51,65,85,0.8)!important;border-color:rgba(51,65,85,1)!important;color:#fff!important; height:2.5rem!important;border-radius:.75rem!important;padding-left:.875rem!important; transition:box-shadow .2s,border-color .2s,background .2s!important; }
        [data-theme~="auth"] .auth-skin .mb-4 input[type="text"]::placeholder{color:#64748b!important;}
        [data-theme~="auth"] .auth-skin .mb-4 input[type="text"]:focus{ outline:none!important;border-color:var(--accent-600)!important;box-shadow:0 0 0 2px rgba(79,70,229,.45)!important;background:rgba(51,65,85,.9)!important; }
        [data-theme~="auth"] .auth-skin .mb-4>button, [data-theme~="auth"] .auth-skin form button[type="submit"]{ background:var(--accent-600)!important;color:#fff!important;border:1px solid transparent!important;border-radius:.75rem!important;font-weight:600!important; box-shadow:0 10px 25px -10px rgba(79,70,229,.5)!important;transition:transform .15s ease,box-shadow .2s ease,background .2s ease!important;will-change:transform; }
        [data-theme~="auth"] .auth-skin .mb-4>button:hover, [data-theme~="auth"] .auth-skin form button[type="submit"]:hover{ background:var(--accent-700)!important;transform:translateY(-1px)!important;box-shadow:0 14px 30px -12px rgba(79,70,229,.6)!important; }
        [data-theme~="auth"] .auth-skin .grid{ max-height:24rem;overflow-y:auto;overflow-x:hidden;scrollbar-gutter:stable both-edges;overscroll-behavior:contain;padding:6px;margin:-6px; }
        [data-theme~="auth"] .auth-skin .grid::-webkit-scrollbar{width:8px;height:8px;}
        [data-theme~="auth"] .auth-skin .grid::-webkit-scrollbar-thumb{background:#475569;border-radius:4px;}
        [data-theme~="auth"] .auth-skin .grid::-webkit-scrollbar-track{background:#1e293b;border-radius:4px;}
        [data-theme~="auth"] .auth-skin .grid button{ background:rgba(51,65,85,.5)!important;border:1px solid rgba(51,65,85,1)!important;border-radius:.75rem!important; transition:transform .15s ease,border-color .15s ease,box-shadow .2s ease,background .15s ease!important; box-shadow:0 6px 16px -12px rgba(0,0,0,.6)!important;transform-origin:center;will-change:transform;contain:paint;backface-visibility:hidden; }
        [data-theme~="auth"] .auth-skin .grid button:hover{ transform:scale(1.02)!important;border-color:var(--accent-600)!important;background:rgba(79,70,229,.35)!important; box-shadow:0 12px 28px -14px rgba(79,70,229,.45)!important; }
        .bg-blob{position:fixed;filter:blur(120px);pointer-events:none;z-index:1; -webkit-mask-image:radial-gradient(closest-side,#000 70%,transparent 100%);mask-image:radial-gradient(closest-side,#000 70%,transparent 100%); }
        .bg-blob-1{top:-33%;left:-25%;width:60rem;height:60rem;background:var(--blob-a);animation:floatSlow 20s ease-in-out infinite;border-radius:9999px;}
        .bg-blob-2{bottom:-33%;right:-25%;width:60rem;height:60rem;background:var(--blob-b);animation:drift 24s ease-in-out infinite;border-radius:9999px;}
        [data-theme~="auth"] .grain-overlay{ -webkit-mask-image:radial-gradient(120% 80% at 50% 50%,#000 70%,transparent 100%);mask-image:radial-gradient(120% 80% at 50% 50%,#000 70%,transparent 100%); }
      `}),s.jsx("div",{"aria-hidden":!0,className:"bg-blob bg-blob-1"}),s.jsx("div",{"aria-hidden":!0,className:"bg-blob bg-blob-2"}),s.jsx("div",{"aria-hidden":!0,className:"grain-overlay pointer-events-none absolute inset-0 bg-[radial-gradient(1000px_500px_at_50%_-20%,rgba(255,255,255,0.06),transparent_70%),radial-gradient(900px_600px_at_50%_120%,rgba(255,255,255,0.06),transparent_70%)] z-[1]"}),s.jsxs("header",{className:"mb-8 text-center relative z-20",children:[s.jsxs(Me.div,{variants:t,initial:"hidden",animate:"visible",className:"flex items-center justify-center gap-3",transition:{type:"spring",stiffness:100},children:[s.jsx(Sd,{to:"/",className:"flex items-center justify-center h-9 w-9 rounded-full border border-slate-700 bg-slate-800/50 text-slate-400 hover:bg-slate-700/50 hover:text-white transition-colors duration-200 shadow-lg","aria-label":"Go home",children:s.jsx(uh,{className:"h-4 w-4"})}),s.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:"Testing Workspace Sign-in"})]}),s.jsx(Me.p,{className:"mt-2 text-sm text-slate-400 max-w-xs mx-auto",variants:t,initial:"hidden",animate:"visible",transition:{delay:.3,duration:.5},children:"Select your identity to begin testing and recording grades."})]}),s.jsx(Me.div,{className:"auth-skin relative z-20 w-full max-w-lg p-6 sm:p-8 bg-slate-800/90 backdrop-blur-xl rounded-2xl border border-slate-700/80 shadow-2xl shadow-slate-950/70 ring-1 ring-white/5",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4,delay:.2},children:s.jsx(Bh,{onAuth:e,variant:"tester",filterByRole:!0})}),s.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-6 z-40 flex justify-center",children:s.jsxs("div",{className:"pointer-events-auto rounded-full border border-slate-700 bg-slate-800/50 px-4 py-2 text-sm text-slate-300 backdrop-blur-md transition-shadow hover:shadow-lg hover:shadow-slate-900/50",children:["Select a different workspace? ",s.jsx(Sd,{className:"text-indigo-400 hover:text-indigo-300 font-medium underline-offset-4 decoration-indigo-500/50 hover:decoration-indigo-400",to:"/",children:"Back to selection"})]})})]})}function Sfe({onAuth:e}){const t={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return s.jsxs("div",{"data-theme":"auth poster",className:"relative min-h-screen overflow-hidden bg-slate-900 flex flex-col items-center justify-center px-4 py-12 font-['Inter',-apple-system,BlinkMacSystemFont,'Segoe_UI',Roboto,sans-serif]",children:[s.jsx("style",{children:`
        @keyframes floatSlow { 0%{transform:translate3d(-5%,-3%,0)} 50%{transform:translate3d(5%,3%,0)} 100%{transform:translate3d(-5%,-3%,0)} }
        @keyframes drift { 0%{transform:translate3d(4%,-4%,0)} 50%{transform:translate3d(-4%,4%,0)} 100%{transform:translate3d(4%,-4%,0)} }
        [data-theme~="poster"]{ --accent-500:#10b981; --accent-600:#059669; --accent-700:#047857; --muted:#94a3b8; --blob-a: rgba(16,185,129,0.14); --blob-b: rgba(45,212,191,0.12); }
        [data-theme~="auth"] .auth-skin .mb-6.flex.items-center.gap-3{display:none!important;}
        [data-theme~="auth"] .auth-skin .mb-4 input[type="text"]{ background:rgba(51,65,85,.8)!important;border-color:rgba(51,65,85,1)!important;color:#fff!important;height:2.5rem!important;border-radius:.75rem!important;padding-left:.875rem!important;transition:box-shadow .2s,border-color .2s,background .2s!important; }
        [data-theme~="auth"] .auth-skin .mb-4 input[type="text"]::placeholder{color:#64748b!important;}
        [data-theme~="auth"] .auth-skin .mb-4 input[type="text"]:focus{ outline:none!important;border-color:var(--accent-600)!important;box-shadow:0 0 0 2px rgba(5,150,105,.45)!important;background:rgba(51,65,85,.9)!important; }
        [data-theme~="auth"] .auth-skin .mb-4>button, [data-theme~="auth"] .auth-skin form button[type="submit"]{ background:var(--accent-600)!important;color:#fff!important;border:1px solid transparent!important;border-radius:.75rem!important;font-weight:600!important; box-shadow:0 10px 25px -10px rgba(5,150,105,.5)!important;transition:transform .15s ease,box-shadow .2s ease,background .15s ease!important;will-change:transform; }
        [data-theme~="auth"] .auth-skin .mb-4>button:hover, [data-theme~="auth"] .auth-skin form button[type="submit"]:hover{ background:var(--accent-700)!important;transform:translateY(-1px)!important;box-shadow:0 14px 30px -12px rgba(5,150,105,.6)!important; }
        [data-theme~="auth"] .auth-skin .grid{max-height:24rem;overflow-y:auto;overflow-x:hidden;scrollbar-gutter:stable both-edges;overscroll-behavior:contain;padding:6px;margin:-6px;}
        [data-theme~="auth"] .auth-skin .grid::-webkit-scrollbar{width:8px;height:8px;}
        [data-theme~="auth"] .auth-skin .grid::-webkit-scrollbar-thumb{background:#475569;border-radius:4px;}
        [data-theme~="auth"] .auth-skin .grid::-webkit-scrollbar-track{background:#1e293b;border-radius:4px;}
        [data-theme~="auth"] .auth-skin .grid button{ background:rgba(51,65,85,.5)!important;border:1px solid rgba(51,65,85,1)!important;border-radius:.75rem!important; transition:transform .15s ease,border-color .15s ease,box-shadow .2s ease,background .15s ease!important; box-shadow:0 6px 16px -12px rgba(0,0,0,.6)!important;transform-origin:center;will-change:transform;contain:paint;backface-visibility:hidden; }
        [data-theme~="auth"] .auth-skin .grid button:hover{ transform:scale(1.02)!important;border-color:var(--accent-600)!important;background:rgba(16,185,129,.3)!important; box-shadow:0 12px 28px -14px rgba(16,185,129,.45)!important; }
        .bg-blob{position:fixed;filter:blur(120px);pointer-events:none;z-index:1; -webkit-mask-image:radial-gradient(closest-side,#000 70%,transparent 100%);mask-image:radial-gradient(closest-side,#000 70%,transparent 100%); }
        .bg-blob-1{top:-33%;left:-25%;width:60rem;height:60rem;background:var(--blob-a);animation:floatSlow 20s ease-in-out infinite;border-radius:9999px;}
        .bg-blob-2{bottom:-33%;right:-25%;width:60rem;height:60rem;background:var(--blob-b);animation:drift 24s ease-in-out infinite;border-radius:9999px;}
        [data-theme~="auth"] .grain-overlay{ -webkit-mask-image:radial-gradient(120% 80% at 50% 50%,#000 70%,transparent 100%);mask-image:radial-gradient(120% 80% at 50% 50%,#000 70%,transparent 100%); }
      `}),s.jsx("div",{"aria-hidden":!0,className:"bg-blob bg-blob-1"}),s.jsx("div",{"aria-hidden":!0,className:"bg-blob bg-blob-2"}),s.jsx("div",{"aria-hidden":!0,className:"grain-overlay pointer-events-none absolute inset-0 bg-[radial-gradient(1000px_500px_at_50%_-20%,rgba(255,255,255,0.06),transparent_70%),radial-gradient(900px_600px_at_50%_120%,rgba(255,255,255,0.06),transparent_70%)] z-[1]"}),s.jsxs("header",{className:"mb-8 text-center relative z-20",children:[s.jsxs(Me.div,{variants:t,initial:"hidden",animate:"visible",className:"flex items-center justify-center gap-3",transition:{type:"spring",stiffness:100},children:[s.jsx(Sd,{to:"/",className:"flex items-center justify-center h-9 w-9 rounded-full border border-slate-700 bg-slate-800/50 text-slate-400 hover:bg-slate-700/50 hover:text-white transition-colors duration-200 shadow-lg","aria-label":"Go home",children:s.jsx(uh,{className:"h-4 w-4"})}),s.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:"Poster Workspace Sign-in"})]}),s.jsx(Me.p,{className:"mt-2 text-sm text-slate-400 max-w-xs mx-auto",variants:t,initial:"hidden",animate:"visible",transition:{delay:.3,duration:.5},children:"Choose your profile to start posting."})]}),s.jsx(Me.div,{className:"auth-skin relative z-20 w-full max-w-lg p-6 sm:p-8 bg-slate-800/90 backdrop-blur-xl rounded-2xl border border-slate-700/80 shadow-2xl shadow-slate-950/70 ring-1 ring-white/5",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4,delay:.2},children:s.jsx(Bh,{onAuth:e,variant:"poster",filterByRole:!0})}),s.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-6 z-40 flex justify-center",children:s.jsxs("div",{className:"pointer-events-auto rounded-full border border-slate-700 bg-slate-800/50 px-4 py-2 text-sm text-slate-300 backdrop-blur-md transition-shadow hover:shadow-lg hover:shadow-slate-900/50",children:["Select a different workspace? ",s.jsx(Sd,{className:"text-emerald-300 hover:text-emerald-200 font-medium underline-offset-4 decoration-emerald-500/50 hover:decoration-emerald-400",to:"/",children:"Back to selection"})]})})]})}const kfe=typeof import.meta<"u"&&"/backend"||"/backend";function Cfe({onAuth:e}){const[t,r]=u.useState(!1),[n,a]=u.useState(null),[o,i]=u.useState(""),[l,c]=u.useState(!1),[d,f]=u.useState(null),h=u.useRef(null),m=u.useRef(!1);u.useEffect(()=>{try{h.current=localStorage.getItem("synergy_user"),localStorage.removeItem("synergy_user")}catch{}return()=>{if(!m.current)try{h.current!=null?localStorage.setItem("synergy_user",h.current):localStorage.removeItem("synergy_user")}catch{}}},[]);const p={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};async function g(b){if(b.preventDefault(),!!n){c(!0),f(null);try{const y=await fetch(`${kfe}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Number(n.id),password:o})});if(!y.ok){const w=await y.text();throw new Error(`HTTP ${y.status}: ${w||"Invalid credentials"}`)}const v=await y.json();m.current=!0,e(v)}catch(y){f((y==null?void 0:y.message)||"Login failed")}finally{c(!1)}}}function x(){r(!1),a(null),i(""),f(null);try{h.current!=null?localStorage.setItem("synergy_user",h.current):localStorage.removeItem("synergy_user")}catch{}}return s.jsxs("div",{"data-theme":"auth manager",className:"relative min-h-screen overflow-hidden bg-slate-900 flex flex-col items-center justify-center px-4 py-12 font-['Inter',-apple-system,BlinkMacSystemFont,'Segoe_UI',Roboto,sans-serif]",children:[s.jsx("style",{children:`
        @keyframes floatSlow { 0%{transform:translate3d(-5%,-3%,0)} 50%{transform:translate3d(5%,3%,0)} 100%{transform:translate3d(-5%,-3%,0)} }
        @keyframes drift { 0%{transform:translate3d(4%,-4%,0)} 50%{transform:translate3d(-4%,4%,0)} 100%{transform:translate3d(4%,-4%,0)} }
        [data-theme~="manager"]{--accent-500:#0ea5e9; --accent-600:#0284c7; --accent-700:#0369a1; --muted:#94a3b8; --blob-a: rgba(14,165,233,0.14); --blob-b: rgba(59,130,246,0.12);}
        [data-theme~="auth"] .auth-skin .mb-6.flex.items-center.gap-3{display:none!important;}
        [data-theme~="auth"] .auth-skin .mb-4 > button{display:none!important;}
        [data-theme~="auth"] .auth-skin .mb-4 input[type="text"]{background:rgba(51,65,85,.8)!important;border-color:rgba(51,65,85,1)!important;color:#fff!important;height:2.5rem!important;border-radius:.75rem!important;padding-left:.875rem!important;transition:box-shadow .2s,border-color .2s,background .2s!important;}
        [data-theme~="auth"] .auth-skin .mb-4 input[type="text"]::placeholder{color:#64748b!important;}
        [data-theme~="auth"] .auth-skin .mb-4 input[type="text"]:focus{outline:none!important;border-color:var(--accent-600)!important;box-shadow:0 0 0 2px rgba(2,132,199,.45)!important;background:rgba(51,65,85,.9)!important;}
        [data-theme~="auth"] .auth-skin .grid{max-height:24rem;overflow-y:auto;overflow-x:hidden;scrollbar-gutter:stable both-edges;overscroll-behavior:contain;padding:6px;margin:-6px;}
        [data-theme~="auth"] .auth-skin .grid::-webkit-scrollbar{width:8px;height:8px;}
        [data-theme~="auth"] .auth-skin .grid::-webkit-scrollbar-thumb{background:#475569;border-radius:4px;}
        [data-theme~="auth"] .auth-skin .grid::-webkit-scrollbar-track{background:#1e293b;border-radius:4px;}
        [data-theme~="auth"] .auth-skin .grid button{background:rgba(51,65,85,.5)!important;border:1px solid rgba(51,65,85,1)!important;border-radius:.75rem!important;transition:transform .15s ease,border-color .15s ease,box-shadow .2s ease,background .15s ease!important;box-shadow:0 6px 16px -12px rgba(0,0,0,.6)!important;transform-origin:center;will-change:transform;contain:paint;backface-visibility:hidden;}
        [data-theme~="auth"] .auth-skin .grid button:hover{transform:scale(1.02)!important;border-color:var(--accent-600)!important;background:rgba(14,165,233,.32)!important;box-shadow:0 12px 28px -14px rgba(14,165,233,.45)!important;}
        .bg-blob{position:fixed;filter:blur(120px);pointer-events:none;z-index:1;-webkit-mask-image:radial-gradient(closest-side,#000 70%,transparent 100%);mask-image:radial-gradient(closest-side,#000 70%,transparent 100%);}
        .bg-blob-1{top:-33%;left:-25%;width:60rem;height:60rem;background:var(--blob-a);animation:floatSlow 20s ease-in-out infinite;border-radius:9999px;}
        .bg-blob-2{bottom:-33%;right:-25%;width:60rem;height:60rem;background:var(--blob-b);animation:drift 24s ease-in-out infinite;border-radius:9999px;}
        [data-theme~="auth"] .grain-overlay{-webkit-mask-image:radial-gradient(120% 80% at 50% 50%,#000 70%,transparent 100%);mask-image:radial-gradient(120% 80% at 50% 50%,#000 70%,transparent 100%);}
      `}),s.jsx("div",{"aria-hidden":!0,className:"bg-blob bg-blob-1"}),s.jsx("div",{"aria-hidden":!0,className:"bg-blob bg-blob-2"}),s.jsx("div",{"aria-hidden":!0,className:"grain-overlay pointer-events-none absolute inset-0 bg-[radial-gradient(1000px_500px_at_50%_-20%,rgba(255,255,255,0.06),transparent_70%),radial-gradient(900px_600px_at_50%_120%,rgba(255,255,255,0.06),transparent_70%)] z-[1]"}),!t&&s.jsxs(s.Fragment,{children:[s.jsxs("header",{className:"mb-8 text-center relative z-20",children:[s.jsxs(Me.div,{variants:p,initial:"hidden",animate:"visible",className:"flex items-center justify-center gap-3",transition:{type:"spring",stiffness:100},children:[s.jsx(Sd,{to:"/",className:"flex items-center justify-center h-9 w-9 rounded-full border border-slate-700 bg-slate-800/50 text-slate-400 hover:bg-slate-700/50 hover:text-white transition-colors duration-200 shadow-lg","aria-label":"Go home",children:s.jsx(uh,{className:"h-4 w-4"})}),s.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:"Manager Workspace Sign-in"})]}),s.jsx(Me.p,{className:"mt-2 text-sm text-slate-400 max-w-xs mx-auto",variants:p,initial:"hidden",animate:"visible",transition:{delay:.3,duration:.5},children:"Choose your profile to coordinate teams and approvals."})]}),s.jsxs(Me.div,{className:"auth-skin relative z-20 w-full max-w-lg p-6 sm:p-8 bg-slate-800/90 backdrop-blur-xl rounded-2xl border border-slate-700/80 shadow-2xl shadow-slate-950/70 ring-1 ring-white/5 mx-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4,delay:.2},children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"rounded-xl bg-gradient-to-br from-sky-500 to-blue-500 p-3",children:s.jsx(wd,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-lg font-semibold leading-tight",children:["Sign in to the ",s.jsx("span",{className:"text-sky-400",children:"Manager"})," Workspace"]}),s.jsx("div",{className:"text-sm text-slate-300",children:"Select your profile below to continue."})]})]}),s.jsx(Bh,{onAuth:b=>{a(b),r(!0)},variant:"manager",filterByRole:!0,delegateAuth:!0})]}),s.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-6 z-40 flex justify-center",children:s.jsxs("div",{className:"pointer-events-auto rounded-full border border-slate-700 bg-slate-800/50 px-4 py-2 text-sm text-slate-300 backdrop-blur-md transition-shadow hover:shadow-lg hover:shadow-slate-900/50",children:["Select a different workspace?"," ",s.jsx(Sd,{className:"text-sky-300 hover:text-sky-200 font-medium underline-offset-4 decoration-sky-500/50 hover:decoration-sky-400",to:"/",children:"Back to selection"})]})})]}),t&&s.jsxs("div",{className:"relative z-20 w-full max-w-sm mx-auto bg-slate-800/95 p-6 rounded-xl border border-slate-700 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"rounded-lg bg-sky-600/20 p-2",children:s.jsx(Nl,{className:"h-5 w-5 text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:"Manager verification"}),s.jsx("p",{className:"text-sm text-slate-400",children:n?`Verify ${n.name}`:"Verify your identity"})]})]}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsx("input",{type:"password",placeholder:"Manager password",className:"w-full h-10 px-4 rounded-xl bg-slate-700/80 text-white border border-slate-700 focus:ring-2 focus:ring-sky-500 focus:border-sky-500 placeholder:text-slate-500 text-sm",value:o,onChange:b=>i(b.target.value),autoFocus:!0,disabled:l}),d&&s.jsx("p",{className:"text-xs text-rose-400",children:d}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:x,className:"flex-1 py-2 rounded-xl border border-slate-700 text-slate-300 hover:bg-slate-700/50 transition-colors",disabled:l,children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 py-2 bg-sky-600 rounded-xl text-white font-semibold hover:bg-sky-700 transition-colors disabled:opacity-60",disabled:!o||l,children:l?"Verifying":"Verify"})]})]})]})]})}function rf(e){let t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function I1(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function _fe(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function C5(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function _5(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function Efe(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Tfe(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function sv(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function Pfe(e,t){let r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return Math.sqrt(r*r+n*n+a*a)}function Mfe(e,t){let r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return r*r+n*n+a*a}function E5(e){let t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function Ife(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Afe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function A1(e,t){let r=t[0],n=t[1],a=t[2],o=r*r+n*n+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function g8(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function T5(e,t,r){let n=t[0],a=t[1],o=t[2],i=r[0],l=r[1],c=r[2];return e[0]=a*c-o*l,e[1]=o*i-n*c,e[2]=n*l-a*i,e}function Ofe(e,t,r,n){let a=t[0],o=t[1],i=t[2];return e[0]=a+n*(r[0]-a),e[1]=o+n*(r[1]-o),e[2]=i+n*(r[2]-i),e}function Rfe(e,t,r,n,a){const o=Math.exp(-n*a);let i=t[0],l=t[1],c=t[2];return e[0]=r[0]+(i-r[0])*o,e[1]=r[1]+(l-r[1])*o,e[2]=r[2]+(c-r[2])*o,e}function Dfe(e,t,r){let n=t[0],a=t[1],o=t[2],i=r[3]*n+r[7]*a+r[11]*o+r[15];return i=i||1,e[0]=(r[0]*n+r[4]*a+r[8]*o+r[12])/i,e[1]=(r[1]*n+r[5]*a+r[9]*o+r[13])/i,e[2]=(r[2]*n+r[6]*a+r[10]*o+r[14])/i,e}function Lfe(e,t,r){let n=t[0],a=t[1],o=t[2],i=r[3]*n+r[7]*a+r[11]*o+r[15];return i=i||1,e[0]=(r[0]*n+r[4]*a+r[8]*o)/i,e[1]=(r[1]*n+r[5]*a+r[9]*o)/i,e[2]=(r[2]*n+r[6]*a+r[10]*o)/i,e}function $fe(e,t,r){let n=t[0],a=t[1],o=t[2];return e[0]=n*r[0]+a*r[3]+o*r[6],e[1]=n*r[1]+a*r[4]+o*r[7],e[2]=n*r[2]+a*r[5]+o*r[8],e}function Ffe(e,t,r){let n=t[0],a=t[1],o=t[2],i=r[0],l=r[1],c=r[2],d=r[3],f=l*o-c*a,h=c*n-i*o,m=i*a-l*n,p=l*m-c*h,g=c*f-i*m,x=i*h-l*f,b=d*2;return f*=b,h*=b,m*=b,p*=2,g*=2,x*=2,e[0]=n+f+p,e[1]=a+h+g,e[2]=o+m+x,e}const zfe=function(){const e=[0,0,0],t=[0,0,0];return function(r,n){I1(e,r),I1(t,n),A1(e,e),A1(t,t);let a=g8(e,t);return a>1?0:a<-1?Math.PI:Math.acos(a)}}();function Bfe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}class sa extends Array{constructor(t=0,r=t,n=t){return super(t,r,n),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,r=t,n=t){return t.length?this.copy(t):(_fe(this,t,r,n),this)}copy(t){return I1(this,t),this}add(t,r){return r?C5(this,t,r):C5(this,this,t),this}sub(t,r){return r?_5(this,t,r):_5(this,this,t),this}multiply(t){return t.length?Efe(this,this,t):sv(this,this,t),this}divide(t){return t.length?Tfe(this,this,t):sv(this,this,1/t),this}inverse(t=this){return Afe(this,t),this}len(){return rf(this)}distance(t){return t?Pfe(this,t):rf(this)}squaredLen(){return E5(this)}squaredDistance(t){return t?Mfe(this,t):E5(this)}negate(t=this){return Ife(this,t),this}cross(t,r){return r?T5(this,t,r):T5(this,this,t),this}scale(t){return sv(this,this,t),this}normalize(){return A1(this,this),this}dot(t){return g8(this,t)}equals(t){return Bfe(this,t)}applyMatrix3(t){return $fe(this,this,t),this}applyMatrix4(t){return Dfe(this,this,t),this}scaleRotateMatrix4(t){return Lfe(this,this,t),this}applyQuaternion(t){return Ffe(this,this,t),this}angle(t){return zfe(this,t)}lerp(t,r){return Ofe(this,this,t,r),this}smoothLerp(t,r,n){return Rfe(this,this,t,r,n),this}clone(){return new sa(this[0],this[1],this[2])}fromArray(t,r=0){return this[0]=t[r],this[1]=t[r+1],this[2]=t[r+2],this}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t}transformDirection(t){const r=this[0],n=this[1],a=this[2];return this[0]=t[0]*r+t[4]*n+t[8]*a,this[1]=t[1]*r+t[5]*n+t[9]*a,this[2]=t[2]*r+t[6]*n+t[10]*a,this.normalize()}}const P5=new sa;let Ufe=1,Vfe=1,M5=!1;class Hfe{constructor(t,r={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=r,this.id=Ufe++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let n in r)this.addAttribute(n,r[n])}addAttribute(t,r){if(this.attributes[t]=r,r.id=Vfe++,r.size=r.size||1,r.type=r.type||(r.data.constructor===Float32Array?this.gl.FLOAT:r.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),r.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,r.normalized=r.normalized||!1,r.stride=r.stride||0,r.offset=r.offset||0,r.count=r.count||(r.stride?r.data.byteLength/r.stride:r.data.length/r.size),r.divisor=r.instanced||0,r.needsUpdate=!1,r.usage=r.usage||this.gl.STATIC_DRAW,r.buffer||this.updateAttribute(r),r.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==r.count*r.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,r.count*r.divisor);this.instancedCount=r.count*r.divisor}else t==="index"?this.drawRange.count=r.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,r.count))}updateAttribute(t){const r=!t.buffer;r&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),r?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,r){this.drawRange.start=t,this.drawRange.count=r}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((r,{name:n,type:a})=>{if(!this.attributes[n]){console.warn(`active attribute ${n} not being supplied`);return}const o=this.attributes[n];this.gl.bindBuffer(o.target,o.buffer),this.glState.boundBuffer=o.buffer;let i=1;a===35674&&(i=2),a===35675&&(i=3),a===35676&&(i=4);const l=o.size/i,c=i===1?0:i*i*4,d=i===1?0:i*4;for(let f=0;f<i;f++)this.gl.vertexAttribPointer(r+f,l,o.type,o.normalized,o.stride+c,o.offset+f*d),this.gl.enableVertexAttribArray(r+f),this.gl.renderer.vertexAttribDivisor(r+f,o.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:r=this.gl.TRIANGLES}){var a;this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((o,{name:i})=>{const l=this.attributes[i];l.needsUpdate&&this.updateAttribute(l)});let n=2;((a=this.attributes.index)==null?void 0:a.type)===this.gl.UNSIGNED_INT&&(n=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n,this.instancedCount):this.gl.renderer.drawArraysInstanced(r,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n):this.gl.drawArrays(r,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;if(t.data)return t;if(!M5)return console.warn("No position buffer data found to compute bounds"),M5=!0}computeBoundingBox(t){t||(t=this.getPosition());const r=t.data,n=t.size;this.bounds||(this.bounds={min:new sa,max:new sa,center:new sa,scale:new sa,radius:1/0});const a=this.bounds.min,o=this.bounds.max,i=this.bounds.center,l=this.bounds.scale;a.set(1/0),o.set(-1/0);for(let c=0,d=r.length;c<d;c+=n){const f=r[c],h=r[c+1],m=r[c+2];a.x=Math.min(f,a.x),a.y=Math.min(h,a.y),a.z=Math.min(m,a.z),o.x=Math.max(f,o.x),o.y=Math.max(h,o.y),o.z=Math.max(m,o.z)}l.sub(o,a),i.add(a,o).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());const r=t.data,n=t.size;this.bounds||this.computeBoundingBox(t);let a=0;for(let o=0,i=r.length;o<i;o+=n)P5.fromArray(r,o),a=Math.max(a,this.bounds.center.squaredDistance(P5));this.bounds.radius=Math.sqrt(a)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let Wfe=1;const I5={};class Gfe{constructor(t,{vertex:r,fragment:n,uniforms:a={},transparent:o=!1,cullFace:i=t.BACK,frontFace:l=t.CCW,depthTest:c=!0,depthWrite:d=!0,depthFunc:f=t.LEQUAL}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=a,this.id=Wfe++,r||console.warn("vertex shader not supplied"),n||console.warn("fragment shader not supplied"),this.transparent=o,this.cullFace=i,this.frontFace=l,this.depthTest=c,this.depthWrite=d,this.depthFunc=f,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:r,fragment:n})}setShaders({vertex:t,fragment:r}){if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${A5(t)}`)),r&&(this.gl.shaderSource(this.fragmentShader,r),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${A5(r)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){let l=this.gl.getActiveUniform(this.program,i);this.uniformLocations.set(l,this.gl.getUniformLocation(this.program,l.name));const c=l.name.match(/(\w+)/g);l.uniformName=c[0],l.nameComponents=c.slice(1)}this.attributeLocations=new Map;const a=[],o=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let i=0;i<o;i++){const l=this.gl.getActiveAttrib(this.program,i),c=this.gl.getAttribLocation(this.program,l.name);c!==-1&&(a[c]=l.name,this.attributeLocations.set(l,c))}this.attributeOrder=a.join("")}setBlendFunc(t,r,n,a){this.blendFunc.src=t,this.blendFunc.dst=r,this.blendFunc.srcAlpha=n,this.blendFunc.dstAlpha=a,t&&(this.transparent=!0)}setBlendEquation(t,r){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=r}setStencilFunc(t,r,n){this.stencilRef=r,this.stencilFunc.func=t,this.stencilFunc.ref=r,this.stencilFunc.mask=n}setStencilOp(t,r,n){this.stencilOp.stencilFail=t,this.stencilOp.depthFail=r,this.stencilOp.depthPass=n}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:t=!1}={}){let r=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((a,o)=>{let i=this.uniforms[o.uniformName];for(const l of o.nameComponents){if(!i)break;if(l in i)i=i[l];else{if(Array.isArray(i.value))break;i=void 0;break}}if(!i)return O5(`Active uniform ${o.name} has not been supplied`);if(i&&i.value===void 0)return O5(`${o.name} uniform is missing a value parameter`);if(i.value.texture)return r=r+1,i.value.update(r),av(this.gl,o.type,a,r);if(i.value.length&&i.value[0].texture){const l=[];return i.value.forEach(c=>{r=r+1,c.update(r),l.push(r)}),av(this.gl,o.type,a,l)}av(this.gl,o.type,a,i.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function av(e,t,r,n){n=n.length?qfe(n):n;const a=e.renderer.state.uniformLocations.get(r);if(n.length)if(a===void 0||a.length!==n.length)e.renderer.state.uniformLocations.set(r,n.slice(0));else{if(Kfe(a,n))return;a.set?a.set(n):Yfe(a,n),e.renderer.state.uniformLocations.set(r,a)}else{if(a===n)return;e.renderer.state.uniformLocations.set(r,n)}switch(t){case 5126:return n.length?e.uniform1fv(r,n):e.uniform1f(r,n);case 35664:return e.uniform2fv(r,n);case 35665:return e.uniform3fv(r,n);case 35666:return e.uniform4fv(r,n);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return n.length?e.uniform1iv(r,n):e.uniform1i(r,n);case 35671:case 35667:return e.uniform2iv(r,n);case 35672:case 35668:return e.uniform3iv(r,n);case 35673:case 35669:return e.uniform4iv(r,n);case 35674:return e.uniformMatrix2fv(r,!1,n);case 35675:return e.uniformMatrix3fv(r,!1,n);case 35676:return e.uniformMatrix4fv(r,!1,n)}}function A5(e){let t=e.split(`
`);for(let r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join(`
`)}function qfe(e){const t=e.length,r=e[0].length;if(r===void 0)return e;const n=t*r;let a=I5[n];a||(I5[n]=a=new Float32Array(n));for(let o=0;o<t;o++)a.set(e[o],o*r);return a}function Kfe(e,t){if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Yfe(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t[r]}let ov=0;function O5(e){ov>100||(console.warn(e),ov++,ov>100&&console.warn("More than 100 program warnings - stopping logs."))}const iv=new sa;let Xfe=1;class Qfe{constructor({canvas:t=document.createElement("canvas"),width:r=300,height:n=150,dpr:a=1,alpha:o=!1,depth:i=!0,stencil:l=!1,antialias:c=!1,premultipliedAlpha:d=!1,preserveDrawingBuffer:f=!1,powerPreference:h="default",autoClear:m=!0,webgl:p=2}={}){const g={alpha:o,depth:i,stencil:l,antialias:c,premultipliedAlpha:d,preserveDrawingBuffer:f,powerPreference:h};this.dpr=a,this.alpha=o,this.color=!0,this.depth=i,this.stencil=l,this.premultipliedAlpha=d,this.autoClear=m,this.id=Xfe++,p===2&&(this.gl=t.getContext("webgl2",g)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",g)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(r,n),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,r){this.width=t,this.height=r,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=r*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:r+"px"})}setViewport(t,r,n=0,a=0){this.state.viewport.width===t&&this.state.viewport.height===r||(this.state.viewport.width=t,this.state.viewport.height=r,this.state.viewport.x=n,this.state.viewport.y=a,this.gl.viewport(n,a,t,r))}setScissor(t,r,n=0,a=0){this.gl.scissor(n,a,t,r)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,r,n,a){this.state.blendFunc.src===t&&this.state.blendFunc.dst===r&&this.state.blendFunc.srcAlpha===n&&this.state.blendFunc.dstAlpha===a||(this.state.blendFunc.src=t,this.state.blendFunc.dst=r,this.state.blendFunc.srcAlpha=n,this.state.blendFunc.dstAlpha=a,n!==void 0?this.gl.blendFuncSeparate(t,r,n,a):this.gl.blendFunc(t,r))}setBlendEquation(t,r){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===r)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=r,r!==void 0?this.gl.blendEquationSeparate(t,r):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}setStencilMask(t){this.state.stencilMask!==t&&(this.state.stencilMask=t,this.gl.stencilMask(t))}setStencilFunc(t,r,n){this.state.stencilFunc===t&&this.state.stencilRef===r&&this.state.stencilFuncMask===n||(this.state.stencilFunc=t||this.gl.ALWAYS,this.state.stencilRef=r||0,this.state.stencilFuncMask=n||0,this.gl.stencilFunc(t||this.gl.ALWAYS,r||0,n||0))}setStencilOp(t,r,n){this.state.stencilFail===t&&this.state.stencilDepthFail===r&&this.state.stencilDepthPass===n||(this.state.stencilFail=t,this.state.stencilDepthFail=r,this.state.stencilDepthPass=n,this.gl.stencilOp(t,r,n))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:r=null}={}){this.state.framebuffer!==r&&(this.state.framebuffer=r,this.gl.bindFramebuffer(t,r))}getExtension(t,r,n){return r&&this.gl[r]?this.gl[r].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),r?this.extensions[t]?this.extensions[t][n].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,r){return t.renderOrder!==r.renderOrder?t.renderOrder-r.renderOrder:t.program.id!==r.program.id?t.program.id-r.program.id:t.zDepth!==r.zDepth?t.zDepth-r.zDepth:r.id-t.id}sortTransparent(t,r){return t.renderOrder!==r.renderOrder?t.renderOrder-r.renderOrder:t.zDepth!==r.zDepth?r.zDepth-t.zDepth:r.id-t.id}sortUI(t,r){return t.renderOrder!==r.renderOrder?t.renderOrder-r.renderOrder:t.program.id!==r.program.id?t.program.id-r.program.id:r.id-t.id}getRenderList({scene:t,camera:r,frustumCull:n,sort:a}){let o=[];if(r&&n&&r.updateFrustum(),t.traverse(i=>{if(!i.visible)return!0;i.draw&&(n&&i.frustumCulled&&r&&!r.frustumIntersectsMesh(i)||o.push(i))}),a){const i=[],l=[],c=[];o.forEach(d=>{d.program.transparent?d.program.depthTest?l.push(d):c.push(d):i.push(d),d.zDepth=0,!(d.renderOrder!==0||!d.program.depthTest||!r)&&(d.worldMatrix.getTranslation(iv),iv.applyMatrix4(r.projectionViewMatrix),d.zDepth=iv.z)}),i.sort(this.sortOpaque),l.sort(this.sortTransparent),c.sort(this.sortUI),o=i.concat(l,c)}return o}render({scene:t,camera:r,target:n=null,update:a=!0,sort:o=!0,frustumCull:i=!0,clear:l}){n===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(n),this.setViewport(n.width,n.height)),(l||this.autoClear&&l!==!1)&&(this.depth&&(!n||n.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!n||n.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),a&&t.updateMatrixWorld(),r&&r.updateMatrixWorld(),this.getRenderList({scene:t,camera:r,frustumCull:i,sort:o}).forEach(d=>{d.draw({camera:r})})}}function Jfe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Zfe(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function ehe(e,t){let r=t[0],n=t[1],a=t[2],o=t[3],i=r*r+n*n+a*a+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=r*i,e[1]=n*i,e[2]=a*i,e[3]=o*i,e}function the(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function rhe(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function nhe(e,t,r){r=r*.5;let n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function R5(e,t,r){let n=t[0],a=t[1],o=t[2],i=t[3],l=r[0],c=r[1],d=r[2],f=r[3];return e[0]=n*f+i*l+a*d-o*c,e[1]=a*f+i*c+o*l-n*d,e[2]=o*f+i*d+n*c-a*l,e[3]=i*f-n*l-a*c-o*d,e}function she(e,t,r){r*=.5;let n=t[0],a=t[1],o=t[2],i=t[3],l=Math.sin(r),c=Math.cos(r);return e[0]=n*c+i*l,e[1]=a*c+o*l,e[2]=o*c-a*l,e[3]=i*c-n*l,e}function ahe(e,t,r){r*=.5;let n=t[0],a=t[1],o=t[2],i=t[3],l=Math.sin(r),c=Math.cos(r);return e[0]=n*c-o*l,e[1]=a*c+i*l,e[2]=o*c+n*l,e[3]=i*c-a*l,e}function ohe(e,t,r){r*=.5;let n=t[0],a=t[1],o=t[2],i=t[3],l=Math.sin(r),c=Math.cos(r);return e[0]=n*c+a*l,e[1]=a*c-n*l,e[2]=o*c+i*l,e[3]=i*c-o*l,e}function ihe(e,t,r,n){let a=t[0],o=t[1],i=t[2],l=t[3],c=r[0],d=r[1],f=r[2],h=r[3],m,p,g,x,b;return p=a*c+o*d+i*f+l*h,p<0&&(p=-p,c=-c,d=-d,f=-f,h=-h),1-p>1e-6?(m=Math.acos(p),g=Math.sin(m),x=Math.sin((1-n)*m)/g,b=Math.sin(n*m)/g):(x=1-n,b=n),e[0]=x*a+b*c,e[1]=x*o+b*d,e[2]=x*i+b*f,e[3]=x*l+b*h,e}function lhe(e,t){let r=t[0],n=t[1],a=t[2],o=t[3],i=r*r+n*n+a*a+o*o,l=i?1/i:0;return e[0]=-r*l,e[1]=-n*l,e[2]=-a*l,e[3]=o*l,e}function che(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function dhe(e,t){let r=t[0]+t[4]+t[8],n;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{let a=0;t[4]>t[0]&&(a=1),t[8]>t[a*3+a]&&(a=2);let o=(a+1)%3,i=(a+2)%3;n=Math.sqrt(t[a*3+a]-t[o*3+o]-t[i*3+i]+1),e[a]=.5*n,n=.5/n,e[3]=(t[o*3+i]-t[i*3+o])*n,e[o]=(t[o*3+a]+t[a*3+o])*n,e[i]=(t[i*3+a]+t[a*3+i])*n}return e}function uhe(e,t,r="YXZ"){let n=Math.sin(t[0]*.5),a=Math.cos(t[0]*.5),o=Math.sin(t[1]*.5),i=Math.cos(t[1]*.5),l=Math.sin(t[2]*.5),c=Math.cos(t[2]*.5);return r==="XYZ"?(e[0]=n*i*c+a*o*l,e[1]=a*o*c-n*i*l,e[2]=a*i*l+n*o*c,e[3]=a*i*c-n*o*l):r==="YXZ"?(e[0]=n*i*c+a*o*l,e[1]=a*o*c-n*i*l,e[2]=a*i*l-n*o*c,e[3]=a*i*c+n*o*l):r==="ZXY"?(e[0]=n*i*c-a*o*l,e[1]=a*o*c+n*i*l,e[2]=a*i*l+n*o*c,e[3]=a*i*c-n*o*l):r==="ZYX"?(e[0]=n*i*c-a*o*l,e[1]=a*o*c+n*i*l,e[2]=a*i*l-n*o*c,e[3]=a*i*c+n*o*l):r==="YZX"?(e[0]=n*i*c+a*o*l,e[1]=a*o*c+n*i*l,e[2]=a*i*l-n*o*c,e[3]=a*i*c-n*o*l):r==="XZY"&&(e[0]=n*i*c-a*o*l,e[1]=a*o*c-n*i*l,e[2]=a*i*l+n*o*c,e[3]=a*i*c+n*o*l),e}const fhe=Jfe,hhe=Zfe,mhe=the,phe=ehe;class ghe extends Array{constructor(t=0,r=0,n=0,a=1){super(t,r,n,a),this.onChange=()=>{},this._target=this;const o=["0","1","2","3"];return new Proxy(this,{set(i,l){const c=Reflect.set(...arguments);return c&&o.includes(l)&&i.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set w(t){this._target[3]=t,this.onChange()}identity(){return rhe(this._target),this.onChange(),this}set(t,r,n,a){return t.length?this.copy(t):(hhe(this._target,t,r,n,a),this.onChange(),this)}rotateX(t){return she(this._target,this._target,t),this.onChange(),this}rotateY(t){return ahe(this._target,this._target,t),this.onChange(),this}rotateZ(t){return ohe(this._target,this._target,t),this.onChange(),this}inverse(t=this._target){return lhe(this._target,t),this.onChange(),this}conjugate(t=this._target){return che(this._target,t),this.onChange(),this}copy(t){return fhe(this._target,t),this.onChange(),this}normalize(t=this._target){return phe(this._target,t),this.onChange(),this}multiply(t,r){return r?R5(this._target,t,r):R5(this._target,this._target,t),this.onChange(),this}dot(t){return mhe(this._target,t)}fromMatrix3(t){return dhe(this._target,t),this.onChange(),this}fromEuler(t,r){return uhe(this._target,t,t.order),r||this.onChange(),this}fromAxisAngle(t,r){return nhe(this._target,t,r),this.onChange(),this}slerp(t,r){return ihe(this._target,this._target,t,r),this.onChange(),this}fromArray(t,r=0){return this._target[0]=t[r],this._target[1]=t[r+1],this._target[2]=t[r+2],this._target[3]=t[r+3],this.onChange(),this}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t[r+3]=this[3],t}}const xhe=1e-6;function yhe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function vhe(e,t,r,n,a,o,i,l,c,d,f,h,m,p,g,x,b){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=o,e[5]=i,e[6]=l,e[7]=c,e[8]=d,e[9]=f,e[10]=h,e[11]=m,e[12]=p,e[13]=g,e[14]=x,e[15]=b,e}function bhe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function whe(e,t){let r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],l=t[5],c=t[6],d=t[7],f=t[8],h=t[9],m=t[10],p=t[11],g=t[12],x=t[13],b=t[14],y=t[15],v=r*l-n*i,w=r*c-a*i,j=r*d-o*i,N=n*c-a*l,S=n*d-o*l,k=a*d-o*c,_=f*x-h*g,C=f*b-m*g,E=f*y-p*g,T=h*b-m*x,A=h*y-p*x,W=m*y-p*b,P=v*W-w*A+j*T+N*E-S*C+k*_;return P?(P=1/P,e[0]=(l*W-c*A+d*T)*P,e[1]=(a*A-n*W-o*T)*P,e[2]=(x*k-b*S+y*N)*P,e[3]=(m*S-h*k-p*N)*P,e[4]=(c*E-i*W-d*C)*P,e[5]=(r*W-a*E+o*C)*P,e[6]=(b*j-g*k-y*w)*P,e[7]=(f*k-m*j+p*w)*P,e[8]=(i*A-l*E+d*_)*P,e[9]=(n*E-r*A-o*_)*P,e[10]=(g*S-x*j+y*v)*P,e[11]=(h*j-f*S-p*v)*P,e[12]=(l*C-i*T-c*_)*P,e[13]=(r*T-n*C+a*_)*P,e[14]=(x*w-g*N-b*v)*P,e[15]=(f*N-h*w+m*v)*P,e):null}function x8(e){let t=e[0],r=e[1],n=e[2],a=e[3],o=e[4],i=e[5],l=e[6],c=e[7],d=e[8],f=e[9],h=e[10],m=e[11],p=e[12],g=e[13],x=e[14],b=e[15],y=t*i-r*o,v=t*l-n*o,w=t*c-a*o,j=r*l-n*i,N=r*c-a*i,S=n*c-a*l,k=d*g-f*p,_=d*x-h*p,C=d*b-m*p,E=f*x-h*g,T=f*b-m*g,A=h*b-m*x;return y*A-v*T+w*E+j*C-N*_+S*k}function D5(e,t,r){let n=t[0],a=t[1],o=t[2],i=t[3],l=t[4],c=t[5],d=t[6],f=t[7],h=t[8],m=t[9],p=t[10],g=t[11],x=t[12],b=t[13],y=t[14],v=t[15],w=r[0],j=r[1],N=r[2],S=r[3];return e[0]=w*n+j*l+N*h+S*x,e[1]=w*a+j*c+N*m+S*b,e[2]=w*o+j*d+N*p+S*y,e[3]=w*i+j*f+N*g+S*v,w=r[4],j=r[5],N=r[6],S=r[7],e[4]=w*n+j*l+N*h+S*x,e[5]=w*a+j*c+N*m+S*b,e[6]=w*o+j*d+N*p+S*y,e[7]=w*i+j*f+N*g+S*v,w=r[8],j=r[9],N=r[10],S=r[11],e[8]=w*n+j*l+N*h+S*x,e[9]=w*a+j*c+N*m+S*b,e[10]=w*o+j*d+N*p+S*y,e[11]=w*i+j*f+N*g+S*v,w=r[12],j=r[13],N=r[14],S=r[15],e[12]=w*n+j*l+N*h+S*x,e[13]=w*a+j*c+N*m+S*b,e[14]=w*o+j*d+N*p+S*y,e[15]=w*i+j*f+N*g+S*v,e}function jhe(e,t,r){let n=r[0],a=r[1],o=r[2],i,l,c,d,f,h,m,p,g,x,b,y;return t===e?(e[12]=t[0]*n+t[4]*a+t[8]*o+t[12],e[13]=t[1]*n+t[5]*a+t[9]*o+t[13],e[14]=t[2]*n+t[6]*a+t[10]*o+t[14],e[15]=t[3]*n+t[7]*a+t[11]*o+t[15]):(i=t[0],l=t[1],c=t[2],d=t[3],f=t[4],h=t[5],m=t[6],p=t[7],g=t[8],x=t[9],b=t[10],y=t[11],e[0]=i,e[1]=l,e[2]=c,e[3]=d,e[4]=f,e[5]=h,e[6]=m,e[7]=p,e[8]=g,e[9]=x,e[10]=b,e[11]=y,e[12]=i*n+f*a+g*o+t[12],e[13]=l*n+h*a+x*o+t[13],e[14]=c*n+m*a+b*o+t[14],e[15]=d*n+p*a+y*o+t[15]),e}function Nhe(e,t,r){let n=r[0],a=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function She(e,t,r,n){let a=n[0],o=n[1],i=n[2],l=Math.hypot(a,o,i),c,d,f,h,m,p,g,x,b,y,v,w,j,N,S,k,_,C,E,T,A,W,P,te;return Math.abs(l)<xhe?null:(l=1/l,a*=l,o*=l,i*=l,c=Math.sin(r),d=Math.cos(r),f=1-d,h=t[0],m=t[1],p=t[2],g=t[3],x=t[4],b=t[5],y=t[6],v=t[7],w=t[8],j=t[9],N=t[10],S=t[11],k=a*a*f+d,_=o*a*f+i*c,C=i*a*f-o*c,E=a*o*f-i*c,T=o*o*f+d,A=i*o*f+a*c,W=a*i*f+o*c,P=o*i*f-a*c,te=i*i*f+d,e[0]=h*k+x*_+w*C,e[1]=m*k+b*_+j*C,e[2]=p*k+y*_+N*C,e[3]=g*k+v*_+S*C,e[4]=h*E+x*T+w*A,e[5]=m*E+b*T+j*A,e[6]=p*E+y*T+N*A,e[7]=g*E+v*T+S*A,e[8]=h*W+x*P+w*te,e[9]=m*W+b*P+j*te,e[10]=p*W+y*P+N*te,e[11]=g*W+v*P+S*te,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function khe(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function y8(e,t){let r=t[0],n=t[1],a=t[2],o=t[4],i=t[5],l=t[6],c=t[8],d=t[9],f=t[10];return e[0]=Math.hypot(r,n,a),e[1]=Math.hypot(o,i,l),e[2]=Math.hypot(c,d,f),e}function Che(e){let t=e[0],r=e[1],n=e[2],a=e[4],o=e[5],i=e[6],l=e[8],c=e[9],d=e[10];const f=t*t+r*r+n*n,h=a*a+o*o+i*i,m=l*l+c*c+d*d;return Math.sqrt(Math.max(f,h,m))}const v8=function(){const e=[1,1,1];return function(t,r){let n=e;y8(n,r);let a=1/n[0],o=1/n[1],i=1/n[2],l=r[0]*a,c=r[1]*o,d=r[2]*i,f=r[4]*a,h=r[5]*o,m=r[6]*i,p=r[8]*a,g=r[9]*o,x=r[10]*i,b=l+h+x,y=0;return b>0?(y=Math.sqrt(b+1)*2,t[3]=.25*y,t[0]=(m-g)/y,t[1]=(p-d)/y,t[2]=(c-f)/y):l>h&&l>x?(y=Math.sqrt(1+l-h-x)*2,t[3]=(m-g)/y,t[0]=.25*y,t[1]=(c+f)/y,t[2]=(p+d)/y):h>x?(y=Math.sqrt(1+h-l-x)*2,t[3]=(p-d)/y,t[0]=(c+f)/y,t[1]=.25*y,t[2]=(m+g)/y):(y=Math.sqrt(1+x-l-h)*2,t[3]=(c-f)/y,t[0]=(p+d)/y,t[1]=(m+g)/y,t[2]=.25*y),t}}();function _he(e,t,r,n){let a=rf([e[0],e[1],e[2]]);const o=rf([e[4],e[5],e[6]]),i=rf([e[8],e[9],e[10]]);x8(e)<0&&(a=-a),r[0]=e[12],r[1]=e[13],r[2]=e[14];const c=e.slice(),d=1/a,f=1/o,h=1/i;c[0]*=d,c[1]*=d,c[2]*=d,c[4]*=f,c[5]*=f,c[6]*=f,c[8]*=h,c[9]*=h,c[10]*=h,v8(t,c),n[0]=a,n[1]=o,n[2]=i}function Ehe(e,t,r,n){const a=e,o=t[0],i=t[1],l=t[2],c=t[3],d=o+o,f=i+i,h=l+l,m=o*d,p=o*f,g=o*h,x=i*f,b=i*h,y=l*h,v=c*d,w=c*f,j=c*h,N=n[0],S=n[1],k=n[2];return a[0]=(1-(x+y))*N,a[1]=(p+j)*N,a[2]=(g-w)*N,a[3]=0,a[4]=(p-j)*S,a[5]=(1-(m+y))*S,a[6]=(b+v)*S,a[7]=0,a[8]=(g+w)*k,a[9]=(b-v)*k,a[10]=(1-(m+x))*k,a[11]=0,a[12]=r[0],a[13]=r[1],a[14]=r[2],a[15]=1,a}function The(e,t){let r=t[0],n=t[1],a=t[2],o=t[3],i=r+r,l=n+n,c=a+a,d=r*i,f=n*i,h=n*l,m=a*i,p=a*l,g=a*c,x=o*i,b=o*l,y=o*c;return e[0]=1-h-g,e[1]=f+y,e[2]=m-b,e[3]=0,e[4]=f-y,e[5]=1-d-g,e[6]=p+x,e[7]=0,e[8]=m+b,e[9]=p-x,e[10]=1-d-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Phe(e,t,r,n,a){let o=1/Math.tan(t/2),i=1/(n-a);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+n)*i,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*n*i,e[15]=0,e}function Mhe(e,t,r,n,a,o,i){let l=1/(t-r),c=1/(n-a),d=1/(o-i);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*d,e[11]=0,e[12]=(t+r)*l,e[13]=(a+n)*c,e[14]=(i+o)*d,e[15]=1,e}function Ihe(e,t,r,n){let a=t[0],o=t[1],i=t[2],l=n[0],c=n[1],d=n[2],f=a-r[0],h=o-r[1],m=i-r[2],p=f*f+h*h+m*m;p===0?m=1:(p=1/Math.sqrt(p),f*=p,h*=p,m*=p);let g=c*m-d*h,x=d*f-l*m,b=l*h-c*f;return p=g*g+x*x+b*b,p===0&&(d?l+=1e-6:c?d+=1e-6:c+=1e-6,g=c*m-d*h,x=d*f-l*m,b=l*h-c*f,p=g*g+x*x+b*b),p=1/Math.sqrt(p),g*=p,x*=p,b*=p,e[0]=g,e[1]=x,e[2]=b,e[3]=0,e[4]=h*b-m*x,e[5]=m*g-f*b,e[6]=f*x-h*g,e[7]=0,e[8]=f,e[9]=h,e[10]=m,e[11]=0,e[12]=a,e[13]=o,e[14]=i,e[15]=1,e}function L5(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function $5(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function Ahe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}class Ag extends Array{constructor(t=1,r=0,n=0,a=0,o=0,i=1,l=0,c=0,d=0,f=0,h=1,m=0,p=0,g=0,x=0,b=1){return super(t,r,n,a,o,i,l,c,d,f,h,m,p,g,x,b),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,r,n,a,o,i,l,c,d,f,h,m,p,g,x,b){return t.length?this.copy(t):(vhe(this,t,r,n,a,o,i,l,c,d,f,h,m,p,g,x,b),this)}translate(t,r=this){return jhe(this,r,t),this}rotate(t,r,n=this){return She(this,n,t,r),this}scale(t,r=this){return Nhe(this,r,typeof t=="number"?[t,t,t]:t),this}add(t,r){return r?L5(this,t,r):L5(this,this,t),this}sub(t,r){return r?$5(this,t,r):$5(this,this,t),this}multiply(t,r){return t.length?r?D5(this,t,r):D5(this,this,t):Ahe(this,this,t),this}identity(){return bhe(this),this}copy(t){return yhe(this,t),this}fromPerspective({fov:t,aspect:r,near:n,far:a}={}){return Phe(this,t,r,n,a),this}fromOrthogonal({left:t,right:r,bottom:n,top:a,near:o,far:i}){return Mhe(this,t,r,n,a,o,i),this}fromQuaternion(t){return The(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return whe(this,t),this}compose(t,r,n){return Ehe(this,t,r,n),this}decompose(t,r,n){return _he(this,t,r,n),this}getRotation(t){return v8(t,this),this}getTranslation(t){return khe(t,this),this}getScaling(t){return y8(t,this),this}getMaxScaleOnAxis(){return Che(this)}lookAt(t,r,n){return Ihe(this,t,r,n),this}determinant(){return x8(this)}fromArray(t,r=0){return this[0]=t[r],this[1]=t[r+1],this[2]=t[r+2],this[3]=t[r+3],this[4]=t[r+4],this[5]=t[r+5],this[6]=t[r+6],this[7]=t[r+7],this[8]=t[r+8],this[9]=t[r+9],this[10]=t[r+10],this[11]=t[r+11],this[12]=t[r+12],this[13]=t[r+13],this[14]=t[r+14],this[15]=t[r+15],this}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t[r+3]=this[3],t[r+4]=this[4],t[r+5]=this[5],t[r+6]=this[6],t[r+7]=this[7],t[r+8]=this[8],t[r+9]=this[9],t[r+10]=this[10],t[r+11]=this[11],t[r+12]=this[12],t[r+13]=this[13],t[r+14]=this[14],t[r+15]=this[15],t}}function Ohe(e,t,r="YXZ"){return r==="XYZ"?(e[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(e[0]=Math.atan2(-t[9],t[10]),e[2]=Math.atan2(-t[4],t[0])):(e[0]=Math.atan2(t[6],t[5]),e[2]=0)):r==="YXZ"?(e[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(e[1]=Math.atan2(t[8],t[10]),e[2]=Math.atan2(t[1],t[5])):(e[1]=Math.atan2(-t[2],t[0]),e[2]=0)):r==="ZXY"?(e[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(e[1]=Math.atan2(-t[2],t[10]),e[2]=Math.atan2(-t[4],t[5])):(e[1]=0,e[2]=Math.atan2(t[1],t[0]))):r==="ZYX"?(e[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(e[0]=Math.atan2(t[6],t[10]),e[2]=Math.atan2(t[1],t[0])):(e[0]=0,e[2]=Math.atan2(-t[4],t[5]))):r==="YZX"?(e[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(e[0]=Math.atan2(-t[9],t[5]),e[1]=Math.atan2(-t[2],t[0])):(e[0]=0,e[1]=Math.atan2(t[8],t[10]))):r==="XZY"&&(e[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(e[0]=Math.atan2(t[6],t[5]),e[1]=Math.atan2(t[8],t[0])):(e[0]=Math.atan2(-t[9],t[10]),e[1]=0)),e}const F5=new Ag;class Rhe extends Array{constructor(t=0,r=t,n=t,a="YXZ"){super(t,r,n),this.order=a,this.onChange=()=>{},this._target=this;const o=["0","1","2"];return new Proxy(this,{set(i,l){const c=Reflect.set(...arguments);return c&&o.includes(l)&&i.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set(t,r=t,n=t){return t.length?this.copy(t):(this._target[0]=t,this._target[1]=r,this._target[2]=n,this.onChange(),this)}copy(t){return this._target[0]=t[0],this._target[1]=t[1],this._target[2]=t[2],this.onChange(),this}reorder(t){return this._target.order=t,this.onChange(),this}fromRotationMatrix(t,r=this.order){return Ohe(this._target,t,r),this.onChange(),this}fromQuaternion(t,r=this.order,n){return F5.fromQuaternion(t),this._target.fromRotationMatrix(F5,r),n||this.onChange(),this}fromArray(t,r=0){return this._target[0]=t[r],this._target[1]=t[r+1],this._target[2]=t[r+2],this}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t}}class Dhe{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Ag,this.worldMatrix=new Ag,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new sa,this.quaternion=new ghe,this.scale=new sa(1),this.rotation=new Rhe,this.up=new sa(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(t,r=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,r&&t&&t.addChild(this,!1)}addChild(t,r=!0){~this.children.indexOf(t)||this.children.push(t),r&&t.setParent(this,!1)}removeChild(t,r=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),r&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let r=0,n=this.children.length;r<n;r++)this.children[r].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let r=0,n=this.children.length;r<n;r++)this.children[r].traverse(t)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,r=!1){r?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function Lhe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function $he(e,t){let r=t[0],n=t[1],a=t[2],o=t[3],i=r+r,l=n+n,c=a+a,d=r*i,f=n*i,h=n*l,m=a*i,p=a*l,g=a*c,x=o*i,b=o*l,y=o*c;return e[0]=1-h-g,e[3]=f-y,e[6]=m+b,e[1]=f+y,e[4]=1-d-g,e[7]=p-x,e[2]=m-b,e[5]=p+x,e[8]=1-d-h,e}function Fhe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function zhe(e,t,r,n,a,o,i,l,c,d){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=o,e[5]=i,e[6]=l,e[7]=c,e[8]=d,e}function Bhe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Uhe(e,t){let r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],l=t[5],c=t[6],d=t[7],f=t[8],h=f*i-l*d,m=-f*o+l*c,p=d*o-i*c,g=r*h+n*m+a*p;return g?(g=1/g,e[0]=h*g,e[1]=(-f*n+a*d)*g,e[2]=(l*n-a*i)*g,e[3]=m*g,e[4]=(f*r-a*c)*g,e[5]=(-l*r+a*o)*g,e[6]=p*g,e[7]=(-d*r+n*c)*g,e[8]=(i*r-n*o)*g,e):null}function z5(e,t,r){let n=t[0],a=t[1],o=t[2],i=t[3],l=t[4],c=t[5],d=t[6],f=t[7],h=t[8],m=r[0],p=r[1],g=r[2],x=r[3],b=r[4],y=r[5],v=r[6],w=r[7],j=r[8];return e[0]=m*n+p*i+g*d,e[1]=m*a+p*l+g*f,e[2]=m*o+p*c+g*h,e[3]=x*n+b*i+y*d,e[4]=x*a+b*l+y*f,e[5]=x*o+b*c+y*h,e[6]=v*n+w*i+j*d,e[7]=v*a+w*l+j*f,e[8]=v*o+w*c+j*h,e}function Vhe(e,t,r){let n=t[0],a=t[1],o=t[2],i=t[3],l=t[4],c=t[5],d=t[6],f=t[7],h=t[8],m=r[0],p=r[1];return e[0]=n,e[1]=a,e[2]=o,e[3]=i,e[4]=l,e[5]=c,e[6]=m*n+p*i+d,e[7]=m*a+p*l+f,e[8]=m*o+p*c+h,e}function Hhe(e,t,r){let n=t[0],a=t[1],o=t[2],i=t[3],l=t[4],c=t[5],d=t[6],f=t[7],h=t[8],m=Math.sin(r),p=Math.cos(r);return e[0]=p*n+m*i,e[1]=p*a+m*l,e[2]=p*o+m*c,e[3]=p*i-m*n,e[4]=p*l-m*a,e[5]=p*c-m*o,e[6]=d,e[7]=f,e[8]=h,e}function Whe(e,t,r){let n=r[0],a=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Ghe(e,t){let r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],l=t[5],c=t[6],d=t[7],f=t[8],h=t[9],m=t[10],p=t[11],g=t[12],x=t[13],b=t[14],y=t[15],v=r*l-n*i,w=r*c-a*i,j=r*d-o*i,N=n*c-a*l,S=n*d-o*l,k=a*d-o*c,_=f*x-h*g,C=f*b-m*g,E=f*y-p*g,T=h*b-m*x,A=h*y-p*x,W=m*y-p*b,P=v*W-w*A+j*T+N*E-S*C+k*_;return P?(P=1/P,e[0]=(l*W-c*A+d*T)*P,e[1]=(c*E-i*W-d*C)*P,e[2]=(i*A-l*E+d*_)*P,e[3]=(a*A-n*W-o*T)*P,e[4]=(r*W-a*E+o*C)*P,e[5]=(n*E-r*A-o*_)*P,e[6]=(x*k-b*S+y*N)*P,e[7]=(b*j-g*k-y*w)*P,e[8]=(g*S-x*j+y*v)*P,e):null}class qhe extends Array{constructor(t=1,r=0,n=0,a=0,o=1,i=0,l=0,c=0,d=1){return super(t,r,n,a,o,i,l,c,d),this}set(t,r,n,a,o,i,l,c,d){return t.length?this.copy(t):(zhe(this,t,r,n,a,o,i,l,c,d),this)}translate(t,r=this){return Vhe(this,r,t),this}rotate(t,r=this){return Hhe(this,r,t),this}scale(t,r=this){return Whe(this,r,t),this}multiply(t,r){return r?z5(this,t,r):z5(this,this,t),this}identity(){return Bhe(this),this}copy(t){return Fhe(this,t),this}fromMatrix4(t){return Lhe(this,t),this}fromQuaternion(t){return $he(this,t),this}fromBasis(t,r,n){return this.set(t[0],t[1],t[2],r[0],r[1],r[2],n[0],n[1],n[2]),this}inverse(t=this){return Uhe(this,t),this}getNormalMatrix(t){return Ghe(this,t),this}}let Khe=0;class Yhe extends Dhe{constructor(t,{geometry:r,program:n,mode:a=t.TRIANGLES,frustumCulled:o=!0,renderOrder:i=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=Khe++,this.geometry=r,this.program=n,this.mode=a,this.frustumCulled=o,this.renderOrder=i,this.modelViewMatrix=new Ag,this.normalMatrix=new qhe,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:t}));let r=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:r}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:t}))}}const B5={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function U5(e){e.length===4&&(e=e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t||console.warn(`Unable to convert hex string ${e} to rgb values`),[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255]}function Xhe(e){return e=parseInt(e),[(e>>16&255)/255,(e>>8&255)/255,(e&255)/255]}function V5(e){return e===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(e)?e[0]==="#"?U5(e):B5[e.toLowerCase()]?U5(B5[e.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):Xhe(e)}class H5 extends Array{constructor(t){return Array.isArray(t)?super(...t):super(...V5(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(t){this[0]=t}set g(t){this[1]=t}set b(t){this[2]=t}set(t){return Array.isArray(t)?this.copy(t):this.copy(V5(...arguments))}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}}class Qhe extends Hfe{constructor(t,{attributes:r={}}={}){Object.assign(r,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,r)}}const Jhe=`#version 300 es
in vec2 position;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
}
`,Zhe=`#version 300 es
precision highp float;

uniform float uTime;
uniform float uAmplitude;
uniform vec3 uColorStops[3];
uniform vec2 uResolution;
uniform float uBlend;

out vec4 fragColor;

vec3 permute(vec3 x) {
  return mod(((x * 34.0) + 1.0) * x, 289.0);
}

float snoise(vec2 v){
  const vec4 C = vec4(
      0.211324865405187, 0.366025403784439,
      -0.577350269189626, 0.024390243902439
  );
  vec2 i  = floor(v + dot(v, C.yy));
  vec2 x0 = v - i + dot(i, C.xx);
  vec2 i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
  vec4 x12 = x0.xyxy + C.xxzz;
  x12.xy -= i1;
  i = mod(i, 289.0);

  vec3 p = permute(
      permute(i.y + vec3(0.0, i1.y, 1.0))
    + i.x + vec3(0.0, i1.x, 1.0)
  );

  vec3 m = max(
      0.5 - vec3(
          dot(x0, x0),
          dot(x12.xy, x12.xy),
          dot(x12.zw, x12.zw)
      ), 
      0.0
  );
  m = m * m;
  m = m * m;

  vec3 x = 2.0 * fract(p * C.www) - 1.0;
  vec3 h = abs(x) - 0.5;
  vec3 ox = floor(x + 0.5);
  vec3 a0 = x - ox;
  m *= 1.79284291400159 - 0.85373472095314 * (a0*a0 + h*h);

  vec3 g;
  g.x  = a0.x  * x0.x  + h.x  * x0.y;
  g.yz = a0.yz * x12.xz + h.yz * x12.yw;
  return 130.0 * dot(m, g);
}

struct ColorStop {
  vec3 color;
  float position;
};

#define COLOR_RAMP(colors, factor, finalColor) {                int index = 0;                                              for (int i = 0; i < 2; i++) {                                    ColorStop currentColor = colors[i];                         bool isInBetween = currentColor.position <= factor;         index = int(mix(float(index), float(i), float(isInBetween)));   }                                                           ColorStop currentColor = colors[index];                     ColorStop nextColor = colors[index + 1];                    float range = nextColor.position - currentColor.position;   float lerpFactor = (factor - currentColor.position) / range;   finalColor = mix(currentColor.color, nextColor.color, lerpFactor); }

void main() {
  vec2 uv = gl_FragCoord.xy / uResolution;
  
  ColorStop colors[3];
  colors[0] = ColorStop(uColorStops[0], 0.0);
  colors[1] = ColorStop(uColorStops[1], 0.5);
  colors[2] = ColorStop(uColorStops[2], 1.0);
  
  vec3 rampColor;
  COLOR_RAMP(colors, uv.x, rampColor);
  
  float height = snoise(vec2(uv.x * 2.0 + uTime * 0.1, uTime * 0.25)) * 0.5 * uAmplitude;
  height = exp(height);
  height = (uv.y * 2.0 - height + 0.2);
  float intensity = 0.6 * height;
  
  float midPoint = 0.20;
  float auroraAlpha = smoothstep(midPoint - uBlend * 0.5, midPoint + uBlend * 0.5, intensity);
  
  vec3 auroraColor = intensity * rampColor;
  
  fragColor = vec4(auroraColor * auroraAlpha, auroraAlpha);
}
`;function b8(e){const{colorStops:t=["#5227FF","#7cff67","#5227FF"],amplitude:r=1,blend:n=.5}=e,a=u.useRef(e);a.current=e;const o=u.useRef(null);return u.useEffect(()=>{const i=o.current;if(!i)return;const l=new Qfe({alpha:!0,premultipliedAlpha:!0,antialias:!0}),c=l.gl;c.clearColor(0,0,0,0),c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),c.canvas.style.backgroundColor="transparent";let d;function f(){if(!i)return;const b=i.offsetWidth,y=i.offsetHeight;l.setSize(b,y),d&&(d.uniforms.uResolution.value=[b,y])}window.addEventListener("resize",f);const h=new Qhe(c);h.attributes.uv&&delete h.attributes.uv;const m=t.map(b=>{const y=new H5(b);return[y.r,y.g,y.b]});d=new Gfe(c,{vertex:Jhe,fragment:Zhe,uniforms:{uTime:{value:0},uAmplitude:{value:r},uColorStops:{value:m},uResolution:{value:[i.offsetWidth,i.offsetHeight]},uBlend:{value:n}}});const p=new Yhe(c,{geometry:h,program:d});i.appendChild(c.canvas);let g=0;const x=b=>{g=requestAnimationFrame(x);const{time:y=b*.01,speed:v=1}=a.current;if(d){d.uniforms.uTime.value=y*v*.1,d.uniforms.uAmplitude.value=a.current.amplitude??1,d.uniforms.uBlend.value=a.current.blend??n;const w=a.current.colorStops??t;d.uniforms.uColorStops.value=w.map(j=>{const N=new H5(j);return[N.r,N.g,N.b]}),l.render({scene:p})}};return g=requestAnimationFrame(x),f(),()=>{var b;cancelAnimationFrame(g),window.removeEventListener("resize",f),i&&c.canvas.parentNode===i&&i.removeChild(c.canvas),(b=c.getExtension("WEBGL_lose_context"))==null||b.loseContext()}},[r]),s.jsx("div",{ref:o,className:"w-full h-full"})}const eme="auth_preview_role",W5="rah_effects_enabled",G5="rah_theme",q5="rah_intro_timestamp",tme=18e5;function K5(){var N,S;const e=Bi(),[t,r]=u.useState(()=>{try{const k=Date.now(),_=localStorage.getItem(q5);return!_||k-parseInt(_)>tme?(localStorage.setItem(q5,String(k)),!0):!1}catch{return!0}}),[n,a]=u.useState(()=>{var k;try{const _=localStorage.getItem(G5);if(_==="light"||_==="dark")return _;if(typeof window<"u"&&((k=window.matchMedia)!=null&&k.call(window,"(prefers-color-scheme: light)").matches))return"light"}catch{}return"dark"}),[o,i]=u.useState(()=>{try{const k=localStorage.getItem(W5);if(k==="true")return!0;if(k==="false")return!1}catch{}return!0});u.useEffect(()=>{if(!t)return;const k=setTimeout(()=>r(!1),3200);return()=>clearTimeout(k)},[t]),u.useEffect(()=>{try{localStorage.setItem(G5,n)}catch{}},[n]),u.useEffect(()=>{try{localStorage.setItem(W5,String(o))}catch{}},[o]);const l=n==="light",c={pageBg:l?"bg-gray-50":"bg-gray-900",textMain:l?"text-gray-900":"text-white",textMuted:l?"text-gray-600":"text-gray-300",stripBg:l?"bg-white/70":"bg-gray-800/50",stripBorder:l?"border-gray-200":"border-gray-700/70",badgeBg:l?"bg-gray-100/90":"bg-gray-700/60",badgeBorder:l?"border-gray-200":"border-gray-600/60",btnBorder:l?"border-gray-300":"border-gray-700",roleGrad:l?"from-gray-300/40 to-gray-200/30":"from-gray-500/30 to-gray-600/30",utilGrad:l?"from-gray-200/40 to-gray-300/30":"from-gray-600/20 to-gray-700/20",auroraStops:l?["#CBD5E1","#A0AEC0","#94A3B8"]:["#A0AEC0","#718096","#4A5568"],blobA:l?"bg-gradient-to-br from-gray-300/30 via-gray-200/25 to-gray-100/20":"bg-gradient-to-br from-gray-500/20 via-gray-600/15 to-gray-700/10",blobB:l?"bg-gradient-to-br from-gray-300/30 via-gray-200/25 to-gray-100/20":"bg-gradient-to-br from-gray-500/20 via-gray-600/15 to-gray-700/10",grains:l?"bg-[radial-gradient(1000px_500px_at_50%_-20%,rgba(0,0,0,0.05),transparent_70%),radial-gradient(900px_600px_at_50%_120%,rgba(0,0,0,0.05),transparent_70%)]":"bg-[radial-gradient(1000px_500px_at_50%_-20%,rgba(255,255,255,0.05),transparent_70%),radial-gradient(900px_600px_at_50%_120%,rgba(255,255,255,0.05),transparent_70%)]"},[d,f]=u.useState(null),[h,m]=u.useState(null);u.useEffect(()=>{try{const k=localStorage.getItem("synergy_user");f(k?JSON.parse(k):null),m(localStorage.getItem("synergy_auth_token"))}catch{f(null),m(null)}},[]);const p=u.useMemo(()=>((d==null?void 0:d.roles)||(d!=null&&d.role?[d.role]:[])).map(_=>_.toLowerCase()),[d]),g=u.useMemo(()=>({tester:p.includes("tester")||p.includes("manager")||p.includes("admin"),poster:p.includes("poster")||p.includes("manager")||p.includes("admin"),manager:(p.includes("manager")||p.includes("admin"))&&!!h}),[p,h]),x=k=>{try{sessionStorage.setItem(eme,k)}catch{}if(k==="tester")return e("/login/testers");if(k==="poster")return e("/login/posters");if(k==="manager")return e("/login/manager")},b=k=>{if(k==="tester")return e("/tester");if(k==="poster")return e("/poster");if(k==="manager")return e("/manager")},y=()=>{try{["synergy_user","synergy_auth_token","synergy_role"].forEach(k=>localStorage.removeItem(k))}catch{}f(null),m(null)},v={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},w={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,ease:"easeOut"}}},j={hidden:{opacity:0,y:5},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}};return s.jsxs(s.Fragment,{children:[s.jsx(Pn,{children:t&&s.jsx(Me.div,{className:`fixed inset-0 z-[999] flex items-center justify-center ${c.pageBg}`,exit:{y:"-100%"},transition:{duration:.8,ease:[.76,0,.24,1]},children:s.jsx(Me.div,{exit:{scale:.9,opacity:0},transition:{duration:.5},children:s.jsx(O6,{})})})}),s.jsxs("div",{"data-theme":`rolehub ${n}`,className:`relative min-h-screen overflow-hidden ${c.pageBg} flex items-center justify-center px-6 py-14 font-['Inter',-apple-system,BlinkMacSystemFont,'Segoe_UI',Roboto,sans-serif]`,children:[o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 z-0 pointer-events-none",style:{opacity:l?.25:.15},children:s.jsx(b8,{colorStops:c.auroraStops,amplitude:1,blend:.1,speed:.6})}),s.jsx("style",{children:"@keyframes floatSlow { 0%{transform:translate3d(-5%,-3%,0)} 50%{transform:translate3d(5%,3%,0)} 100%{transform:translate3d(-5%,-3%,0)} } @keyframes drift { 0%{transform:translate3d(4%,-4%,0)} 50%{transform:translate3d(-4%,4%,0)} 100%{transform:translate3d(4%,-4%,0)} }"}),s.jsx("div",{"aria-hidden":!0,className:`pointer-events-none absolute -top-1/3 -left-1/4 w-[60rem] h-[60rem] rounded-full ${c.blobA} blur-[100px] z-[1]`,style:{animation:"floatSlow 20s ease-in-out infinite"}}),s.jsx("div",{"aria-hidden":!0,className:`pointer-events-none absolute -bottom-1/3 -right-1/4 w-[60rem] h-[60rem] rounded-full ${c.blobB} blur-[100px] z-[1]`,style:{animation:"drift 24s ease-in-out infinite"}}),s.jsx("div",{"aria-hidden":!0,className:`pointer-events-none absolute inset-0 ${c.grains} z-[1]`})]}),s.jsxs("div",{className:"relative z-10 w-full max-w-[1280px]",children:[s.jsxs("div",{className:"absolute top-[-30px] right-0 flex items-center gap-4",children:[s.jsxs(Me.button,{onClick:()=>a(k=>k==="dark"?"light":"dark"),className:`flex items-center gap-2 text-xs font-medium ${l?"text-gray-700 hover:text-gray-900":"text-gray-400 hover:text-gray-200"}`,whileHover:{scale:1.03},whileTap:{scale:.97},children:[l?s.jsx(Co,{className:"h-4 w-4"}):s.jsx(Fi,{className:"h-4 w-4"}),l?"Dark Mode":"Light Mode"]}),s.jsxs(Me.button,{onClick:()=>i(k=>!k),className:`flex items-center gap-2 text-xs font-medium ${l?"text-gray-700 hover:text-gray-900":"text-gray-400 hover:text-gray-200"}`,whileHover:{scale:1.03},whileTap:{scale:.97},children:[s.jsx(mh,{className:`h-4 w-4 ${o?l?"text-gray-800":"text-gray-300":l?"text-gray-400":"text-gray-500"}`}),o?"Disable Effects":"Enable Effects"]})]}),s.jsxs("header",{className:"mb-4 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("img",{src:"/images/hub.png",alt:"Company Logo",className:"h-11 w-11"}),s.jsx(Me.h1,{className:`text-xl font-medium ${c.textMain} tracking-tight`,variants:w,initial:"hidden",animate:"visible",style:{textShadow:l?"none":"0 0 4px rgba(255,255,255,0.1)"},children:"Synergy Tools"})]}),s.jsx(Me.p,{className:`mt-2 text-xs ${c.textMuted} max-w-sm mx-auto`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.4},children:"Select a workspace or utility to proceed."})]}),d&&s.jsxs("div",{className:`mb-6 mx-auto max-w-[780px] rounded-lg border ${c.stripBorder} ${c.stripBg} p-3 text-xs ${c.textMuted} flex items-center justify-between`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[((N=d.roles)==null?void 0:N.map(k=>s.jsx("span",{className:`px-2 py-0.5 rounded-md ${c.badgeBg} ${c.badgeBorder} border text-[10px] uppercase tracking-wide ${l?"text-gray-700":"text-gray-300"}`,children:k},k)))||s.jsx("span",{className:`px-2 py-0.5 rounded-md ${c.badgeBg} ${c.badgeBorder} border text-[10px] uppercase tracking-wide ${l?"text-gray-700":"text-gray-300"}`,children:(S=d.role)==null?void 0:S.toUpperCase()}),s.jsxs("span",{className:"truncate",children:["Signed in as"," ",s.jsx("span",{className:`${l?"text-gray-900":"text-white"} font-medium`,children:d.name})]}),p.includes("manager")&&!h&&s.jsx("span",{className:`${l?"text-amber-700/90":"text-amber-300/90"} ml-2`,children:"(password required for Manager)"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:y,className:`h-7 rounded-md px-3 border ${c.btnBorder} ${l?"bg-white/60 hover:bg-white":"bg-transparent hover:bg-gray-800/80"} ${l?"text-gray-700":"text-gray-300"} transition`,children:"Sign out"})})]}),s.jsxs("div",{className:"flex flex-col items-center gap-6 md:flex-row md:justify-center md:gap-4",children:[s.jsx(Me.div,{variants:v,initial:"hidden",animate:"visible",children:s.jsx(lv,{theme:n,title:"Tester",body:"Run device checks, log results, and move units forward.",gradient:c.roleGrad,onClick:()=>g.tester?b("tester"):x("tester"),Icon:l7,ctaLabel:g.tester?"Continue to Tester":"Enter Tester Login",badgeText:g.tester?"Signed in":void 0})}),s.jsx(Me.div,{variants:v,initial:"hidden",animate:"visible",transition:{delay:.1},children:s.jsx(lv,{theme:n,title:"Poster",body:"Create listings, update pricing, and publish inventory.",gradient:c.roleGrad,onClick:()=>g.poster?b("poster"):x("poster"),Icon:A7,ctaLabel:g.poster?"Continue to Poster":"Enter Poster Login",badgeText:g.poster?"Signed in":void 0})}),s.jsx(Me.div,{variants:v,initial:"hidden",animate:"visible",transition:{delay:.2},children:s.jsx(lv,{theme:n,title:"Manager",body:"Coordinate teams, approve changes, and monitor operations.",gradient:c.roleGrad,onClick:()=>g.manager?b("manager"):x("manager"),Icon:wd,ctaLabel:g.manager?"Continue to Manager":"Enter Manager Login",badgeText:g.manager?"Signed in":p.includes("manager")&&!h?"Password required":void 0})})]}),s.jsxs(Me.div,{className:"mt-10",variants:j,initial:"hidden",animate:"visible",children:[s.jsx("h2",{className:`text-base font-medium ${c.textMain} text-center mb-4 tracking-tight`,children:"Utilities"}),s.jsx("div",{className:"flex justify-center",children:s.jsx(rme,{theme:n,title:"System Tools",body:"Access diagnostics, user guides, and quick tools.",gradient:c.utilGrad,onClick:()=>e("/utilities"),Icon:hs})})]}),s.jsx("p",{className:`mt-10 text-center text-xs ${c.textMuted}`,children:"Need assistance? Contact an administrator for support."})]})]})]})}function lv({theme:e,title:t,body:r,onClick:n,gradient:a,Icon:o,ctaLabel:i,badgeText:l}){const c=e==="light",d={containerBg:c?"bg-white/70":"bg-gray-800/50",border:c?"border-gray-200":"border-gray-700",ring:c?"ring-gray-200/70":"ring-gray-700/50",shadow:c?"shadow-[0_10px_40px_-10px_rgba(0,0,0,0.15)] hover:shadow-[0_15px_50px_-10px_rgba(0,0,0,0.18)]":"shadow-[0_10px_40px_-10px_rgba(0,0,0,0.4)] hover:shadow-[0_15px_50px_-10px_rgba(0,0,0,0.5)]",title:c?"text-gray-900":"text-white",body:c?"text-gray-700":"text-gray-300",iconWrap:c?"bg-gray-100 p-2.5 ring-1 ring-gray-200":"bg-gray-700/50 p-2.5 ring-1 ring-gray-600",buttonBorder:c?"border-gray-300":"border-gray-600",buttonBg:c?"bg-gray-100/70 hover:bg-gray-100":"bg-gray-700/30 hover:bg-gray-700/50",buttonText:c?"text-gray-800":"text-gray-200",dotOpacity:c?"opacity-[0.06]":"opacity-[0.08]"};return s.jsxs(Me.div,{className:`relative w-[380px] min-h-[240px] overflow-hidden rounded-xl border ${d.border} ${d.containerBg} backdrop-blur-xl ${d.shadow} transition-all duration-300`,whileHover:{y:-2},children:[s.jsx("div",{className:`absolute -inset-20 bg-gradient-to-br ${a} blur-2xl ${c?"opacity-50":"opacity-40"}`}),s.jsx("div",{className:`pointer-events-none absolute inset-0 ${d.dotOpacity} mix-blend-overlay`,style:{backgroundImage:"radial-gradient(rgba(255,255,255,0.6) 1px, transparent 1px)",backgroundSize:"4px 4px"}}),l&&s.jsx("div",{className:`absolute top-3 right-3 z-10 rounded-md border ${c?"border-emerald-500/40 bg-emerald-500/10 text-emerald-700":"border-emerald-500/30 bg-emerald-500/10 text-emerald-200"} px-2 py-0.5 text-[11px] font-medium`,children:l}),s.jsxs("div",{className:"relative p-6",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[s.jsx("div",{className:`rounded-lg ${d.iconWrap}`,children:s.jsx(o,{className:`h-6 w-6 ${c?"text-gray-800":"text-gray-200"}`})}),s.jsx("h3",{className:`text-lg font-medium ${d.title}`,children:t})]}),s.jsx("p",{className:`min-h-[60px] text-sm ${d.body}`,children:r})]}),s.jsx("div",{className:"relative px-6 pb-6",children:s.jsx(Me.button,{onClick:n,className:`w-full h-10 rounded-lg border ${d.buttonBorder} ${d.buttonBg} text-sm font-medium ${d.buttonText} backdrop-blur-lg transition-all ${c?"focus:ring-gray-400":"focus:ring-gray-500"} focus:outline-none focus:ring-1`,whileHover:{y:-1},whileTap:{y:0},children:i??`Enter ${t} Login`})}),s.jsx("div",{className:`pointer-events-none absolute inset-0 rounded-xl ring-1 ${d.ring}`})]})}function rme({theme:e,title:t,body:r,onClick:n,gradient:a,Icon:o}){const i=e==="light",l={containerBg:i?"bg-white/60":"bg-gray-800/40",border:i?"border-gray-200":"border-gray-700",ring:i?"ring-gray-200/60":"ring-gray-700/40",shadow:i?"shadow-[0_8px_30px_-8px_rgba(0,0,0,0.12)] hover:shadow-[0_12px_40px_-8px_rgba(0,0,0,0.16)]":"shadow-[0_8px_30px_-8px_rgba(0,0,0,0.3)] hover:shadow-[0_12px_40px_-8px_rgba(0,0,0,0.4)]",title:i?"text-gray-900":"text-white",body:i?"text-gray-700":"text-gray-300",iconWrap:i?"bg-gray-100 p-2 ring-1 ring-gray-200":"bg-gray-700/40 p-2 ring-1 ring-gray-600/80",buttonBorder:i?"border-gray-300/80":"border-gray-600/80",buttonBg:i?"bg-gray-100/70 hover:bg-gray-100":"bg-gray-700/20 hover:bg-gray-700/40",buttonText:i?"text-gray-800":"text-gray-200",dotOpacity:i?"opacity-[0.05]":"opacity-[0.06]"};return s.jsxs(Me.div,{className:`relative w-[380px] min-h-[180px] overflow-hidden rounded-xl border ${l.border} ${l.containerBg} backdrop-blur-xl ${l.shadow} transition-all duration-300`,whileHover:{y:-2},children:[s.jsx("div",{className:`absolute -inset-16 bg-gradient-to-br ${a} blur-2xl ${i?"opacity-40":"opacity-30"}`}),s.jsx("div",{className:`pointer-events-none absolute inset-0 ${l.dotOpacity} mix-blend-overlay`,style:{backgroundImage:"radial-gradient(rgba(255,255,255,0.6) 1px, transparent 1px)",backgroundSize:"4px 4px"}}),s.jsxs("div",{className:"relative p-5",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2.5",children:[s.jsx("div",{className:`rounded-lg ${l.iconWrap}`,children:s.jsx(o,{className:`h-5 w-5 ${i?"text-gray-800":"text-gray-200"}`})}),s.jsx("h3",{className:`text-base font-medium ${l.title}`,children:t})]}),s.jsx("p",{className:`min-h-[48px] text-xs ${l.body}`,children:r})]}),s.jsx("div",{className:"relative px-5 pb-5",children:s.jsxs(Me.button,{onClick:n,className:`w-full h-9 rounded-lg border ${l.buttonBorder} ${l.buttonBg} text-xs font-medium ${l.buttonText} backdrop-blur-lg transition-all ${i?"focus:ring-gray-400":"focus:ring-gray-500"} focus:outline-none focus:ring-1`,whileHover:{y:-1},whileTap:{y:0},children:["Explore ",t]})}),s.jsx("div",{className:`pointer-events-none absolute inset-0 rounded-xl ring-1 ${l.ring}`})]})}const nme=()=>{const e=Fs();return u.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})};var Y5;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Y5||(Y5={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X5;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(X5||(X5={}));var Q5;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Q5||(Q5={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=["user","model","function","system"];var Z5;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Z5||(Z5={}));var eE;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(eE||(eE={}));var tE;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(tE||(tE={}));var rE;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(rE||(rE={}));var nf;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(nf||(nf={}));var nE;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(nE||(nE={}));var sE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(sE||(sE={}));var aE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(aE||(aE={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class yc extends xn{constructor(t,r){super(t),this.response=r}}class w8 extends xn{constructor(t,r,n,a){super(t),this.status=r,this.statusText=n,this.errorDetails=a}}class vi extends xn{}class j8 extends xn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sme="https://generativelanguage.googleapis.com",ame="v1beta",ome="0.24.1",ime="genai-js";var Bl;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Bl||(Bl={}));class lme{constructor(t,r,n,a,o){this.model=t,this.task=r,this.apiKey=n,this.stream=a,this.requestOptions=o}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||ame;let o=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||sme}/${n}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function cme(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${ime}/${ome}`),t.join(" ")}async function dme(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",cme(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(a){throw new vi(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${a.message}`)}for(const[a,o]of n.entries()){if(a==="x-goog-api-key")throw new vi(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new vi(`Header name ${a} can only be set using the apiClient field`);r.append(a,o)}}return r}async function ume(e,t,r,n,a,o){const i=new lme(e,t,r,n,o);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},pme(o)),{method:"POST",headers:await dme(i),body:a})}}async function Qh(e,t,r,n,a,o={},i=fetch){const{url:l,fetchOptions:c}=await ume(e,t,r,n,a,o);return fme(l,c,i)}async function fme(e,t,r=fetch){let n;try{n=await r(e,t)}catch(a){hme(a,e)}return n.ok||await mme(n,e),n}function hme(e,t){let r=e;throw r.name==="AbortError"?(r=new j8(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof w8||e instanceof vi||(r=new xn(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function mme(e,t){let r="",n;try{const a=await e.json();r=a.error.message,a.error.details&&(r+=` ${JSON.stringify(a.error.details)}`,n=a.error.details)}catch{}throw new w8(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function pme(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ep(e.candidates[0]))throw new yc(`${Vo(e)}`,e);return gme(e)}else if(e.promptFeedback)throw new yc(`Text not available. ${Vo(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ep(e.candidates[0]))throw new yc(`${Vo(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),oE(e)[0]}else if(e.promptFeedback)throw new yc(`Function call not available. ${Vo(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ep(e.candidates[0]))throw new yc(`${Vo(e)}`,e);return oE(e)}else if(e.promptFeedback)throw new yc(`Function call not available. ${Vo(e)}`,e)},e}function gme(e){var t,r,n,a;const o=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const i of(a=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||a===void 0?void 0:a.parts)i.text&&o.push(i.text),i.executableCode&&o.push("\n```"+i.executableCode.language+`
`+i.executableCode.code+"\n```\n"),i.codeExecutionResult&&o.push("\n```\n"+i.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function oE(e){var t,r,n,a;const o=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const i of(a=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||a===void 0?void 0:a.parts)i.functionCall&&o.push(i.functionCall);if(o.length>0)return o}const xme=[nf.RECITATION,nf.SAFETY,nf.LANGUAGE];function Ep(e){return!!e.finishReason&&xme.includes(e.finishReason)}function Vo(e){var t,r,n;let a="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)a+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(a+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(a+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const o=e.candidates[0];Ep(o)&&(a+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(a+=`: ${o.finishMessage}`))}return a}function Xf(e){return this instanceof Xf?(this.v=e,this):new Xf(e)}function yme(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,o=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(m){n[m]&&(a[m]=function(p){return new Promise(function(g,x){o.push([m,p,g,x])>1||l(m,p)})})}function l(m,p){try{c(n[m](p))}catch(g){h(o[0][3],g)}}function c(m){m.value instanceof Xf?Promise.resolve(m.value.v).then(d,f):h(o[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function h(m,p){m(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function vme(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=jme(t),[n,a]=r.tee();return{stream:wme(n),response:bme(a)}}async function bme(e){const t=[],r=e.getReader();for(;;){const{done:n,value:a}=await r.read();if(n)return DN(Nme(t));t.push(a)}}function wme(e){return yme(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:a}=yield Xf(r.read());if(a)break;yield yield Xf(DN(n))}})}function jme(e){const t=e.getReader();return new ReadableStream({start(n){let a="";return o();function o(){return t.read().then(({value:i,done:l})=>{if(l){if(a.trim()){n.error(new xn("Failed to parse stream"));return}n.close();return}a+=i;let c=a.match(iE),d;for(;c;){try{d=JSON.parse(c[1])}catch{n.error(new xn(`Error parsing JSON response: "${c[1]}"`));return}n.enqueue(d),a=a.substring(c[0].length),c=a.match(iE)}return o()}).catch(i=>{let l=i;throw l.stack=i.stack,l.name==="AbortError"?l=new j8("Request aborted when reading from the stream"):l=new xn("Error reading from the stream"),l})}}})}function Nme(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let a=0;for(const o of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[a]||(r.candidates[a]={index:a}),r.candidates[a].citationMetadata=o.citationMetadata,r.candidates[a].groundingMetadata=o.groundingMetadata,r.candidates[a].finishReason=o.finishReason,r.candidates[a].finishMessage=o.finishMessage,r.candidates[a].safetyRatings=o.safetyRatings,o.content&&o.content.parts){r.candidates[a].content||(r.candidates[a].content={role:o.content.role||"user",parts:[]});const i={};for(const l of o.content.parts)l.text&&(i.text=l.text),l.functionCall&&(i.functionCall=l.functionCall),l.executableCode&&(i.executableCode=l.executableCode),l.codeExecutionResult&&(i.codeExecutionResult=l.codeExecutionResult),Object.keys(i).length===0&&(i.text=""),r.candidates[a].content.parts.push(i)}a++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(e,t,r,n){const a=await Qh(t,Bl.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return vme(a)}async function S8(e,t,r,n){const o=await(await Qh(t,Bl.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:DN(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Qf(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return Sme(t)}function Sme(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,a=!1;for(const o of e)"functionResponse"in o?(r.parts.push(o),a=!0):(t.parts.push(o),n=!0);if(n&&a)throw new xn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!a)throw new xn("No content is provided for sending chat message.");return n?t:r}function kme(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const a=e.generateContentRequest!=null;if(e.contents){if(a)throw new vi("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(a)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const o=Qf(e);n.contents=[o]}return{generateContentRequest:n}}function lE(e){let t;return e.contents?t=e:t={contents:[Qf(e)]},e.systemInstruction&&(t.systemInstruction=k8(e.systemInstruction)),t}function Cme(e){return typeof e=="string"||Array.isArray(e)?{content:Qf(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],_me={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Eme(e){let t=!1;for(const r of e){const{role:n,parts:a}=r;if(!t&&n!=="user")throw new xn(`First content should be with role 'user', got ${n}`);if(!J5.includes(n))throw new xn(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(J5)}`);if(!Array.isArray(a))throw new xn("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new xn("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of a)for(const c of cE)c in l&&(o[c]+=1);const i=_me[n];for(const l of cE)if(!i.includes(l)&&o[l]>0)throw new xn(`Content with role '${n}' can't contain '${l}' part`);t=!0}}function dE(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="SILENT_ERROR";class Tme{constructor(t,r,n,a={}){this.model=r,this.params=n,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(Eme(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,a,o,i,l,c;await this._sendPromise;const d=Qf(t),f={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(i=this.params)===null||i===void 0?void 0:i.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},h=Object.assign(Object.assign({},this._requestOptions),r);let m;return this._sendPromise=this._sendPromise.then(()=>S8(this._apiKey,this.model,f,h)).then(p=>{var g;if(dE(p.response)){this._history.push(d);const x=Object.assign({parts:[],role:"model"},(g=p.response.candidates)===null||g===void 0?void 0:g[0].content);this._history.push(x)}else{const x=Vo(p.response);x&&console.warn(`sendMessage() was unsuccessful. ${x}. Inspect response object for details.`)}m=p}).catch(p=>{throw this._sendPromise=Promise.resolve(),p}),await this._sendPromise,m}async sendMessageStream(t,r={}){var n,a,o,i,l,c;await this._sendPromise;const d=Qf(t),f={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(i=this.params)===null||i===void 0?void 0:i.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},h=Object.assign(Object.assign({},this._requestOptions),r),m=N8(this._apiKey,this.model,f,h);return this._sendPromise=this._sendPromise.then(()=>m).catch(p=>{throw new Error(uE)}).then(p=>p.response).then(p=>{if(dE(p)){this._history.push(d);const g=Object.assign({},p.candidates[0].content);g.role||(g.role="model"),this._history.push(g)}else{const g=Vo(p);g&&console.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(p=>{p.message!==uE&&console.error(p)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pme(e,t,r,n){return(await Qh(t,Bl.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mme(e,t,r,n){return(await Qh(t,Bl.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function Ime(e,t,r,n){const a=r.requests.map(i=>Object.assign(Object.assign({},i),{model:t}));return(await Qh(t,Bl.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:a}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=k8(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const a=lE(t),o=Object.assign(Object.assign({},this._requestOptions),r);return S8(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},a),o)}async generateContentStream(t,r={}){var n;const a=lE(t),o=Object.assign(Object.assign({},this._requestOptions),r);return N8(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},a),o)}startChat(t){var r;return new Tme(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=kme(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),r);return Pme(this.apiKey,this.model,n,a)}async embedContent(t,r={}){const n=Cme(t),a=Object.assign(Object.assign({},this._requestOptions),r);return Mme(this.apiKey,this.model,n,a)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return Ime(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ame{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new xn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new fE(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new vi("Cached content must contain a `name` field.");if(!t.model)throw new vi("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const i of a)if(r!=null&&r[i]&&t[i]&&(r==null?void 0:r[i])!==t[i]){if(i==="model"){const l=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===c)continue}throw new vi(`Different value for "${i}" specified in modelParams (${r[i]}) and cachedContent (${t[i]})`)}const o=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new fE(this.apiKey,o,n)}}const Ome="AIzaSyAYTyM6XwzXAiJFjKkOOAqMRoDk55I3NvU, AIzaSyC-CMDQahpUo5w2YKMgR7aNYSDrRDBqR0M, AIzaSyAofiTxJsXmZOUysRVjlDc8PAfbZBwcR10",cv=Ome.split(",").map(e=>e.trim()).filter(e=>e.length>0),hE=cv.length>0?cv[Math.floor(Math.random()*cv.length)]:void 0,Og=hE?new Ame(hE):null,C8="gemini-2.5-flash";function Rme(e){const{productName:t,condition:r,specs:n,testerComment:a}=e;return["You are a professional e-commerce title writer for eBay.","Write a concise title ( 80 chars), no emojis, no ALL CAPS.","Include brand/model, RAM, storage; optionally one key condition/cosmetic note.","Do not use quotes. No SKU or ID.","Use ` | ` to separate specs, e.g.: MacBook Pro 16 M2 | 16GB | 512GB SSD | **MINOR BOTTOM SCUFFS**","Put the brief condition/cosmetic note in **DOUBLE ASTERISKS** and in CAPS.","",`Product: ${t}`,`Condition: ${r}`,`Specs: ${[(n==null?void 0:n.processor)&&`CPU ${n.processor}`,(n==null?void 0:n.ram)&&n.ram,(n==null?void 0:n.storage)&&n.storage,(n==null?void 0:n.screen)&&n.screen,(n==null?void 0:n.battery)&&`Battery ${n.battery}`].filter(Boolean).join(", ")||""}`,`Key Note: ${a||""}`,"","Return only the title text."].join(`
`)}async function Dme(e){if(!Og)return e.productName;try{return(await Og.getGenerativeModel({model:C8}).generateContent(Rme(e))).response.text().trim().replace(/^["]|["]$/g,"").replace(/\s+/g," ").trim()}catch(t){return console.error("AI Title Gen failed:",t),e.productName}}function Lme(e){return["You are assisting with an eBay listing using a fixed template.","Write 3 things based on the details:","1) 'Condition'  1 concise factual sentence (e.g., 'Excellent condition with minor scuffs on the bottom.').","2) 'Functionality'  25 short bullet lines describing TEST RESULTS ONLY (what works/doesn't).","   IMPORTANT: Do NOT include fixed hardware specs (RAM, storage, CPU, screen size) in Functionality.","   DO NOT include trivial items like 'Power button works' or 'Volume buttons work'.","   Prefer high-signal points: 'Battery ~85% health', 'Screen burn-in', 'Face ID not working', 'Ports tested ok'.","3) 'Included'  what's in the box (e.g., 'Device only', 'Laptop + charger', 'Phone + cable').","Keep it neutral, accurate, and non-hypey.","",`Product: ${e.productName}`,`Category: ${e.category||""}`,`Condition (raw): ${e.condition}`,`Specs: ${JSON.stringify(e.specs??{},null,2)}`,`Tester Note: ${e.testerComment||""}`,`Included (if provided): ${e.included||""}`,"","Return JSON with keys: condition (string), functionality (string[]), included (string)."].join(`
`)}function $me(e){const t=(e||"").trim();try{return JSON.parse(t)}catch{}const r=t.match(/```(?:json)?\s*([\s\S]*?)\s*```/i);if(r)try{return JSON.parse(r[1])}catch{}const n=t.indexOf("{"),a=t.lastIndexOf("}");if(n!==-1&&a!==-1&&a>n)try{return JSON.parse(t.slice(n,a+1))}catch{}return null}function Fme(e){const{category:t,condition:r,testerComment:n}=e,a=/part|as[\s-]?is|non[-\s]?working|doesn'?t\s*power|won'?t\s*boot/i.test(r),o=(n||"").trim(),i=(e.rawBullets||[]).map(String).map(h=>h.trim()).filter(Boolean).filter(h=>!/power button works|volume button|wifi works|bluetooth works only|camera opens only/i.test(h)).filter(h=>!/(^|\s)(\d+\.?\d*)\s?gb\b|ssd|hdd|ram\b|ddr\d|\bstorage\b|\bcpu\b|\bprocessor\b|\bscreen\b|\bdisplay\b|\binch\b|\bips\b|\bhz\b/i.test(h));let l="";a?l="NOT FULLY FUNCTIONAL  SOLD AS-IS / FOR PARTS":l=o?`FULLY FUNCTIONAL, ${o}`:"FULLY FUNCTIONAL";const c=new Set([l.toLowerCase()]),d=i.filter(h=>!c.has(h.toLowerCase())),f=[l,...d].map(h=>(t||"").toLowerCase().includes("phone")?h.replace(/screen burn\b/i,"screen burn-in").replace(/ghost touch/i,"ghost-touch").replace(/battery (bad|poor)/i,"battery weak"):h);return f.length===1&&f.push(a?"Primary defect noted above; see photos for exact condition.":"All core functions tested (calls, audio, display, charge)."),f.slice(0,4)}async function zme(e){let t=e.condition,r=[],n=e.included||"";if(Og)try{const a=await Og.getGenerativeModel({model:C8}).generateContent(Lme(e)),o=$me(a.response.text());o&&(o.condition&&(t=String(o.condition)),Array.isArray(o.functionality)&&(r=o.functionality.map(String)),o.included&&(n=String(o.included)))}catch(a){console.error("AI Blocks Gen failed:",a)}if(!n){const a=(e.category||"").toLowerCase();a.includes("phone")?n="Phone only":a.includes("laptop")||a.includes("macbook")?n="Laptop only (charger if pictured)":n="Device only"}return r.length===0&&e.testerComment&&(r=[e.testerComment]),r=Fme({category:e.category,condition:t,testerComment:e.testerComment,rawBullets:r}),{condition:t,functionality:r,included:n}}async function Bme(e,t){const r=await zme(e),n=r.functionality.map(a=>`<li>${Km(a)}</li>`).join("");return`
<div style="text-align:center; font-weight:700; font-size:20px; margin-bottom:10px;">
  (${Km(t||e.productName)})
</div>

<div style="font-weight:700; margin:6px 0 2px;">Condition:</div>
<ul style="margin:0 0 10px 22px; padding:0; list-style:disc;">
  <li>${Km(r.condition)}</li>
</ul>

<div style="font-weight:700; margin:6px 0 2px;">Functionality:</div>
<ul style="margin:0 0 10px 22px; padding:0; list-style:disc;">
  ${n}
</ul>

<div style="font-weight:700; margin:6px 0 2px;">Included:</div>
<ul style="margin:0 0 16px 22px; padding:0; list-style:disc;">
  <li>${Km(r.included)}</li>
</ul>

<div style="text-align:center; margin:10px 0; font-weight:700;">
  ****International customers outside of the US may be subject to additional customs or duty fees.****
</div>

<div style="text-align:center; margin:10px 0;">
  Thanks for viewing our product. Don't forget to check out our eBay store for more great deals!
</div>

<div style="text-align:center; margin:10px 0;">
  <a href="https://www.ebay.com/str/discountharddrivesupply" rel="noopener noreferrer">click here for more great deals!</a>
</div>

<div style="margin-top:12px;">
  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTOXbPUn7ArDbbFLj5oz4bz75tLImeJH0gERQ&s"
       alt="click here for more great deals!"
       style="display:block; margin:0 auto;" />
</div>
`.trim()}function Km(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""}function Ume(e){const t=(e==null?void 0:e.condition)??fee((e==null?void 0:e.grade)??"B");return{productName:e.productName||"",condition:t,testerComment:e.testerComment||"",included:e.included||"",specs:e.specs||{},...e.category?{category:e.category}:{}}}function Ym(e){var n,a,o;const t=((a=(n=e==null?void 0:e.message)==null?void 0:n.toString)==null?void 0:a.call(n))??String(e),r=(e==null?void 0:e.status)??((o=t.match(/\[(\d{3})\]/))==null?void 0:o[1])??"";return r==="503"?"Gemini is overloaded (503). Please retry in a few seconds.":r==="429"?"Rate limit hit (429). Please slow down and try again.":/network|fetch|Failed to fetch/i.test(t)?"Network error. Check your connection and try again.":t}function Vme({open:e,onOpenChange:t,input:r,synergyId:n}){const[a,o]=u.useState(""),[i,l]=u.useState(!1),[c,d]=u.useState(null),[f,h]=u.useState(!1),[m,p]=u.useState(!1),[g,x]=u.useState(""),b=u.useRef(null),[y,v]=u.useState(null),[w,j]=u.useState(!1);u.useEffect(()=>{e||(o(""),x(""),l(!1),d(null),h(!1),p(!1),v(null),j(!1))},[e]),u.useEffect(()=>{if(!e||!n)return;let C=!1;return(async()=>{try{const E=await iY.getRows();if(C)return;const T=E.find(A=>A.synergyId.toLowerCase()===n.toLowerCase())||null;v(T),j(!0),T||d(`Item ${n} not found in database.`)}catch(E){C||(d(Ym(E)),j(!0))}})(),()=>{C=!0}},[e,n]);const N=()=>{let C=null;if(n){if(!w)throw new Error("Loading");if(!y)throw new Error(`Item ${n} not found.`);C=Ume(y)}if(!C){if(!r)throw new Error("No input provided.");C={...r}}return r&&(C={...C,...r,productName:r.productName||C.productName,testerComment:r.testerComment??C.testerComment,included:r.included??C.included,specs:r.specs??C.specs,category:r.category??C.category}),C},S=async()=>{l(!0),d(null),h(!1),p(!1);try{let C;try{C=N()}catch(A){d(Ym(A));return}let E="";try{const A=await Dme(C);E=A&&A.trim()||C.productName||"Item"}catch(A){d(Ym(A)),E=C.productName||"Item"}o(E);const T=await Bme(C,E).catch(A=>{d(P=>P??Ym(A));const W=hee(C.condition||C.condition||"Good");return`
          <div style="text-align:center; font-weight:700; font-size:20px;">(${E})</div>
          <div style="font-weight:700; margin-top:6px;">Grade:</div>
          <ul style="margin:0 0 10px 22px; list-style:disc;"><li>Grade ${W} (${C.condition})</li></ul>
          <div style="font-weight:700; margin-top:6px;">Functionality:</div>
          <ul style="margin:0 0 10px 22px; list-style:disc;"><li>${C.testerComment||"See photos for exact cosmetic state."}</li></ul>
          <div style="font-weight:700; margin-top:6px;">Included:</div>
          <ul style="margin:0 0 10px 22px; list-style:disc;"><li>${C.included||"Device only"}</li></ul>
        `});x(T)}finally{l(!1)}},k=()=>{const C=b.current;if(!C)return;const E=C.getAttribute("contenteditable"),T=C.style.userSelect;C.setAttribute("contenteditable","true"),C.style.userSelect="text",C.focus();const A=document.createRange();A.selectNodeContents(C);const W=window.getSelection();W==null||W.removeAllRanges(),W==null||W.addRange(A);let P=!1;try{P=document.execCommand("copy")}catch{P=!1}W==null||W.removeAllRanges(),E===null?C.removeAttribute("contenteditable"):C.setAttribute("contenteditable",E),C.style.userSelect=T,P&&(p(!0),setTimeout(()=>p(!1),1200))},_=async()=>{if(a)try{await navigator.clipboard.writeText(a),h(!0),setTimeout(()=>h(!1),1200)}catch{}};return s.jsx(Gd,{open:e,onOpenChange:t,children:s.jsxs(Xl,{className:"sm:max-w-3xl",children:[s.jsx(Ql,{children:s.jsx(Jl,{children:"Synergy AI Helper"})}),c&&s.jsx("div",{className:"mb-2 rounded-md border border-destructive/30 bg-destructive/10 text-destructive px-3 py-2 text-sm",children:c}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Generated Title"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{size:"sm",variant:"outline",onClick:S,disabled:i,children:i?s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{className:"inline-block h-3 w-3 rounded-full border-2 border-current border-t-transparent animate-spin"}),"Generating"]}):"Generate"}),s.jsx(V,{size:"sm",onClick:_,disabled:!a,children:f?"Copied!":"Copy Title"})]})]}),s.jsx(we,{value:a,onChange:C=>o(C.target.value),placeholder:"Click Generate to create a title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium",children:"Generated Description"}),s.jsx(V,{size:"sm",onClick:k,disabled:!g,children:m?"Copied!":"Copy Description"})]}),s.jsx("div",{className:"rounded-md border p-4 bg-white text-black",children:s.jsx("div",{ref:b,className:"text-sm leading-6",dangerouslySetInnerHTML:{__html:g}})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}var XE,QE;const Hme=((QE=(XE=import.meta)==null?void 0:XE.env)==null?void 0:QE.VITE_DEFAULT_EBAY_CATEGORY_ID)||"";var JE,ZE;const nl=((ZE=(JE=import.meta)==null?void 0:JE.env)==null?void 0:ZE.VITE_EBAY_MARKETPLACE_ID)||"EBAY_US";var e3,t3;const Wme=((t3=(e3=import.meta)==null?void 0:e3.env)==null?void 0:t3.VITE_EBAY_MERCHANT_LOCATION_KEY)||"",ed={1e3:"NEW",1500:"NEW_OTHER",1750:"NEW_WITH_DEFECTS",2e3:"CERTIFIED_REFURBISHED",2010:"EXCELLENT_REFURBISHED",2020:"VERY_GOOD_REFURBISHED",2030:"GOOD_REFURBISHED",2500:"SELLER_REFURBISHED",2750:"LIKE_NEW",2990:"USED_EXCELLENT",3e3:"USED",4e3:"USED_VERY_GOOD",5e3:"USED_GOOD",6e3:"USED_ACCEPTABLE",7e3:"FOR_PARTS_OR_NOT_WORKING"},Gme=[5e3,4e3,3e3,6e3],mE=["POUND","OUNCE","KILOGRAM","GRAM"],pE=["INCH","CENTIMETER"];async function qme(e,t,r){var d,f;const n=await I0({marketplaceId:e,categoryId:t}),a=((f=(d=n==null?void 0:n.itemConditionPolicies)==null?void 0:d[0])==null?void 0:f.itemConditions)??[],o=new Set(a.map(h=>O1(h)).filter(h=>h!==void 0)),i=Array.from(o).map(h=>ed[h]).filter(Boolean),l=a.map(h=>{const m=O1(h),p=m!==void 0?ed[m]:void 0,g=(h==null?void 0:h.displayName)&&String(h.displayName).trim();return(m===3e3?"Used":g)||Jf(p)||String(m)}).filter(Boolean);if(console.log(`Category ${t} allows conditions:`,{allowedIds:o,allowedEnums:i,allowedLabels:l}),i.includes(r))return{finalEnum:r,allowedEnums:i,allowedLabels:l};if(r==="USED"||/^USED_/.test(r)){for(const h of Gme)if(o.has(h)){const m=ed[h];return console.log(`Coercing ${r} to ${m} (ID ${h})`),{finalEnum:m,allowedEnums:i,allowedLabels:l}}if(o.has(3e3))return console.log("Using generic USED (ID 3000) as fallback"),{finalEnum:"USED",allowedEnums:i,allowedLabels:l}}if(r==="NEW"){if(o.has(1e3))return{finalEnum:"NEW",allowedEnums:i,allowedLabels:l};if(o.has(1500))return{finalEnum:"NEW_OTHER",allowedEnums:i,allowedLabels:l};if(o.has(1750))return{finalEnum:"NEW_WITH_DEFECTS",allowedEnums:i,allowedLabels:l}}if(i.length>0)return console.log(`No match for ${r}; defaulting to ${i[0]}`),{finalEnum:i[0],allowedEnums:i,allowedLabels:l};const c=l.join(", ")||i.join(", ")||"None";throw new Error(`Condition "${Jf(r)}" is not allowed for category ${t}. Allowed: ${c}.`)}function Kme(e){const t=(e||"").trim();if(!t)return{};if(t.includes("|"))return{restfulId:t};if(/^\d{12,15}$/.test(t))return{legacyId:t};try{const r=new URL(t),n=r.pathname.split("/").filter(Boolean),a=n[n.length-1]||"";if(/^\d{12,15}$/.test(a))return{legacyId:a};const o=r.searchParams.get("item")||r.searchParams.get("itm")||r.searchParams.get("itemid")||"";if(/^\d{12,15}$/.test(o))return{legacyId:o};const i=r.searchParams.get("hash")||"",l=/itemid:(\d{12,15})/i.exec(i);if(l)return{legacyId:l[1]}}catch{}return{}}function Yme(e){const t=(e||"").split(/\r?\n/).length;return Math.min(14,Math.max(6,t))}function Xme(e){if(e==null)return[];if(Array.isArray(e))return e.flatMap(r=>r==null?[]:[String(r).trim()]).filter(r=>r.length>0&&r.length<=65);if(typeof e=="object")try{const r=Object.entries(e).map(([n,a])=>`${n}: ${String(a)}`).join(", ");return r?[r.slice(0,65)]:[]}catch{return[]}const t=String(e).trim();return t?[t.slice(0,65)]:[]}function Qme(e){const t={};if(!e||typeof e!="object")return t;const r=Object.entries(e).slice(0,40);for(const[n,a]of r){const o=String(n).trim().slice(0,65);if(!o||/^condition$|^item\s*condition$/i.test(o))continue;const i=Xme(a);i.length&&(t[o]=i)}return t}function es(e){return(e==null?void 0:e.paymentPolicyId)||(e==null?void 0:e.fulfillmentPolicyId)||(e==null?void 0:e.returnPolicyId)||(e==null?void 0:e.id)||""}function dv(e){if(!e)return!1;if(e.localPickup===!0)return!0;const t=e.shippingOptions||[],r=t.find(a=>{var o;return(a.type||"").toUpperCase()==="SHIPPING"&&(((o=a.services)==null?void 0:o.length)||0)>0})!=null;return t.find(a=>(a.type||"").toUpperCase()==="PICKUP"||a.localPickup===!0)!=null&&!r}function Jme(e){var n,a;if(!e)return null;const t=e.indexOf('{"errors"');if(t>=0)try{const o=JSON.parse(e.slice(t)),i=(a=(n=o==null?void 0:o.errors)==null?void 0:n[0])==null?void 0:a.parameters;if(Array.isArray(i)){const l=i.find(c=>((c==null?void 0:c.name)||"").toLowerCase()==="offerid");if(l!=null&&l.value)return String(l.value)}}catch{}const r=/"offerId"\s*:\s*"(\d+)"/i.exec(e)||/offerId[^\d]+(\d{6,})/i.exec(e);return r!=null&&r[1]?String(r[1]):null}function Jf(e){return e==null?"":String(e).replace(/_/g," ").toLowerCase().replace(/\b\w/g,t=>t.toUpperCase())}function O1(e){var n;const t=(e==null?void 0:e.id)??(e==null?void 0:e.conditionId)??((n=e==null?void 0:e.condition)==null?void 0:n.id)??(e==null?void 0:e.value)??(e==null?void 0:e.conditionValueId),r=Number(t);return Number.isFinite(r)?r:void 0}function _8(e){for(const[t,r]of Object.entries(ed))if(r===e)return Number(t)}const gE=new Set(["NEW","NEW_OTHER","NEW_WITH_DEFECTS","CERTIFIED_REFURBISHED","EXCELLENT_REFURBISHED","VERY_GOOD_REFURBISHED","GOOD_REFURBISHED","SELLER_REFURBISHED","LIKE_NEW","USED","USED_EXCELLENT","USED_VERY_GOOD","USED_GOOD","USED_ACCEPTABLE","FOR_PARTS_OR_NOT_WORKING"]);function xE(e){const t=String(e||"").trim();if(!t)return null;const r=t.toUpperCase().replace(/\s+/g," ").trim();if(gE.has(r))return r;const a={"OPEN BOX":"NEW_OTHER","NEW OTHER":"NEW_OTHER","NEW WITH DEFECTS":"NEW_WITH_DEFECTS","FOR PARTS":"FOR_PARTS_OR_NOT_WORKING",PARTS:"FOR_PARTS_OR_NOT_WORKING","VERY GOOD":"USED_VERY_GOOD",GOOD:"USED_GOOD",ACCEPTABLE:"USED_ACCEPTABLE",USED:"USED","USED EXCELLENT":"USED_EXCELLENT"}[r]||r.replace(/\s+/g,"_");return gE.has(a)?a:null}async function Zme(e,t,r){var c,d;const n=await I0({marketplaceId:e,categoryId:t}),a=Array.isArray((d=(c=n==null?void 0:n.itemConditionPolicies)==null?void 0:c[0])==null?void 0:d.itemConditions)?n.itemConditionPolicies[0].itemConditions:[],o=new Set,i=[];for(const f of a){const h=O1(f);if(h===void 0)continue;o.add(h);const m=(f==null?void 0:f.displayName)&&String(f.displayName).trim()||Jf(ed[h])||String(h);m&&i.push(m)}const l=_8(r);if(r==="USED_GOOD"&&o.has(3e3)){console.log("Forcing validation pass for coerced USED_GOOD");return}if(!l||!o.has(l)){const f=i.length>0?`Allowed: ${i.join(", ")}.`:"No condition list returned by eBay for this category.";throw new Error(`Condition "${Jf(r)}" is not allowed for category ${t}. ${f}`)}}async function epe(e,t){var n,a;try{const o=await I0({marketplaceId:e,categoryId:t}),l=(Array.isArray((a=(n=o==null?void 0:o.itemConditionPolicies)==null?void 0:n[0])==null?void 0:a.itemConditions)?o.itemConditionPolicies[0].itemConditions:[]).map(f=>{var b;const h=(f==null?void 0:f.id)??(f==null?void 0:f.conditionId)??((b=f==null?void 0:f.condition)==null?void 0:b.id)??(f==null?void 0:f.value)??(f==null?void 0:f.conditionValueId),m=Number(h);if(!Number.isFinite(m))return null;const p=ed[m];if(!p)return null;const g=(f==null?void 0:f.displayName)&&String(f.displayName).trim(),x=m===3e3?"Used":g||Jf(p)||String(m);return{id:m,label:x,enumVal:p}}).filter(Boolean),d=l.some(f=>/^USED_/.test(f.enumVal)&&f.id!==3e3)?l.filter(f=>f.id!==3e3):l;if(console.log(`Fetched condition options for category ${t}:`,d),d.length)return d}catch(o){console.error("Failed to fetch condition options for category:",o)}return[{id:1e3,enumVal:"NEW",label:"New"},{id:5e3,enumVal:"USED_GOOD",label:"Used Good"},{id:4e3,enumVal:"USED_VERY_GOOD",label:"Used Very Good"},{id:6e3,enumVal:"USED_ACCEPTABLE",label:"Used Acceptable"},{id:7e3,enumVal:"FOR_PARTS_OR_NOT_WORKING",label:"For Parts or Not Working"}]}function tpe(e){const{marketplaceId:t,categoryId:r,value:n,onChange:a,notes:o,onChangeNotes:i}=e,[l,c]=u.useState([]);return u.useEffect(()=>{let d=!0;const f=(r||"").trim();if(!f){c([]);return}return epe(t,f).then(h=>{if(!d)return;c(h),console.log(`Condition options for category ${f}:`,h);const m=h.find(b=>b.enumVal===n),p=n==="USED"||_8(n)===3e3,g=h.some(b=>/^USED_/.test(b.enumVal)&&b.id!==3e3);let x=h[0];(!m||p&&g)&&(x=h.find(b=>b.enumVal==="USED_GOOD")||h.find(b=>b.enumVal==="USED_VERY_GOOD")||h.find(b=>b.enumVal==="USED_ACCEPTABLE")||h[0],x&&x.enumVal!==n&&(console.log(`Coercing condition from ${n} to ${x.enumVal}`),a(x.enumVal)))}).catch(h=>{console.error("Failed to fetch condition options:",h),c([{id:1e3,enumVal:"NEW",label:"New"},{id:5e3,enumVal:"USED_GOOD",label:"Used Good"},{id:4e3,enumVal:"USED_VERY_GOOD",label:"Used Very Good"},{id:6e3,enumVal:"USED_ACCEPTABLE",label:"Used Acceptable"},{id:7e3,enumVal:"FOR_PARTS_OR_NOT_WORKING",label:"For Parts or Not Working"}])}),()=>{d=!1}},[t,r,n,a]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-2 text-xs font-semibold opacity-80",children:"CONDITION"}),s.jsxs("select",{className:"mb-2 h-9 w-full rounded border px-2 text-sm dark:bg-gray-900",value:n,onChange:d=>a(d.target.value),children:[l.length===0&&s.jsx("option",{value:"",children:"Loading conditions..."}),l.map(d=>s.jsx("option",{value:d.enumVal,children:d.label},d.id))]}),!/^NEW/.test(n)&&s.jsx("textarea",{value:o,onChange:d=>i(d.target.value),rows:Math.min(6,Math.max(2,Math.ceil((o||"").length/80))),className:"w-full resize-y rounded border p-2 text-sm dark:border-gray-700 dark:bg-gray-900",placeholder:"Condition notes (scratches, battery health, etc.)"})]})}function rpe(e){const{sku:t,title:r,description:n,aspects:a,imageUrls:o,quantity:i,conditionEnum:l,conditionNotes:c,weightValue:d,weightUnit:f,length:h,width:m,height:p,dimUnit:g}=e,x={sku:t,condition:l,product:{title:r.trim(),description:n.trim(),aspects:a,imageUrls:o},availability:{shipToLocationAvailability:{quantity:i}},packageWeightAndSize:{weight:{value:Number(d),unit:f}}};return!/^NEW/.test(l)&&(c||"").trim()&&(x.conditionDescription=String(c).trim()),Number(h)>0&&Number(m)>0&&Number(p)>0&&!!g&&(x.packageWeightAndSize.dimensions={length:Number(h),width:Number(m),height:Number(p),unit:g}),x}function npe(e,t){switch(t.type){case"SET_FIELD":return{...e,[t.field]:t.value};case"SET_ASPECT":{const r={...e.aspects};return t.value?r[t.name]=t.value:delete r[t.name],{...e,aspects:r}}case"SET_ASPECTS":return{...e,aspects:t.aspects};case"SET_PHOTOS":return{...e,photos:t.photos};case"ADD_PHOTO":return!t.url||e.photos.some(r=>r.url===t.url)?e:{...e,photos:[...e.photos,{url:t.url}]};case"REMOVE_PHOTO":return{...e,photos:e.photos.filter((r,n)=>n!==t.index)};case"SET_ALL":return{...e,...t.state};default:return e}}function spe(e){const t=(()=>{const o=e.ebayCategoryId??void 0,i=Number.isFinite(Number(e.categoryId))?String(e.categoryId):void 0;return o??i??(Hme||void 0)??""})(),r=Array.isArray(e==null?void 0:e.images)?e.images.map(o=>({url:o})):Array.isArray(e==null?void 0:e.photos)?e.photos.map(o=>({url:o})):[],n=(()=>{const o=e.specs||{},i={};for(const l of Object.keys(o))o[l]!=null&&o[l]!==""&&(i[String(l)]=String(o[l]));return i})(),a=[e.productName,e.grade?`Grade ${e.grade}`:"",e.testerComment?`Notes: ${e.testerComment}`:""].filter(Boolean).join(`
`);return{merchantLocationKey:Wme,title:e.productName||e.synergyId,sku:e.sku||"",categoryId:t,aspects:n,condition:"",conditionDesc:(e.testerComment||"").trim(),price:String(typeof e.ebayPrice=="number"?e.ebayPrice:typeof e.price=="number"?e.price:""),qty:String(e.quantity??1),allowOffers:!1,description:a,weightValue:"",weightUnit:"POUND",length:"",width:"",height:"",dimUnit:"INCH",paymentPolicyId:"",fulfillPolicyId:"",returnPolicyId:"",photos:r,importSource:""}}function ape({open:e,onOpenChange:t,row:r,onPosted:n}){if(!e)return null;const[a,o]=u.useReducer(npe,r,spe),{merchantLocationKey:i,title:l,sku:c,categoryId:d,aspects:f,condition:h,conditionDesc:m,price:p,qty:g,allowOffers:x,description:b,weightValue:y,weightUnit:v,length:w,width:j,height:N,dimUnit:S,paymentPolicyId:k,fulfillPolicyId:_,returnPolicyId:C,photos:E,importSource:T}=a,[A,W]=u.useState([]),[P,te]=u.useState([]),[le,K]=u.useState([]),[D,I]=u.useState([]),[R,q]=u.useState([]),[z,Z]=u.useState([]),ce=u.useMemo(()=>le.find(ee=>es(ee)===k),[le,k]),F=u.useMemo(()=>D.find(ee=>es(ee)===_),[D,_]);u.useMemo(()=>R.find(ee=>es(ee)===C),[R,C]);const[J,L]=u.useState(!1),[U,$]=u.useState(!1),[M,re]=u.useState(null);u.useEffect(()=>{let ee=!0;return(async()=>{var X,Te,be,H,ge,Ne;try{let xe;if(typeof gg=="function"?xe=await gg(nl):typeof gC=="function"&&(xe=await gC()),!ee)return;const Re=((X=xe==null?void 0:xe.payment)==null?void 0:X.paymentPolicies)||((Te=xe==null?void 0:xe.payment)==null?void 0:Te.policies)||(xe==null?void 0:xe.payment)||[],at=((be=xe==null?void 0:xe.fulfillment)==null?void 0:be.fulfillmentPolicies)||((H=xe==null?void 0:xe.fulfillment)==null?void 0:H.policies)||(xe==null?void 0:xe.fulfillment)||[],nt=((ge=xe==null?void 0:xe.return)==null?void 0:ge.returnPolicies)||((Ne=xe==null?void 0:xe.return)==null?void 0:Ne.policies)||(xe==null?void 0:xe.return)||[];K(Re),I(at),q(nt);const ot={};Re[0]&&!k&&(ot.paymentPolicyId=es(Re[0])),at[0]&&!_&&(ot.fulfillPolicyId=es(at[0])),nt[0]&&!C&&(ot.returnPolicyId=es(nt[0])),Object.keys(ot).length&&o({type:"SET_ALL",state:ot})}catch{}})(),()=>{ee=!1}},[k,_,C]),u.useEffect(()=>{let ee=!0;const X=(d||"").trim();if(!X){te([]);return}return zA(X).then(Te=>{var H,ge,Ne;if(!ee)return;const be=((Ne=(ge=(H=Te==null?void 0:Te.aspects)==null?void 0:H.filter(xe=>{var Re;return(Re=xe==null?void 0:xe.aspectConstraint)==null?void 0:Re.aspectRequired}))==null?void 0:ge.map(xe=>String((xe==null?void 0:xe.localizedAspectName)||(xe==null?void 0:xe.aspectName))))==null?void 0:Ne.filter(Boolean))||[];te(be)}).catch(()=>te([])),()=>{ee=!1}},[d]),u.useEffect(()=>{let ee=!0;return BA().then(X=>{var be;if(!ee)return;const Te=[];if(Array.isArray(X==null?void 0:X.locations))for(const H of X.locations){const ge=(H==null?void 0:H.merchantLocationKey)||(H==null?void 0:H.merchantlocationkey)||(H==null?void 0:H.key);ge&&Te.push({merchantLocationKey:String(ge),name:H==null?void 0:H.name})}else if(Array.isArray(X==null?void 0:X.locationResponses))for(const H of X.locationResponses){const ge=H==null?void 0:H.merchantLocationKey;ge&&Te.push({merchantLocationKey:String(ge),name:H==null?void 0:H.name})}else X!=null&&X.merchantLocationKey&&Te.push({merchantLocationKey:String(X.merchantLocationKey),name:X==null?void 0:X.name});Z(Te),!i&&((be=Te[0])!=null&&be.merchantLocationKey)&&o({type:"SET_FIELD",field:"merchantLocationKey",value:Te[0].merchantLocationKey})}).catch(()=>{}),()=>{ee=!1}},[i]);const de=u.useCallback(async()=>{var X,Te;re(null),W([]);const ee=(l||r.productName||"").trim();if(ee)try{const be=await DA(ee),H=((X=be==null?void 0:be.categorySuggestions)==null?void 0:X.map(ge=>{var Ne,xe;return{id:String(((Ne=ge==null?void 0:ge.category)==null?void 0:Ne.categoryId)||""),name:String(((xe=ge==null?void 0:ge.category)==null?void 0:xe.categoryName)||"")}}))||[];W(H),(Te=H[0])!=null&&Te.id&&o({type:"SET_FIELD",field:"categoryId",value:H[0].id})}catch(be){re((be==null?void 0:be.message)||"Failed to get suggestions")}},[l,r.productName]),Ee=u.useCallback(ee=>{const X=(ee||"").trim();X&&o({type:"ADD_PHOTO",url:X})},[]),Ze=u.useCallback(ee=>{o({type:"REMOVE_PHOTO",index:ee})},[]),rt=u.useCallback((ee,X)=>{o({type:"SET_ASPECT",name:ee,value:X})},[]),Xe=u.useCallback(async()=>{var ee;re(null),$(!0);try{const{restfulId:X,legacyId:Te}=Kme(T);let be=null;if(Te)be=await Rc(Te);else if(X)be=await q2(X);else throw new Error("Paste a valid eBay item URL or ID.");const H=[];if((ee=be==null?void 0:be.image)!=null&&ee.imageUrl&&H.push(be.image.imageUrl),Array.isArray(be==null?void 0:be.additionalImages))for(const Re of be.additionalImages)Re!=null&&Re.imageUrl&&H.push(Re.imageUrl);H.length&&o({type:"SET_PHOTOS",photos:H.map(Re=>({url:Re}))});const ge={};be!=null&&be.title&&(ge.title=String(be.title)),be!=null&&be.categoryId&&(ge.categoryId=String(be.categoryId));const Ne=(be==null?void 0:be.itemSpecifics)||(be==null?void 0:be.localizedAspects)||[],xe={};for(const Re of Ne){const at=(Re==null?void 0:Re.name)||(Re==null?void 0:Re.localizedName)||(Re==null?void 0:Re.aspectName)||(Re==null?void 0:Re.localizedAspectName),nt=(Re==null?void 0:Re.values)||(Re==null?void 0:Re.value)||(Re==null?void 0:Re.localizedValues)||[],ot=Array.isArray(nt)&&nt.length?nt[0]:typeof nt=="string"?nt:"";at&&ot&&(xe[String(at)]=String(ot))}be!=null&&be.brand&&!xe.Brand&&(xe.Brand=String(be.brand)),o({type:"SET_ALL",state:ge}),o({type:"SET_ASPECTS",aspects:{...xe,...f}})}catch(X){re((X==null?void 0:X.message)||"Import failed")}finally{$(!1)}},[T,f]),et=u.useCallback(()=>{if(!l.trim())return"Add a title.";if(!(d||"").trim())return"Choose a category.";if(!c.trim())return"Enter a SKU (e.g., 102 SURFACE - STOCK SHELF).";for(const xe of P)if(!f[xe])return`Missing required specific: ${xe}`;const ee=Number(p);if(!Number.isFinite(ee)||ee<=0)return"Enter a valid price.";const X=Number(g);if(!Number.isInteger(X)||X<1)return"Quantity must be >= 1.";if(!k||!_||!C)return"Select Payment, Shipping (Fulfillment), and Return policies.";if(!i)return"Select an Inventory Location (Merchant Location Key).";const Te=Number(y);if(!Number.isFinite(Te)||Te<=0)return"Enter a valid package weight (e.g., 2.5).";if(!mE.includes(v))return"Pick a valid weight unit.";if([w,j,N].some(xe=>String(xe||"").trim()!=="")){const xe=Number(w),Re=Number(j),at=Number(N);if(![xe,Re,at].every(nt=>Number.isFinite(nt)&&nt>0))return"If you enter dimensions, provide positive numbers for length, width, and height.";if(!pE.includes(S))return"Pick a valid dimensions unit."}const H=dv(F),ge=!!(ce!=null&&ce.immediatePay);return H&&ge?"Policy conflict: Local Pickup only + Immediate Payment not allowed. Change Payment policy or Shipping policy.":xE(h)?null:"Pick a valid condition (e.g., Used, Used Good, New, etc.)."},[l,d,c,P,f,p,g,k,_,C,i,y,v,w,j,N,S,F,ce,h]);async function Je(ee,X){try{if(typeof qb=="function"){const be=await qb(ee),H=(be==null?void 0:be.offers)||(be==null?void 0:be.offer)||(be==null?void 0:be.items)||[],ge=Array.isArray(H)?H.find(Ne=>(Ne==null?void 0:Ne.sku)===ee||(Ne==null?void 0:Ne.offerId)):null;if(ge!=null&&ge.offerId)return String(ge.offerId)}}catch{}return Jme(X||"")||null}const We=u.useCallback(async()=>{const ee=et();if(ee){re(ee);return}L(!0),re(null);try{const X=c.trim().replace(/\s+/g,"-").replace(/[^A-Za-z0-9._-]/g,"-").slice(0,50)||"SKU";X!==c&&o({type:"SET_FIELD",field:"sku",value:X});const Te=Math.max(1,Number(g)||1),be=Number(p),H=Qme(f),ge=xE(h)||String(h||"").toUpperCase(),{finalEnum:Ne,allowedLabels:xe}=await qme(nl,d.trim(),ge);Ne!==h&&(console.log(`Updating condition from ${h} to ${Ne}`),o({type:"SET_FIELD",field:"condition",value:Ne})),await Zme(nl,d.trim(),Ne).catch(ot=>{throw console.error("Condition validation failed:",ot),new Error(`Invalid condition: ${ot.message}`)});const Re=rpe({sku:X,title:l,description:b,aspects:H,imageUrls:E.map(ot=>ot.url),quantity:Te,conditionEnum:Ne,conditionNotes:m,weightValue:Number(y),weightUnit:v,length:w?Number(w):void 0,width:j?Number(j):void 0,height:N?Number(N):void 0,dimUnit:[w,j,N].every(ot=>String(ot||"").trim()!=="")?S:void 0});await G2(X,Re);let at=null,nt=!1;try{const ot=await $A({sku:X,marketplaceId:nl,categoryId:d.trim(),format:"FIXED_PRICE",merchantLocationKey:i,availableQuantity:Te,listingDescription:b.trim()||void 0,pricingSummary:{price:{value:be,currency:"USD"}},listingPolicies:{paymentPolicyId:k,fulfillmentPolicyId:_,returnPolicyId:C},...x?{bestOfferTerms:[{}]}:{},inventoryLocationKey:i});at=(ot==null?void 0:ot.offerId)??(ot==null?void 0:ot.id)??null}catch(ot){const Oe=String((ot==null?void 0:ot.message)||"");if(Oe.includes("Offer entity already exists")||Oe.includes('"errorId":25002')){const Ht=await Je(X,Oe);if(!Ht)throw new Error("Offer already exists for this SKU, but could not resolve offerId.");at=Ht,nt=!0}else throw ot}if(!at)throw new Error("No offerId returned or resolved.");nt&&await LA(String(at),{sku:X,marketplaceId:nl,categoryId:d.trim(),format:"FIXED_PRICE",merchantLocationKey:i,availableQuantity:Te,listingDescription:b.trim()||void 0,pricingSummary:{price:{value:be,currency:"USD"}},listingPolicies:{paymentPolicyId:k,fulfillmentPolicyId:_,returnPolicyId:C},inventoryLocationKey:i});try{await FA(String(at))}catch(ot){const Oe=String((ot==null?void 0:ot.message)||"");if(!/already\s+published|already\s+active/i.test(Oe))throw ot}n==null||n(),t(!1)}catch(X){re((X==null?void 0:X.message)||"Publish failed")}finally{L(!1)}},[et,c,g,p,f,h,d,l,b,E,m,y,v,w,j,N,S,i,k,_,C,x,n,t]);return s.jsx("div",{className:se("fixed inset-0 z-[100] flex items-center justify-center bg-black/50 p-2"),role:"dialog","aria-modal":"true",children:s.jsxs("div",{className:"relative w-[1200px] max-w-[98vw] max-h-[95vh] overflow-hidden rounded-xl border border-gray-200 bg-white shadow-2xl dark:border-gray-700 dark:bg-gray-900 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3 dark:border-gray-700 flex-shrink-0",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Complete your listing"}),s.jsx(V,{variant:"ghost",className:"h-8 px-3 text-xs",onClick:()=>t(!1),children:"Close"})]}),s.jsxs("div",{className:"overflow-y-auto p-4 flex-grow grid md:grid-cols-[2fr_1fr] gap-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-lg border p-4 dark:border-gray-700",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold opacity-80",children:"TITLE & SKU"}),s.jsx(we,{value:l,onChange:ee=>o({type:"SET_FIELD",field:"title",value:ee.target.value}),placeholder:"Item title",className:"mb-2"}),s.jsxs("div",{className:"grid grid-cols-[120px_1fr] items-center gap-2",children:[s.jsx("div",{className:"text-[11px] opacity-70",children:"Custom label (SKU)"}),s.jsx(we,{value:c,onChange:ee=>o({type:"SET_FIELD",field:"sku",value:ee.target.value}),placeholder:"e.g. 102 SURFACE - STOCK SHELF"})]}),s.jsx("div",{className:"mt-1 text-[11px] opacity-60",children:"This is what eBay stores as your SKU/Custom Label."})]}),s.jsxs("section",{className:"rounded-lg border p-4 dark:border-gray-700",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold opacity-80",children:"PHOTOS"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.slice(0,10).map((ee,X)=>s.jsxs("div",{className:"relative h-16 w-16 overflow-hidden rounded border dark:border-gray-700",children:[s.jsx("img",{src:ee.url,alt:"",className:"h-full w-full object-cover",loading:"lazy"}),s.jsx("button",{type:"button",className:"absolute right-0 top-0 rounded-bl bg-black/60 px-1 py-0.5 text-[8px] text-white leading-none",onClick:()=>Ze(X),children:""})]},`${ee.url}-${X}`)),s.jsxs("div",{className:"flex-1 min-w-[200px] flex flex-col justify-center",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(we,{placeholder:"https:// (paste image URL here)",className:"h-8 text-xs",onKeyDown:ee=>{const X=ee.currentTarget;ee.key==="Enter"&&(Ee(X.value),X.value="")}}),s.jsx(V,{variant:"secondary",className:"h-8 text-xs px-2",onClick:()=>{const ee=document.activeElement,X=ee==null?void 0:ee.value;X&&(Ee(X),ee.value="")},children:"Add"})]}),s.jsxs("div",{className:"mt-1 text-[10px] opacity-70",children:["You have ",E.length," photos. Tip: paste URLs separated by spaces/lines and hit Enter."]})]})]})]}),s.jsx("section",{className:"rounded-lg border p-4 dark:border-gray-700",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsx(tpe,{marketplaceId:nl,categoryId:d,value:h,onChange:ee=>o({type:"SET_FIELD",field:"condition",value:ee}),notes:m,onChangeNotes:ee=>o({type:"SET_FIELD",field:"conditionDesc",value:ee})})}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 text-xs font-semibold opacity-80",children:"DESCRIPTION"}),s.jsx("textarea",{value:b,onChange:ee=>o({type:"SET_FIELD",field:"description",value:ee.target.value}),rows:Yme(b),className:"w-full resize-y rounded border p-2 text-sm dark:border-gray-700 dark:bg-gray-900 min-h-[160px]"})]})]})}),s.jsxs("section",{className:"rounded-lg border p-4 dark:border-gray-700",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold opacity-80",children:"ITEM SPECIFICS"}),P.length?s.jsxs("div",{className:"mb-2 text-[11px] opacity-70",children:["Required: ",P.join(", ")]}):s.jsx("div",{className:"mb-2 text-[11px] opacity-60",children:"Choose a category to load required specifics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[Object.keys(f).map(ee=>s.jsxs("div",{className:"grid grid-cols-[120px_1fr] items-center gap-2",children:[s.jsx(we,{value:ee,readOnly:!0,className:"h-8 text-xs bg-gray-50 dark:bg-gray-800"}),s.jsx(we,{value:f[ee],onChange:X=>rt(ee,X.target.value),className:"h-8 text-xs"})]},ee)),s.jsxs("div",{className:"grid grid-cols-[120px_1fr] items-center gap-2 pt-2",children:[s.jsx(we,{placeholder:"New Specific",className:"h-8 text-xs",onKeyDown:ee=>{const X=ee.currentTarget.value.trim();ee.key==="Enter"&&X&&(f[X]||rt(X,""),ee.currentTarget.value="")}}),s.jsx("div",{className:"text-[11px] opacity-60",children:"Press Enter to add; then fill the value."})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-lg border p-4 dark:border-gray-700",children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("div",{className:"text-xs font-semibold opacity-80",children:"ITEM CATEGORY"}),s.jsx(V,{size:"sm",className:"h-7 px-2 text-[11px]",onClick:de,children:"Suggest from title"})]}),s.jsxs("div",{className:"grid grid-cols-[120px_1fr] items-center gap-2",children:[s.jsx("div",{className:"text-[11px] opacity-70",children:"Category ID"}),s.jsx(we,{value:d,onChange:ee=>o({type:"SET_FIELD",field:"categoryId",value:ee.target.value}),placeholder:"e.g. 171485"})]}),!!A.length&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2 max-h-24 overflow-y-auto",children:A.map(ee=>s.jsxs("button",{onClick:()=>o({type:"SET_FIELD",field:"categoryId",value:ee.id}),className:"rounded border px-2 py-1 text-[11px] dark:border-gray-700",title:ee.name,children:[ee.id,"  ",ee.name]},ee.id))})]}),s.jsxs("section",{className:"rounded-lg border p-4 dark:border-gray-700",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold opacity-80",children:"PRICING"}),s.jsxs("div",{className:"grid grid-cols-[120px_1fr] items-center gap-2",children:[s.jsx("div",{className:"text-[11px] opacity-70",children:"Format"}),s.jsx(we,{value:"Buy It Now",readOnly:!0,className:"h-8 text-xs"}),s.jsx("div",{className:"text-[11px] opacity-70",children:"Item price ($)"}),s.jsx(we,{inputMode:"decimal",value:p,onChange:ee=>o({type:"SET_FIELD",field:"price",value:ee.target.value}),placeholder:"0.00",className:"h-8 text-xs"}),s.jsx("div",{className:"text-[11px] opacity-70",children:"Quantity"}),s.jsx(we,{inputMode:"numeric",value:g,onChange:ee=>o({type:"SET_FIELD",field:"qty",value:ee.target.value}),className:"h-8 text-xs"}),s.jsx("div",{className:"text-[11px] opacity-70",children:"Allow offers"}),s.jsx("div",{children:s.jsx(Ba,{checked:x,onCheckedChange:ee=>o({type:"SET_FIELD",field:"allowOffers",value:ee})})})]})]}),s.jsxs("section",{className:"rounded-lg border p-4 dark:border-gray-700",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold opacity-80",children:"PACKAGE & WEIGHT"}),s.jsxs("div",{className:"mb-2 grid grid-cols-[120px_1fr] items-center gap-2",children:[s.jsx("div",{className:"text-[11px] opacity-70",children:"Weight"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(we,{inputMode:"decimal",placeholder:"e.g. 2.5",value:y,onChange:ee=>o({type:"SET_FIELD",field:"weightValue",value:ee.target.value}),className:"w-28 h-8 text-xs"}),s.jsx("select",{className:"h-8 rounded border px-2 text-sm dark:border-gray-700 dark:bg-gray-900",value:v,onChange:ee=>o({type:"SET_FIELD",field:"weightUnit",value:ee.target.value}),children:mE.map(ee=>s.jsx("option",{value:ee,children:ee},ee))})]})]}),s.jsxs("div",{className:"mb-1 grid grid-cols-[120px_1fr] items-center gap-2",children:[s.jsx("div",{className:"text-[11px] opacity-70",children:"Dimensions"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(we,{inputMode:"decimal",placeholder:"L",value:w,onChange:ee=>o({type:"SET_FIELD",field:"length",value:ee.target.value}),className:"w-16 h-8 text-xs"}),s.jsx("span",{className:"text-xs opacity-60",children:""}),s.jsx(we,{inputMode:"decimal",placeholder:"W",value:j,onChange:ee=>o({type:"SET_FIELD",field:"width",value:ee.target.value}),className:"w-16 h-8 text-xs"}),s.jsx("span",{className:"text-xs opacity-60",children:""}),s.jsx(we,{inputMode:"decimal",placeholder:"H",value:N,onChange:ee=>o({type:"SET_FIELD",field:"height",value:ee.target.value}),className:"w-16 h-8 text-xs"}),s.jsx("select",{className:"h-8 rounded border px-2 text-sm dark:border-gray-700 dark:bg-gray-900",value:S,onChange:ee=>o({type:"SET_FIELD",field:"dimUnit",value:ee.target.value}),children:pE.map(ee=>s.jsx("option",{value:ee,children:ee},ee))})]})]}),s.jsx("div",{className:"mt-2 text-[11px] opacity-60",children:"Weight is required. Dimensions help shipping estimates (optional)."})]}),s.jsxs("section",{className:"rounded-lg border p-4 dark:border-gray-700",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold opacity-80",children:"POLICIES"}),s.jsxs("div",{className:"mb-2 grid grid-cols-[120px_1fr] items-center gap-2",children:[s.jsx("div",{className:"text-[11px] opacity-70",children:"Payment"}),s.jsx("select",{value:k,onChange:ee=>o({type:"SET_FIELD",field:"paymentPolicyId",value:ee.target.value}),className:"h-8 w-full rounded border px-2 text-sm dark:border-gray-700 dark:bg-gray-900",children:le.map(ee=>s.jsxs("option",{value:es(ee),children:[ee.name||es(ee),ee.immediatePay?"  Immediate payment":""]},es(ee)))})]}),s.jsxs("div",{className:"mb-2 grid grid-cols-[120px_1fr] items-center gap-2",children:[s.jsx("div",{className:"text-[11px] opacity-70",children:"Shipping"}),s.jsx("select",{value:_,onChange:ee=>o({type:"SET_FIELD",field:"fulfillPolicyId",value:ee.target.value}),className:"h-8 w-full rounded border px-2 text-sm dark:border-gray-700 dark:bg-gray-900",children:D.map(ee=>{const X=es(ee),Te=dv(ee);return s.jsxs("option",{value:X,children:[ee.name||X,Te?"  Local pickup only":""]},X)})})]}),s.jsxs("div",{className:"mb-2 grid grid-cols-[120px_1fr] items-center gap-2",children:[s.jsx("div",{className:"text-[11px] opacity-70",children:"Return"}),s.jsx("select",{value:C,onChange:ee=>o({type:"SET_FIELD",field:"returnPolicyId",value:ee.target.value}),className:"h-8 w-full rounded border px-2 text-sm dark:border-gray-700 dark:bg-gray-900",children:R.map(ee=>s.jsx("option",{value:es(ee),children:ee.name||es(ee)},es(ee)))})]}),s.jsxs("div",{className:"mb-1 grid grid-cols-[120px_1fr] items-center gap-2",children:[s.jsx("div",{className:"text-[11px] opacity-70",children:"Inv. Location"}),s.jsx("select",{value:i,onChange:ee=>o({type:"SET_FIELD",field:"merchantLocationKey",value:ee.target.value}),className:"h-8 w-full rounded border px-2 text-sm dark:border-gray-700 dark:bg-gray-900",children:[{merchantLocationKey:"",name:" Select "},...z].map(ee=>s.jsx("option",{value:ee.merchantLocationKey,children:ee.name?`${ee.name} (${ee.merchantLocationKey})`:ee.merchantLocationKey||" Select "},ee.merchantLocationKey||"none"))})]}),s.jsx("div",{className:"mt-2 text-[11px] opacity-60",children:"These are your eBay Business Policies & Inventory Locations."})]}),s.jsxs("section",{className:"rounded-lg border p-4 dark:border-gray-700",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold opacity-80",children:"SELL SIMILAR"}),s.jsx("div",{className:"mb-2 text-[11px] opacity-70",children:"Paste an eBay listing URL or ID to prefill details."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(we,{value:T,onChange:ee=>o({type:"SET_FIELD",field:"importSource",value:ee.target.value}),placeholder:"https://www.ebay.com/itm/123456789012",className:"h-8 text-xs"}),s.jsx(V,{disabled:U,onClick:Xe,className:"h-8 text-xs px-2",children:U?"Importing":"Import"})]})]})]})]}),s.jsxs("section",{className:"border-t p-4 dark:border-gray-700 space-y-3 flex-shrink-0",children:[M&&s.jsx("div",{className:"rounded border border-rose-200 bg-rose-50 p-3 text-sm text-rose-700 dark:border-rose-800 dark:bg-rose-900/30 dark:text-rose-200",children:M}),(()=>{const ee=dv(F),X=!!(ce!=null&&ce.immediatePay);return ee&&X?s.jsx("div",{className:"rounded border border-amber-300 bg-amber-50 p-2 text-[12px] text-amber-900 dark:border-amber-800 dark:bg-amber-900/30 dark:text-amber-200",children:"**Policy Conflict**: Local Pickup only + Immediate Payment is not allowed. Check the **Policies** section."}):null})(),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-[11px] opacity-70",children:["Listing to: ",s.jsx("span",{className:"font-medium",children:nl})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{variant:"outline",onClick:()=>t(!1),disabled:J,children:"Cancel"}),s.jsx(V,{onClick:We,disabled:J,children:J?"Publishing":"List it"})]})]})]})]})})}const ope="/backend";async function ipe(e){const t=await fetch(`${ope}/labels/ensure`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.text().catch(()=>"");throw new Error(`ensureLabel failed (${t.status}): ${n.slice(0,300)}`)}const r=(t.headers.get("content-type")||"").toLowerCase();if(!r.includes("application/json")){const n=await t.text().catch(()=>"");throw new Error(`Expected JSON, got ${r}: ${n.slice(0,200)}`)}return t.json()}async function td(e){const t=await ipe({productName:e.productName,msrp:e.unitPrice,price:e.ourPrice,qty:e.qty??1,synergyId:e.synergyId,prefix:e.prefix}),r=vc(t.productName||""),n=vc(t.msrpDisplay||""),a=vc(t.ourPriceDisplay||""),o=vc(t.savedDisplay||""),i=vc(t.date||""),l=vc(t.synergyId||""),c=`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Print Label</title>
  <style>
    @media print { @page { size: 4in 2.3125in; margin: 0; } html, body { margin: 0; padding: 0; } }
    body { margin: 0; padding: 0; font-family: Arial, sans-serif; }

    .label {
      position: relative; width: 4in; height: 2.3125in;
      padding: 0.10in 0.60in 0 0.60in; box-sizing: border-box; background:#fff;
    }
    .inner { position: relative; width: 2.80in; height: 2.2125in; }
    .el { position: absolute; box-sizing: border-box; overflow: hidden; }

    .product {
      left: 0.00in; top: 0.00in; width: 1.90in;
      font-size: 16px; font-weight: 700; line-height: 1.08;
      display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; white-space: normal;
    }
    .msrp { left: 0.00in; top: 0.56in; width: 2.20in; height: 0.18in; font-size: 12px; }

    .priceStack { left: 1.80in; top: 0.02in; width: 0.85in; height: 0.52in; text-align:right; }
    .priceStack .lbl { font-size: 11px; letter-spacing: 0.4px; font-weight:700; }
    .priceStack .val { font-size: 40px; font-weight: 800; line-height: 1.0; margin-top: 2px; white-space: nowrap; display:block; }

    .logo { left: 2.62in; top: 0.08in; width: 0.60in; height: 0.60in; }
    .logo img { width: 100%; height: 100%; object-fit: contain; display: block; }

    .date { left: 2.37in; top: 0.90in; width: 0.80in; height: 0.22in; font-size: 9px; text-align: right; }

    /* Barcode box exactly as in your working HTML */
    .barcode { left: -0.035in; top: 0.7in; width: 2.80in; height: 1.10in; }
    .barcode img { width: 100% !important; height: 100% !important; object-fit: contain; display: block; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"><\/script>
</head>
<body>
  <div class="label">
    <div class="inner">
      <div class="el product">${r}</div>
      <div class="el msrp">MSRP: $${n}${o?" | <b>YOU SAVED $"+o+"!</b>":""}</div>

      <div class="el priceStack">
        <div class="lbl">OUR&nbsp;PRICE</div>
        <div class="val" id="priceVal">$${a}</div>
      </div>

      <div class="el logo">
        <img src="https://images.squarespace-cdn.com/content/v1/65b9315703a0c658ffb46c19/8d1b66b8-e3b1-41f0-9ebb-a116c5a9712e/Synergy-logo-icon.png" alt="Logo" />
      </div>

      <div class="el date">${i}</div>

      <div class="el barcode"><img id="barcodeImg" alt="barcode"></div>
    </div>
  </div>

  <script>
    (function renderBarcode(){
      try {
        var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        JsBarcode(svg, ${JSON.stringify(l)}, {
          format: 'CODE128',
          width: 2.4,
          height: 120,
          displayValue: false,
          textMargin: 10,
          margin: 0,
          lineColor: '#000'
        });
        var xml = new XMLSerializer().serializeToString(svg);
        var url = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(xml);
        document.getElementById('barcodeImg').src = url;
      } catch(e) { console.error('Barcode render failed:', e); }
    })();

    (function fitPrice(){
      var el = document.getElementById('priceVal');
      if(!el) return;
      var box = el.parentElement, size = 40;
      el.style.whiteSpace='nowrap'; el.style.display='block'; el.style.fontSize=size+'px';
      for (var i=0;i<80;i++){
        if (el.scrollWidth<=box.clientWidth && el.scrollHeight<=box.clientHeight) break;
        size-=1; if (size<20){ size=20; break; } el.style.fontSize=size+'px';
      }
    })();

    function go(){ try{ window.focus(); }catch(_){} window.print(); setTimeout(function(){ try{ window.close(); }catch(_){}} , 300); }
    if (document.readyState === 'complete') setTimeout(go, 60);
    else window.addEventListener('load', function(){ setTimeout(go, 60); });
  <\/script>
</body>
</html>`,d=new Blob([c],{type:"text/html"}),f=URL.createObjectURL(d);window.open(f,"_blank","width=760,height=600,noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(f),5e3)}function vc(e){return String(e).replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t])}function lpe({open:e,onOpenChange:t,row:r,onConfirm:n}){var w,j;const[a,o]=u.useState(r.productName||""),[i,l]=u.useState(((w=r.price)==null?void 0:w.toString())||""),[c,d]=u.useState(((j=r.msrp)==null?void 0:j.toString())||""),[f,h]=u.useState(!1),[m,p]=u.useState(!1),g=N=>{const S=parseFloat(N);return isNaN(S)?"0.00":S.toFixed(2)},x=()=>{const N=parseFloat(c),S=parseFloat(i);return!isNaN(N)&&!isNaN(S)&&N>S?(N-S).toFixed(0):null};r.grade!=="A"&&r.grade!=="B"&&(r.testerComment||`${r.grade}`);const b=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"});if(u.useEffect(()=>{var N,S;p(!0),e&&(o(r.productName||""),l(((N=r.price)==null?void 0:N.toString())||""),d(((S=r.msrp)==null?void 0:S.toString())||""),h(!1))},[e,r]),!e||!m)return null;const y=async()=>{const N=parseFloat(i)||0,S=parseFloat(c)||0,k=a.trim()||r.productName||"Item";h(!0);try{await td({productName:k,unitPrice:S.toString(),ourPrice:N.toString(),date:b,qty:1,synergyId:r.synergyId,prefix:void 0}),setTimeout(()=>{n(N,S,k),h(!1),t(!1)},1e3)}catch(_){console.error("Print failed",_),h(!1),alert("Failed to generate label.")}},v=x();return Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-zinc-800 overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-200 min-h-[600px]",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>t(!1),className:"absolute top-4 right-4 z-20 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full",children:s.jsx(Mt,{className:"h-5 w-5 text-gray-500"})}),s.jsxs("div",{className:"p-8 flex flex-col h-full",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center text-orange-600 dark:text-orange-500 shadow-sm",children:s.jsx(bo,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Prepare for In-Store"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Edit details and print label. This will unlink the item from eBay."})]})]})}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsxs("div",{className:"lg:col-span-5 flex flex-col gap-5",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-800/50 p-4 rounded-xl border border-gray-200 dark:border-zinc-700 space-y-2 focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(vs,{className:"h-3 w-3"})," Product Name"]}),s.jsx(we,{value:a,onChange:N=>o(N.target.value),className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-700 font-medium",placeholder:"Enter product title..."})]}),s.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-2 items-center",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-800/50 p-4 rounded-xl border border-gray-200 dark:border-zinc-700 space-y-2 focus-within:ring-2 focus-within:ring-gray-500/20 focus-within:border-gray-500 transition-all",children:[s.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx($s,{className:"h-3 w-3"})," MSRP"]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-medium",children:"$"}),s.jsx("input",{type:"number",value:c,onChange:N=>d(N.target.value),className:"w-full bg-white dark:bg-zinc-900 pl-7 pr-3 py-2 rounded-lg border border-gray-200 dark:border-zinc-700 text-lg font-semibold focus:outline-none",placeholder:"0.00"})]})]}),s.jsx("div",{className:"text-gray-300 dark:text-zinc-600",children:s.jsx(Ld,{className:"h-5 w-5"})}),s.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/10 p-4 rounded-xl border border-orange-200 dark:border-orange-800/50 space-y-2 focus-within:ring-2 focus-within:ring-orange-500/40 focus-within:border-orange-500 transition-all shadow-sm",children:[s.jsxs("label",{className:"text-xs font-bold text-orange-700 dark:text-orange-400 uppercase tracking-wider flex items-center gap-2",children:[s.jsx($s,{className:"h-3 w-3"})," Our Price"]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-orange-400 font-bold text-xl",children:"$"}),s.jsx("input",{type:"number",value:i,onChange:N=>l(N.target.value),className:"w-full bg-white dark:bg-zinc-900 pl-8 pr-3 py-2 rounded-lg border border-orange-200 dark:border-orange-800 text-2xl font-bold text-orange-600 dark:text-orange-400 focus:outline-none",placeholder:"0.00"})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-7 flex flex-col items-center justify-center bg-gray-100 dark:bg-black/20 rounded-xl border border-dashed border-gray-300 dark:border-zinc-700 p-8 relative",children:[s.jsx("div",{className:"absolute top-3 left-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Live Print Preview"}),s.jsxs("div",{className:"bg-white text-black relative shadow-2xl overflow-hidden select-none",style:{width:"400px",height:"231.25px",boxSizing:"border-box"},children:[s.jsx("div",{className:"absolute leading-tight font-bold",style:{top:"4%",left:"4%",width:"55%",fontSize:"16px",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:a||"Product Name"}),s.jsxs("div",{className:"absolute text-gray-700",style:{top:"26%",left:"4%",fontSize:"13px"},children:["MSRP: $",g(c),v&&s.jsxs("span",{className:"ml-1 font-bold",children:["| YOU SAVED $",v,"!"]})]}),s.jsxs("div",{className:"absolute text-right",style:{top:"2%",right:"28%",width:"25%"},children:[s.jsx("div",{className:"text-[11px] font-bold tracking-wide",children:"OUR PRICE"}),s.jsxs("div",{className:"font-extrabold leading-none",style:{fontSize:"42px"},children:["$",g(i).split(".")[0],s.jsxs("span",{style:{fontSize:"24px",verticalAlign:"top"},children:[".",g(i).split(".")[1]]})]})]}),s.jsx("img",{src:"https://images.squarespace-cdn.com/content/v1/65b9315703a0c658ffb46c19/8d1b66b8-e3b1-41f0-9ebb-a116c5a9712e/Synergy-logo-icon.png",alt:"Logo",className:"absolute opacity-90",style:{top:"4%",right:"4%",width:"60px",height:"auto"}}),s.jsxs("div",{className:"absolute flex items-end justify-center",style:{top:"35%",left:"0",width:"80%",height:"55%",paddingLeft:"15px"},children:[s.jsx("div",{className:"w-full h-full flex items-end justify-between overflow-hidden opacity-80",children:Array.from({length:40}).map((N,S)=>s.jsx("div",{style:{width:`${Math.random()*6+2}px`,height:"100%",backgroundColor:"black"}},S))}),s.jsx("div",{className:"absolute bottom-[-15px] text-[10px] font-mono bg-white px-2",children:r.synergyId})]}),s.jsx("div",{className:"absolute text-right text-gray-500",style:{bottom:"8%",right:"5%",fontSize:"10px"},children:b})]}),s.jsxs("div",{className:"mt-6 text-[11px] text-gray-400 flex items-center gap-2",children:[s.jsx(bn,{className:"h-3 w-3"}),'Preview matches 4" x 2.31" label output']})]})]}),s.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-100 dark:border-zinc-800 flex justify-between items-center",children:[s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsx(Is,{className:"h-3 w-3 inline mr-1"}),"Status will change to ",s.jsx("strong",{children:"IN STORE"})," immediately after printing."]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(V,{variant:"ghost",onClick:()=>t(!1),disabled:f,children:"Cancel"}),s.jsx(V,{onClick:y,disabled:f||!i||parseFloat(i)<=0,className:"bg-orange-600 hover:bg-orange-700 text-white min-w-[180px] shadow-lg shadow-orange-900/20",children:f?s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"h-4 w-4 mr-2 animate-spin"})," Printing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bn,{className:"h-4 w-4 mr-2"})," Print & Confirm"]})})]})]})]})]})}),document.body)}const yE=3.5,vE=1.925,cpe=.97,dpe=async e=>new Promise(t=>{var d;const r=document.createElement("iframe");r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="1px",r.style.height="3px",r.style.opacity="0",r.style.border="none",r.style.pointerEvents="none",r.style.zIndex="-1000",document.body.appendChild(r);const n=(d=r.contentWindow)==null?void 0:d.document;if(!n)return alert("Printing failed: Could not create print context."),document.body.removeChild(r),t(!1);const a=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"}),o=(e.productName||"").replace(/"/g,"&quot;"),i=(e.notes||"").replace(/"/g,"&quot;"),l=(e.synergyId||"").replace(/"/g,"&quot;"),c=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Print Label</title>
        <style>
          @page {
            size: ${yE}in ${vE}in;
            margin: 0;
          }

          html, body {
            width: ${yE}in;
            height: ${vE}in;
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: "Arial", sans-serif;
            background: white;
            color: black;
          }

          .scale-wrapper {
            width: 100%;
            height: 100%;
            transform: scale(${cpe});
            transform-origin: top left;
            display: flex;
          }

          .label-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            box-sizing: border-box;
            padding: 0.06in 0.08in 0.06in 0.32in;
          }

          /* HEADER: just the date on the right now */
          .header {
            display: flex;
            justify-content: flex-end; /* no left text anymore */
            align-items: flex-end;
            border-bottom: 1px solid #000;
            padding-bottom: 0;
            margin-bottom: 3px;
            line-height: 1;
            margin-top: 0;
          }

          .date {
            font-size: 8px;
            font-family: monospace;
            font-weight: bold;
          }

          .main-content {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            overflow: hidden;
            padding-top: 1px;
            margin-bottom: 4px;
          }

          /* Big product name */
          .product-name {
            font-size: 12px;
            font-weight: 900;
            line-height: 1.05;
            max-height: 2.2em;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            margin-bottom: 2px;
          }

          /* Charger / secondary line */
          .specs {
            font-size: 8px;
            font-weight: 600;
            text-transform: uppercase;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            line-height: 1.1;
            color: #333;
            opacity: 0.9;
            margin-top: 1px;
          }

          .footer {
            border-top: 1px solid #000;
            padding-top: 1px;
            padding-bottom: 2px;
            line-height: 1;
          }

          .sku-row {
            display: flex;
            align-items: baseline;
            justify-content: flex-start;
            gap: 4px;
          }

          /*  BIG LABEL SKU ONLY  */
          .sku-text {
            flex: 1;
            font-size: 27px;
            font-weight: 900;
            letter-spacing: 0.6px;
            text-transform: uppercase;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
          }

          @media print {
            body {
              -webkit-print-color-adjust: exact;
              print-color-adjust: exact;
            }
          }
        </style>
      </head>
      <body>
        <div class="scale-wrapper">
          <div class="label-container">
            <div class="header">
              <span class="date">${a}</span>
            </div>

            <div class="main-content">
              <div class="product-name">${o}</div>
              ${i?`<div class="specs">${i}</div>`:""}
            </div>

            <div class="footer">
              <div class="sku-row">
                <span class="sku-text">${l}</span>
              </div>
            </div>
          </div>
        </div>
      </body>
      </html>
    `;n.open(),n.write(c),n.close(),r.onload=()=>{setTimeout(()=>{var f,h;try{(f=r.contentWindow)==null||f.focus(),(h=r.contentWindow)==null||h.print()}catch(m){console.error("Print error:",m)}setTimeout(()=>{document.body.contains(r)&&document.body.removeChild(r),t(!0)},2e3)},100)}});function upe({open:e,onOpenChange:t,row:r}){const[n,a]=u.useState(!1),[o,i]=u.useState(!1),[l,c]=u.useState(!1),[d,f]=u.useState(!1),[h,m]=u.useState(!1),[p,g]=u.useState("USBC"),[x,b]=u.useState(!1),[y,v]=u.useState(""),[w,j]=u.useState(""),[N,S]=u.useState(""),k=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"}),_=T=>{if(!T)return{id:"",loc:""};const A=T.indexOf("-");if(A===-1)return{id:T,loc:""};const W=T.substring(0,A).trim(),P=T.substring(A+1).trim();return{id:W,loc:P}};u.useEffect(()=>{if(c(!0),e){v(r.productName||"");const{id:T,loc:A}=_(r.synergyId||"");j(T),S(A),m(!1),g("USBC"),f(!1),b(!1),r.ebayItemUrl&&C()}},[e,r]),u.useEffect(()=>{const T="65W USB-C CHARGER",A="65W SURFACE CHARGER",W=p==="SURFACE"?A:T;S(P=>{let te=P.replace(` | ${T}`,"").replace(T,"").replace(` | ${A}`,"").replace(A,"").trim();return h?te?`${te} | ${W}`:W:te})},[h,p]),u.useEffect(()=>{(async()=>{if(d&&w){const A=w.split(" ");if(A.length>0){const W=A[0];try{a(!0);const P=await fetch(`${Kt}/prefix/${W}/peek`);if(P.ok){const te=await P.text();j(te)}}catch(P){console.error("Failed to peek next ID",P)}finally{a(!1)}}}else if(!d&&e){const{id:A}=_(r.synergyId||"");j(A)}})()},[d]);const C=async()=>{if(r.synergyId){a(!0);try{const T=await fetch(`${Kt}/integrations/ebay/refresh-sold-when/${r.synergyId}?days=720`,{method:"POST"});if(T.ok){const A=await T.json();if(A.sku&&A.sku!=="null"){const{id:W,loc:P}=_(A.sku);j(W),S(te=>{const K=te.includes("CHARGER")?te.includes("SURFACE")?" | 65W SURFACE CHARGER":" | 65W USB-C CHARGER":"";return P+K})}A.title&&A.title!=="null"&&v(A.title)}}catch(T){console.error("eBay sync failed",T)}finally{a(!1)}}},E=async()=>{if(i(!0),d){const A=w.split(" ");if(A.length>0)try{await fetch(`${Kt}/prefix/${A[0]}/take`,{method:"POST"})}catch(W){console.error("Failed to reserve ID",W)}}await dpe({synergyId:w,productName:y,notes:N})?t(!1):alert("Print failed. Check console."),i(!1)};return!e||!l?null:Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-zinc-800 overflow-hidden flex flex-col relative animate-in zoom-in-95 duration-200 min-h-[600px]",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>t(!1),className:"absolute top-4 right-4 z-20 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full",children:s.jsx(Mt,{className:"h-5 w-5 text-gray-500"})}),s.jsxs("div",{className:"p-8 flex flex-col h-full",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-500 shadow-sm",children:s.jsx(bn,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Print Label"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Standard inventory label configuration"})]})]})}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsxs("div",{className:"lg:col-span-5 flex flex-col gap-5",children:[s.jsx("div",{className:`p-3 rounded-lg border flex items-center gap-3 ${r.ebayItemUrl?"bg-emerald-50 border-emerald-200 text-emerald-800 dark:bg-emerald-900/20 dark:border-emerald-800 dark:text-emerald-300":"bg-gray-50 border-gray-200 text-gray-600 dark:bg-zinc-800/50 dark:border-zinc-700 dark:text-gray-400"}`,children:r.ebayItemUrl?s.jsxs(s.Fragment,{children:[s.jsx(rg,{className:"h-4 w-4 shrink-0"}),s.jsx("div",{className:"flex-1 text-xs font-medium",children:"Linked to eBay Listing"}),s.jsxs(V,{variant:"ghost",size:"sm",className:"h-6 px-2 text-[10px] hover:bg-emerald-100 dark:hover:bg-emerald-800",onClick:C,disabled:n,children:[n?s.jsx($t,{className:"h-3 w-3 animate-spin"}):s.jsx(hi,{className:"h-3 w-3 mr-1"}),"Sync"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(fF,{className:"h-4 w-4 shrink-0"}),s.jsx("div",{className:"flex-1 text-xs font-medium",children:"No eBay Link Detected"})]})}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(Ke,{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(vs,{className:"h-3 w-3"})," Product Name"]}),s.jsx(we,{value:y,onChange:T=>v(T.target.value),className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-700 font-medium",placeholder:"Product Name"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(Ke,{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx($s,{className:"h-3 w-3"})," SKU / ID"]}),s.jsxs("div",{className:"relative",children:[s.jsx(we,{value:w,onChange:T=>j(T.target.value),className:`bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-700 font-mono ${d?"text-blue-600 dark:text-blue-400 border-blue-200":""}`,placeholder:"SKU"}),d&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx("span",{className:"flex h-2 w-2 rounded-full bg-blue-500 animate-pulse"})})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Ke,{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Label Specs / Subtitle (Location)"}),s.jsx(we,{value:N,onChange:T=>S(T.target.value),className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-700 text-xs",placeholder:"Location or Specs..."})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2",children:[s.jsxs("div",{className:`flex flex-col gap-2 p-2.5 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${d?"bg-blue-50 border-blue-200 dark:bg-blue-900/20":"bg-white border-gray-200 dark:bg-zinc-900 dark:border-zinc-700"}`,onClick:()=>f(!d),children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(qP,{className:`h-4 w-4 ${d?"text-blue-500":"text-gray-400"}`}),s.jsx(Ba,{checked:d,onCheckedChange:f,className:"scale-75 origin-right"})]}),s.jsx("span",{className:"text-[10px] font-medium text-gray-600 dark:text-gray-300",children:"Increase SKU"})]}),s.jsxs("div",{className:`flex flex-col gap-2 p-2.5 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${h?"bg-amber-50 border-amber-200 dark:bg-amber-900/20":"bg-white border-gray-200 dark:bg-zinc-900 dark:border-zinc-700"}`,children:[s.jsxs("div",{className:"flex justify-between items-center",onClick:()=>m(!h),children:[s.jsx(mh,{className:`h-4 w-4 ${h?"text-amber-500":"text-gray-400"}`}),s.jsx(Ba,{checked:h,onCheckedChange:m,className:"scale-75 origin-right"})]}),h?s.jsxs("select",{className:"mt-1 h-5 text-[10px] bg-transparent border-none p-0 font-medium text-amber-700 focus:ring-0 cursor-pointer",value:p,onChange:T=>g(T.target.value),onClick:T=>T.stopPropagation(),children:[s.jsx("option",{value:"USBC",children:"USB-C (65W)"}),s.jsx("option",{value:"SURFACE",children:"Surface (65W)"})]}):s.jsx("span",{className:"text-[10px] font-medium text-gray-600 dark:text-gray-300",onClick:()=>m(!0),children:"Add Charger"})]}),s.jsxs("div",{className:`flex flex-col gap-2 p-2.5 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${x?"bg-emerald-50 border-emerald-200 dark:bg-emerald-900/20":"bg-white border-gray-200 dark:bg-zinc-900 dark:border-zinc-700"}`,onClick:()=>b(!x),children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(yo,{className:`h-4 w-4 ${x?"text-emerald-500":"text-gray-400"}`}),s.jsx(Ba,{checked:x,onCheckedChange:b,className:"scale-75 origin-right"})]}),s.jsx("span",{className:"text-[10px] font-medium text-gray-600 dark:text-gray-300",children:"Add Stock"})]})]})]}),s.jsxs("div",{className:"lg:col-span-7 flex flex-col items-center justify-center bg-gray-100 dark:bg-black/20 rounded-xl border border-dashed border-gray-300 dark:border-zinc-700 p-8 relative",children:[s.jsx("div",{className:"absolute top-3 left-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Label Preview"}),s.jsxs("div",{className:"bg-white text-black relative shadow-xl overflow-hidden select-none transition-transform hover:scale-[1.02] duration-300",style:{width:"420px",height:"232px",padding:"10px 40px",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[s.jsx("div",{className:"w-full flex justify-end border-b border-black pb-1 mb-1",children:s.jsx("span",{className:"font-mono text-[10px] font-bold",children:k})}),s.jsxs("div",{className:"flex-1 flex flex-col pt-1",children:[s.jsx("div",{className:"font-black leading-[1.05] mb-1",style:{fontSize:"20px",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:y||"Product Name"}),N&&s.jsx("div",{className:"text-[10px] font-bold uppercase text-gray-800 tracking-wide",children:N})]}),s.jsx("div",{className:"border-t border-black pt-1 pb-1",children:s.jsx("div",{className:"text-[44px] font-black tracking-tight leading-none overflow-hidden whitespace-nowrap text-ellipsis uppercase",children:w||"SKU-00000"})})]}),s.jsxs("div",{className:"mt-6 text-[11px] text-gray-400 flex items-center gap-2",children:[s.jsx(bn,{className:"h-3 w-3"}),'Matches DYMO 30252 Layout (3.5" x 1.9")']})]})]}),s.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-100 dark:border-zinc-800 flex justify-end gap-3",children:[s.jsx(V,{variant:"ghost",onClick:()=>t(!1),disabled:o,children:"Cancel"}),s.jsx(V,{onClick:E,disabled:o||n,className:"bg-blue-600 hover:bg-blue-700 text-white min-w-[150px] shadow-lg shadow-blue-900/20",children:o?s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"h-4 w-4 mr-2 animate-spin"})," Printing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bn,{className:"h-4 w-4 mr-2"})," Print Label"]})})]})]})]})}),document.body)}const bE={A:"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/40 dark:text-emerald-300 dark:border-emerald-800",B:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/40 dark:text-blue-300 dark:border-blue-800",C:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/40 dark:text-amber-300 dark:border-amber-800",D:"bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-900/40 dark:text-rose-300 dark:border-rose-800",DEFAULT:"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700"};function fpe(e){const t=String(e||"").toUpperCase();return bE[t]||bE.DEFAULT}function wE({size:e=12}){return s.jsx("div",{className:"animate-spin rounded-full border-2 border-current border-t-transparent opacity-70",style:{width:e,height:e}})}const Tp=({children:e})=>s.jsx("div",{className:"text-[9px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-1",children:e}),R1=({children:e,className:t})=>s.jsx("div",{className:se("text-sm font-bold text-gray-900 dark:text-gray-100",t),children:e}),hpe=e=>new Promise(t=>setTimeout(t,e));async function D1(e,t,r=0){const n=await fetch(e,t);if((n.status===429||n.status>=500)&&r<2)return await hpe(800*(r+1)),D1(e,t,r+1);const a=await n.text();if(!n.ok)throw new Error(a||`${n.status} ${n.statusText}`);try{return JSON.parse(a)}catch{return a}}function mpe(e,t="Unassigned"){if(!e)return t;if(e.includes("-")){const r=e.split("-");return r[r.length-1].trim()||t}return t}function ppe(e){if(!e)return null;try{const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);if(n<60)return"just now";const a=Math.floor(n/60);if(a<60)return`${a}m ago`;const o=Math.floor(a/60);if(o<24)return`${o}h ago`;const i=Math.floor(o/24);if(i<30)return`${i}d ago`;const l=Math.floor(i/30);return l<12?`${l}mo ago`:`${Math.floor(l/12)}y ago`}catch{return null}}function gpe({open:e,onClose:t,synergyId:r,message:n="Listing Posted!",type:a="success"}){return u.useEffect(()=>{if(e&&a!=="loading"){const o=setTimeout(t,3e3);return()=>clearTimeout(o)}},[e,t,a]),e?Zt.createPortal(s.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[9999] animate-in slide-in-from-bottom-5 fade-in duration-300 pointer-events-none",children:s.jsxs("div",{className:se("flex items-center gap-3 pl-3 pr-4 py-2.5 rounded-full shadow-2xl border pointer-events-auto",a==="loading"?"bg-blue-600 text-white border-blue-700":"bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 border-zinc-700 dark:border-zinc-200"),children:[s.jsx("div",{className:se("flex items-center justify-center h-8 w-8 rounded-full shadow-sm",a==="loading"?"bg-blue-500 text-white":"bg-emerald-500 text-white"),children:a==="loading"?s.jsx($t,{className:"h-4 w-4 animate-spin"}):s.jsx(n4,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-xs font-bold leading-none",children:n}),s.jsx("span",{className:se("text-[10px] font-mono tracking-wide leading-none",a==="loading"?"text-blue-100":"text-zinc-400 dark:text-zinc-500"),children:r})]}),a!=="loading"&&s.jsx("button",{onClick:t,className:"ml-2 hover:text-white dark:hover:text-black text-zinc-400 dark:text-zinc-500 transition-colors",children:s.jsx(Mt,{className:"h-3.5 w-3.5"})})]})}),document.body):null}function jE({target:e,onCancel:t,onConfirm:r,type:n}){if(!e)return null;const a=n==="remove_store";return Zt.createPortal(s.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"w-[400px] bg-white dark:bg-zinc-900 rounded-xl shadow-2xl border border-gray-200 dark:border-zinc-800 p-6 scale-100 animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:s.jsx(Is,{className:"h-5 w-5 text-amber-600 dark:text-amber-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:a?"Remove from In-Store?":"Confirm Unpost"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:a?`Are you sure you want to pull ${e.productName} from the store? This will set status back to TESTED.`:`Are you sure you want to mark ${e.productName} as not posted? This will revert its status.`})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(V,{variant:"ghost",onClick:t,children:"Cancel"}),s.jsx(V,{variant:"default",className:"bg-amber-600 hover:bg-amber-700 text-white",onClick:r,children:a?"Yes, Remove":"Yes, Unpost"})]})]})}),document.body)}function xpe({row:e,onRowUpdate:t,activeEditorId:r,setActiveEditorId:n,disabled:a}){const[o,i]=u.useState(!1),[l,c]=u.useState(e.ebayItemUrl??""),[d,f]=u.useState(!1),[h,m]=u.useState(null),p=u.useRef(null),[g,x]=u.useState(null);u.useEffect(()=>{if(h){const w=setTimeout(()=>m(null),2e3);return()=>clearTimeout(w)}},[h]),u.useEffect(()=>{var w;if(r===e.synergyId){const j=(w=p.current)==null?void 0:w.getBoundingClientRect();j&&x({top:j.bottom+6,left:j.left}),i(!0)}else i(!1)},[r,e.synergyId]),u.useEffect(()=>{c(e.ebayItemUrl??"")},[e.ebayItemUrl]);const b=async w=>{var j;if(!d){f(!0);try{const N=((w==null?void 0:w.url)??l??e.ebayItemUrl??"").trim();if(!N)throw new Error("URL required");N!==(e.ebayItemUrl??"")&&(t==null||t(e.synergyId,{ebayItemUrl:N}),await AA(e.synergyId,{ebayItemUrl:N})),await D1(`${Kt}/integrations/ebay/associate-url`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({synergyId:e.synergyId,ebayUrl:N})});const S=await D1(`${Kt}/integrations/ebay/refresh-sold-when/${e.synergyId}?days=720`,{method:"POST"});t==null||t(e.synergyId,{ebayItemUrl:((j=S==null?void 0:S.link)==null?void 0:j.ebay_url)||(S==null?void 0:S.ebay_url)||N,ebaySoldCount:typeof(S==null?void 0:S.soldCount)=="number"?S.soldCount:void 0,ebayLastSoldAt:(S==null?void 0:S.lastSoldAt)||(S==null?void 0:S.last_sold_at),ebayListingStatus:S==null?void 0:S.listingStatus,ebayPrice:typeof(S==null?void 0:S.price)=="number"?S.price:void 0,ebayThumbnail:S==null?void 0:S.thumbnail,ebaySku:S==null?void 0:S.sku}),m({kind:"ok",text:"Synced"}),w!=null&&w.closeAfter&&(n==null||n(null))}catch(N){m({kind:"err",text:(N==null?void 0:N.message)||"Failed"})}finally{f(!1)}}},y=()=>{a||(e.ebayItemUrl?b():r===e.synergyId?n==null||n(null):n==null||n(e.synergyId))},v=!!e.ebayItemUrl;return s.jsxs(s.Fragment,{children:[s.jsxs(V,{ref:p,variant:"outline",size:"sm",onClick:y,disabled:a||d,className:se("h-8 rounded-md border-blue-200 text-blue-600 bg-white hover:bg-blue-50 px-3 gap-2 font-medium text-xs shadow-sm transition-all","dark:bg-zinc-800 dark:border-blue-900 dark:text-blue-400 dark:hover:bg-blue-900/30",d&&"opacity-70",!v&&"text-blue-500 dark:text-blue-400",a&&"opacity-50 grayscale cursor-not-allowed hover:bg-white dark:hover:bg-zinc-800 border-gray-200 text-gray-400 dark:border-zinc-700 dark:text-zinc-600"),children:[d?s.jsx(wE,{}):v?s.jsx(a0,{className:"h-3.5 w-3.5"}):s.jsx(rg,{className:"h-3.5 w-3.5"}),v?"Sync Data":"Link eBay"]}),o&&!a&&g&&Zt.createPortal(s.jsxs("div",{className:"fixed z-[9999] w-[320px] rounded-lg border bg-white dark:bg-zinc-800 dark:border-zinc-700 p-3 shadow-xl animate-in fade-in zoom-in-95 duration-100",style:{top:g.top,left:g.left},children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(we,{value:l,onChange:w=>c(w.target.value),placeholder:"https://ebay.com/itm/...",className:"h-9 text-xs dark:bg-zinc-900 dark:border-zinc-700",onKeyDown:w=>w.key==="Enter"&&b({url:l,closeAfter:!0})}),s.jsx(V,{size:"icon",className:"h-9 w-9 shrink-0",onClick:()=>b({url:l,closeAfter:!0}),disabled:d,children:d?s.jsx(wE,{}):s.jsx(tr,{className:"h-4 w-4"})})]}),h&&s.jsx("div",{className:se("mt-2 text-[10px] font-medium text-center",h.kind==="err"?"text-red-500":"text-emerald-500"),children:h.text})]}),document.body)]})}function ype({productName:e,listedPrice:t,disabled:r,onChange:n,lockedByEbay:a,estPrice:o}){const[i,l]=u.useState(!1),[c,d]=u.useState(null),[f,h]=u.useState((t==null?void 0:t.toString())??""),m=r&&!a;u.useEffect(()=>{t!=null?h(t.toString()):h("")},[t]);const p=async()=>{l(!0);try{const x=await W2(e,{fixed:!0,condition:"USED",currency:"USD",limit:100});typeof x.avg=="number"&&d(x.avg)}catch{}l(!1)},g=x=>{let b=x.target.value;const y=b.replace(/,/g,".");h(b),isNaN(parseFloat(y))?y===""&&n(null):n(parseFloat(y))};return s.jsxs("div",{className:"flex items-start gap-5",children:[s.jsxs("div",{children:[s.jsx(Tp,{children:"Unit Cost"}),s.jsx(R1,{children:o?`$${Number(o).toFixed(2)}`:""})]}),s.jsxs("div",{children:[s.jsx(Tp,{children:"Listed Price"}),s.jsxs("div",{className:"relative w-[120px]",children:[s.jsx("div",{className:se("absolute top-0 bottom-0 flex items-center justify-center pointer-events-none z-10",m?"left-0":"left-3"),children:s.jsx("span",{className:se("text-sm font-bold transition-colors",a?"text-blue-600 dark:text-blue-300":"text-gray-400 dark:text-gray-500"),children:"$"})}),s.jsx(we,{type:"text",inputMode:"decimal",placeholder:"0.00",className:se("h-9 pl-8 pr-3 text-sm font-bold tabular-nums transition-all rounded-md","border-blue-100 bg-blue-50/20 focus:bg-white focus:ring-1 focus:ring-indigo-500","dark:border-blue-900/40 dark:bg-blue-900/10 dark:text-gray-100 dark:focus:bg-zinc-900",m&&"bg-transparent border-transparent px-0 text-gray-900 dark:text-gray-100 font-bold h-auto shadow-none cursor-default pl-4",a&&"bg-blue-50 text-blue-700 border-blue-200 pl-8 dark:bg-blue-950/40 dark:text-blue-200 dark:border-blue-800"),value:f,onChange:g,onFocus:x=>x.target.select(),disabled:r}),a&&s.jsx(Nl,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-3 w-3 text-blue-400 dark:text-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx(Tp,{children:"Market Avg"}),s.jsxs("div",{className:"flex items-center gap-1.5 h-9",children:[s.jsx(R1,{children:c?`$${c.toFixed(2)}`:""}),s.jsx("button",{onClick:p,disabled:i,className:"text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors p-1",children:s.jsx(a0,{className:se("h-3 w-3",i&&"animate-spin")})})]})]})]})}function vpe({rows:e,visibleCount:t,onLoadMore:r,onRowUpdate:n,isDarkMode:a=!1,user:o}){const i=u.useRef(null),[l,c]=u.useState(null),[d,f]=u.useState(null),[h,m]=u.useState(null),[p,g]=u.useState(null),[x,b]=u.useState(null),[y,v]=u.useState(null),[w,j]=u.useState("Listing Posted!"),[N,S]=u.useState("success"),[k,_]=u.useState(null),[C,E]=u.useState(null),T=u.useMemo(()=>e.slice(0,t),[e,t]);u.useEffect(()=>{const P=i.current;if(!P)return;const te=new IntersectionObserver(le=>le[0].isIntersecting&&r(),{rootMargin:"400px"});return te.observe(P),()=>te.disconnect()},[r]);const A=async P=>{if(!P.productName){alert("Product name is missing. Cannot fetch UPC.");return}j("Searching for UPC..."),S("loading"),v(P.synergyId);try{const te=await fetch(`${Kt}/ai/find-upc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_name:P.productName})});if(!te.ok)throw new Error("Search failed");const le=await te.json();le.upc?(P.lineId&&await fetch(`${Kt}/pos/lines/${P.lineId}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({upc:le.upc})}),n==null||n(P.synergyId,{upc:le.upc}),j(`Found UPC: ${le.upc}`),S("success")):(v(null),alert("AI could not find a confident UPC in search results."))}catch(te){console.error(te),v(null),alert("Error fetching UPC. Please check backend connection.")}},W=P=>P==="Completed"?"Ended":P;return s.jsxs("div",{className:"pb-24 space-y-3 px-1 min-h-screen bg-gray-50/30 dark:bg-black/20",children:[s.jsx(gpe,{open:!!y,synergyId:y||"",message:w,type:N,onClose:()=>v(null)}),s.jsx(jE,{target:k,type:"unpost",onCancel:()=>_(null),onConfirm:()=>{k&&(n==null||n(k.synergyId,{posted:!1,postedAt:null,status:"TESTED"}),_(null))}}),s.jsx(jE,{target:C,type:"remove_store",onCancel:()=>E(null),onConfirm:()=>{C&&(n==null||n(C.synergyId,{status:"TESTED"}),E(null))}}),p&&s.jsx(upe,{open:!!p,onOpenChange:P=>!P&&g(null),row:p}),T.map(P=>{var J;const te=P.status==="POSTED",le=P.status==="SOLD",K=P.status==="IN_STORE",D=!!P.ebayItemUrl,I=P.specs||{},R=P.ebaySku||P.ebay_sku,q=mpe(R,"Unassigned"),z=K?"IN STORE":q!=="Unassigned"?q:I.location||I.Location||"Unassigned",Z=P.ebayThumbnail||P.ebay_thumbnail||P.photoUrl,ce=ppe(P.ebayLastSoldAt),F=P.upc;return s.jsxs("div",{className:se("group relative bg-white dark:bg-zinc-900 border border-gray-200 dark:border-zinc-800 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-visible",(te||le||K)&&"opacity-95 dark:opacity-80"),children:[s.jsxs("div",{className:"flex flex-row p-3 gap-5 items-start",children:[s.jsx("div",{className:"w-[80px] h-[80px] shrink-0 bg-gray-50 dark:bg-zinc-800 rounded-lg border border-gray-100 dark:border-zinc-700 flex items-center justify-center mt-1 overflow-hidden",children:Z?s.jsx("img",{src:Z,alt:"",className:"w-full h-full object-contain p-1"}):s.jsx(yb,{className:"h-8 w-8 text-gray-300 dark:text-zinc-600"})}),s.jsxs("div",{className:"flex-1 flex flex-col gap-3 min-w-0",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[s.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-gray-100 leading-tight truncate max-w-[600px]",children:P.productName||"Untitled Product"}),P.grade&&s.jsxs("span",{className:se("px-1.5 py-px rounded text-[10px] font-bold uppercase tracking-wide border",fpe(P.grade)),children:["Grade ",P.grade]}),K&&s.jsx("span",{className:"px-1.5 py-px rounded text-[10px] font-bold uppercase tracking-wide border bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/40 dark:text-orange-300 dark:border-orange-800 animate-in fade-in",children:"IN STORE"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-gray-500 dark:text-gray-400 font-medium",children:[s.jsxs("span",{children:["SKU: ",s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:P.synergyId})]}),F&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-300 dark:text-zinc-600",children:""}),s.jsxs("span",{children:["UPC: ",s.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-mono",children:F})]})]}),s.jsx("span",{className:"text-gray-300 dark:text-zinc-600",children:""}),s.jsxs("span",{children:["Category: ",s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:P.categoryLbl||((J=P.category)==null?void 0:J.label)||"Uncategorized"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-start gap-x-6 gap-y-3",children:[s.jsx(ype,{productName:P.productName,estPrice:P.price,listedPrice:P.ebayPrice,disabled:te||le||D||K,lockedByEbay:D,onChange:L=>n==null?void 0:n(P.synergyId,{ebayPrice:L})}),s.jsxs("div",{children:[s.jsx(Tp,{children:"Location"}),s.jsx(R1,{className:se(K&&"text-orange-600 dark:text-orange-400 font-extrabold"),children:z})]}),(P.testerComment||Object.keys(I).length>0)&&s.jsxs("div",{className:"flex flex-wrap items-start gap-3 w-fit",children:[Object.keys(I).length>0&&s.jsxs("div",{className:"rounded-lg bg-purple-50/40 dark:bg-purple-900/20 border border-purple-100/60 dark:border-purple-800/40 p-2 w-fit",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[s.jsx(ki,{className:"h-3 w-3 text-purple-500 dark:text-purple-400"}),s.jsx("span",{className:"text-[9px] font-bold text-purple-700 dark:text-purple-300 uppercase tracking-wide",children:"Specs"})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.entries(I).map(([L,U])=>s.jsxs("div",{className:"flex items-center px-1.5 py-0.5 rounded bg-white dark:bg-zinc-800 border border-purple-100 dark:border-zinc-700 text-[10px] shadow-sm",children:[s.jsxs("span",{className:"text-purple-400 dark:text-purple-400 font-medium mr-1 capitalize",children:[L,":"]}),s.jsx("span",{className:"text-purple-900 dark:text-purple-100 font-semibold max-w-[150px] truncate",children:String(U)})]},L))})]}),P.testerComment&&s.jsxs("div",{className:"rounded-lg bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800/40 p-2 max-w-lg w-fit",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[s.jsx(y7,{className:"h-3 w-3 text-amber-600 dark:text-amber-400"}),s.jsx("span",{className:"text-[9px] font-bold text-amber-700 dark:text-amber-300 uppercase tracking-wide",children:"Tester Notes"})]}),s.jsx("p",{className:"text-[11px] text-amber-900/80 dark:text-amber-100/80 leading-snug font-medium break-words",children:P.testerComment})]})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between px-3 pb-2 pt-2 border-t border-gray-100 dark:border-zinc-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xpe,{row:P,onRowUpdate:n,activeEditorId:x,setActiveEditorId:b,disabled:K}),s.jsxs(V,{variant:"outline",size:"sm",className:"h-8 rounded-md border-purple-200 text-purple-600 bg-white hover:bg-purple-50 px-3 gap-2 text-xs font-medium shadow-sm dark:bg-zinc-800 dark:border-purple-900 dark:text-purple-400 dark:hover:bg-purple-900/20",onClick:()=>c(P.synergyId),children:[s.jsx(a4,{className:"h-3.5 w-3.5"}),"AI Assist"]}),s.jsxs(V,{variant:"outline",size:"sm",className:"h-8 rounded-md text-gray-600 border-gray-200 bg-white px-3 gap-2 text-xs font-medium hover:bg-gray-50 shadow-sm dark:bg-zinc-800 dark:border-zinc-700 dark:text-gray-300 dark:hover:bg-zinc-700",onClick:()=>{K?m(P):g(P)},children:[s.jsx(bn,{className:"h-3.5 w-3.5"}),"Print"]}),s.jsxs(V,{variant:K?"default":"outline",size:"sm",className:se("h-8 rounded-md px-3 gap-2 text-xs font-medium shadow-sm transition-all",K?"bg-orange-100 border-orange-200 text-orange-800 hover:bg-orange-200 dark:bg-orange-900/40 dark:border-orange-800 dark:text-orange-200":"text-gray-600 border-gray-200 bg-white hover:bg-gray-50 dark:bg-zinc-800 dark:border-zinc-700 dark:text-gray-300 dark:hover:bg-zinc-700"),onClick:()=>{K?E(P):m(P)},children:[s.jsx(bo,{className:se("h-3.5 w-3.5",K?"text-orange-700 dark:text-orange-200":"text-orange-500")}),K?"In-Store":"For In-Store"]}),s.jsxs(B2,{children:[s.jsx(U2,{asChild:!0,children:s.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(Gw,{className:"h-4 w-4"})})}),s.jsxs(E0,{align:"start",children:[s.jsx(T0,{children:"More Options"}),s.jsx(zf,{}),s.jsxs(ks,{onClick:()=>f(P),children:[s.jsx(s4,{className:"mr-2 h-4 w-4 text-blue-500"})," Post To Ebay"]}),!P.upc&&s.jsxs(ks,{onSelect:L=>{L.preventDefault(),A(P)},className:"text-blue-600 dark:text-blue-400",children:[s.jsx(Uw,{className:"mr-2 h-4 w-4"})," Fetch UPC (AI)"]})]})]}),s.jsx("div",{className:"h-4 w-px bg-gray-200 dark:bg-zinc-700 mx-2"}),s.jsxs("div",{className:"flex items-center gap-3 text-[11px] text-gray-500 dark:text-gray-400 font-medium",children:[ce&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ni,{className:"h-3 w-3 text-gray-400 dark:text-gray-500"})," Last sold: ",ce]}),(P.ebaySoldCount||0)>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx($s,{className:"h-3 w-3 text-gray-400 dark:text-gray-500"})," Sold: ",P.ebaySoldCount]}),P.ebayListingStatus&&s.jsx("span",{className:se("px-1.5 py-0.5 rounded text-[10px] uppercase font-bold tracking-wide",P.ebayListingStatus==="Active"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300":"bg-gray-100 text-gray-600 dark:bg-zinc-800 dark:text-gray-400"),children:W(P.ebayListingStatus)})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[!le&&!K&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:se("text-xs font-medium transition-colors",te?"text-gray-700 dark:text-gray-300":"text-gray-400 dark:text-gray-600"),children:"Posted"}),s.jsx(Ba,{className:"data-[state=checked]:bg-blue-600 scale-90",checked:te,onCheckedChange:L=>{L?n==null||n(P.synergyId,{posted:!0,postedAt:new Date().toISOString(),status:"POSTED"}):_(P)}})]}),D&&s.jsx("a",{href:P.ebayItemUrl||"#",target:"_blank",rel:"noreferrer",children:s.jsxs(V,{size:"sm",className:"h-8 bg-blue-600 hover:bg-blue-700 text-white gap-2 font-bold px-4 rounded-md shadow-sm",children:[s.jsx(ch,{className:"h-3.5 w-3.5"}),le?"View Sold Listing":"View Listing"]})})]})]}),l===P.synergyId&&s.jsx("div",{className:"mt-1 border-t dark:border-zinc-800 pt-3 animate-in slide-in-from-top-2 px-3 pb-3",children:s.jsx(Vme,{open:!0,onOpenChange:L=>c(L?P.synergyId:null),synergyId:P.synergyId})})]},P.synergyId)}),d&&s.jsx(ape,{open:!!d,onOpenChange:P=>!P&&f(null),row:d,onPosted:P=>{n==null||n(d.synergyId,{posted:!0,postedAt:new Date().toISOString(),postedBy:o.name,ebayItemUrl:P||null,status:"POSTED"}),j("Listing Posted!"),S("success"),v(d.synergyId),f(null)}}),h&&s.jsx(lpe,{open:!!h,onOpenChange:P=>!P&&m(null),row:h,onConfirm:(P,te,le)=>{n==null||n(h.synergyId,{status:"IN_STORE",ebayPrice:P,msrp:te,posted:!1,ebayItemUrl:null}),m(null)}}),s.jsx("div",{ref:i,className:"h-12"})]})}const uv="synergy_user",bpe=e=>e?`Grade ${String(e).toUpperCase()}`:"",Xm=e=>({...e,condition:bpe(e.grade)}),NE=e=>e.status==="SOLD"?!0:e.status==="TESTED"||e.status==="POSTED"||e.status==="IN_STORE";function wpe({connecting:e,syncing:t,saving:r,disconnected:n}){if(n)return s.jsx("div",{className:"fixed top-0 left-0 right-0 z-[1000]",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4",children:s.jsx("div",{className:"mt-2 rounded-md border border-red-300/60 bg-red-50 px-3 py-2 text-xs text-red-700 shadow-sm",children:"Database disconnected."})})});if(!(e||t||r))return null;const o=e?"Connecting to database":r?"Saving changes":"Syncing data";return s.jsxs("div",{className:"fixed top-0 left-0 right-0 z-[1000]",children:[s.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-transparent via-black/20 to-transparent animate-pulse"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4",children:s.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-full border px-3 py-1 text-[11px] bg-background/80 backdrop-blur shadow-sm",children:[s.jsx(jpe,{size:12}),s.jsx("span",{className:"opacity-80",children:o})]})})]})}function ku({className:e=""}){return s.jsx("div",{className:se("animate-pulse rounded-md bg-muted/50",e)})}function jpe({size:e=16}){return s.jsx("span",{"aria-hidden":!0,className:"inline-block animate-spin rounded-full border-2 border-black/20 border-t-transparent",style:{width:e,height:e,animationDuration:"800ms"}})}function Npe({isDark:e,onShowPosted:t,onClear:r,testedView:n=!1}){return s.jsxs("div",{className:"mx-auto max-w-xl py-8 text-center",children:[s.jsx("div",{className:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full",children:s.jsx(fs,{className:se("h-8 w-8",e?"text-emerald-400":"text-emerald-600")})}),s.jsx("h2",{className:se("text-lg font-semibold",e?"text-gray-100":"text-gray-900"),children:n?"All devices were posted":"No items match your filters"}),s.jsx("p",{className:se("mt-1 text-sm",e?"text-gray-400":"text-gray-600"),children:n?"Nice work  looks like everything in TESTED is cleared. You can switch to POSTED or adjust filters.":"Try broadening your filters or clearing them to see more results."}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[n&&s.jsxs(V,{onClick:t,className:"gap-2",children:[s.jsx(n4,{className:"h-4 w-4"}),"View Posted"]}),s.jsxs(V,{variant:"outline",onClick:r,className:"gap-2",children:[s.jsx(Yw,{className:"h-4 w-4"}),"Clear Filters"]})]})]})}function Spe(){const[e,t]=u.useState(()=>{try{return JSON.parse(localStorage.getItem(uv)||"null")}catch{return null}}),r="/backend".replace(/\/+$/,""),[n,a]=u.useState(null),[o,i]=u.useState(!0),[l,c]=u.useState(!0),[d,f]=u.useState(!0),[h,m]=u.useState(!1),[p,g]=u.useState(!1),x=o||n===null,b=d||l||p,[y,v]=u.useState(null),[w,j]=u.useState({key:"synergyId",dir:"asc"}),[N,S]=u.useState("category"),[k,_]=u.useState([]),[C,E]=u.useState({}),[T,A]=u.useState(""),[W,P]=u.useState(""),[te,le]=u.useState({}),[K,D]=u.useState(24),[I,R]=u.useState(""),[q,z]=u.useState(null),[Z,ce]=u.useState(null),[F,J]=u.useState(""),L=async()=>{try{const fe=await Jt("/pos/active");_(fe)}catch(fe){console.error("Failed to fetch POs",fe),_([])}},U=async fe=>{try{const Se=await Jt(`/pos/${fe}/groups`);E(pe=>({...pe,[fe]:Se}))}catch{}};u.useEffect(()=>{L()},[]);const $=fe=>{le(Se=>({...Se,[fe]:!Se[fe]}))},M=(fe,Se)=>{if(fe.stopPropagation(),T===Se)W?P(""):A("");else{A(Se),P("");const pe=k.find(_e=>_e.id===Se);pe&&(pe.inventory_count||0)>0&&U(Se)}},re=(fe,Se,pe)=>{fe.stopPropagation(),A(Se),P(pe)},de=u.useMemo(()=>{const fe={},Se=F.toLowerCase();return k.filter(_e=>!Se||_e.po_number.toLowerCase().includes(Se)||(_e.vendor_name||"").toLowerCase().includes(Se)).forEach(_e=>{const qe=_e.vendor_name||"Unknown Vendor";fe[qe]||(fe[qe]=[]),fe[qe].push(_e)}),Object.entries(fe).sort((_e,qe)=>_e[0].localeCompare(qe[0]))},[k,F]);async function Ee(fe,Se=720){try{return await Sl(`/integrations/ebay/refresh-sold-when/${encodeURIComponent(fe)}?days=${Math.min(Se,720)}`,{})}catch{return null}}const Ze=fe=>{const Se={...e,...fe};t(Se),localStorage.setItem(uv,JSON.stringify(Se))};function rt(fe,Se){return{...fe,ebaySoldCount:typeof Se.soldCount=="number"?Se.soldCount:fe.ebaySoldCount,ebayLastSoldAt:Se.lastSoldAt??fe.ebayLastSoldAt,ebaySeller:Se.seller??fe.ebaySeller,ebayListingStatus:Se.listingStatus??fe.ebayListingStatus,ebayThumbnail:Se.thumbnail??fe.ebayThumbnail,ebaySku:Se.sku??fe.ebaySku}}u.useEffect(()=>{i(!0);const fe=r==null?void 0:r.replace(/\/+$/,"");if(!fe){a(!1),i(!1);return}const Se=new AbortController,pe=setTimeout(()=>Se.abort(),8e3);return fetch(`${fe}/health`,{signal:Se.signal}).then(async _e=>{if(!_e.ok)throw new Error(`status ${_e.status}`);const qe=await _e.json();qe!=null&&qe.ok?a(!0):a(!1)}).catch(()=>{a(!1)}).finally(()=>{clearTimeout(pe),i(!1)}),()=>{clearTimeout(pe),Se.abort()}},[r]);const[Xe,et]=u.useState([]);u.useEffect(()=>{let fe=!0;return(async()=>{var Se;f(!0);try{const[pe,_e,qe,Q]=await Promise.all([Jt("/rows?status=TESTED"),Jt("/rows?status=POSTED"),Jt("/rows?status=SOLD&limit=300"),Jt("/rows?status=IN_STORE")]);if(!fe)return;const me=new Map;for(const ke of[...pe,..._e,...qe,...Q]){const Ge=(Se=(ke==null?void 0:ke.synergyId)??(ke==null?void 0:ke.id))==null?void 0:Se.toString();Ge&&me.set(Ge,ke)}et(Array.from(me.values()).map(Xm)),a(!0)}catch{if(!fe)return;a(!1)}finally{fe&&f(!1)}})(),()=>{fe=!1}},[]);const[Je,We]=u.useState([]);u.useEffect(()=>{c(!0),Jt("/categories").then(fe=>{We(fe)}).catch(()=>{a(!1),We([])}).finally(()=>c(!1))},[]);function ee(fe,Se,pe){var qe,Q;const _e=me=>(me??"").toString().trim().toLowerCase();if(fe!=null&&fe.category&&typeof fe.category=="object"){const me=((qe=fe.category)==null?void 0:qe.id)!=null?String(fe.category.id):"",ke=((Q=fe.category)==null?void 0:Q.label)??Se.get(me)??"";return{id:me,label:ke}}if(typeof(fe==null?void 0:fe.category)=="string"&&fe.category.trim()){const me=fe.category;return{id:pe.get(_e(me))??((fe==null?void 0:fe.categoryId)!=null?String(fe.categoryId):""),label:me}}if((fe==null?void 0:fe.categoryId)!=null){const me=String(fe.categoryId),ke=Se.get(me)??"";return{id:me,label:ke}}return{id:"",label:""}}const X=u.useCallback(async()=>{var fe;f(!0);try{const[Se,pe,_e,qe]=await Promise.all([fetch(`${r}/rows?status=TESTED&limit=500`).then(me=>me.json()),fetch(`${r}/rows?status=POSTED&limit=500`).then(me=>me.json()),fetch(`${r}/rows?status=SOLD&limit=300`).then(me=>me.json()),fetch(`${r}/rows?status=IN_STORE&limit=500`).then(me=>me.json())]),Q=new Map;for(const me of[...Se,...pe,..._e,...qe]){const ke=(fe=(me==null?void 0:me.synergyId)??(me==null?void 0:me.id))==null?void 0:fe.toString();ke&&Q.set(ke,me)}et(Array.from(Q.values()).map(Xm)),a(!0)}catch{a(!1)}finally{f(!1)}},[r]),Te=async()=>{g(!0),await X(),g(!1)},[be,H]=u.useState("TESTED"),[ge,Ne]=u.useState(null),[xe,Re]=u.useState(null),[at,nt]=u.useState(null),ot=async(fe,Se)=>{m(!0);try{await If(`/rows/${fe}`,Se)}catch{a(!1)}finally{m(!1)}},[Oe,Ht]=u.useState(()=>{const fe=localStorage.getItem("theme");return fe?fe==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});u.useEffect(()=>{localStorage.setItem("theme",Oe?"dark":"light"),document.documentElement.classList.toggle("dark",Oe)},[Oe]),u.useEffect(()=>r?X0(r,{onCategoryCreated:Se=>{We(pe=>pe.some(_e=>_e.id===Se.id)?pe:[...pe,Se])},onCategoryUpdated:(Se,pe)=>{We(_e=>_e.map(qe=>qe.id===pe.id?pe:qe)),z(_e=>_e===((Se==null?void 0:Se.label)??"")?pe==null?void 0:pe.label:_e)},onCategoryDeleted:Se=>{We(pe=>pe.filter(_e=>_e.id!==Se.id)),z(pe=>pe===Se.label?null:pe)},onRowUpserted:Se=>{const pe=Se.synergyId||Se.id;pe&&et(_e=>{const qe=_e.findIndex(ke=>ke.synergyId===pe),Q=qe!==-1,me=NE(Se);if(Q){if(Se.status==="INTAKE")return _e.filter(Ge=>Ge.synergyId!==pe);const ke=[..._e];return ke[qe]=Xm({..._e[qe],...Se}),ke}else if(me)return[Xm(Se),..._e];return _e})},onRowDeleted:Se=>{et(pe=>pe.filter(_e=>_e.synergyId!==Se))},onRowBulkUpserted:()=>{X()}}):void 0,[X,r]);const Qt=u.useMemo(()=>{if(!Xe)return[];let fe=Xe;N==="po"&&T&&(fe=fe.filter(pe=>{if((pe.poId||pe.purchase_order_id)!==T)return!1;if(W){const qe=pe.categoryId||pe.category&&pe.category.id;if(String(qe)!==String(W))return!1}return!0})),fe=fe.filter(pe=>be==="TESTED"?pe.status==="TESTED":be==="POSTED"?pe.status==="POSTED":be==="SOLD"?pe.status==="SOLD":be==="IN_STORE"?pe.status==="IN_STORE":be==="BOTH"?pe.status==="TESTED"||pe.status==="POSTED":!0),be!=="SOLD"&&be!=="ALL"&&(fe=fe.filter(NE)),be==="ALL"&&(fe=fe.filter(pe=>pe.status==="TESTED"||pe.status==="POSTED"||pe.status==="SOLD"||pe.status==="IN_STORE"));const Se=I.trim().toLowerCase();if(Se&&(fe=fe.filter(pe=>{var _e,qe,Q,me;return((_e=pe.synergyId)==null?void 0:_e.toLowerCase().includes(Se))||((qe=pe.productName)==null?void 0:qe.toLowerCase().includes(Se))||((Q=pe.serial)==null?void 0:Q.toLowerCase().includes(Se))||((me=pe.testerComment)==null?void 0:me.toLowerCase().includes(Se))})),Z){const pe=Z.replace("Grade ","").toUpperCase();fe=fe.filter(_e=>_e.grade&&_e.grade.toUpperCase()===pe)}if(N==="category"){const pe=Q=>(Q??"").toString().trim().toLowerCase(),_e=new Map(Je.map(Q=>[String(Q.id),Q.label])),qe=new Map(Je.map(Q=>[pe(Q.label),String(Q.id)]));if(y&&y.length){const Q=new Set(y.map(pe));fe=fe.filter(me=>{const{id:ke,label:Ge}=ee(me,_e,qe);return Q.has(pe(Ge))||ke&&[...Q].includes(pe(_e.get(ke)||""))})}else if(q){const Q=q.toString(),me=_e.has(String(Q))?String(Q):qe.get(pe(Q))??"",ke=_e.get(me)??Q;fe=fe.filter(Ge=>{const{id:Ct,label:Tt}=ee(Ge,_e,qe);return!!me&&!!Ct&&Ct===me||pe(Tt)===pe(ke)})}}return fe=fe.map(pe=>{const _e=Ge=>(Ge??"").toString().trim().toLowerCase(),qe=new Map(Je.map(Ge=>[String(Ge.id),Ge.label])),Q=new Map(Je.map(Ge=>[_e(Ge.label),String(Ge.id)])),{id:me,label:ke}=ee(pe,qe,Q);return{...pe,categoryId:me||pe.categoryId,categoryLbl:ke||pe.categoryLbl||(typeof pe.category=="string"?pe.category:"")}}),ge===!0&&(fe=fe.filter(pe=>Array.isArray(pe.photos)&&pe.photos.length>0)),xe===!0&&(fe=fe.filter(pe=>pe.price!=null||pe.listPrice!=null)),at===!0&&(fe=fe.filter(pe=>typeof pe.testerComment=="string"&&pe.testerComment.trim().length>0)),fe.sort((pe,_e)=>{const qe=w.dir==="asc"?1:-1;let Q="",me="";switch(w.key){case"productName":Q=pe.productName||"",me=_e.productName||"";break;case"date":Q=pe.postedAt||pe.testedDate||pe.synergyId,me=_e.postedAt||_e.testedDate||_e.synergyId;break;case"synergyId":default:Q=pe.synergyId,me=_e.synergyId;break}return String(Q).localeCompare(String(me),void 0,{numeric:!0,sensitivity:"base"})*qe}),fe},[Xe,I,Z,q,y,Je,be,ge,xe,at,N,T,W,w]),Pr=u.useMemo(()=>Qt.slice(0,K),[Qt,K]);u.useEffect(()=>{let fe=!1;return(async()=>{const Se=Pr.filter(pe=>(pe.ebayItemUrl||pe.status==="POSTED")&&(!("ebaySoldCount"in pe)||!("ebayLastSoldAt"in pe)));for(const pe of Se){if(fe)break;if(!pe.synergyId)continue;const _e=await Ee(pe.synergyId,720);if(fe)break;!_e||!_e.ok||(et(qe=>qe.map(Q=>Q.synergyId===pe.synergyId?rt(Q,_e):Q)),await new Promise(qe=>setTimeout(qe,200)))}})(),()=>{fe=!0}},[Pr.map(fe=>fe.synergyId).join("|")]);const ht=(fe,Se)=>{if(et(pe=>pe.map(_e=>_e.synergyId===fe?{..._e,...Se,...Se.posted?{postedBy:(e==null?void 0:e.name)||""}:{}}:_e)),ot(fe,Se),typeof Se.posted=="boolean"&&Se.status!=="IN_STORE"){const pe={status:Se.posted?"POSTED":"TESTED",postedAt:Se.posted?new Date().toISOString():null,...Se.posted?{postedBy:(e==null?void 0:e.name)||""}:{}};ot(fe,pe)}};if(!e)return s.jsx(Bh,{variant:"poster",filterByRole:!0,onAuth:fe=>{t(fe),localStorage.setItem(uv,JSON.stringify(fe))}});const Mr=y&&y.length?y[0]:q||"All Categories",Ir=u.useMemo(()=>Je.filter(fe=>F.trim()?fe.label.toLowerCase().includes(F.toLowerCase()):!0),[Je,F]),Nt=()=>{z(null),v(null),ce(null),R(""),H("TESTED"),Ne(null),Re(null),nt(null),D(24)};return s.jsxs("div",{className:se("flex h-screen w-screen overflow-hidden font-sans",Oe?"bg-[#020617] text-gray-100":"bg-slate-50 text-slate-900"),children:[s.jsx(wpe,{connecting:x,syncing:b,saving:h,disconnected:n===!1}),s.jsxs("aside",{className:se("flex w-72 flex-shrink-0 flex-col border-r h-full",Oe?"border-gray-800 bg-[#020617]":"border-gray-200 bg-white"),children:[s.jsxs("div",{className:se("flex shrink-0 flex-col items-center justify-center py-6 border-b px-4",Oe?"border-gray-800":"border-gray-200"),children:[s.jsx("img",{src:"/images/poster.png",alt:"Poster Logo",className:"h-10 w-10 mb-2"}),s.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Synergy"}),s.jsx("span",{className:se("text-[10px] uppercase font-semibold tracking-wide",Oe?"text-gray-500":"text-gray-400"),children:"Poster Dashboard"})]}),s.jsx("div",{className:"px-3 pt-3 pb-2",children:s.jsxs("div",{className:se("grid grid-cols-2 gap-1 p-1 rounded-lg",Oe?"bg-gray-800/50":"bg-slate-100"),children:[s.jsxs("button",{onClick:()=>{S("category"),A(""),P("")},className:se("flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all",N==="category"?Oe?"bg-gray-700 text-white shadow-sm":"bg-white text-slate-900 shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(is,{className:"h-3.5 w-3.5"})," Cats"]}),s.jsxs("button",{onClick:()=>{S("po"),z(null),v(null)},className:se("flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all",N==="po"?Oe?"bg-gray-700 text-white shadow-sm":"bg-white text-slate-900 shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(Ci,{className:"h-3.5 w-3.5"})," POs"]})]})}),s.jsx("div",{className:se("shrink-0 border-b px-3 pb-3",Oe?"border-gray-800":"border-gray-200"),children:s.jsxs("div",{className:"relative",children:[s.jsx(we,{placeholder:N==="category"?"Search categories...":"Search PO number...",value:F,onChange:fe=>J(fe.target.value),className:se("h-8 w-full rounded-lg pl-7 text-xs shadow-sm focus-visible:ring-1",Oe?"border-gray-700 bg-[#020617] text-gray-100 placeholder:text-gray-500":"border-gray-300 bg-gray-50 text-gray-800 placeholder:text-gray-500")}),s.jsx(Yt,{className:"pointer-events-none absolute left-2 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-gray-400"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-200 dark:scrollbar-thumb-gray-800",children:s.jsxs("div",{className:"px-2 py-3",children:[N==="category"&&s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("button",{type:"button",onClick:()=>{z(null),v(null)},className:se("flex w-full items-center justify-between rounded-md px-2 py-1.5 text-left transition-colors mb-2",!q&&!(y!=null&&y.length)?Oe?"bg-indigo-600/20 text-indigo-100":"bg-indigo-50 text-indigo-700 font-medium":Oe?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100"),children:[s.jsx("span",{className:"truncate",children:"All Categories"}),s.jsx("span",{className:"text-[10px] uppercase tracking-wide opacity-60",children:"All"})]}),s.jsx("div",{className:"space-y-0.5",children:Ir.map(fe=>{const Se=fe.label,pe=y&&y.includes(Se)||q===Se;return s.jsx("button",{type:"button",onClick:()=>{z(Se),v([Se])},className:se("flex w-full items-center justify-between rounded-md px-2 py-1.5 text-left text-xs transition-colors",pe?Oe?"bg-indigo-600/20 text-indigo-100":"bg-indigo-50 text-indigo-700 font-medium":Oe?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100"),children:s.jsx("span",{className:"truncate",children:Se})},fe.id)})})]}),N==="po"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>{A(""),P("")},className:se("flex w-full items-center justify-between rounded-md px-2 py-2 text-left text-xs transition-colors mb-2",T?Oe?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100":Oe?"bg-indigo-600/20 text-indigo-100":"bg-indigo-50 text-indigo-700 font-medium"),children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(jl,{className:"h-3.5 w-3.5"})," All Shipments"]})}),de.map(([fe,Se])=>{const pe=te[fe]||F.trim().length>0;return s.jsxs("div",{className:"mb-2",children:[s.jsxs("button",{onClick:()=>$(fe),className:se("flex w-full items-center justify-between px-2 py-1.5 text-xs font-semibold rounded-md transition-colors",Oe?"text-gray-200 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wl,{className:"h-3.5 w-3.5 opacity-70"}),s.jsx("span",{children:fe}),s.jsxs("span",{className:"text-[9px] font-normal opacity-50 ml-1",children:["(",Se.length,")"]})]}),pe?s.jsx(Ls,{className:"h-3 w-3 opacity-50"}):s.jsx(In,{className:"h-3 w-3 opacity-50"})]}),pe&&s.jsx("div",{className:se("pl-2 mt-1 space-y-1 border-l ml-2",Oe?"border-gray-800":"border-gray-200"),children:Se.map(_e=>{const qe=T===_e.id,Q=C[_e.id]||[],me=(_e.inventory_count||0)>0;return s.jsxs("div",{className:"mb-1",children:[s.jsxs("button",{onClick:ke=>M(ke,_e.id),className:se("flex flex-col w-full items-start rounded-md px-2 py-2 text-left text-xs transition-colors border border-transparent",qe?Oe?"bg-indigo-600/10 border-indigo-500/30":"bg-indigo-50 border-indigo-200":Oe?"text-gray-400 hover:bg-gray-800 hover:text-gray-200":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{className:se("font-mono font-medium",qe?"text-indigo-600 dark:text-indigo-400":""),children:_e.po_number}),qe?s.jsx(yd,{className:"h-3 w-3 opacity-50"}):s.jsx(Ls,{className:"h-3 w-3 opacity-50"})]}),s.jsxs("div",{className:"flex justify-between w-full mt-1",children:[s.jsx("span",{className:se("text-[9px]",qe?"text-indigo-500/70 dark:text-indigo-300/70":"text-muted-foreground opacity-70"),children:new Date(_e.created_at).toLocaleDateString()}),!me&&s.jsxs("span",{className:"text-[9px] text-amber-500 flex items-center gap-1",children:[s.jsx(Si,{className:"h-2.5 w-2.5"})," Pending"]})]})]}),qe&&s.jsx("div",{className:se("ml-2 pl-2 border-l mt-1 space-y-0.5",Oe?"border-indigo-500/20":"border-indigo-200"),children:me?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:ke=>re(ke,_e.id,""),className:se("flex w-full items-center justify-between rounded-md px-2 py-1.5 text-left text-[11px] transition-colors",W?"text-muted-foreground hover:text-foreground":Oe?"text-indigo-300 bg-white/5":"text-indigo-700 bg-white/60 font-medium"),children:[s.jsx("span",{children:"View All"}),s.jsx(yo,{className:"h-3 w-3 opacity-50"})]}),Q.length===0?s.jsx("div",{className:"px-2 py-1 text-[10px] text-muted-foreground italic opacity-70",children:"Loading contents..."}):Q.map(ke=>{const Ge=W===ke.category_id;return s.jsxs("button",{onClick:Ct=>re(Ct,_e.id,ke.category_id),className:se("flex w-full items-center justify-between rounded-md px-2 py-1.5 text-left text-[11px] transition-colors",Ge?Oe?"text-indigo-300 bg-white/5":"text-indigo-700 bg-white/60 font-medium":Oe?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-900"),children:[s.jsx("span",{className:"truncate",children:ke.label||"Unassigned"}),s.jsx("span",{className:"text-[9px] opacity-60 ml-2",children:ke.units})]},ke.category_id||ke.label)})]}):s.jsxs("div",{className:se("px-2 py-2 my-1 text-[10px] rounded border border-dashed flex items-start gap-2",Oe?"bg-amber-900/20 border-amber-800 text-amber-400":"bg-amber-50 border-amber-200 text-amber-700"),children:[s.jsx(Is,{className:"h-3 w-3 shrink-0 mt-0.5"}),s.jsx("span",{className:"leading-tight",children:"Items have not been sent to testing yet."})]})})]},_e.id)})})]},fe)})]})]})})]}),s.jsxs("main",{className:se("flex flex-1 flex-col h-full overflow-hidden min-w-0",Oe?"bg-[#020617]":"bg-slate-50"),children:[s.jsxs("div",{className:se("flex shrink-0 items-center justify-between border-b px-6 py-3.5 shadow-sm backdrop-blur-sm z-10",Oe?"border-gray-800 bg-[#020617]/80":"border-gray-200 bg-white/80"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:se("p-2 rounded-lg",Oe?"bg-gray-800 text-gray-300":"bg-gray-100 text-gray-500"),children:s.jsx(fh,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold tracking-wider text-gray-400",children:[s.jsx("span",{children:"Products"}),s.jsx(In,{className:"h-3 w-3"}),s.jsx("span",{children:Z||"All Grades"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:se("text-sm font-bold",Oe?"text-white":"text-gray-900"),children:Mr}),s.jsx("span",{className:se("rounded-full px-2 py-0.5 text-[10px] font-medium",Oe?"bg-gray-800 text-gray-300":"bg-gray-100 text-gray-600"),children:Qt.length})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative hidden md:block group",children:[s.jsx(we,{placeholder:"Search products...",value:I,onChange:fe=>{R(fe.target.value),D(24)},className:se("h-9 w-72 rounded-full pl-9 text-sm transition-all shadow-sm",Oe?"border-gray-800 bg-gray-900/50 text-gray-100 placeholder:text-gray-500 focus:bg-gray-900 focus:w-80":"border-gray-200 bg-white text-gray-800 placeholder:text-gray-400 focus:border-indigo-300 focus:ring-2 focus:ring-indigo-100 focus:w-80")}),s.jsx(Yt,{className:se("pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transition-colors",Oe?"text-gray-500 group-focus-within:text-indigo-400":"text-gray-400 group-focus-within:text-indigo-500")})]}),s.jsx(V,{variant:"ghost",size:"icon",className:se("h-9 w-9 rounded-full",p&&"animate-spin",Oe?"text-gray-400 hover:bg-gray-800":"text-gray-500 hover:bg-gray-100"),onClick:Te,children:s.jsx(hi,{className:"h-5 w-5"})}),s.jsx(V,{variant:"ghost",size:"icon",className:se("h-9 w-9 rounded-full",Oe?"text-gray-400 hover:bg-gray-800 hover:text-gray-100":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"),onClick:()=>Ht(fe=>!fe),children:Oe?s.jsx(Fi,{className:"h-5 w-5"}):s.jsx(Co,{className:"h-5 w-5"})}),s.jsx(V,{variant:"ghost",size:"icon",className:se("h-9 w-9 rounded-full",Oe?"text-gray-400 hover:bg-gray-800 hover:text-gray-100":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"),children:s.jsx(vo,{className:"h-5 w-5"})}),e&&s.jsx("div",{className:"pl-2 border-l border-gray-200 dark:border-gray-800",children:s.jsx(K2,{user:e,onUpdate:Ze,logoutPath:"/login/posters"})})]})]}),s.jsxs("div",{className:se("flex flex-wrap items-center gap-3 border-b px-6 py-3 shrink-0",Oe?"border-gray-800 bg-[#020617]":"border-gray-200 bg-slate-50"),children:[s.jsxs("div",{className:se("flex p-1 rounded-lg border",Oe?"bg-gray-800/50 border-gray-700":"bg-gray-100 border-gray-200"),children:[s.jsxs("button",{onClick:()=>H("TESTED"),className:se("px-3 py-1 text-[11px] font-medium rounded-md transition-all flex items-center gap-1.5",be==="TESTED"?Oe?"bg-indigo-500/20 text-indigo-300 shadow-sm ring-1 ring-indigo-500/50":"bg-white text-indigo-700 shadow-sm ring-1 ring-black/5":"text-muted-foreground hover:text-foreground"),children:[s.jsx(lh,{className:"h-3 w-3"})," Tested"]}),s.jsxs("button",{onClick:()=>H("POSTED"),className:se("px-3 py-1 text-[11px] font-medium rounded-md transition-all flex items-center gap-1.5",be==="POSTED"?Oe?"bg-blue-500/20 text-blue-300 shadow-sm ring-1 ring-blue-500/50":"bg-white text-blue-700 shadow-sm ring-1 ring-black/5":"text-muted-foreground hover:text-foreground"),children:[s.jsx(KP,{className:"h-3 w-3"})," Posted"]}),s.jsxs("button",{onClick:()=>H("IN_STORE"),className:se("px-3 py-1 text-[11px] font-medium rounded-md transition-all flex items-center gap-1.5",be==="IN_STORE"?Oe?"bg-orange-500/20 text-orange-300 shadow-sm ring-1 ring-orange-500/50":"bg-white text-orange-700 shadow-sm ring-1 ring-black/5":"text-muted-foreground hover:text-foreground"),children:[s.jsx(bo,{className:"h-3 w-3"})," In Store"]}),s.jsxs("button",{onClick:()=>H("SOLD"),className:se("px-3 py-1 text-[11px] font-medium rounded-md transition-all flex items-center gap-1.5",be==="SOLD"?Oe?"bg-amber-500/20 text-amber-300 shadow-sm ring-1 ring-amber-500/50":"bg-white text-amber-700 shadow-sm ring-1 ring-black/5":"text-muted-foreground hover:text-foreground"),children:[s.jsx(wb,{className:"h-3 w-3"})," Sold"]}),s.jsxs("button",{onClick:()=>H("ALL"),className:se("px-3 py-1 text-[11px] font-medium rounded-md transition-all flex items-center gap-1.5",be==="ALL"?Oe?"bg-purple-500/20 text-purple-300 shadow-sm ring-1 ring-purple-500/50":"bg-white text-purple-700 shadow-sm ring-1 ring-black/5":"text-muted-foreground hover:text-foreground"),children:[s.jsx(dh,{className:"h-3 w-3"})," All"]})]}),s.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-gray-800"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide text-gray-400",children:"Grade"}),["A","B","C","D","P"].map(fe=>{const Se=(Z??"All")===`Grade ${fe}`;return s.jsx(V,{size:"sm",variant:Se?"default":"outline",className:se("h-6 w-6 rounded-full text-[10px] font-bold transition-all border",Se?Oe?"bg-indigo-600 text-white border-indigo-500":"bg-indigo-600 text-white border-indigo-600":Oe?"bg-gray-800 border-gray-700 text-gray-400 hover:border-gray-500 hover:text-gray-200":"bg-white border-gray-200 text-gray-500 hover:border-gray-300 hover:text-gray-700"),onClick:()=>ce(Se?null:`Grade ${fe}`),children:fe},fe)})]}),s.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-gray-800"}),s.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[s.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide text-gray-400",children:"More"}),s.jsxs(V,{size:"sm",variant:ge?"default":"outline",className:se("h-7 gap-1 rounded-full px-2 text-[11px]",ge?"bg-indigo-600 text-white border-transparent":Oe?"border-gray-700 bg-transparent text-gray-300 hover:bg-gray-800":"border-gray-300 bg-white text-gray-700 hover:bg-gray-100"),onClick:()=>Ne(ge?null:!0),children:[s.jsx(s0,{className:"h-3.5 w-3.5"}),"Photos"]}),s.jsxs(V,{size:"sm",variant:xe?"default":"outline",className:se("h-7 gap-1 rounded-full px-2 text-[11px]",xe?"bg-indigo-600 text-white border-transparent":Oe?"border-gray-700 bg-transparent text-gray-300 hover:bg-gray-800":"border-gray-300 bg-white text-gray-700 hover:bg-gray-100"),onClick:()=>Re(xe?null:!0),children:[s.jsx(mr,{className:"h-3.5 w-3.5"}),"Price"]}),s.jsxs(V,{size:"sm",variant:at?"default":"outline",className:se("h-7 gap-1 rounded-full px-2 text-[11px]",at?"bg-indigo-600 text-white border-transparent":Oe?"border-gray-700 bg-transparent text-gray-300 hover:bg-gray-800":"border-gray-300 bg-white text-gray-700 hover:bg-gray-100"),onClick:()=>nt(at?null:!0),children:[s.jsx(hh,{className:"h-3.5 w-3.5"}),"Notes"]})]}),s.jsxs("div",{className:"flex-1 flex justify-end gap-3 items-center",children:[s.jsx(uD,{config:w,onChange:j}),s.jsxs(V,{variant:"ghost",size:"sm",className:se("h-7 rounded-full px-3 text-[11px]",Oe?"text-gray-300 hover:bg-gray-800":"text-gray-600 hover:bg-gray-100"),onClick:Nt,disabled:b,children:[s.jsx(Yw,{className:"h-3.5 w-3.5 mr-1"}),"Clear"]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 scrollbar-thin scrollbar-thumb-gray-200 dark:scrollbar-thumb-gray-800",children:s.jsx("div",{className:se("min-h-full rounded-2xl border shadow-sm",Oe?"border-gray-800 bg-gray-900/40":"border-gray-200 bg-white"),children:s.jsx("div",{className:"p-2",children:d?s.jsx("div",{className:"space-y-3 px-2 py-4",children:Array.from({length:8}).map((fe,Se)=>s.jsxs("div",{className:se("flex items-center justify-between gap-4 rounded-lg border border-transparent px-3 py-3",Oe?"bg-gray-900/60":"bg-gray-50"),children:[s.jsxs("div",{className:"flex flex-1 items-center gap-3",children:[s.jsx(ku,{className:"h-10 w-10 rounded-md"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ku,{className:"h-4 w-40"}),s.jsx(ku,{className:"h-3 w-24"})]})]}),s.jsx(ku,{className:"h-4 w-16"}),s.jsx(ku,{className:"h-4 w-20"})]},Se))}):Qt.length===0?s.jsx(Npe,{isDark:Oe,testedView:be==="TESTED",onShowPosted:()=>H("POSTED"),onClear:Nt}):s.jsx(vpe,{rows:Pr,visibleCount:K,onLoadMore:()=>D(fe=>fe+24),onRowUpdate:ht,isDarkMode:Oe,user:e})})})}),s.jsx(Aj,{user:e})]})]})}const fv=e=>{if(!e&&e!==0)return"";const t=Math.floor(e/3600),r=Math.floor(e%3600/60);return`${t}h ${r}m`},SE=e=>{const t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%60;return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},hv=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),kpe=e=>new Date(e).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}),Cpe=(e,t)=>{if(!t)return!1;const r=new Date(e),n=new Date(t);return r.getDate()!==n.getDate()};function _pe(){const[e]=u.useState(()=>{try{return JSON.parse(localStorage.getItem("synergy_user")||"{}")}catch{return{}}}),[t,r]=u.useState(null),[n,a]=u.useState([]),[o,i]=u.useState(!1),[l,c]=u.useState(0),[d,f]=u.useState(!1),[h,m]=u.useState([{id:"1",date:new Date().toISOString().split("T")[0],start:"",end:"",notes:""}]),[p,g]=u.useState(null),[x,b]=u.useState(""),[y,v]=u.useState(null),w=u.useRef(null);u.useEffect(()=>(N(),()=>j()),[]),u.useEffect(()=>{if(t!=null&&t.active_session){const I=new Date(t.active_session.clock_in).getTime(),R=()=>{const q=new Date().getTime();c(Math.floor((q-I)/1e3))};R(),w.current=setInterval(R,1e3)}else j(),c(0);return()=>j()},[t==null?void 0:t.active_session]);const j=()=>{w.current&&clearInterval(w.current)},N=async()=>{i(!0);try{const I={"X-User-ID":String(e.id)},[R,q]=await Promise.all([fetch(`${Kt}/time/status`,{headers:I}),fetch(`${Kt}/time/history?limit=100`,{headers:I})]);R.ok&&r(await R.json()),q.ok&&a(await q.json())}catch(I){console.error(I)}finally{i(!1)}},S=async()=>{try{await fetch(`${Kt}/time/clock-in`,{method:"POST",headers:{"X-User-ID":String(e.id)}}),N()}catch{alert("Failed to clock in")}},k=async()=>{try{const I=await fetch(`${Kt}/time/clock-out`,{method:"POST",headers:{"Content-Type":"application/json","X-User-ID":String(e.id)},body:JSON.stringify({})});if(!I.ok){const R=await I.json();throw new Error(R.detail||"Clock out failed")}N()}catch(I){console.error(I),alert("Failed to clock out. Please check console.")}},_=I=>{const R=q=>{if(!q)return"";const z=new Date(q),Z=J=>String(J).padStart(2,"0"),ce=`${z.getFullYear()}-${Z(z.getMonth()+1)}-${Z(z.getDate())}`,F=`${Z(z.getHours())}:${Z(z.getMinutes())}`;return`${ce}T${F}`};v({...I,clock_in:R(I.clock_in),clock_out:R(I.clock_out),notes:I.notes||""})},C=async()=>{try{i(!0);const I={clock_in:new Date(y.clock_in).toISOString(),clock_out:y.clock_out?new Date(y.clock_out).toISOString():null,notes:y.notes};if(!(await fetch(`${Kt}/time/entry/${y.id}`,{method:"PATCH",headers:{"Content-Type":"application/json","X-User-ID":String(e.id)},body:JSON.stringify(I)})).ok)throw new Error("Failed to save");v(null),N()}catch{alert("Error updating entry. Ensure end time is after start time.")}finally{i(!1)}},E=u.useMemo(()=>{const I=new Date().toDateString(),R=n.reduce((z,Z)=>new Date(Z.clock_in).toDateString()===I?z+(Z.duration_seconds||0):z,0);let q=0;return t!=null&&t.active_session&&new Date(t.active_session.clock_in).toDateString()===I&&(q=l),R+q},[n,l,t==null?void 0:t.active_session]),T=()=>{const I=h.length>0?h[h.length-1].date:new Date().toISOString().split("T")[0];m([...h,{id:Math.random().toString(),date:I,start:"",end:"",notes:""}])},A=I=>{m(h.filter(R=>R.id!==I))},W=(I,R,q)=>{m(h.map(z=>z.id===I?{...z,[R]:q}:z))},P=()=>{let I=0;const R=[];for(const q of h){if(!q.start||!q.end||!q.date)continue;const z=new Date(`${q.date}T${q.start}`);let Z=new Date(`${q.date}T${q.end}`),ce=!1;Z<z&&(Z.setDate(Z.getDate()+1),ce=!0);const F=(Z.getTime()-z.getTime())/1e3;F>0&&(I+=F,R.push({...q,startIso:z,endIso:Z,overnight:ce,duration:F}))}return{totalSecs:I,validBlocks:R}},te=async()=>{const{validBlocks:I}=P();if(I.length===0)return alert("Please enter valid times.");const R=I.map(q=>({clock_in:q.startIso.toISOString(),clock_out:q.endIso.toISOString(),notes:q.notes}));try{if(i(!0),!(await fetch(`${Kt}/time/manual/bulk`,{method:"POST",headers:{"Content-Type":"application/json","X-User-ID":String(e.id)},body:JSON.stringify(R)})).ok)throw new Error;f(!1),m([{id:"1",date:new Date().toISOString().split("T")[0],start:"",end:"",notes:""}]),N()}catch{alert("Failed to save entries.")}finally{i(!1)}},le=u.useMemo(()=>{const I={};return n.forEach(R=>{const q=kpe(R.clock_in);I[q]||(I[q]={totalSeconds:0,entries:[]}),I[q].entries.push(R),R.duration_seconds&&(I[q].totalSeconds+=R.duration_seconds)}),Object.entries(I).sort((R,q)=>{const z=new Date(R[1].entries[0].clock_in).getTime();return new Date(q[1].entries[0].clock_in).getTime()-z})},[n]),K=P(),D=!!(t!=null&&t.active_session);return s.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-[#020617] text-slate-900 dark:text-gray-100 font-sans p-4 md:p-8",children:[s.jsx(El,{loading:o,label:"Syncing..."}),s.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Si,{className:"h-6 w-6 text-primary"}),"Time Tracking"]}),s.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Track your shifts, breaks, and manual hours."})]}),s.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-900 p-3 rounded-xl border shadow-sm",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] font-bold uppercase text-muted-foreground tracking-wider",children:"Today's Total"}),s.jsx("div",{className:"text-xl font-mono font-bold text-emerald-600 dark:text-emerald-400",children:SE(E)})]}),s.jsx("div",{className:"h-8 w-px bg-border"}),s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>f(!0),children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Add Manual Time"]})]})]}),s.jsxs("div",{className:dt("relative overflow-hidden rounded-2xl border bg-card p-6 md:p-10 shadow-sm transition-all",D?"border-emerald-500/50 shadow-emerald-500/10":"border-border"),children:[D&&s.jsx("div",{className:"absolute inset-0 bg-emerald-500/5 animate-pulse pointer-events-none"}),s.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8 text-center md:text-left",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[s.jsx("span",{className:dt("flex h-3 w-3 rounded-full",D?"bg-emerald-500 animate-pulse":"bg-slate-300")}),s.jsx("span",{className:"text-sm font-medium uppercase tracking-wide text-muted-foreground",children:D?"Currently Working":"Ready to Start"})]}),s.jsx("div",{className:"text-6xl md:text-8xl font-mono font-bold tracking-tighter tabular-nums",children:SE(l)}),D&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Started at ",hv(t.active_session.clock_in)]})]}),s.jsx("div",{children:D?s.jsx("button",{onClick:k,className:"group flex h-32 w-32 md:h-40 md:w-40 items-center justify-center rounded-full bg-rose-600 text-white shadow-xl transition-all hover:scale-105 hover:bg-rose-500 active:scale-95",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(lF,{className:"h-10 w-10 fill-current"}),s.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Clock Out"})]})}):s.jsx("button",{onClick:S,className:"group flex h-32 w-32 md:h-40 md:w-40 items-center justify-center rounded-full bg-emerald-600 text-white shadow-xl transition-all hover:scale-105 hover:bg-emerald-500 active:scale-95",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(mp,{className:"h-10 w-10 fill-current"}),s.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Clock In"})]})})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(JP,{className:"h-5 w-5"})," Recent Shifts"]}),s.jsxs("div",{className:"space-y-6",children:[le.map(([I,R])=>s.jsxs("div",{className:"rounded-xl border bg-card overflow-hidden shadow-sm",children:[s.jsxs("div",{className:"bg-muted/40 px-4 py-3 flex justify-between items-center border-b",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold text-sm",children:[s.jsx(Ni,{className:"h-4 w-4 text-muted-foreground"}),I]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground uppercase text-[10px] font-bold tracking-wider",children:"Daily Total"}),s.jsx("span",{className:"font-mono font-bold text-foreground",children:fv(R.totalSeconds)})]})]}),s.jsx("div",{className:"divide-y divide-border",children:R.entries.map(q=>{const z=(y==null?void 0:y.id)===q.id,Z=Cpe(q.clock_in,q.clock_out);return s.jsx("div",{className:"p-4 border-b last:border-0 hover:bg-muted/10",children:z?s.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ke,{className:"text-xs",children:"Clock In"}),s.jsx(we,{type:"datetime-local",value:y.clock_in,onChange:ce=>v({...y,clock_in:ce.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ke,{className:"text-xs",children:"Clock Out"}),s.jsx(we,{type:"datetime-local",value:y.clock_out,onChange:ce=>v({...y,clock_out:ce.target.value})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ke,{className:"text-xs",children:"Notes"}),s.jsx(Rh,{value:y.notes,onChange:ce=>v({...y,notes:ce.target.value}),placeholder:"What were you working on?"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(V,{variant:"outline",size:"sm",onClick:()=>v(null),children:"Cancel"}),s.jsxs(V,{size:"sm",onClick:C,children:[s.jsx(Ei,{className:"h-4 w-4 mr-2"})," Update Entry"]})]})]}):s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"min-w-[140px] font-medium text-sm",children:[hv(q.clock_in),"  ",q.clock_out?hv(q.clock_out):"Active",Z&&s.jsx("span",{className:"ml-2 text-[10px] bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded",children:"+1 Day"})]}),s.jsx("div",{className:"text-sm font-mono text-muted-foreground",children:fv(q.duration_seconds)})]}),s.jsxs("div",{className:"flex items-center gap-4 flex-1 justify-end",children:[s.jsx("button",{onClick:()=>_(q),className:"text-sm text-muted-foreground italic hover:text-primary text-right",children:q.notes||"Add notes..."}),s.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>_(q),children:s.jsx(Si,{className:"h-4 w-4"})})]})]})},q.id)})})]},I)),le.length===0&&s.jsx("div",{className:"p-8 text-center text-muted-foreground border rounded-xl border-dashed",children:"No time entries found."})]})]})]}),d&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm overflow-y-auto",children:s.jsxs("div",{className:"w-full max-w-2xl bg-card border rounded-xl shadow-2xl animate-in fade-in zoom-in-95 flex flex-col max-h-[90vh]",children:[s.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center bg-muted/20",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx(Vr,{className:"h-5 w-5 text-primary"})," Log Hours"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Add multiple segments (e.g. before & after lunch)"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] uppercase text-muted-foreground font-bold",children:"Total Duration"}),s.jsx("div",{className:"text-lg font-mono font-bold text-primary",children:fv(K.totalSecs)})]})]}),s.jsxs("div",{className:"p-6 overflow-y-auto space-y-4 flex-1",children:[h.map(I=>{const R=I.date&&I.start?new Date(`${I.date}T${I.start}`):null,q=I.date&&I.end?new Date(`${I.date}T${I.end}`):null,z=R&&q&&q<R;return s.jsxs("div",{className:"group relative grid grid-cols-1 md:grid-cols-12 gap-3 items-start p-3 rounded-lg border bg-muted/10 hover:bg-muted/30 transition-colors",children:[s.jsx("button",{onClick:()=>A(I.id),className:"absolute -top-2 -right-2 md:top-3 md:-right-3 md:opacity-0 md:group-hover:opacity-100 bg-destructive text-white p-1 rounded-full shadow-sm hover:scale-110 transition-all z-10",title:"Remove row",children:s.jsx(Mt,{className:"h-3 w-3"})}),s.jsxs("div",{className:"md:col-span-3 space-y-1",children:[s.jsx(Ke,{className:"text-xs text-muted-foreground",children:"Date"}),s.jsx(we,{type:"date",value:I.date,onChange:Z=>W(I.id,"date",Z.target.value),className:"h-9"})]}),s.jsxs("div",{className:"md:col-span-2 space-y-1",children:[s.jsx(Ke,{className:"text-xs text-muted-foreground",children:"Start"}),s.jsx(we,{type:"time",value:I.start,onChange:Z=>W(I.id,"start",Z.target.value),className:"h-9"})]}),s.jsx("div",{className:"md:col-span-1 flex items-center justify-center pt-6 text-muted-foreground",children:s.jsx(Ld,{className:"h-4 w-4"})}),s.jsxs("div",{className:"md:col-span-2 space-y-1 relative",children:[s.jsx(Ke,{className:"text-xs text-muted-foreground",children:"End"}),s.jsx(we,{type:"time",value:I.end,onChange:Z=>W(I.id,"end",Z.target.value),className:dt("h-9",z&&"border-indigo-300 ring-1 ring-indigo-100")}),z&&s.jsxs("div",{className:"absolute -bottom-5 left-0 text-[10px] font-bold text-indigo-600 flex items-center gap-1 animate-in fade-in",children:[s.jsx(Co,{className:"h-3 w-3"})," +1 Day"]})]}),s.jsxs("div",{className:"md:col-span-4 space-y-1",children:[s.jsx(Ke,{className:"text-xs text-muted-foreground",children:"Notes"}),s.jsx(we,{placeholder:"Project or task...",value:I.notes,onChange:Z=>W(I.id,"notes",Z.target.value),className:"h-9"})]})]},I.id)}),s.jsxs(V,{variant:"outline",size:"sm",onClick:T,className:"w-full border-dashed text-muted-foreground hover:text-foreground",children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"})," Add Another Time Block"]})]}),s.jsxs("div",{className:"p-4 border-t bg-muted/20 flex justify-between items-center gap-4",children:[s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[s.jsx(ih,{className:"h-4 w-4 shrink-0"}),s.jsxs("span",{children:["Marked as ",s.jsx("strong",{children:"Manual"}),"."]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{variant:"ghost",onClick:()=>f(!1),children:"Cancel"}),s.jsxs(V,{onClick:te,disabled:K.validBlocks.length===0,className:"min-w-[120px]",children:[s.jsx(Ei,{className:"h-4 w-4 mr-2"})," Save Logs"]})]})]})]})})]})}const kE=[{id:"macbook-pricer",title:"MacBook Pricer",description:"Instant resale value estimation for Apple silicon and Intel MacBooks.",icon:mr,path:"/utilities/macbook-pricer",category:"Finance"},{id:"in-store-pricer",title:"In-Store Pricer",description:"Calculate retail pricing, margins, and taxes for store inventory.",icon:a7,path:"/utilities/in-store-pricer",category:"Finance"}],Epe=e=>{switch(e){case"Finance":return{badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",iconBg:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400",glow:"group-hover:shadow-emerald-500/20 group-hover:border-emerald-500/50",gradient:"from-emerald-500/20 to-transparent"};case"Technical":return{badge:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20",iconBg:"bg-blue-500/10 text-blue-600 dark:text-blue-400",glow:"group-hover:shadow-blue-500/20 group-hover:border-blue-500/50",gradient:"from-blue-500/20 to-transparent"};default:return{badge:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/20",iconBg:"bg-orange-500/10 text-orange-600 dark:text-orange-400",glow:"group-hover:shadow-orange-500/20 group-hover:border-orange-500/50",gradient:"from-orange-500/20 to-transparent"}}},CE=({tool:e,isFavorite:t,onToggleFavorite:r})=>{const n=Bi(),a=Epe(e.category);return s.jsxs(Me.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},whileHover:{y:-5,scale:1.01},whileTap:{scale:.98},onClick:()=>n(e.path),className:se("group relative flex flex-col p-6 rounded-2xl border bg-card/50 backdrop-blur-xl shadow-sm transition-all duration-300 cursor-pointer overflow-hidden",a.glow),children:[s.jsx("div",{className:se("absolute top-0 left-0 right-0 h-1 bg-gradient-to-r opacity-50 transition-opacity group-hover:opacity-100",a.gradient)}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),s.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[s.jsx("div",{className:se("p-3 rounded-2xl border border-transparent transition-all duration-300 group-hover:scale-110",a.iconBg),children:s.jsx(e.icon,{className:"h-6 w-6"})}),s.jsx("button",{onClick:o=>{o.stopPropagation(),r(e.id)},className:se("p-2 rounded-full transition-all duration-200 hover:bg-muted",t?"text-yellow-400":"text-muted-foreground/30 hover:text-yellow-400"),children:s.jsx(jb,{className:se("h-5 w-5 transition-transform active:scale-90",t&&"fill-current")})})]}),s.jsxs("div",{className:"mt-5 relative z-10 flex-1",children:[s.jsx("h3",{className:"font-bold text-lg tracking-tight text-foreground group-hover:text-primary transition-colors",children:e.title}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground leading-relaxed",children:e.description})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-border/50 flex items-center justify-between relative z-10",children:[s.jsx("span",{className:se("text-[10px] font-bold uppercase tracking-widest px-2.5 py-1 rounded-md border",a.badge),children:e.category}),s.jsxs("div",{className:"flex items-center text-xs font-semibold text-primary/80 group-hover:text-primary translate-x-2 opacity-0 group-hover:translate-x-0 group-hover:opacity-100 transition-all duration-300",children:["Open Tool ",s.jsx(Ld,{className:"ml-1.5 h-3.5 w-3.5"})]})]})]})};function Tpe(){const[e,t]=u.useState(""),[r,n]=u.useState(()=>{try{return JSON.parse(localStorage.getItem("tool_favorites")||"[]")}catch{return[]}}),[a,o]=u.useState(()=>{try{return localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches}catch{return!1}});u.useEffect(()=>{const f=window.document.documentElement;a?(f.classList.add("dark"),localStorage.setItem("theme","dark")):(f.classList.remove("dark"),localStorage.setItem("theme","light"))},[a]);const i=f=>{n(h=>{const m=h.includes(f)?h.filter(p=>p!==f):[...h,f];return localStorage.setItem("tool_favorites",JSON.stringify(m)),m})},l=u.useMemo(()=>{const f=e.toLowerCase().trim();return f?kE.filter(h=>h.title.toLowerCase().includes(f)||h.description.toLowerCase().includes(f)||h.category.toLowerCase().includes(f)):kE},[e]),c=u.useMemo(()=>l.filter(f=>r.includes(f.id)),[l,r]),d=u.useMemo(()=>l.filter(f=>!r.includes(f.id)),[l,r]);return s.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-primary/20 transition-colors duration-300 relative overflow-x-hidden",children:[s.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay"}),s.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.08]",style:{backgroundImage:"radial-gradient(circle at 1px 1px, currentColor 1px, transparent 0)",backgroundSize:"24px 24px"}}),s.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-primary/20 rounded-full blur-[120px] mix-blend-screen opacity-50 dark:opacity-30"}),s.jsx("div",{className:"absolute bottom-0 right-1/4 w-[600px] h-[600px] bg-blue-500/10 rounded-full blur-[140px] mix-blend-screen opacity-50 dark:opacity-30"})]}),s.jsxs("header",{className:"sticky top-0 z-50 h-16 border-b border-border/40 bg-background/80 backdrop-blur-xl px-4 sm:px-6 flex items-center justify-between shadow-sm",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-primary blur rounded-lg opacity-20 group-hover:opacity-40 transition-opacity"}),s.jsx("div",{className:"relative h-9 w-9 bg-background rounded-lg flex items-center justify-center border border-primary/20 shadow-sm",children:s.jsx(hs,{className:"h-5 w-5 text-primary"})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold tracking-tight text-base leading-none",children:"Synergy"}),s.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest mt-0.5",children:"Utilities"})]})]})}),s.jsx("div",{className:"flex-1 max-w-lg px-8 hidden sm:block",children:s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-r from-primary/20 to-blue-500/20 rounded-full blur opacity-0 group-focus-within:opacity-100 transition-opacity duration-500"}),s.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),s.jsx("input",{type:"text",placeholder:"Type to search tools...",value:e,onChange:f=>t(f.target.value),className:"w-full h-10 pl-10 pr-10 rounded-full bg-muted/40 border border-transparent focus:bg-background focus:border-primary/30 focus:ring-2 focus:ring-primary/10 transition-all outline-none placeholder:text-muted-foreground/60 shadow-inner"}),e&&s.jsx("button",{onClick:()=>t(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(Mt,{className:"h-3.5 w-3.5"})})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>window.location.href="/",className:"p-2 rounded-full hover:bg-muted text-muted-foreground hover:text-foreground transition-colors relative group",title:"Home",children:[s.jsx(uh,{className:"h-5 w-5"}),s.jsx("span",{className:"sr-only",children:"Home"})]}),s.jsx("div",{className:"h-4 w-px bg-border/60 mx-1"}),s.jsx("button",{onClick:()=>o(!a),className:"p-2 rounded-full hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",title:"Toggle Theme",children:s.jsx(Pn,{mode:"wait",initial:!1,children:s.jsx(Me.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},exit:{y:10,opacity:0},transition:{duration:.2},children:a?s.jsx(Fi,{className:"h-5 w-5"}):s.jsx(Co,{className:"h-5 w-5"})},a?"dark":"light")})})]})]}),s.jsxs("main",{className:"relative z-10 p-6 md:p-8 max-w-7xl mx-auto space-y-12",children:[s.jsx("div",{className:"sm:hidden",children:s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search tools...",value:e,onChange:f=>t(f.target.value),className:"w-full h-11 pl-10 rounded-xl bg-muted/50 border-transparent focus:bg-background focus:border-primary/30"})]})}),s.jsx(Pn,{children:r.length>0&&c.length>0&&s.jsxs(Me.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,height:0},className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-muted-foreground uppercase tracking-widest px-1",children:[s.jsx(mh,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),"Quick Access"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(f=>s.jsx(CE,{tool:f,isFavorite:!0,onToggleFavorite:i},f.id))})]})}),s.jsxs("section",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-muted-foreground uppercase tracking-widest px-1",children:[s.jsx(fh,{className:"h-4 w-4"}),e?"Search Results":"Available Utilities"]}),d.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(f=>s.jsx(CE,{tool:f,isFavorite:!1,onToggleFavorite:i},f.id))}):l.length===0&&s.jsxs(Me.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-24 text-center border border-dashed border-border/60 rounded-3xl bg-muted/5 backdrop-blur-sm",children:[s.jsx("div",{className:"h-16 w-16 bg-muted/50 rounded-2xl flex items-center justify-center mb-4 shadow-inner",children:s.jsx(Yt,{className:"h-8 w-8 text-muted-foreground/40"})}),s.jsx("h3",{className:"text-xl font-bold text-foreground",children:"No tools found"}),s.jsxs("p",{className:"text-muted-foreground max-w-xs mt-2 text-sm",children:[`We couldn't find any utilities matching "`,e,'".']}),s.jsx("button",{onClick:()=>t(""),className:"mt-6 px-6 py-2 bg-primary/10 text-primary hover:bg-primary/20 rounded-full text-sm font-semibold transition-colors",children:"Clear search"})]})]})]})]})}async function Ppe(){try{const t=await(await fetch(`${Kt}/pricing-config`,{cache:"no-store"})).json();return(t==null?void 0:t.data)??null}catch{return null}}async function Mpe(e){await fetch(`${Kt}/pricing-config`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e})})}async function Ipe(e,t){try{const n=await(await fetch(`${Kt}/msrp?model_key=${encodeURIComponent(e)}&year=${t}`)).json();return Number((n==null?void 0:n.msrp)??999)}catch{return 999}}const L1={INTEL_MODIFIERS:{STORAGE_MOD_PER_256GB:30,RAM_MOD_PER_8GB:50},M_SERIES_MODIFIERS:{STORAGE_MOD_PER_256GB:50,RAM_MOD_PER_8GB:75},CONDITION_DEDUCTS:{A:0,B:-20,C:-50,D:-100},PRICING_DATA_MAP:{AIR_13:{2017:{basePrice:200,baseStorage:128,baseRAM:8,baseCPU:"i5",cpuUpgrades:{i7:75}},2018:{basePrice:275,baseStorage:128,baseRAM:8,baseCPU:"i5",cpuUpgrades:{}},2019:{basePrice:300,baseStorage:256,baseRAM:8,baseCPU:"i5",cpuUpgrades:{}},2020:{basePrice:325,baseStorage:256,baseRAM:8,baseCPU:"i5",cpuUpgrades:{}}},PRO_13:{2016:{basePrice:250,baseStorage:256,baseRAM:8,baseCPU:"i5",cpuUpgrades:{i7:75}},2017:{basePrice:275,baseStorage:256,baseRAM:8,baseCPU:"i5",cpuUpgrades:{i7:75}},2018:{basePrice:325,baseStorage:256,baseRAM:8,baseCPU:"i5",cpuUpgrades:{i7:75}},2019:{basePrice:350,baseStorage:256,baseRAM:8,baseCPU:"i5",cpuUpgrades:{i7:75}},2020:{basePrice:400,baseStorage:512,baseRAM:16,baseCPU:"i5",cpuUpgrades:{i7:75}}},PRO_15:{2016:{basePrice:350,baseStorage:256,baseRAM:16,baseCPU:"i7",cpuUpgrades:{}},2017:{basePrice:375,baseStorage:256,baseRAM:16,baseCPU:"i7",cpuUpgrades:{}},2018:{basePrice:400,baseStorage:256,baseRAM:16,baseCPU:"i7",cpuUpgrades:{i9:125}},2019:{basePrice:450,baseStorage:256,baseRAM:16,baseCPU:"i7",cpuUpgrades:{i9:125}}},PRO_16:{2019:{basePrice:500,baseStorage:512,baseRAM:16,baseCPU:"i7",cpuUpgrades:{i9:125}}},AIR_13_M1:{2020:{basePrice:400,baseStorage:256,baseRAM:8,baseCPU:"M1",cpuUpgrades:{}}},AIR_13_M2:{2022:{basePrice:550,baseStorage:256,baseRAM:8,baseCPU:"M2",cpuUpgrades:{}}},PRO_13_M:{2020:{basePrice:450,baseStorage:256,baseRAM:8,baseCPU:"M1",cpuUpgrades:{}},2022:{basePrice:600,baseStorage:256,baseRAM:8,baseCPU:"M2",cpuUpgrades:{}}},PRO_14_M:{2021:{basePrice:1100,baseStorage:512,baseRAM:16,baseCPU:"M1 Pro",cpuUpgrades:{"M1 Max":250}}},PRO_16_M:{2021:{basePrice:1300,baseStorage:512,baseRAM:16,baseCPU:"M1 Pro",cpuUpgrades:{"M1 Max":250}}}}},_E=[4,8,16,32,64],EE=[64,128,256,512,1024,2048,4096],Mn={AIR_MAGS1:"AIR_MAGS1",AIR_2012_2016:"AIR_2012_2016",PRO_2012_2015:"PRO_2012_2015"},E8={[Mn.AIR_MAGS1]:100,[Mn.AIR_2012_2016]:150,[Mn.PRO_2012_2015]:175},Ape={[Mn.AIR_MAGS1]:["i5","i7"],[Mn.AIR_2012_2016]:["i5","i7"],[Mn.PRO_2012_2015]:["i5","i7"]},mv={[Mn.AIR_MAGS1]:[11,13],[Mn.AIR_2012_2016]:[11,13],[Mn.PRO_2012_2015]:[13,15]},Ks=e=>!!e&&Object.prototype.hasOwnProperty.call(E8,e),Ho=[{key:Mn.AIR_MAGS1,title:"Air MagSafe 1",range:"1011",years:[2010,2011]},{key:Mn.AIR_2012_2016,title:"Air 20122016",range:"1216",years:[2012,2013,2014,2015,2016]},{key:Mn.PRO_2012_2015,title:"Pro 20122015",range:"1215",years:[2012,2013,2014,2015]},{key:"AIR_13",title:"Air 13 (Intel)",range:"1720",years:[2017,2018,2019,2020]},{key:"PRO_13",title:"Pro 13 (Intel)",range:"1620",years:[2016,2017,2018,2019,2020]},{key:"PRO_15",title:"Pro 15 (Intel)",range:"1619",years:[2016,2017,2018,2019]},{key:"PRO_16",title:"Pro 16 (Intel)",range:"2019",years:[2019]},{key:"AIR_13_M1",title:"Air 13 (M1)",range:"2020",years:[2020]},{key:"AIR_13_M2",title:"Air 13.6 (M2)",range:"2022",years:[2022]},{key:"PRO_13_M",title:"Pro 13 (M1/M2)",range:"2022",years:[2020,2022]},{key:"PRO_14_M",title:"Pro 14 (M1 Pro/Max)",range:"2021",years:[2021]},{key:"PRO_16_M",title:"Pro 16 (M1 Pro/Max)",range:"2021",years:[2021]}],Ope={A1466:{model:"AIR_13",year:2017},A1932:{model:"AIR_13",year:2018},A2179:{model:"AIR_13",year:2020},A1708:{model:"PRO_13",year:2016},A1706:{model:"PRO_13",year:2017},A1989:{model:"PRO_13",year:2018},A2289:{model:"PRO_13",year:2020},A1707:{model:"PRO_15",year:2016},A1990:{model:"PRO_15",year:2018},A2141:{model:"PRO_16",year:2019},A2337:{model:"AIR_13_M1",year:2020},A2681:{model:"AIR_13_M2",year:2022},A2338:{model:"PRO_13_M",year:null},A2442:{model:"PRO_14_M",year:2021},A2485:{model:"PRO_16_M",year:2021}},TE="synergy_macbook_theme",Rg="synergy_macbook_pricing_config_v2",Rpe=e=>{const t=e==="dark";return{bg:t?"bg-gray-950":"bg-gray-50",text:t?"text-white":"text-gray-900",subText:t?"text-slate-400":"text-gray-600",border:t?"border-slate-800":"border-gray-200",cardBg:t?"bg-slate-900/70 border-slate-700/50":"bg-white/90 border-gray-200",cardTitle:t?"text-white":"text-gray-900",inputBg:t?"bg-slate-800 border-slate-700":"bg-white border-gray-300",inputText:t?"text-white":"text-gray-900",accentPrimary:"text-indigo-500",accentBg:"bg-indigo-600 hover:bg-indigo-700",accentText:"text-white",selectedBg:"bg-indigo-500/10 border-indigo-500 ring-2 ring-indigo-500",unselectedBg:t?"bg-slate-800 border-slate-700":"bg-white border-gray-300",tabSelected:"border-b-2 border-indigo-500 text-indigo-500",tabUnselected:t?"text-slate-400 hover:text-white":"text-gray-500 hover:text-gray-900"}},Dpe=e=>e&&(e.includes("_M")||e==="AIR_13_M1"||e==="AIR_13_M2"),Dg=(e,t=0)=>{const r=Number(e);return e===""||isNaN(r)?t:r},wa=ue.memo(({label:e,value:t,onChange:r,type:n="number",min:a=0,placeholder:o="0",palette:i})=>s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${i.subText}`,children:e}),s.jsx("input",{type:n,value:t===0?"0":t,onChange:l=>r(n==="number"?Dg(l.target.value,0):l.target.value),className:`w-full px-3 py-2 rounded-lg text-sm ${i.inputBg} ${i.inputText} border ${i.border} focus:outline-none focus:ring-2 focus:ring-indigo-500`,min:a,placeholder:o})]})),Lpe=ue.memo(({aNumberInput:e,setANumberInput:t,palette:r})=>s.jsxs("div",{className:"pt-2 border-t mt-3",children:[s.jsxs("p",{className:`text-xs ${r.subText} mb-1 flex items-center gap-1`,children:[s.jsx(Yt,{className:"h-3 w-3 text-indigo-500"})," A-Number Lookup (Finds model/year automatically)"]}),s.jsx("input",{type:"text",placeholder:"A-number (e.g., A1708, A2338)",value:e,onChange:n=>t(n.target.value),className:`w-full px-3 py-1.5 rounded-lg text-sm ${r.inputBg} ${r.inputText} border ${r.border} focus:outline-none focus:ring-1 focus:ring-indigo-500`})]})),$pe=ue.memo(function({isOpen:t,onClose:r,pricingConfig:n,setPricingConfig:a,palette:o}){var k,_;const[i,l]=u.useState(n),[c,d]=u.useState("modifiers"),[f,h]=u.useState(null),[m,p]=u.useState(Ho[0].key),[g,x]=u.useState(Ho[0].years[0]||null);u.useEffect(()=>{l(n)},[n]);const b=u.useCallback(C=>E=>{!m||!g||l(T=>{const A=JSON.parse(JSON.stringify(T));return A.PRICING_DATA_MAP[m]||(A.PRICING_DATA_MAP[m]={}),A.PRICING_DATA_MAP[m][g]||(A.PRICING_DATA_MAP[m][g]={basePrice:0,baseStorage:0,baseRAM:0,baseCPU:"i5",cpuUpgrades:{}}),A.PRICING_DATA_MAP[m][g][C]=E,A})},[m,g]),y=async()=>{const C=E=>typeof E=="number"&&!isNaN(E);if(!C(i.INTEL_MODIFIERS.RAM_MOD_PER_8GB)||!C(i.M_SERIES_MODIFIERS.STORAGE_MOD_PER_256GB)||Object.values(i.CONDITION_DEDUCTS).some(E=>!C(E))){h("Please ensure all global modifier and deduction fields are valid numbers.");return}a(i);try{localStorage.setItem(Rg,JSON.stringify(i)),await Mpe(i),h(null),r()}catch{h("Saved locally, but failed to save to server.")}},v=()=>{l(L1),localStorage.removeItem(Rg)},w=u.useMemo(()=>{if(!m||!g)return null;const C=i.PRICING_DATA_MAP[m];return C?C[g]:null},[m,g,i.PRICING_DATA_MAP]);if(!t)return null;const j=()=>s.jsxs("div",{className:"space-y-6 p-2",children:[s.jsx("h3",{className:`text-lg font-semibold border-b pb-2 mb-4 ${o.accentPrimary}`,children:"1. RAM/SSD Price Bumps"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-4 rounded-lg border ${o.unselectedBg} space-y-3`,children:[s.jsx("h4",{className:"font-bold text-indigo-400",children:"Intel Models (e.g., 2018 Pro 15)"}),s.jsx(wa,{label:"SSD Mod / 256GB (e.g., 50)",value:i.INTEL_MODIFIERS.STORAGE_MOD_PER_256GB,onChange:C=>l(E=>({...E,INTEL_MODIFIERS:{...E.INTEL_MODIFIERS,STORAGE_MOD_PER_256GB:C}})),min:0,palette:o}),s.jsx(wa,{label:"RAM Mod / 8GB (e.g., 75)",value:i.INTEL_MODIFIERS.RAM_MOD_PER_8GB,onChange:C=>l(E=>({...E,INTEL_MODIFIERS:{...E.INTEL_MODIFIERS,RAM_MOD_PER_8GB:C}})),min:0,palette:o})]}),s.jsxs("div",{className:`p-4 rounded-lg border ${o.unselectedBg} space-y-3`,children:[s.jsx("h4",{className:"font-bold text-indigo-400",children:"M-Series Models (e.g., M1 Air)"}),s.jsx(wa,{label:"SSD Mod / 256GB (e.g., 75)",value:i.M_SERIES_MODIFIERS.STORAGE_MOD_PER_256GB,onChange:C=>l(E=>({...E,M_SERIES_MODIFIERS:{...E.M_SERIES_MODIFIERS,STORAGE_MOD_PER_256GB:C}})),min:0,palette:o}),s.jsx(wa,{label:"RAM Mod / 8GB (e.g., 100)",value:i.M_SERIES_MODIFIERS.RAM_MOD_PER_8GB,onChange:C=>l(E=>({...E,M_SERIES_MODIFIERS:{...E.M_SERIES_MODIFIERS,RAM_MOD_PER_8GB:C}})),min:0,palette:o})]})]}),s.jsx("h3",{className:`text-lg font-semibold border-b pb-2 pt-4 mb-4 ${o.accentPrimary}`,children:"2. Condition Deductions"}),s.jsx("p",{className:`text-sm ${o.subText} mb-3`,children:"Enter deductions as negative numbers (e.g., -50). Grade A is always $0."}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.keys(L1.CONDITION_DEDUCTS).filter(C=>C!=="A").map(C=>s.jsx(wa,{label:`Grade ${C} Deduct`,value:i.CONDITION_DEDUCTS[C],onChange:E=>l(T=>({...T,CONDITION_DEDUCTS:{...T.CONDITION_DEDUCTS,[C]:E}})),min:-1e4,palette:o},C))})]}),N=s.jsxs("div",{className:"space-y-4 p-2",children:[s.jsx("h3",{className:`text-lg font-semibold border-b pb-2 mb-4 ${o.accentPrimary}`,children:"1. Select Base Model"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Ho.map(C=>s.jsx(Me.button,{onClick:()=>{p(C.key),x(C.years[0]||null)},className:`px-3 py-1.5 rounded-lg text-sm transition-colors border ${m===C.key?o.tabSelected:o.unselectedBg+" "+o.subText+" hover:text-white"}`,whileTap:{scale:.95},children:C.title},C.key))}),s.jsx("h3",{className:`text-lg font-semibold border-b pb-2 pt-4 mb-4 ${o.accentPrimary}`,children:"2. Select Year"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(k=Ho.find(C=>C.key===m))==null?void 0:k.years.map(C=>s.jsx(Me.button,{onClick:()=>x(C),className:`px-3 py-1.5 rounded-lg text-sm transition-colors border ${g===C?o.tabSelected:o.unselectedBg+" "+o.subText+" hover:text-white"}`,whileTap:{scale:.95},children:C},C))}),w&&s.jsxs(Me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`p-4 rounded-lg border mt-4 ${o.unselectedBg} space-y-4`,children:[s.jsxs("h3",{className:`text-lg font-semibold ${o.accentPrimary}`,children:["Editing: ",(_=Ho.find(C=>C.key===m))==null?void 0:_.title," ",g]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(wa,{label:"Base Price ($)",value:w.basePrice,onChange:b("basePrice"),palette:o}),s.jsx(wa,{label:"Base RAM (GB)",value:w.baseRAM,onChange:b("baseRAM"),min:1,palette:o}),s.jsx(wa,{label:"Base SSD (GB)",value:w.baseStorage,onChange:b("baseStorage"),min:1,palette:o}),s.jsx(wa,{label:"Base CPU Name",value:w.baseCPU,onChange:b("baseCPU"),type:"text",placeholder:"e.g., i5, M1",palette:o})]})]}),!w&&m&&g&&s.jsx("div",{className:`p-4 rounded-lg border mt-4 text-center ${o.unselectedBg} text-red-400`,children:"Configuration not found for this Model/Year. Please select another."})]}),S=()=>{var T;const C=()=>{if(!m||!g)return;const A=prompt("Enter the name of the new CPU upgrade (e.g., 'i9', 'M1 Max'):");if(A&&A.trim()){const W=Dg(prompt("Enter the price bump (e.g., 150):")||"0");isNaN(W)||l(P=>{const te=JSON.parse(JSON.stringify(P));return te.PRICING_DATA_MAP[m][g].cpuUpgrades[A.trim()]=W,te})}},E=A=>{!m||!g||l(W=>{const P=JSON.parse(JSON.stringify(W));return delete P.PRICING_DATA_MAP[m][g].cpuUpgrades[A],P})};return s.jsxs("div",{className:"space-y-4 p-2",children:[s.jsxs("p",{className:`text-sm ${o.subText}`,children:["Select a Model and Year in the ",s.jsx("b",{children:"Base Price Editor"})," tab to edit its CPU upgrades."]}),w?s.jsxs(Me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`p-4 rounded-lg border mt-4 ${o.unselectedBg} space-y-3`,children:[s.jsxs("h3",{className:`text-lg font-semibold ${o.accentPrimary}`,children:["Upgrades for: ",(T=Ho.find(A=>A.key===m))==null?void 0:T.title," ",g]}),s.jsxs("p",{className:`text-sm ${o.subText}`,children:["Base CPU: ",s.jsx("span",{className:"font-mono text-indigo-400",children:w.baseCPU})," (Price: $0)"]}),s.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:Object.entries(w.cpuUpgrades).map(([A,W])=>s.jsxs("li",{className:"flex justify-between items-center p-2 rounded-lg bg-slate-700/50",children:[s.jsx("span",{className:"font-medium",children:A}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wa,{label:"",value:W,onChange:P=>l(te=>{const le=JSON.parse(JSON.stringify(te));return le.PRICING_DATA_MAP[m][g].cpuUpgrades[A]=P,le}),min:0,placeholder:"Price",palette:o}),s.jsx(Me.button,{onClick:()=>E(A),className:"p-1 rounded-full text-red-400 hover:bg-red-500 hover:text-white transition-colors",whileTap:{scale:.9},children:s.jsx(Tr,{className:"w-4 h-4"})})]})]},A))}),s.jsxs(Me.button,{onClick:C,className:`w-full flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-bold transition-colors ${o.accentBg} ${o.accentText} mt-4`,whileTap:{scale:.98},children:[s.jsx(Vr,{className:"h-4 w-4"})," Add New CPU Upgrade"]})]}):s.jsxs("div",{className:`p-4 rounded-lg border mt-4 text-center ${o.unselectedBg} text-yellow-400`,children:["Please select a Model and Year in the ",s.jsx("b",{children:"Base Price Editor"})," tab first."]})]})};return s.jsx(Me.div,{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsxs(Me.div,{className:`w-full max-w-5xl max-h-[90vh] ${o.cardBg} rounded-xl shadow-2xl p-6 flex flex-col`,initial:{scale:.9,y:50},animate:{scale:1,y:0},exit:{scale:.9,y:50},transition:{type:"spring",stiffness:200,damping:20},children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-3 border-indigo-500/30",children:[s.jsxs("h2",{className:`text-2xl font-bold flex items-center gap-2 ${o.accentPrimary}`,children:[s.jsx(vo,{className:"w-6 h-6"})," Pricing Configuration Editor"]}),s.jsx(Me.button,{onClick:r,className:`p-1 rounded-full ${o.unselectedBg} text-gray-400 hover:text-white hover:bg-red-500`,whileHover:{rotate:90},children:s.jsx(Sf,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:`flex border-b mb-4 ${o.border}`,children:[s.jsx("button",{onClick:()=>d("modifiers"),className:`px-4 py-2 text-sm font-medium transition-colors ${c==="modifiers"?o.tabSelected:o.tabUnselected}`,children:"Global Modifiers & Deducts"}),s.jsx("button",{onClick:()=>d("base"),className:`px-4 py-2 text-sm font-medium transition-colors ${c==="base"?o.tabSelected:o.tabUnselected}`,children:"Base Price Editor (Model/Year)"}),s.jsx("button",{onClick:()=>d("cpu"),className:`px-4 py-2 text-sm font-medium transition-colors ${c==="cpu"?o.tabSelected:o.tabUnselected}`,children:"CPU Upgrade Editor"})]}),f&&s.jsxs("div",{className:"p-3 mb-4 bg-red-900/50 border border-red-500 rounded-lg text-sm text-red-300 flex items-center gap-2",children:[s.jsx(Sf,{className:"w-5 h-5"})," Error: ",f]}),s.jsxs("div",{className:"flex-grow overflow-y-auto custom-scrollbar p-2",children:[c==="modifiers"&&j(),c==="base"&&N,c==="cpu"&&S()]}),s.jsxs("div",{className:"mt-4 flex justify-between gap-3 border-t pt-4",children:[s.jsxs(Me.button,{onClick:v,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-gray-600 hover:bg-gray-700 text-white",whileTap:{scale:.98},children:[s.jsx(hs,{className:"w-4 h-4"})," Reset to Default"]}),s.jsxs(Me.button,{onClick:y,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-colors ${o.accentBg} ${o.accentText} shadow-lg`,whileTap:{scale:.98},children:[s.jsx(Ei,{className:"w-4 h-4"})," Save and Apply Changes"]})]})]})})});function Fpe(){const[e,t]=u.useState(()=>{try{const M=localStorage.getItem(TE);if(M==="light"||M==="dark")return M}catch{}return"dark"}),r=()=>{const M=e==="dark"?"light":"dark";t(M);try{localStorage.setItem(TE,M)}catch{}},n=Rpe(e),[a,o]=u.useState(!1),[i,l]=u.useState(()=>{try{const M=localStorage.getItem(Rg);if(M){const re=JSON.parse(M);if(re.PRICING_DATA_MAP&&re.INTEL_MODIFIERS)return re}}catch(M){console.error("Failed to load config from storage, using default:",M)}return L1});u.useEffect(()=>{(async()=>{try{const M=await Ppe();if(M&&M.PRICING_DATA_MAP){l(M);try{localStorage.setItem(Rg,JSON.stringify(M))}catch{}}}catch(M){console.warn("GET /pricing-config failed; using local/default",M)}})()},[]);const{INTEL_MODIFIERS:c,M_SERIES_MODIFIERS:d,CONDITION_DEDUCTS:f,PRICING_DATA_MAP:h}=i,[m,p]=u.useState(null),[g,x]=u.useState(null),[b,y]=u.useState(null),[v,w]=u.useState(null),[j,N]=u.useState(null),[S,k]=u.useState("A"),[_,C]=u.useState(null),[E,T]=u.useState(""),[A,W]=u.useState(""),[P,te]=u.useState(""),le=u.useMemo(()=>Dg(A,0),[A]),K=u.useMemo(()=>Dg(P,0),[P]),D=u.useMemo(()=>le>0?Math.round(le*.7):0,[le]);u.useEffect(()=>{m&&g&&(!A||A.trim()===""||A==="0")&&W("999")},[m,g]),u.useEffect(()=>{(async()=>{if(!m||!g||A&&A!=="999")return;const M=await Ipe(String(m),g);W(String(Math.round(M)))})()},[m,g,A]);const I=u.useMemo(()=>Ho.find(M=>M.key===m),[m]),R=u.useMemo(()=>{var M;return!m||!g?null:((M=h[m])==null?void 0:M[g])||null},[m,g,h]);u.useEffect(()=>{m&&g&&R&&(y(R.baseRAM),w(R.baseStorage),N(R.baseCPU),k("A"),C(null)),m&&Ks(m)&&(y(M=>M??4),w(M=>M??256),N(M=>M??"i5"),k("A"),C(M=>M??mv[m][0]))},[m,g,R]);const q=u.useMemo(()=>{let M=0;if(Ks(m)){const Ne=E8[m],xe={"Fixed Price":Ne};if(_&&(xe[`Screen Size (${_}")`]=0),j&&(xe[`CPU (${j})`]=0),b!=null&&(xe[`RAM (${b}GB)`]=0),v!=null){const Re=v>=1024?`${v/1024}TB`:`${v}GB`;xe[`Storage (${Re})`]=0}return{final:Math.max(0,Math.round(Ne)),details:xe,mods:{STORAGE_MOD_PER_256GB:0,RAM_MOD_PER_8GB:0}}}if(!R)return{final:0,details:{},mods:c};const{basePrice:re,baseStorage:de,baseRAM:Ee,baseCPU:Ze,cpuUpgrades:rt}=R,{STORAGE_MOD_PER_256GB:Xe,RAM_MOD_PER_8GB:et}=Dpe(m)?d:c;M=re;let Je={};Je["Base Value (Model/Year)"]=re;const We=v!==null?v:de,ee=b!==null?b:Ee,X=j!==null?j:Ze;let Te=0;X!==Ze&&(Te=rt[X]||0,M+=Te),Je[`CPU Upgrade (${X})`]=Te;let be=0;if(ee>Ee){const Ne=ee-Ee;be=Math.floor(Ne/8)*et,M+=be}Je[`RAM Bump (+${ee}GB)`]=be;let H=0;if(We>de){const Ne=We-de;H=Math.floor(Ne/256)*Xe,M+=H}Je[`Storage Bump (+${We}GB)`]=H;const ge=f[S]||0;return M+=ge,Je[`Condition (${S} Deduct)`]=ge,{final:Math.max(0,Math.round(M)),details:Je,mods:{STORAGE_MOD_PER_256GB:Xe,RAM_MOD_PER_8GB:et}}},[R,v,b,j,S,m,_,c,d,f]);u.useEffect(()=>{const M=setTimeout(()=>{const re=E.trim().toUpperCase(),de=Ope[re];de&&(p(de.model),de.year!==null?x(de.year):x(null))},300);return()=>clearTimeout(M)},[E]);const z=()=>{if(q.final===0||!R&&!Ks(m))return;const M=R,re=b||((M==null?void 0:M.baseRAM)??"N/A"),de=v||((M==null?void 0:M.baseStorage)??"N/A"),Ee=j||((M==null?void 0:M.baseCPU)??"N/A"),Ze=Ks(m)&&_?`Screen Size: ${_}"
`:"",rt=`Model: ${(I==null?void 0:I.title)||"Unknown"} ${g||"Unknown"}
`+Ze+`Processor: ${Ee}
RAM: ${re}GB
Storage: ${de}GB
Condition: ${S}
A-Number (if known): ${E||"N/A"}
------------------------
Estimated Price: $${q.final}`,Xe=document.createElement("textarea");Xe.value=rt,document.body.appendChild(Xe),Xe.select();try{document.execCommand("copy")}catch(et){console.error("Could not copy text: ",et)}document.body.removeChild(Xe)},Z=M=>{if(!M)return null;switch(M){case"AIR_13":case"AIR_13_M1":return{modelFamily:"Air",sizeInch:13};case"AIR_13_M2":return{modelFamily:"Air",sizeInch:13.6};case"PRO_13":case"PRO_13_M":return{modelFamily:"Pro",sizeInch:13};case"PRO_14_M":return{modelFamily:"Pro",sizeInch:14};case"PRO_15":return{modelFamily:"Pro",sizeInch:15};case"PRO_16":case"PRO_16_M":return{modelFamily:"Pro",sizeInch:16};case Mn.AIR_MAGS1:case Mn.AIR_2012_2016:return{modelFamily:"Air",sizeInch:13};case Mn.PRO_2012_2015:return{modelFamily:"Pro",sizeInch:15};default:return null}},ce=()=>{if(!m||!g)return;const M=Z(m);if(!M)return;const re=Ks(m)&&_?_:M.sizeInch,de=b??(R==null?void 0:R.baseRAM)??8,Ee=v??(R==null?void 0:R.baseStorage)??256,Ze=j??(R==null?void 0:R.baseCPU)??"Unknown",rt=K>0?K:q.final,Xe=le,et='"',Je=" | ",We=`MacBook ${M.modelFamily} ${Math.round(re)}${et} (${g}) ${Ze}${Je}${de}GB${Je}${Ee}GB`,ee=Te=>String(Te).padStart(2,"0"),X=new Date;`${ee(X.getMonth()+1)}${ee(X.getDate())}${String(X.getFullYear()).slice(-2)}`,td({productName:We,unitPrice:String(Math.round(Xe)),ourPrice:String(Math.round(rt))})},F=m&&g&&(R||Ks(m)),J=({model:M})=>{const re=m===M.key;return s.jsxs(Me.button,{onClick:()=>{p(M.key),x(null)},className:`w-full p-2.5 rounded-lg text-left transition-all duration-300 transform shadow-sm
                    ${re?n.selectedBg:n.unselectedBg}
                    ${n.border} border
                    hover:shadow-lg hover:scale-[1.01]`,whileTap:{scale:.98},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:`text-base font-bold ${n.cardTitle}`,children:M.title}),re&&s.jsx(lh,{className:`h-4 w-4 ${n.accentPrimary}`})]}),s.jsx("p",{className:`text-xs mt-0.5 ${n.subText}`,children:M.range})]},M.key)},L=({year:M})=>{const re=g===M;return s.jsx(Me.button,{onClick:()=>x(M),className:`px-3 py-1 rounded-md text-xs font-medium transition-all duration-200
                    ${re?`${n.accentBg} ${n.accentText}`:`${n.unselectedBg} ${n.cardTitle} border ${n.border} hover:bg-slate-700/50`}`,whileTap:{scale:.9},children:M},M)},U=({label:M,value:re,current:de,modifier:Ee,onClick:Ze,isCondition:rt=!1})=>{const Xe=re===de,et=M.includes("(Base)"),Je=Ee<0,We=Ee===0?"":Je?`(-$${Math.abs(Ee)})`:`(+$${Ee})`,ee=et||Ee===0?n.subText:Je?"text-red-400":"text-emerald-400";return s.jsxs(Me.button,{onClick:Ze,className:`flex-1 px-2 py-1.5 rounded-lg text-xs font-medium border transition-all duration-150 shadow-sm
                          ${Xe?`${n.accentBg} ${n.accentText} border-indigo-700`:`${n.unselectedBg} ${n.cardTitle} border-gray-500/50 hover:bg-slate-700/50`}`,whileTap:{scale:.95},children:[s.jsx("div",{className:"font-bold whitespace-nowrap",children:M}),s.jsx("div",{className:`mt-0.5 ${ee} ${Xe?"text-indigo-200":""} ${rt?"text-[10px]":""}`,children:We})]})},$=`
    .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: ${e==="dark"?"#4f46e5":"#6366f1"};
        border-radius: 4px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
        background: ${e==="dark"?"#1f2937":"#f3f4f6"};
        border-radius: 4px;
    }
  `;return s.jsxs("div",{className:`min-h-screen ${n.bg} ${n.text} py-6 px-4 sm:px-6 lg:px-8 transition-colors duration-500`,children:[s.jsx("script",{dangerouslySetInnerHTML:{__html:`
            function parseNumberInput(value) {
                const num = Number(value);
                return isNaN(num) ? 0 : num;
            }
        `}}),s.jsx("style",{dangerouslySetInnerHTML:{__html:$}}),s.jsx($pe,{isOpen:a,onClose:()=>o(!1),pricingConfig:i,setPricingConfig:l,palette:n}),s.jsxs("div",{className:"max-w-6xl mx-auto relative",children:[s.jsx("header",{className:"sticky top-0 z-20 transition-colors duration-300 pt-4 pb-0",children:s.jsxs("div",{className:`max-w-6xl mx-auto rounded-xl overflow-hidden border-b-0 border ${e==="dark"?"bg-gray-900/80 border-gray-800":"bg-white/80 border-gray-200"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between shadow-xl`,children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex flex-col leading-tight",children:[s.jsx("h2",{className:`${e==="dark"?"text-indigo-400":"text-indigo-600"} text-xl font-black tracking-tight`,children:"Synergy"}),s.jsx("h1",{className:`${e==="dark"?"text-gray-300":"text-gray-700"} text-sm font-semibold tracking-tight mt-0.5`,children:"MacBook Pricer Utility"})]})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("a",{href:"/utilities",className:`inline-flex items-center rounded-lg border px-3 py-2 text-sm font-medium transition-all duration-200 ${e==="dark"?"border-gray-700 text-gray-300 hover:bg-gray-800 hover:text-white":"border-gray-300 text-gray-700 hover:bg-gray-100"}`,title:"Back to Utilities","aria-label":"Back to Utilities",children:[s.jsx(zw,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Utilities"}),s.jsx("span",{className:"sm:hidden",children:"Back"})]}),s.jsx("div",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-300"} h-6 w-px`,"aria-hidden":!0}),s.jsx(Me.button,{onClick:()=>o(!0),className:`inline-flex items-center justify-center p-2 rounded-lg transition-colors duration-200 ${e==="dark"?"text-gray-300 hover:bg-gray-800 hover:text-white":"text-gray-700 hover:bg-gray-100"} focus:outline-none focus:ring-2 focus:ring-offset-2 ${e==="dark"?"focus:ring-indigo-500 focus:ring-offset-gray-900":"focus:ring-indigo-500"}`,whileTap:{scale:.95},title:"Open Configuration","aria-label":"Open Configuration",children:s.jsx(vo,{className:"h-5 w-5"})}),s.jsx(Me.button,{onClick:r,className:`inline-flex items-center justify-center p-2 rounded-lg transition-colors duration-200 ${e==="dark"?"text-gray-300 hover:bg-gray-800 hover:text-white":"text-gray-700 hover:bg-gray-100"} focus:outline-none focus:ring-2 focus:ring-offset-2 ${e==="dark"?"focus:ring-indigo-500 focus:ring-offset-gray-900":"focus:ring-indigo-500"}`,whileTap:{scale:.95},title:"Toggle Theme","aria-label":`Switch to ${e==="dark"?"Light":"Dark"} Mode`,children:e==="dark"?s.jsx(Fi,{className:"h-5 w-5"}):s.jsx(Co,{className:"h-5 w-5"})})]})]})}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Me.div,{className:"lg:col-span-2 space-y-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[s.jsxs("div",{className:`p-4 rounded-xl border ${n.border} ${n.cardBg} space-y-3`,children:[s.jsxs("h2",{className:`text-xl font-semibold ${n.cardTitle} flex items-center gap-2`,children:[s.jsx(vb,{className:"w-5 h-5 text-indigo-500"}),"1. Select Model & Year"]}),s.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2",children:Ho.map(M=>s.jsx(J,{model:M},M.key))}),s.jsx(Pn,{children:I&&s.jsxs(Me.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden space-y-3 pt-2 border-t mt-3",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:I.years.map(M=>{var de;return!(!!((de=h[m])!=null&&de[M])||Ks(m))&&!Ks(m)?null:s.jsx(L,{year:M},M)})}),m==="PRO_13_M"&&E.trim().toUpperCase()==="A2338"&&s.jsx("p",{className:"text-xs text-red-400",children:"*A2338 is ambiguous (2020: M1, 2022: M2). Please select the correct year above."})]})}),s.jsx(Lpe,{aNumberInput:E,setANumberInput:T,palette:n})]}),s.jsx(Pn,{children:F&&(R||Ks(m))&&s.jsxs(Me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.4},children:[s.jsxs("h2",{className:`text-xl font-semibold ${n.cardTitle} mb-3 flex items-center gap-2`,children:[s.jsx(hs,{className:"w-5 h-5 text-indigo-500"}),"2. Configure Core Specs & Condition"]}),s.jsx("div",{className:`space-y-4 p-4 rounded-xl border ${n.border} ${n.cardBg} max-h-[60vh] overflow-y-auto custom-scrollbar`,children:Ks(m)?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("h3",{className:`text-base font-semibold ${n.cardTitle} flex items-center gap-1 mb-2`,children:["Screen Size",s.jsx("span",{className:`text-xs ${n.subText} ml-2`,children:"All options: $0"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:mv[m].map(M=>s.jsx(U,{label:`${M}"`,value:M,current:_??mv[m][0],modifier:0,onClick:()=>C(M)},`size-${M}`))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:`text-base font-semibold ${n.cardTitle} flex items-center gap-1 mb-2`,children:[s.jsx(ki,{className:"h-4 w-4 text-indigo-500/80"})," Processor",s.jsx("span",{className:`text-xs ${n.subText} ml-2`,children:"All options: $0"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Ape[m].map(M=>s.jsx(U,{label:M,value:M,current:j||M,modifier:0,onClick:()=>N(M)},`cpu-${M}`))})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsxs("h3",{className:`text-base font-semibold ${n.cardTitle} flex items-center gap-1 mb-2`,children:[s.jsx(bd,{className:"h-4 w-4 text-indigo-500/80"})," RAM",s.jsx("span",{className:`text-xs ${n.subText} ml-2`,children:"All options: $0"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_E.map(M=>s.jsx(U,{label:`${M}GB`,value:M,current:b??4,modifier:0,onClick:()=>y(M)},`ram-${M}`))})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsxs("h3",{className:`text-base font-semibold ${n.cardTitle} flex items-center gap-1 mb-2`,children:[s.jsx(vd,{className:"h-4 w-4 text-indigo-500/80"})," Storage",s.jsx("span",{className:`text-xs ${n.subText} ml-2`,children:"All options: $0"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:EE.map(M=>{const re=M>=1024?`${M/1024}TB`:`${M}GB`;return s.jsx(U,{label:re,value:M,current:v??256,modifier:0,onClick:()=>w(M)},`ssd-${M}`)})})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsxs("h3",{className:`text-base font-semibold ${n.cardTitle} flex items-center gap-1 mb-2`,children:[s.jsx(jb,{className:"h-4 w-4 text-indigo-500/80"})," Condition Deduction"]}),s.jsx("div",{className:"flex gap-2",children:Object.entries(f).map(([M,re])=>s.jsx(U,{label:`Grade ${M}`,value:M,current:S,modifier:re,isCondition:!0,onClick:()=>k(M)},M))})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("h3",{className:`text-base font-semibold ${n.cardTitle} flex items-center gap-1 mb-2`,children:[s.jsx(ki,{className:"h-4 w-4 text-indigo-500/80"})," Processor",s.jsxs("span",{className:`text-xs ${n.subText} ml-2`,children:["Base: ",s.jsx("span",{className:"font-mono text-indigo-400",children:R.baseCPU})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(U,{label:`${R.baseCPU} (Base)`,value:R.baseCPU,current:j||R.baseCPU,modifier:0,onClick:()=>N(R.baseCPU)}),Object.entries(R.cpuUpgrades).map(([M,re])=>s.jsx(U,{label:M,value:M,current:j||R.baseCPU,modifier:re,onClick:()=>N(M)},`cpu-${M}`))]})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsxs("h3",{className:`text-base font-semibold ${n.cardTitle} flex items-center gap-1 mb-2`,children:[s.jsx(bd,{className:"h-4 w-4 text-indigo-500/80"})," RAM",s.jsxs("span",{className:`text-xs ${n.subText} ml-2`,children:["Base: ",s.jsxs("span",{className:"font-mono text-indigo-400",children:[R.baseRAM,"GB"]})," (+$",q.mods.RAM_MOD_PER_8GB,"/8GB)"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_E.filter(M=>M>=R.baseRAM).map(M=>{const re=R.baseRAM,de=M===re,Ee=b||re,Ze=de?0:Math.floor((M-re)/8)*q.mods.RAM_MOD_PER_8GB;return s.jsx(U,{label:`${M}GB ${de?"(Base)":""}`,value:M,current:Ee,modifier:Ze,onClick:()=>y(M)},`ram-${M}`)})})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsxs("h3",{className:`text-base font-semibold ${n.cardTitle} flex items-center gap-1 mb-2`,children:[s.jsx(vd,{className:"h-4 w-4 text-indigo-500/80"})," Storage",s.jsxs("span",{className:`text-xs ${n.subText} ml-2`,children:["Base: ",s.jsxs("span",{className:"font-mono text-indigo-400",children:[R.baseStorage,"GB"]})," (+$",q.mods.STORAGE_MOD_PER_256GB,"/256GB)"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:EE.filter(M=>M>=R.baseStorage).map(M=>{const re=R.baseStorage,de=M===re,Ee=v||re,Ze=de?0:Math.floor((M-re)/256)*q.mods.STORAGE_MOD_PER_256GB;return s.jsx(U,{label:`${M>=1024?`${M/1024}TB`:`${M}GB`} ${de?"(Base)":""}`,value:M,current:Ee,modifier:Ze,onClick:()=>w(M)},`ssd-${M}`)})})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsxs("h3",{className:`text-base font-semibold ${n.cardTitle} flex items-center gap-1 mb-2`,children:[s.jsx(jb,{className:"h-4 w-4 text-indigo-500/80"})," Condition Deduction"]}),s.jsx("div",{className:"flex gap-2",children:Object.entries(f).map(([M,re])=>s.jsx(U,{label:`Grade ${M}`,value:M,current:S,modifier:re,isCondition:!0,onClick:()=>k(M)},M))})]})]})})]})})]}),s.jsxs(Me.div,{className:`lg:col-span-1 sticky top-6 h-fit p-5 rounded-xl shadow-2xl backdrop-blur-md transition-colors ${n.cardBg}`,initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:`text-sm font-medium ${n.subText} flex items-center gap-2`,children:[s.jsx(vb,{className:"w-4 h-4"}),(I==null?void 0:I.title)||"Model Missing",s.jsx("span",{className:`font-mono text-base font-bold ${n.accentPrimary}`,children:g||"----"})]}),s.jsx("p",{className:`text-xs mt-1 ${n.subText} min-h-[24px]`,children:F?Ks(m)?`${j||"i5"} / ${b??4}GB / ${v??256}GB (Cond: ${S})`:`${j||R.baseCPU} / ${b||R.baseRAM}GB / ${v||R.baseStorage}GB (Cond: ${S})`:"Select Model & Year to configure."}),s.jsxs("div",{className:"mt-4 text-center py-4 bg-indigo-600/10 rounded-xl border border-indigo-500/50",children:[s.jsx("p",{className:"text-sm font-medium text-indigo-400",children:"Estimated Resale Price"}),s.jsxs(Me.p,{className:"text-6xl font-extrabold mt-1 tracking-tight text-indigo-500",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:20},children:[s.jsx("span",{className:"text-4xl align-top mr-1",children:"$"}),q.final===0?"---":q.final]},q.final)]})]}),s.jsxs("div",{className:"mb-4 border-t pt-3",children:[s.jsx("h3",{className:`text-sm font-semibold ${n.cardTitle} mb-2`,children:"Label Pricing (for Print)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs mb-1 ${n.subText}`,children:"MSRP ($)"}),s.jsx("input",{type:"number",value:A,onChange:M=>W(M.target.value),className:`w-full px-2 py-1.5 rounded-md text-sm ${n.inputBg} ${n.inputText} border ${n.border} focus:outline-none focus:ring-2 focus:ring-indigo-500`,placeholder:"0.00",min:0,step:"1"}),s.jsxs("div",{className:`text-[11px] mt-1 ${n.subText}`,children:["70%: ",le>0?`$${D}`:"-"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs mb-1 ${n.subText}`,children:"Our Price ($)"}),s.jsx("input",{type:"number",value:P,onChange:M=>te(M.target.value),className:`w-full px-2 py-1.5 rounded-md text-sm ${n.inputBg} ${n.inputText} border ${n.border} focus:outline-none focus:ring-2 focus:ring-indigo-500`,placeholder:`${q.final||0}`,min:0,step:"1"}),s.jsx("div",{className:`text-[11px] mt-1 ${n.subText}`,children:"Blank = use estimate"})]})]})]}),s.jsxs("div",{className:"flex gap-3 mb-4",children:[s.jsxs(Me.button,{onClick:ce,disabled:q.final===0,className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-bold transition-colors shadow-md ${q.final>0?`${n.accentBg} ${n.accentText}`:"bg-gray-700 text-gray-400 cursor-not-allowed"}`,whileTap:{scale:q.final>0?.98:1},children:[s.jsx(bn,{className:"h-4 w-4"})," Print"]}),s.jsxs(Me.button,{onClick:z,disabled:q.final===0,className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-bold transition-colors shadow-md
                            ${q.final>0?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,whileTap:{scale:q.final>0?.98:1},children:[s.jsx(c7,{className:"h-4 h-4"})," Copy"]})]}),s.jsx("h3",{className:`text-base font-semibold ${n.cardTitle} mb-2 border-t pt-3 ${n.border}`,children:"Breakdown"}),s.jsxs(Pn,{mode:"wait",children:[q.final>0&&s.jsxs(Me.ul,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-1 text-xs",children:[Object.entries(q.details).map(([M,re])=>s.jsxs("li",{className:"flex justify-between",children:[s.jsxs("span",{className:`${n.subText}`,children:[M,":"]}),s.jsx("span",{className:`font-semibold ${re<0?"text-red-400":"text-emerald-400"}`,children:re>=0?`+$${re}`:`-$${Math.abs(re)}`})]},M)),s.jsxs("li",{className:`flex justify-between pt-2 border-t mt-2 font-bold text-base ${n.cardTitle}`,children:[s.jsx("span",{children:"Total Price:"}),s.jsxs("span",{className:"text-indigo-500",children:["$",q.final]})]})]}),q.final===0&&s.jsxs("div",{className:`text-center py-2 ${n.subText} text-sm`,children:[s.jsx(Ld,{className:"h-4 w-4 mx-auto mb-1 text-indigo-400 animate-pulse"}),"Start by selecting a Model and Year above."]})]})]})]})]})]})}const PE="inStore_pricer_theme",zpe=e=>{const t=e==="dark";return{isDark:t,bg:t?"bg-neutral-950":"bg-neutral-50",text:t?"text-white":"text-neutral-900",subText:t?"text-neutral-400":"text-neutral-600",border:t?"border-neutral-800":"border-neutral-200",card:t?"bg-neutral-900/80 border-neutral-800":"bg-white/80 border-neutral-200",inputBg:t?"bg-neutral-900":"bg-white",inputBorder:t?"border-neutral-800":"border-neutral-300",accent:"text-indigo-500",accentBg:"bg-indigo-600 hover:bg-indigo-700",goodBg:"bg-green-600 hover:bg-green-700",divider:t?"bg-neutral-800":"bg-neutral-200",chipWarn:"text-red-500 font-semibold bg-red-500/10",hover:t?"hover:bg-neutral-800":"hover:bg-neutral-100"}},Bpe={products:[{id:"1",name:"iPhone 15 Pro Max 256GB",unitPrice:1199,ourPrice:1149,defectStatus:""},{id:"2",name:"Apple Watch Series 9 41mm",unitPrice:399,ourPrice:389,defectStatus:"Scuff on body"},{id:"3",name:"AirPods Pro 2nd Gen",unitPrice:249,ourPrice:235,defectStatus:""},{id:"4",name:'MacBook Air M2 13"',unitPrice:1099,ourPrice:1049,defectStatus:""}]};async function Upe(){await new Promise(r=>setTimeout(r,200));const e=localStorage.getItem("inStorePricerConfig"),t=e?JSON.parse(e):Bpe;return t.products=t.products.map(r=>({...r,defectStatus:r.defectStatus||""})),t}async function Vpe(e){await new Promise(t=>setTimeout(t,150)),localStorage.setItem("inStorePricerConfig",JSON.stringify(e))}function Hpe({manualProduct:e,handleManualChange:t,palette:r}){return s.jsxs(Me.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:`max-w-md w-full p-6 rounded-xl border ${r.border} ${r.card} shadow-sm backdrop-blur-md h-full`,children:[s.jsxs("h2",{className:`text-lg font-semibold ${r.text} flex items-center gap-2 mb-4`,children:[s.jsx(hs,{className:"h-5 w-5 text-indigo-500"})," Manual Entry"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Qm,{label:"Product Name",value:e.name,onChange:n=>t("name",n.target.value),placeholder:"e.g., Apple Pencil Pro",icon:vs,palette:r}),s.jsx(Qm,{label:"Defect Status (optional)",value:e.defectStatus||"",onChange:n=>t("defectStatus",n.target.value),placeholder:"e.g., Minor scratch on screen",icon:hs,palette:r}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Qm,{label:"MSRP ($)",value:e.unitPrice,onChange:n=>t("unitPrice",n.target.value),placeholder:"129.00",type:"number",step:"0.01",icon:s7,palette:r}),s.jsx(Qm,{label:"Our Price ($)",value:e.ourPrice,onChange:n=>t("ourPrice",n.target.value),placeholder:"125.00",type:"number",step:"0.01",icon:mr,palette:r})]})]})]})}function Wpe({searchTerm:e,setSearchTerm:t,filteredProducts:r,productExistsInDb:n,handleSelectProduct:a,onOpenSettings:o,palette:i,inputRef:l}){return s.jsxs(Me.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:`max-w-md w-full p-6 rounded-xl border ${i.border} ${i.card} shadow-sm backdrop-blur-md h-full`,children:[s.jsxs("h2",{className:`text-lg font-semibold ${i.text} flex items-center gap-2 mb-4`,children:[s.jsx(Yt,{className:"h-5 w-5 text-indigo-500"})," Search Product"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:`h-4 w-4 absolute left-3 top-1/2 -translate-y-1/2 ${i.accent}`}),s.jsx("input",{ref:l,type:"text",value:e,onChange:c=>t(c.target.value),placeholder:"Start typing (e.g., iPhone 15)",className:`w-full pl-10 pr-3 py-2 rounded-lg border ${i.inputBorder} ${i.inputBg} focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm`})]}),s.jsx(Pn,{children:e.length>0&&s.jsx(Me.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},className:`rounded-lg border ${i.border} ${i.card}`,children:n&&r.length===0?s.jsx("div",{className:"p-3 text-sm ${palette.subText}",children:"Exact match selected."}):r.length>0?s.jsx("div",{className:"max-h-56 overflow-auto divide-y divide-neutral-800/40 custom-scrollbar",children:r.map(c=>s.jsxs("button",{onClick:()=>a(c),className:`w-full text-left p-3 ${i.hover} flex items-center justify-between text-sm`,children:[s.jsx("span",{className:"truncate",children:c.name}),s.jsx($s,{className:`h-4 w-4 ${i.accent}`})]},c.id))}):s.jsxs("div",{className:"p-3 space-y-2",children:[s.jsxs("div",{className:`text-sm ${i.subText}`,children:["",e," not found."]}),s.jsxs("button",{onClick:o,className:`w-full inline-flex items-center justify-center space-x-2 px-3 py-1.5 rounded-lg ${i.accentBg} text-white text-sm`,children:[s.jsx(Vr,{className:"h-4 w-4"})," ",s.jsx("span",{children:"Add to Database"})]})]})})})]})]})}function Qm({label:e,value:t,onChange:r,placeholder:n,type:a="text",step:o,icon:i,palette:l,className:c}){return s.jsxs("div",{className:c,children:[s.jsxs("label",{className:`block text-sm font-medium mb-1 ${l.subText} flex items-center`,children:[s.jsx(i,{className:"h-4 w-4 mr-1 text-indigo-500"})," ",e]}),s.jsx("input",{type:a,step:o,value:t,onChange:r,placeholder:n,className:`w-full px-3 py-2 rounded-lg border ${l.inputBorder} ${l.inputBg} focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm`})]})}function Gpe({currentProduct:e,mode:t,palette:r}){const n=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),a=!!(e!=null&&e.defectStatus),o={initial:{opacity:0,scale:.98,y:6},animate:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:220,damping:22,duration:.4}},exit:{opacity:0,scale:.98,y:-6,transition:{duration:.3}}},i={initial:{opacity:0,y:4},animate:l=>({opacity:1,y:0,transition:{type:"spring",stiffness:220,damping:22,delay:l*.1}}),exit:{opacity:0,y:-4,transition:{duration:.2}}};return s.jsxs(Me.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},className:`max-w-md w-full p-6 rounded-xl border ${r.border} ${r.card} shadow-sm backdrop-blur-md h-full`,children:[s.jsxs("h2",{className:`text-lg font-semibold ${r.text} flex items-center gap-2 mb-4`,children:[s.jsx(_i,{className:"h-5 w-5 text-indigo-500"})," Price Preview"]}),s.jsx(Pn,{mode:"wait",children:e!=null&&e.name&&e.ourPrice>0?s.jsxs(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:[s.jsx("h3",{className:"text-base font-medium truncate",children:e.name}),e.defectStatus?s.jsxs("span",{className:`text-xs px-2 py-1 rounded ${r.chipWarn}`,children:["DEFECT: ",e.defectStatus]}):null,s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{className:`${r.subText}`,children:"MSRP:"}),s.jsxs("span",{className:"font-semibold",children:["$",e.unitPrice.toFixed(2)]})]}),s.jsxs("li",{className:`flex justify-between text-lg pt-2 border-t ${r.border}`,children:[s.jsx("span",{className:"font-bold",children:"OUR PRICE:"}),s.jsxs("span",{className:"font-extrabold text-2xl text-indigo-500",children:["$",e.ourPrice.toFixed(2)]})]})]}),s.jsxs("div",{className:`pt-4 border-t ${r.border}`,children:[s.jsx("h4",{className:`text-sm font-semibold ${r.text} mb-2`,children:"Print Preview"}),s.jsxs(Me.div,{variants:o,initial:"initial",animate:"animate",exit:"exit",className:`relative w-[4in] h-[1.6in] box-border p-[0.1in_0.6in] text-[12px] font-arial bg-neutral-100/10 rounded-lg shadow-sm ${a?"compact-label":""}`,children:[s.jsx(Me.img,{src:"https://images.squarespace-cdn.com/content/v1/65b9315703a0c658ffb46c19/8d1b66b8-e3b1-41f0-9ebb-a116c5a9712e/Synergy-logo-icon.png",alt:"Synergy Logo",className:"absolute top-[0.1in] right-[0.2in] w-[0.75in] h-auto z-[1] pointer-events-none",variants:i,custom:0,initial:"initial",animate:"animate",exit:"exit",onError:()=>console.error("Failed to load logo in print preview")}),s.jsx(Me.div,{className:`product ${a?"text-[15px]":"text-[16px]"} font-bold mb-[6px] z-[2] relative`,variants:i,custom:1,initial:"initial",animate:"animate",exit:"exit",children:e.name}),e.defectStatus?s.jsxs(Me.div,{className:"defect text-[9px] font-bold text-[#cc0000] mb-[2px] p-[2px_4px] border border-dashed border-[#cc0000] inline-block leading-[1.2] z-[2] relative",variants:i,custom:2,initial:"initial",animate:"animate",exit:"exit",children:["DEFECT: ",e.defectStatus]}):null,s.jsxs(Me.div,{className:`msrp ${a?"text-[11px]":"text-[12px]"} mb-[4px] z-[2] relative`,variants:i,custom:e.defectStatus?3:2,initial:"initial",animate:"animate",exit:"exit",children:["MSRP: $",e.unitPrice.toFixed(2)]}),s.jsxs(Me.div,{className:`our-price ${a?"text-[14px]":"text-[16px]"} mb-[4px] z-[2] relative`,variants:i,custom:e.defectStatus?4:3,initial:"initial",animate:"animate",exit:"exit",children:["OUR PRICE: ",s.jsxs("span",{className:`price ${a?"text-[30px]":"text-[38px]"} font-bold`,children:["$",e.ourPrice.toFixed(2)]})]}),s.jsx(Me.div,{className:"date text-[8px] absolute bottom-[0.1in] right-[0.25in] z-[2] relative",variants:i,custom:e.defectStatus?5:4,initial:"initial",animate:"animate",exit:"exit",children:n})]})]})]},"preview-content"):s.jsxs(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-4 text-sm ${palette.subText}",children:[s.jsx(_i,{className:"h-5 w-5 mx-auto mb-2 text-indigo-400 animate-pulse"}),t==="manual"?"Enter product details to preview the label.":"Search a product or switch to Manual."]},"no-preview")})]},e?"has":"empty")}function qpe({products:e,onSave:t,onClose:r,palette:n}){const[a,o]=u.useState(e),[i,l]=u.useState(!1),c=()=>{const m=(Math.max(0,...a.map(p=>Number(p.id)))+1).toString();o([{id:m,name:"NEW PRODUCT",unitPrice:0,ourPrice:0,defectStatus:""},...a])},d=(m,p,g)=>{o(x=>x.map(b=>b.id!==m?b:p==="name"||p==="defectStatus"?{...b,[p]:g}:{...b,[p]:parseFloat(g)||0}))},f=m=>{o(p=>p.filter(g=>g.id!==m))},h=async()=>{l(!0);const m=a.map(p=>{var g;return{...p,defectStatus:((g=p.defectStatus)==null?void 0:g.trim())||""}});await t(m),l(!1)};return s.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs(Me.div,{initial:{scale:.96,y:20},animate:{scale:1,y:0},exit:{scale:.96,y:20},transition:{type:"spring",stiffness:220,damping:22},className:`w-full max-w-2xl rounded-xl border ${n.border} ${n.card} shadow-xl backdrop-blur-md p-6 flex flex-col max-h-[90vh]`,children:[s.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-indigo-500/30",children:[s.jsx("h2",{className:"text-lg font-semibold text-indigo-400",children:"Product Database"}),s.jsx(Me.button,{onClick:r,className:"p-2 rounded-lg hover:bg-red-500/10 text-red-400",whileTap:{scale:.95},title:"Close","aria-label":"Close",children:s.jsx(Sf,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto pr-1 space-y-3 custom-scrollbar",children:[s.jsxs("div",{className:`text-xs uppercase tracking-wide ${n.subText} flex items-center px-3 py-2 rounded-lg border ${n.border}`,children:[s.jsx("div",{className:"w-1/2",children:"Product"}),s.jsx("div",{className:"w-1/2 hidden sm:block",children:"Defect"}),s.jsx("div",{className:"w-32 text-right",children:"MSRP"}),s.jsx("div",{className:"w-32 text-right",children:"Our"}),s.jsx("div",{className:"w-10"})]}),a.length===0&&s.jsx("div",{className:"text-center py-10 ${palette.subText} text-sm",children:"No products yet. Add one."}),a.map(m=>s.jsxs("div",{className:`flex items-center px-3 py-2 rounded-lg border ${n.border} ${n.card}`,children:[s.jsx("input",{type:"text",value:m.name,onChange:p=>d(m.id,"name",p.target.value),placeholder:"Product Name",className:"w-1/2 bg-transparent focus:outline-none px-2 py-1 rounded text-sm"}),s.jsx("input",{type:"text",value:m.defectStatus||"",onChange:p=>d(m.id,"defectStatus",p.target.value),placeholder:"Defect status",className:"w-1/2 hidden sm:block bg-transparent focus:outline-none px-2 py-1 rounded text-sm"}),s.jsx("input",{type:"number",step:"0.01",value:m.unitPrice,onChange:p=>d(m.id,"unitPrice",p.target.value),placeholder:"MSRP",className:"w-32 text-right bg-transparent focus:outline-none px-2 py-1 rounded text-sm"}),s.jsx("input",{type:"number",step:"0.01",value:m.ourPrice,onChange:p=>d(m.id,"ourPrice",p.target.value),placeholder:"Our Price",className:"w-32 text-right bg-transparent focus:outline-none px-2 py-1 rounded text-sm"}),s.jsx(Me.button,{onClick:()=>f(m.id),className:"w-10 flex items-center justify-center p-2 rounded-lg text-red-500 hover:bg-red-500/10",whileTap:{scale:.95},title:"Delete","aria-label":"Delete",children:s.jsx(Tr,{className:"h-4 w-4"})})]},m.id))]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-neutral-800/60",children:[s.jsxs(Me.button,{onClick:c,className:`inline-flex items-center space-x-2 px-3 py-2 rounded-lg ${n.accentBg} text-white text-sm`,whileTap:{scale:.95},children:[s.jsx(Vr,{className:"h-4 w-4"})," ",s.jsx("span",{children:"Add New"})]}),s.jsxs(Me.button,{onClick:h,disabled:i,className:`inline-flex items-center space-x-2 px-3 py-2 rounded-lg text-sm ${i?"bg-neutral-600 text-neutral-300":`${n.goodBg} text-white`}`,whileTap:{scale:i?1:.95},children:[s.jsx(Ei,{className:`h-4 w-4 ${i?"animate-spin":""}`}),s.jsx("span",{children:i?"Saving":"Save"})]})]})]})})}function Kpe(){const[e,t]=u.useState(()=>{const T=localStorage.getItem(PE);return T==="light"||T==="dark"?T:"dark"}),r=zpe(e),n=()=>{const T=e==="dark"?"light":"dark";t(T),localStorage.setItem(PE,T)},[a,o]=u.useState(null),[i,l]=u.useState(!0),[c,d]=u.useState(!1),[f,h]=u.useState(!1),[m,p]=u.useState("manual"),[g,x]=u.useState(""),[b,y]=u.useState({name:"",unitPrice:0,ourPrice:0,defectStatus:""}),v=u.useRef(null);u.useEffect(()=>{Upe().then(T=>{o(T),l(!1)})},[]),u.useEffect(()=>{const T=A=>{var W;(A.metaKey||A.ctrlKey)&&A.key.toLowerCase()==="p"&&(A.preventDefault(),S()),A.key==="/"&&m==="search"&&(A.preventDefault(),(W=v.current)==null||W.focus())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[m]);const w=u.useMemo(()=>!a||g.length<1?[]:a.products.filter(T=>T.name.toLowerCase().includes(g.toLowerCase())).slice(0,8),[a,g]),j=u.useMemo(()=>{if(m==="manual")return b.name?b:null;const T=a==null?void 0:a.products.find(A=>A.name.toLowerCase()===g.toLowerCase());if(T){const{id:A,...W}=T;return{...W,defectStatus:W.defectStatus||""}}return null},[m,g,a,b]),N=u.useMemo(()=>!!(a!=null&&a.products.some(T=>T.name.toLowerCase()===g.toLowerCase())),[a,g]),S=u.useCallback(()=>{!j||c||(d(!0),new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),td({productName:j.name,unitPrice:j.unitPrice.toFixed(2),ourPrice:j.ourPrice.toFixed(2),defectStatus:j.defectStatus||""}),setTimeout(()=>d(!1),1400))},[j,c]),k=(T,A)=>{y(W=>{if(T==="name"||T==="defectStatus")return{...W,[T]:A};const P=parseFloat(A)||0;return{...W,[T]:P}})},_=T=>{x(T.name);const{id:A,...W}=T;y({...W,defectStatus:W.defectStatus||""})};async function C(T){await Vpe({products:T}),o({products:T})}const E=`
    .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: ${e==="dark"?"#4f46e5":"#6366f1"};
        border-radius: 4px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
        background: ${e==="dark"?"#1f2937":"#f3f4f6"};
        border-radius: 4px;
    }
    .font-arial {
      font-family: Arial, sans-serif;
    }
  `;return i?s.jsx("div",{className:`flex items-center justify-center h-screen ${r.bg}`,children:s.jsx("div",{className:"text-sm ${palette.subText}",children:"Loading"})}):s.jsxs("div",{className:`min-h-screen ${r.bg} ${r.text} transition-colors py-6 px-4 sm:px-6 lg:px-8`,children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:E}}),s.jsx(Pn,{children:f&&s.jsx(qpe,{products:(a==null?void 0:a.products)||[],onSave:T=>{C(T),h(!1)},onClose:()=>h(!1),palette:r})}),s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsx("header",{className:"sticky top-0 z-20 transition-colors duration-300 pt-4 pb-0",children:s.jsxs("div",{className:`max-w-5xl mx-auto rounded-xl overflow-hidden border-b-0 border ${e==="dark"?"bg-neutral-900/80 border-neutral-800":"bg-white/80 border-neutral-200"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between shadow-xl`,children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex flex-col leading-tight",children:[s.jsx("h2",{className:`${e==="dark"?"text-indigo-400":"text-indigo-600"} text-xl font-black tracking-tight`,children:"Synergy"}),s.jsx("h1",{className:`${e==="dark"?"text-neutral-300":"text-neutral-700"} text-sm font-semibold tracking-tight mt-0.5`,children:"In-Store Pricer Utility"})]})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("a",{href:"/utilities",className:`inline-flex items-center rounded-lg border px-3 py-2 text-sm font-medium transition-all duration-200 ${e==="dark"?"border-neutral-700 text-neutral-300 hover:bg-neutral-800 hover:text-white":"border-neutral-300 text-neutral-700 hover:bg-neutral-100"}`,title:"Back to Utilities","aria-label":"Back to Utilities",children:[s.jsx(zw,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Utilities"}),s.jsx("span",{className:"sm:hidden",children:"Back"})]}),s.jsx("div",{className:`${e==="dark"?"bg-neutral-700/50":"bg-neutral-300"} h-6 w-px`,"aria-hidden":!0}),s.jsx(Me.button,{onClick:()=>h(!0),className:`inline-flex items-center justify-center p-2 rounded-lg transition-colors duration-200 ${e==="dark"?"text-neutral-300 hover:bg-neutral-800 hover:text-white":"text-neutral-700 hover:bg-neutral-100"} focus:outline-none focus:ring-2 focus:ring-offset-2 ${e==="dark"?"focus:ring-indigo-500 focus:ring-offset-neutral-900":"focus:ring-indigo-500"}`,whileTap:{scale:.95},title:"Open Product Database","aria-label":"Open Product Database",children:s.jsx(vo,{className:"h-5 w-5"})}),s.jsx(Me.button,{onClick:n,className:`inline-flex items-center justify-center p-2 rounded-lg transition-colors duration-200 ${e==="dark"?"text-neutral-300 hover:bg-neutral-800 hover:text-white":"text-neutral-700 hover:bg-neutral-100"} focus:outline-none focus:ring-2 focus:ring-offset-2 ${e==="dark"?"focus:ring-indigo-500 focus:ring-offset-neutral-900":"focus:ring-indigo-500"}`,whileTap:{scale:.95},title:"Toggle Theme","aria-label":`Switch to ${e==="dark"?"Light":"Dark"} Mode`,children:e==="dark"?s.jsx(Fi,{className:"h-5 w-5"}):s.jsx(Co,{className:"h-5 w-5"})}),s.jsx(Me.button,{onClick:S,disabled:!j||c,className:`inline-flex items-center justify-center p-2 rounded-lg transition-colors duration-200 ${j&&!c?`${e==="dark"?"text-neutral-300 hover:bg-neutral-800 hover:text-white":"text-neutral-700 hover:bg-neutral-100"}`:"text-neutral-500 cursor-not-allowed"} focus:outline-none focus:ring-2 focus:ring-offset-2 ${e==="dark"?"focus:ring-indigo-500 focus:ring-offset-neutral-900":"focus:ring-indigo-500"}`,whileTap:{scale:j&&!c?.95:1},title:"Print Label (/Ctrl+P)","aria-label":"Print Label",children:s.jsx(bn,{className:"h-5 w-5"})})]})]})}),s.jsxs("main",{className:"py-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:`max-w-md w-full p-4 rounded-xl border ${r.border} ${r.card} shadow-sm backdrop-blur-md`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>p("manual"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition ${m==="manual"?`${r.accentBg} text-white`:`${r.hover} ${r.text}`}`,children:s.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[s.jsx(hs,{className:"h-4 w-4"})," Manual"]})}),s.jsx("button",{onClick:()=>p("search"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition ${m==="search"?`${r.accentBg} text-white`:`${r.hover} ${r.text}`}`,children:s.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[s.jsx(Yt,{className:"h-4 w-4"})," Search"]})})]})})}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Pn,{mode:"wait",children:m==="manual"?s.jsx(Hpe,{manualProduct:b,handleManualChange:k,palette:r},"manual"):s.jsx(Wpe,{searchTerm:g,setSearchTerm:x,filteredProducts:w,productExistsInDb:N,handleSelectProduct:_,onOpenSettings:()=>h(!0),palette:r,inputRef:v},"search")})})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Gpe,{currentProduct:j,mode:m,palette:r})})]}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx(Me.div,{className:`max-w-md w-full p-4 rounded-xl border ${r.border} ${r.card} shadow-sm backdrop-blur-md`,children:s.jsx(Me.button,{onClick:S,disabled:!j||c,className:`w-full py-3 rounded-lg text-sm font-semibold transition ${j&&!c?`${r.goodBg} text-white`:"bg-neutral-200/50 text-neutral-500 cursor-not-allowed"}`,whileTap:j&&!c?{scale:.98}:{},title:"Print (/Ctrl+P)","aria-label":"Print Price Label",children:s.jsxs("span",{className:"inline-flex items-center justify-center space-x-2",children:[s.jsx(bn,{className:"h-5 w-5"}),s.jsx("span",{children:c?"Printing":"Print Price Label"})]})})})})]})]})]})}const Cs=u.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Cs.displayName="Card";const Ype=u.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:se("flex flex-col space-y-1.5 p-6",e),...t}));Ype.displayName="CardHeader";const Xpe=u.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));Xpe.displayName="CardTitle";const Qpe=u.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:se("text-sm text-muted-foreground",e),...t}));Qpe.displayName="CardDescription";const Jpe=u.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:se("p-6 pt-0",e),...t}));Jpe.displayName="CardContent";const Zpe=u.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:se("flex items-center p-6 pt-0",e),...t}));Zpe.displayName="CardFooter";function Do({checked:e=!1,onCheckedChange:t,disabled:r,className:n,size:a=18}){const o=()=>!r&&(t==null?void 0:t(!e));return s.jsx("button",{type:"button",role:"checkbox","aria-checked":e,"aria-disabled":r||void 0,disabled:r,onClick:o,onKeyDown:i=>{(i.key===" "||i.key==="Enter")&&(i.preventDefault(),o())},className:se("inline-flex items-center justify-center shrink-0 rounded-full","border border-primary/60 transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ring-offset-background",e?"bg-primary text-primary-foreground border-primary":"bg-background",r&&"opacity-50 cursor-not-allowed",n),style:{width:a,height:a},children:e&&s.jsx(tr,{className:"w-[70%] h-[70%] pointer-events-none",strokeWidth:3})})}function ege(){const[e,t]=u.useState("light");u.useEffect(()=>{const n=localStorage.getItem("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches,o=n||(a?"dark":"light");t(o),document.documentElement.classList.toggle("dark",o==="dark")},[]);const r=()=>{const n=e==="light"?"dark":"light";t(n),localStorage.setItem("theme",n),document.documentElement.classList.toggle("dark",n==="dark")};return s.jsxs(V,{variant:"outline",size:"icon",onClick:r,className:"relative h-10 w-10 rounded-full border-border/50 bg-card/50 hover:bg-card hover:border-primary/50 transition-all duration-300 overflow-hidden group",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:[s.jsx(Fi,{className:"h-5 w-5 rotate-0 scale-100 transition-all duration-300 dark:-rotate-90 dark:scale-0 text-primary"}),s.jsx(Co,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all duration-300 dark:rotate-0 dark:scale-100 text-primary"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const Kr="/backend";async function tge(){const e=await fetch(`${Kr}/labels/categories/rules`,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`rules ${e.status}`);const t=await e.json();return(Array.isArray(t)?t:[]).map(r=>{var n,a,o,i,l,c,d,f;return{id:r.id??r.name??r.label??"",name:r.name??r.label??r.id??"",color:r.color??void 0,criteria:{prefixes:rd(((n=r.criteria)==null?void 0:n.prefixes)??((a=r.criteria)==null?void 0:a.prefix)??((o=r.criteria)==null?void 0:o.startsWith)??r.prefix??r.startsWith),words:rd(((i=r.criteria)==null?void 0:i.words)??r.words),productWords:rd(((l=r.criteria)==null?void 0:l.productWords)??((c=r.criteria)==null?void 0:c.product_words)??r.product_words),regex:((d=r.criteria)==null?void 0:d.regex)??r.regex??void 0,priority:Number(((f=r.criteria)==null?void 0:f.priority)??r.priority??0)||0}}})}async function rge(){const e=await fetch(`${Kr}/labels/categories/overrides`,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`overrides ${e.status}`);const t=await e.json().catch(()=>({}));return ige(t)}async function ME(){const e=await fetch(`${Kr}/labels/categories/aliases`,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`aliases ${e.status}`);return e.json()}async function nge(e,t){const r=await fetch(`${Kr}/labels/categories/alias`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,displayName:t})});if(!r.ok)throw new Error(`alias ${r.status}`)}function rd(e){return e?Array.isArray(e)?e.map(t=>String(t)):typeof e=="string"?e.split(",").map(t=>t.trim()).filter(Boolean):typeof e=="object"?Object.values(e).map(String):[String(e)]:[]}async function IE(e){try{const a=await fetch(`${Kr}/labels/categories/suggest`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(a.ok)return a.json()}catch{}const t=new URLSearchParams({ids:e.synergyIds.join(",")}).toString(),r=await fetch(`${Kr}/labels/categories/suggest?${t}`,{headers:{Accept:"application/json"}});if(!r.ok)return{suggestions:{}};const n=await r.json();if(n&&typeof n=="object"&&n.suggestions)return{suggestions:n.suggestions};if(Array.isArray(n)){const a={};for(const o of n)o&&o.sid&&o.category&&(a[o.sid]=o.category);return{suggestions:a}}return{suggestions:{}}}async function AE(){const e=await fetch(`${Kr}/labels/categories/rules`,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`rules ${e.status}`);const t=await e.json();return Array.isArray(t)?t:[]}async function sge(e){const t=await fetch(`${Kr}/labels/categories/rules`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({rules:[e]})});if(!t.ok)throw new Error(`upsert rule ${t.status}`)}async function OE(){const e=await fetch(`${Kr}/labels/categories/overrides`,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`overrides ${e.status}`);return await e.json()||{}}async function age(e,t){const r=await fetch(`${Kr}/labels/categories/overrides`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({[e]:t})});if(!r.ok)throw new Error(`set override ${r.status}`)}async function oge(e){if(!e.length)return{};const t=await fetch(`${Kr}/labels/categories/suggest?ids=${encodeURIComponent(e.join(","))}`,{headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`suggest ${t.status}`);const r=await t.json();return r&&r.suggestions||{}}function ige(e){if(e&&typeof e=="object"&&!Array.isArray(e))return e.overrides&&typeof e.overrides=="object"?e.overrides:e;if(Array.isArray(e)){const t={};for(const r of e){const n=r.synergyId??r.synergy_id??r.sid,a=r.category??r.name;n&&a&&(t[String(n)]=String(a))}return t}return{}}async function RE(e){const t=await fetch(`${Kr}/labels/orders/${encodeURIComponent(e)}`,{headers:{Accept:"application/json"}});if(t.ok){const a=await t.json();return LE(a)}const r=await fetch(`${Kr}/labels/order?order_id=${encodeURIComponent(e)}`,{headers:{Accept:"application/json"}});if(!r.ok){const a=await r.text().catch(()=>"");throw new Error(`Order detail failed (${r.status}): ${a.slice(0,160)}`)}const n=await r.json();return LE(n.order??n)}function Lo({size:e=16}){return s.jsx("span",{"aria-hidden":!0,className:"inline-block animate-spin rounded-full border-2 border-primary/30 border-t-primary",style:{width:e,height:e,animationDuration:"800ms"}})}const Cu=(...e)=>e.filter(Boolean).join(" "),ja=e=>{if(!e)return;const t=Number(String(e).replace(/[^0-9.\-]/g,""));return Number.isFinite(t)?t:void 0},pv=e=>e==null||Number.isNaN(e)?"":`$${e.toFixed(2)}`,bc=e=>typeof e=="number"?`$${(e/100).toFixed(2)}`:"";async function tu(e){const t=(e.headers.get("content-type")||"").toLowerCase();if(!t.includes("application/json")){const r=await e.text().catch(()=>"");throw new Error(`Expected JSON but got "${t}". Snippet: ${r.slice(0,200)}`)}return e.json()}async function lge(e){const t=new URLSearchParams(e).toString(),r=await fetch(`${Kr}/labels/stock?${t}`,{headers:{Accept:"application/json"}});if(!r.ok){const n=await r.text().catch(()=>"");throw new Error(`Stock fetch failed (${r.status}): ${n.slice(0,200)}`)}return tu(r)}async function gv(e,t){const r=await fetch(`${Kr}/labels/adjust`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({synergyId:e,qtyOnHand:t})});if(!r.ok){const n=await r.text().catch(()=>"");throw new Error(`Adjust failed (${r.status}): ${n.slice(0,200)}`)}return tu(r)}async function cge(e,t){const r=await fetch(`${Kr}/labels/ensure`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({productName:e.product_name,price:t,synergyId:e.synergy_id,qty:0})});if(!r.ok){const n=await r.text().catch(()=>"");throw new Error(`Price update failed (${r.status}): ${n.slice(0,200)}`)}return tu(r)}async function dge(e){const t=await fetch(`${Kr}/labels/detail?synergy_id=${encodeURIComponent(e)}`,{headers:{Accept:"application/json"}});if(!t.ok){const r=await t.text().catch(()=>"");throw new Error(`Detail fetch failed (${t.status}): ${r.slice(0,200)}`)}return tu(t)}async function DE(e=50){const t=await fetch(`${Kr}/labels/orders?limit=${e}`,{headers:{Accept:"application/json"}});if(!t.ok){const r=await t.text().catch(()=>"");throw new Error(`Orders fetch failed (${t.status}): ${r.slice(0,200)}`)}return tu(t)}function sf(e){if(e==null||e==="")return 0;const t=Number(e);return Number.isFinite(t)?Number.isInteger(t)&&Math.abs(t)>=1e3?t:Math.round(t*100):0}function $1(e){const t=e&&(e.order_id||e.orderId||e.sales_id||e.salesId||e.id)||"",r=sf(e.subtotal_cents??e.subtotal??e.subTotal??0),n=sf(e.tax_cents??e.sales_tax??e.salesTax??e.tax??0),a=e.final_total_cents??e.final_total??e.total??e.finalTotal,o=sf(a??0)||r+n;return{order_id:String(t),created_at:String(e.created_at||e.date||e.createdAt||new Date().toISOString()),employee:e.employee??e.clerk??null,payment_type:e.payment_type??e.payment??e.paymentType??null,tax_exempt:!!(e.tax_exempt??e.taxExempt??!1),tax_rate:typeof e.tax_rate=="number"?e.tax_rate:Number(e.taxRate||0)||0,subtotal_cents:r,tax_cents:n,final_total_cents:o}}function LE(e){const t=$1(e),r=Array.isArray(e.lines)?e.lines.map(n=>({kind:n.kind==="manual"||n.kind==="misc"?"misc":"inv",synergy_id:n.synergy_id??n.sid??n.synergyId??null,product_name:n.product_name??n.productName??n.name??null,qty:Number(n.qty??n.quantity??1),unit_price_cents:sf(n.unit_price_cents??n.unitPrice??n.price??0),line_total_cents:sf(n.line_total_cents??n.lineTotal??n.total??(n.qty??1)*(n.unitPrice??n.price??0))})):[];return{...t,lines:r}}function uge(){const[e,t]=u.useState(""),[r,n]=u.useState(!0),[a,o]=u.useState(""),[i,l]=u.useState(""),[c,d]=u.useState(""),[f,h]=u.useState(!1),[m,p]=u.useState(""),[g,x]=u.useState(""),[b,y]=u.useState([]),[v,w]=u.useState(!1),[j,N]=u.useState(1),[S,k]=u.useState(()=>Number(localStorage.getItem("inv.pageSize")||50)),[_,C]=u.useState(()=>localStorage.getItem("inv.autoRefresh")==="1"),[E,T]=u.useState(()=>Number(localStorage.getItem("inv.autoRefreshSec")||20)),[A,W]=u.useState("updated_at"),[P,te]=u.useState("desc"),[le,K]=u.useState({}),[D,I]=u.useState(!1),[R,q]=u.useState(()=>{const O={msrp:!0,price:!0,onhand:!0,sold:!0,updated:!0};try{const ie=localStorage.getItem("inv.columns");return ie?{...O,...JSON.parse(ie)}:O}catch{return O}}),[z,Z]=u.useState(null),[ce,F]=u.useState(""),[J,L]=u.useState(null),[U,$]=u.useState(""),[M,re]=u.useState(""),[de,Ee]=u.useState(""),[Ze,rt]=u.useState(""),[Xe,et]=u.useState(""),[Je,We]=u.useState("1"),[ee,X]=u.useState(!1),[Te,be]=u.useState(""),[H,ge]=u.useState(!1),[Ne,xe]=u.useState(()=>localStorage.getItem("inv.returnMode")==="1"),[Re,at]=u.useState(null),[nt,ot]=u.useState(!1),[Oe,Ht]=u.useState(!1),[Qt,Pr]=u.useState([]),[ht,Mr]=u.useState(null),[Ir,Nt]=u.useState(null),[fe,Se]=u.useState([]),[pe,_e]=u.useState({}),[qe,Q]=u.useState({}),[me,ke]=u.useState(localStorage.getItem("inv.categoryMode")||"grouped"),[Ge,Ct]=u.useState(()=>{const O=localStorage.getItem("inv.categoryFilter");try{return O?JSON.parse(O):[]}catch{return[]}}),[Tt,gt]=u.useState({}),[Ut,Hr]=u.useState({}),[ln,oe]=u.useState({open:!1,sid:null});u.useEffect(()=>{localStorage.setItem("inv.categoryMode",me)},[me]),u.useEffect(()=>{localStorage.setItem("inv.categoryFilter",JSON.stringify(Ge))},[Ge]),u.useEffect(()=>{ME().then(Hr).catch(()=>{})},[]),u.useEffect(()=>{(async()=>{try{const[O,ie]=await Promise.all([AE(),OE()]);Se(O||[]),_e(ie||{})}catch(O){console.warn("cat init:",O),Se([]),_e({})}})()},[]);function He(O){const ie=O.criteria??O.crit??{},ve=ie.regex??O.regex??null,De=ve?new RegExp(String(ve),"i"):null,Pt=rd(ie.prefixes??ie.prefix??ie.startsWith).map(he=>he.toLowerCase()),B=rd(ie.words??ie.word??ie.contains).map(he=>he.toLowerCase()),G=rd(ie.productWords??ie.product_words??ie.nameWords).map(he=>he.toLowerCase()),Y=Number(ie.priority??O.priority??0)||0;return he=>{const ne=(he.synergy_id||"").toLowerCase(),Fe=(he.product_name||"").toLowerCase();return De&&(De.test(ne)||De.test(Fe))||Pt.some(ze=>ze&&ne.startsWith(ze))||B.some(ze=>ze&&ne.includes(ze))||G.some(ze=>ze&&Fe.includes(ze))?Y:null}}const Ue=u.useCallback(O=>{if(!O)return"#EEE";const ie=fe.find(De=>De.name===O);if(ie!=null&&ie.color)return ie.color;let ve=0;for(let De=0;De<O.length;De++)ve=(ve*31+O.charCodeAt(De))%360;return`hsl(${ve}, 70%, 85%)`},[fe]),St=u.useCallback(O=>O?Ut[O]||O:"",[Ut]),it=u.useMemo(()=>{const O=fe.map(ie=>({r:ie,f:He(ie)}));return ie=>{const ve=pe[ie.synergy_id];if(ve)return ve;let De=null;for(const{r:Pt,f:B}of O){const G=B(ie);G!=null&&(!De||G>De.score)&&(De={score:G,name:Pt.name})}return De?De.name:qe[ie.synergy_id]||null}},[fe,pe,qe]);async function Wt(){try{const[O,ie]=await Promise.allSettled([tge(),rge()]);O.status==="fulfilled"?Se(O.value||[]):(console.warn("category rules failed:",O.reason),Se([])),ie.status==="fulfilled"?_e(ie.value||{}):(console.warn("category overrides failed:",ie.reason),_e({})),b.length&&IE({synergyIds:b.map(ve=>ve.synergy_id)}).then(ve=>(ve==null?void 0:ve.suggestions)&&Q(ve.suggestions)).catch(()=>{})}catch(O){console.warn("category init failed:",(O==null?void 0:O.message)||O)}}u.useEffect(()=>{Wt()},[]),u.useEffect(()=>{b.length&&IE({synergyIds:b.map(O=>O.synergy_id)}).then(O=>O&&Q(O.suggestions||{})).catch(()=>{})},[b.length]),u.useMemo(()=>{const O={};for(const ie of b){const ve=it(ie);ve&&(O[ie.synergy_id]=ve)}return O},[b,it]);const ye=u.useMemo(()=>{const O=new Map;for(const ve of b){const De=it(ve)||"Uncategorized";O.set(De,(O.get(De)||0)+1)}const ie=Array.from(O.entries()).map(([ve,De])=>({name:ve,count:De,color:Ue(ve)}));return ie.sort((ve,De)=>De.count-ve.count||ve.name.localeCompare(De.name)),ie},[b,it,Ue]),Ce=u.useMemo(()=>{if(!Ge.length)return b;const O=new Set(Ge);return b.filter(ie=>O.has(it(ie)||"Uncategorized"))},[b,Ge,it]),Be=u.useMemo(()=>{const O=new Map;for(const ve of Ce){const De=it(ve)||"Uncategorized";O.has(De)||O.set(De,[]),O.get(De).push(ve)}return Array.from(O.entries()).map(([ve,De])=>({name:ve,color:Ue(ve),rows:De})).sort((ve,De)=>ve.name.localeCompare(De.name))},[Ce,it,Ue]),[Ie,st]=u.useState({q:"",employee:"",payment:"any",tax:"any",minTotal:"",maxTotal:"",sort:"new",size:Number(localStorage.getItem("orders.size")||50),from:"",to:""});u.useEffect(()=>{localStorage.setItem("inv.pageSize",String(S))},[S]),u.useEffect(()=>{localStorage.setItem("inv.autoRefresh",_?"1":"0")},[_]),u.useEffect(()=>{localStorage.setItem("inv.autoRefreshSec",String(E))},[E]),u.useEffect(()=>{localStorage.setItem("inv.columns",JSON.stringify(R))},[R]),u.useEffect(()=>{localStorage.setItem("inv.returnMode",Ne?"1":"0")},[Ne]);const Ot=u.useCallback(async()=>{try{w(!0);const O={page:String(j),page_size:String(S),in_stock_only:String(r)};e.trim()&&(O.q=e.trim());let ve=(await lge(O)).items||[];if(a.trim()){const B=a.trim().toUpperCase();ve=ve.filter(G=>G.synergy_id.toUpperCase().startsWith(B))}const De=i?Number(i):void 0,Pt=c?Number(c):void 0;if((De!=null||Pt!=null)&&(ve=ve.filter(B=>{const G=ja(B.ourPriceDisplay)??0;return!(De!=null&&G<De||Pt!=null&&G>Pt)})),f&&(ve=ve.filter(B=>(ja(B.msrpDisplay)??0)>0)),m){const B=new Date(m+"T00:00:00").getTime();ve=ve.filter(G=>new Date(G.updated_at).getTime()>=B)}if(g){const B=new Date(g+"T23:59:59").getTime();ve=ve.filter(G=>new Date(G.updated_at).getTime()<=B)}ve.sort((B,G)=>{const Y=P==="asc"?1:-1;switch(A){case"synergy_id":return B.synergy_id.localeCompare(G.synergy_id)*Y;case"product_name":return B.product_name.localeCompare(G.product_name)*Y;case"msrp":return((ja(B.msrpDisplay)??-1)-(ja(G.msrpDisplay)??-1))*Y;case"price":return((ja(B.ourPriceDisplay)??-1)-(ja(G.ourPriceDisplay)??-1))*Y;case"qty_on_hand":return(B.qty_on_hand-G.qty_on_hand)*Y;case"sold_count":return(B.sold_count-G.sold_count)*Y;case"updated_at":return(new Date(B.updated_at).getTime()-new Date(G.updated_at).getTime())*Y;default:return 0}}),y(ve)}catch(O){console.error(O),alert((O==null?void 0:O.message)||O),y([])}finally{w(!1)}},[e,r,j,S,a,i,c,f,m,g,A,P]),Yr=u.useCallback(async()=>{try{Ht(!0),Nt(null);const ie=((await DE(Ie.size||50)).items||[]).map(ve=>$1(ve));Pr(ie)}catch(O){Nt((O==null?void 0:O.message)||String(O)),Pr([])}finally{Ht(!1)}},[Ie.size]);u.useEffect(()=>{nt&&Yr()},[nt,Yr]),u.useEffect(()=>{Ot()},[Ot]),u.useEffect(()=>{if(!_)return;const O=setInterval(()=>Ot(),Math.max(5,E)*1e3);return()=>clearInterval(O)},[_,E,Ot]);const Vt=async O=>{O.preventDefault();const ie=Te.trim();if(ie){ge(!0);try{const ve=await fetch(`${Kr}/labels/scan`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({synergyId:ie,qty:1})});if(!ve.ok){const De=await ve.text().catch(()=>"");throw new Error(`Scan failed (${ve.status}): ${De.slice(0,200)}`)}await tu(ve),await Ot(),be("")}catch(ve){alert("Scan failed: "+((ve==null?void 0:ve.message)??ve))}finally{ge(!1)}}},Xr=async O=>{const ie=prompt("How many copies?","1");if(ie==null)return;const ve=Math.floor(Number(ie));if(!(!Number.isFinite(ve)||ve<1)){for(let De=0;De<ve;De++)await td({synergyId:O.synergy_id,productName:O.product_name,unitPrice:O.msrpDisplay||"",ourPrice:O.ourPriceDisplay||"",date:new Date().toLocaleDateString("en-US"),qty:1});Ot()}},$n=O=>(O<10?"0":"")+O,Ya=O=>`${O.getFullYear()}-${$n(O.getMonth()+1)}`,Us=async(O,ie)=>{try{const ve=Math.max(0,(O.qty_on_hand||0)+ie);await gv(O.synergy_id,ve),await Ot()}catch(ve){alert((ve==null?void 0:ve.message)||ve)}},Fn=O=>{Z(O),F(String(O.qty_on_hand??0))},ac=async()=>{if(!z)return;const O=Number(ce);if(!Number.isInteger(O)||O<0)return alert("Enter a non-negative integer.");try{await gv(z.synergy_id,O),Z(null),await Ot()}catch(ie){alert((ie==null?void 0:ie.message)||ie)}},wt=O=>{L(O),$(String(ja(O.ourPriceDisplay)??""))},xa=async()=>{if(!J)return;const O=Number(U);if(!Number.isFinite(O)||O<0)return alert("Enter a valid price.");try{await cge(J,O),L(null),await Ot()}catch(ie){alert((ie==null?void 0:ie.message)||ie)}},ya=O=>{if(O){const ie={};b.forEach(ve=>ie[ve.synergy_id]=!0),K(ie)}else K({})},Fr=b.filter(O=>le[O.synergy_id]),ru=async()=>{if(Fr.length===0)return alert("Select at least one item.");const O=prompt("How many copies per item?","1");if(O==null)return;const ie=Math.floor(Number(O));if(!(!Number.isFinite(ie)||ie<1)){for(const ve of Fr)for(let De=0;De<ie;De++)await td({synergyId:ve.synergy_id,productName:ve.product_name,unitPrice:ve.msrpDisplay||"",ourPrice:ve.ourPriceDisplay||"",date:new Date().toLocaleDateString("en-US"),qty:1});Ot()}},gx=async()=>{if(Fr.length===0)return alert("Select at least one item.");const O=prompt("Set qty_on_hand for ALL selected to:","");if(O==null)return;const ie=Number(O);if(!Number.isInteger(ie)||ie<0)return alert("Enter a non-negative integer.");try{for(const ve of Fr)await gv(ve.synergy_id,ie);await Ot()}catch(ve){alert((ve==null?void 0:ve.message)||ve)}},Qi=()=>$N(`label_inventory_${new Date().toISOString().slice(0,10)}.csv`,b),Eo=async()=>{if(!M.trim())return alert("Product name required.");const O=Math.max(1,Number(Je)||1);try{X(!0);for(let ie=0;ie<O;ie++)await td({productName:M.trim(),unitPrice:de||"",ourPrice:Ze||"",date:new Date().toLocaleDateString("en-US"),prefix:Xe||void 0,qty:1});re(""),Ee(""),rt(""),et(""),We("1"),Ot()}catch(ie){alert((ie==null?void 0:ie.message)||ie)}finally{X(!1)}};async function xx(O){try{at({sid:O,busy:!0});const ie=await dge(O);at({sid:O,busy:!1,data:ie})}catch(ie){alert((ie==null?void 0:ie.message)||ie),at(null)}}const nu=u.useMemo(()=>{let O=b.length,ie=0,ve=0;for(const De of b){ie+=Number(De.qty_on_hand||0);const Pt=ja(De.ourPriceDisplay)??0;ve+=Pt*(De.qty_on_hand||0)}return{skus:O,units:ie,value:ve}},[b]);function Jh({orders:O,ov:ie,setOv:ve,fetchOrderDetailSmart:De,ordersBusy:Pt,setOrdersBusy:B,setSelectedOrder:G}){const Y=Dt=>(Dt<10?"0":"")+Dt,he=Dt=>{const Nn=typeof Dt=="string"?new Date(Dt):Dt;return`${Nn.getFullYear()}-${Y(Nn.getMonth()+1)}-${Y(Nn.getDate())}`},ne=Dt=>`${Dt.getFullYear()}-${Y(Dt.getMonth()+1)}`,Fe=Dt=>{const[Nn,Hs]=Dt.split("-").map(Number);return new Date(Nn,(Hs??1)-1,1)},ze=(ie==null?void 0:ie.calMonth)||ne(new Date),_t=Fe(ze),Sr=_t.getFullYear(),er=_t.getMonth(),kr=_t.getDay(),xr=new Date(Sr,er+1,0).getDate(),cn=ne(new Date(Sr,er-1,1)),Rt=ne(new Date(Sr,er+1,1)),It=ze===ne(new Date),dn=typeof To=="function"?To(O,{...ie,size:5e3}):O.slice(),Vs=u.useMemo(()=>{const Dt=new Map;for(const Nn of dn){const Hs=he(Nn.created_at);let ur=Dt.get(Hs);ur||(ur={count:0,total:0,list:[]},Dt.set(Hs,ur)),ur.count++,ur.total+=Nn.final_total_cents||0,ur.list.push(Nn)}return Dt},[dn]),Ji=[...Array.from({length:kr},()=>null),...Array.from({length:xr},(Dt,Nn)=>new Date(Sr,er,Nn+1))],em=new Date(Sr,er,1).toLocaleString(void 0,{month:"long",year:"numeric"}),tm=()=>ve(Dt=>({...Dt,calMonth:cn})),bx=()=>ve(Dt=>({...Dt,calMonth:Rt})),Zr=()=>ve(Dt=>({...Dt,calMonth:ne(new Date)})),Po=async(Dt,Nn)=>{var ur;const Hs=he(Dt);if(ve(Mo=>({...Mo,date:Hs,view:"list"})),Nn.shiftKey){const Mo=Vs.get(Hs);if((ur=Mo==null?void 0:Mo.list)!=null&&ur.length){const wx=Mo.list.slice().sort((Ws,au)=>new Date(au.created_at).getTime()-new Date(Ws.created_at).getTime())[0];try{B(!0);const Ws=await De(wx.order_id);G(Ws)}catch{}finally{B(!1)}}}},su=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return s.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[s.jsxs("div",{className:"px-3 py-2 border-b border-border/30 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"h-8 w-8 rounded-md border hover:bg-muted/50 flex items-center justify-center",onClick:tm,title:"Previous month",children:s.jsx(Hw,{className:"h-4 w-4"})}),s.jsx("div",{className:"text-sm font-semibold",children:em}),s.jsx("button",{className:"h-8 w-8 rounded-md border hover:bg-muted/50 flex items-center justify-center",onClick:bx,title:"Next month",children:s.jsx(In,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"h-8 px-3 rounded-md border hover:bg-muted/50 text-sm",onClick:Zr,disabled:It,title:"Jump to current month",children:"Today"})})]}),s.jsx("div",{className:"grid grid-cols-7 text-xs uppercase tracking-wide text-muted-foreground border-b border-border/30",children:su.map(Dt=>s.jsx("div",{className:"px-2 py-2 text-center",children:Dt},Dt))}),s.jsx(ti,{delayDuration:150,children:s.jsx("div",{className:"grid grid-cols-7 flex-1 min-h-0 overflow-auto",children:Ji.map((Dt,Nn)=>{if(!Dt)return s.jsx("div",{className:"border-b border-r border-border/20 h-[90px] bg-muted/10"},`blank-${Nn}`);const Hs=he(Dt),ur=Vs.get(Hs),Mo=Hs===he(new Date),wx=`${Dt.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}  `+(ur?`${ur.count} order${ur.count===1?"":"s"}  $${(ur.total/100).toFixed(2)}`:"No orders");return s.jsxs(ri,{children:[s.jsx(ni,{asChild:!0,children:s.jsxs("button",{className:"relative border-b border-r border-border/20 text-left p-2 h-[90px] hover:bg-muted/20 transition "+(Mo?"bg-primary/5 ring-1 ring-primary/30":""),onClick:Ws=>Po(Dt,Ws),title:wx,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-semibold",children:Dt.getDate()}),ur&&s.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] px-1.5 py-0.5 rounded-full bg-muted/40",children:[s.jsx(YP,{className:"h-3 w-3"}),ur.count]})]}),ur?s.jsxs("div",{className:"mt-2 text-[11px] text-muted-foreground",children:["$",(ur.total/100).toFixed(2)]}):s.jsx("div",{className:"mt-2 text-[11px] text-muted-foreground opacity-60",children:""})]})}),s.jsx(oo,{side:"top",align:"center",className:"z-[70] max-w-[260px]",children:s.jsxs("div",{className:"text-[11px] leading-5",children:[s.jsx("div",{className:"font-semibold mb-1",children:Dt.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),ur?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-1",children:[ur.count," orders  $",(ur.total/100).toFixed(2)]}),s.jsxs("div",{className:"space-y-0.5",children:[ur.list.slice().sort((Ws,au)=>new Date(au.created_at).getTime()-new Date(Ws.created_at).getTime()).slice(0,5).map((Ws,au)=>s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("span",{className:"font-mono truncate max-w-[140px]",children:Ws.order_id||""}),s.jsxs("span",{className:"tabular-nums",children:["$",((Ws.final_total_cents||0)/100).toFixed(2)]})]},Ws.order_id||au)),ur.list.length>5&&s.jsxs("div",{className:"text-muted-foreground",children:["+",ur.list.length-5," more"]})]}),s.jsx("div",{className:"mt-1 text-muted-foreground",children:"Click to filter  Shift+Click opens newest"})]}):s.jsx("div",{children:"No orders"})]})})]},Hs)})})}),Pt&&s.jsx("div",{className:"px-3 py-2 text-xs text-muted-foreground border-t border-border/30",children:"Loading order"})]})}const Xa=({label:O,keyName:ie,className:ve,icon:De})=>s.jsxs("button",{type:"button",onClick:()=>{A===ie?te(P==="asc"?"desc":"asc"):(W(ie),te("asc"))},className:Cu("group flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-muted-foreground","hover:text-foreground transition-all duration-200",A===ie&&"text-primary",ve),title:"Sort",children:[De&&s.jsx("span",{className:"opacity-60 group-hover:opacity-100 transition-opacity",children:De}),s.jsx("span",{children:O}),s.jsx("span",{className:Cu("ml-1 text-sm transition-all duration-200",A===ie?"opacity-100 scale-110":"opacity-0 scale-90"),children:A===ie?P==="asc"?"":"":""})]}),Zh=O=>{const ie=ja(O.msrpDisplay),ve=ja(O.ourPriceDisplay),De=it(O),Pt=Ue(De);return s.jsxs("div",{className:"grid grid-cols-[40px,180px,1fr,140px,120px,120px,120px,100px,180px] items-center px-4 py-3.5 hover:bg-muted/10 transition-colors group",children:[s.jsx("div",{children:s.jsx(Do,{checked:!!le[O.synergy_id],onCheckedChange:B=>K(G=>({...G,[O.synergy_id]:B}))})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"font-mono text-sm font-medium text-foreground hover:text-primary transition-colors underline decoration-dotted underline-offset-2",title:"Copy Synergy ID",onClick:()=>navigator.clipboard.writeText(O.synergy_id),children:O.synergy_id}),s.jsx(V,{size:"sm",variant:"outline",onClick:()=>Xr(O),className:"h-8 px-2 opacity-0 group-hover:opacity-100 border-border/50 hover:border-primary/50 hover:bg-primary/5 rounded-lg gap-1.5 transition-all duration-200",children:s.jsx(bn,{className:"h-3.5 w-3.5"})}),s.jsx(V,{size:"sm",variant:"outline",onClick:()=>xx(O.synergy_id),className:"h-8 px-2 opacity-0 group-hover:opacity-100 border-border/50 hover:border-primary/50 hover:bg-primary/5 rounded-lg gap-1.5 transition-all duration-200",title:"View full details",children:s.jsx(Yt,{className:"h-3.5 w-3.5"})})]}),s.jsxs("div",{className:"truncate pr-4 text-sm font-medium text-foreground",children:[s.jsx("div",{className:"truncate",children:O.product_name}),(O.first_added||O.last_sold)&&s.jsxs("div",{className:"mt-0.5 text-[11px] text-muted-foreground",children:[O.first_added?`First: ${new Date(O.first_added).toLocaleDateString()}`:null,O.first_added&&O.last_sold?"  ":"",O.last_sold?`Last sold: ${new Date(O.last_sold).toLocaleDateString()}`:null]})]}),s.jsx("div",{className:"flex items-center gap-2",children:De?s.jsx("button",{type:"button",title:"Click to set/clear override  Alt+Click to rename display name",className:"px-2 py-1 rounded-md text-xs font-semibold border border-border/50 hover:border-primary/50 hover:bg-primary/5 transition-colors",style:{background:Pt,color:"#000"},onClick:async B=>{if(B.altKey){try{const G=Ut[De]||De,Y=prompt(`Rename display name for category "${De}".
(Leave empty to reset to "${De}")`,G);if(Y===null)return;await nge(De,Y.trim()===""?null:Y.trim());const he=await ME().catch(()=>({}));Hr(he)}catch(G){alert((G==null?void 0:G.message)||String(G))}return}oe({open:!0,sid:O.synergy_id,product:O.product_name})},children:St(De)}):s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",title:"Category settings",className:"px-2 py-1 rounded-md text-xs font-semibold border border-border/50 hover:border-primary/50 hover:bg-primary/5 transition-colors",style:{background:Pt,color:"#000"},onClick:()=>oe({open:!0,sid:O.synergy_id,product:O.product_name}),children:De||"Uncategorized"})})}),R.msrp&&s.jsx("div",{className:"text-right text-sm text-muted-foreground tabular-nums font-medium",children:pv(ie)}),R.price&&s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-foreground tabular-nums",children:pv(ve)}),s.jsx(V,{size:"sm",variant:"outline",onClick:()=>wt(O),className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 border-border/50 hover:border-primary/50 hover:bg-primary/5 rounded-lg transition-all duration-200",children:s.jsx($i,{className:"h-3.5 w-3.5"})})]}),R.onhand&&s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(V,{size:"sm",variant:"outline",onClick:()=>Us(O,-1),className:"h-8 w-8 p-0 border-border/50 hover:border-primary/50 hover:bg-primary/5 rounded-lg transition-all duration-200",children:s.jsx(r4,{className:"h-3.5 w-3.5"})}),s.jsx("button",{className:Cu("h-8 min-w-[48px] px-3 rounded-lg text-sm font-bold transition-all duration-200 cursor-pointer",O.qty_on_hand>0?"bg-primary/10 text-primary hover:bg-primary/20":"bg-muted text-muted-foreground hover:bg-muted/80"),title:"Click to set exact quantity",onClick:()=>Fn(O),children:O.qty_on_hand}),s.jsx(V,{size:"sm",variant:"outline",onClick:()=>Us(O,1),className:"h-8 w-8 p-0 border-border/50 hover:border-primary/50 hover:bg-primary/5 rounded-lg transition-all duration-200",children:s.jsx(Vr,{className:"h-3.5 w-3.5"})})]}),R.sold&&s.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground",children:O.sold_count}),R.updated&&s.jsx("div",{className:"text-right text-xs text-muted-foreground",children:new Date(O.updated_at).toLocaleString()})]},O.synergy_id)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"mx-auto max-w-[1600px] px-4 py-6 sm:px-6 lg:px-8 space-y-5",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-4 border-b border-border/40",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-accent rounded-xl shadow-sm",children:s.jsx($s,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-foreground tracking-tight",children:"Label Inventory"}),s.jsx(ege,{})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(jm,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-semibold text-foreground",children:nu.skus})," SKUs"]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(jl,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-semibold text-foreground",children:nu.units})," Units"]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(mr,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-semibold text-foreground",children:pv(nu.value)})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>I(O=>!O),className:"border-border/50 hover:bg-accent/10 hover:border-primary/50 gap-2",children:[s.jsx(p7,{className:"h-4 w-4"}),D?"Hide":"New Label"]}),s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>ot(!0),className:"border-border/50 hover:bg-accent/10 hover:border-primary/50 gap-2",title:"View recent orders / logs",children:[s.jsx(bb,{className:"h-4 w-4"})," Orders / Logs"]}),s.jsxs(V,{variant:"outline",size:"sm",onClick:Qi,className:"border-border/50 hover:bg-accent/10 hover:border-primary/50 gap-2",children:[s.jsx(tg,{className:"h-4 w-4"})," Export"]}),s.jsx(V,{variant:"outline",size:"sm",onClick:()=>{N(1),Ot()},disabled:v,className:"border-border/50 hover:bg-accent/10 hover:border-primary/50 gap-2",children:v?s.jsx(Lo,{size:16}):s.jsx(hi,{className:"h-4 w-4"})})]})]}),s.jsx(Cs,{className:"p-4 border-border/50",children:s.jsxs("form",{onSubmit:Vt,className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[s.jsxs("div",{className:"flex-1 relative group",children:[s.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),s.jsx(we,{placeholder:`Scan ${Ne?"(RETURN)":"(SALE)"}  Enter Synergy ID`,value:Te,onChange:O=>be(O.target.value),className:"pl-10 h-10 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg transition-all"})]}),s.jsx(V,{type:"submit",disabled:H,className:"h-10 px-5 bg-gradient-to-r from-primary to-accent hover:shadow-md text-white font-medium rounded-lg gap-2 transition-all",children:H?s.jsxs(s.Fragment,{children:[s.jsx(Lo,{size:16})," Processing"]}):s.jsxs(s.Fragment,{children:[s.jsx(Uw,{className:"h-4 w-4"})," Record"]})}),s.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",children:[s.jsx(Do,{checked:Ne,onCheckedChange:xe}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Return Mode"})]})]})}),D&&s.jsxs(Cs,{className:"p-5 border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"p-1.5 bg-gradient-to-br from-primary to-accent rounded-lg",children:s.jsx(a4,{className:"h-4 w-4 text-white"})}),s.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Create New Label"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 mb-4",children:[s.jsx(we,{placeholder:"Product name",value:M,onChange:O=>re(O.target.value),className:"h-10 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg"}),s.jsx(we,{placeholder:"MSRP (e.g. 39.99)",value:de,onChange:O=>Ee(O.target.value),className:"h-10 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg"}),s.jsx(we,{placeholder:"Our price (e.g. 29.99)",value:Ze,onChange:O=>rt(O.target.value),className:"h-10 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg"}),s.jsx(we,{placeholder:"Prefix (optional)",value:Xe,onChange:O=>et(O.target.value),className:"h-10 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg"}),s.jsx(we,{placeholder:"Copies",value:Je,onChange:O=>We(O.target.value),className:"h-10 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-border/30",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(J7,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:"Creates Synergy ID, prints labels, and syncs inventory"})]}),s.jsx(V,{onClick:Eo,disabled:ee,className:"h-10 px-5 bg-gradient-to-r from-primary to-accent hover:shadow-md text-white font-medium rounded-lg gap-2 transition-all",children:ee?s.jsxs(s.Fragment,{children:[s.jsx(Lo,{size:16})," Printing"]}):s.jsxs(s.Fragment,{children:[s.jsx(bn,{className:"h-4 w-4"})," Create & Print"]})})]})]}),s.jsx(Cs,{className:"p-4 border-border/50",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-2.5",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),s.jsx(we,{placeholder:"Search product or ID...",value:e,onChange:O=>t(O.target.value),className:"pl-10 h-9 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg"})]}),s.jsx(we,{placeholder:"Prefix",value:a,onChange:O=>o(O.target.value),className:"h-9 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg"}),s.jsx(we,{placeholder:"Min $",value:i,onChange:O=>l(O.target.value),className:"h-9 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg"}),s.jsx(we,{placeholder:"Max $",value:c,onChange:O=>d(O.target.value),className:"h-9 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg"}),s.jsx(we,{type:"date",value:m,onChange:O=>p(O.target.value),className:"h-9 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg"}),s.jsx(we,{type:"date",value:g,onChange:O=>x(O.target.value),className:"h-9 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2 border-t border-border/30",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[s.jsx(Do,{checked:r,onCheckedChange:n}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"In Stock Only"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[s.jsx(Do,{checked:f,onCheckedChange:h}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Has MSRP"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Size:"}),s.jsx("select",{className:"h-8 border-border/50 rounded-lg px-2 bg-background text-foreground text-sm focus:ring-1 focus:ring-primary/20 focus:border-primary",value:S,onChange:O=>k(Number(O.target.value)),children:[25,50,100,150,200].map(O=>s.jsx("option",{value:O,children:O},O))})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Do,{checked:_,onCheckedChange:C}),s.jsx("span",{className:"text-muted-foreground",children:"Refresh every"}),s.jsx("input",{className:"w-12 h-8 border-border/50 rounded-lg px-2 bg-background text-foreground text-sm focus:ring-1 focus:ring-primary/20 focus:border-primary",value:E,onChange:O=>T(Number(O.target.value||0))}),s.jsx("span",{className:"text-muted-foreground",children:"sec"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm ml-auto",children:[s.jsx(qw,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Do,{checked:me==="grouped",onCheckedChange:O=>ke(O?"grouped":"flat")}),s.jsx("span",{className:"text-foreground",children:"Group by Category"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dh,{className:"h-4 w-4 text-muted-foreground"}),["msrp","price","onhand","sold","updated"].map(O=>s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx(Do,{checked:R[O],onCheckedChange:ie=>q(ve=>({...ve,[O]:ie}))}),s.jsx("span",{className:"text-xs font-medium text-foreground",children:O.charAt(0).toUpperCase()+O.slice(1)})]},O))]})]})]})}),s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[s.jsx(Do,{checked:b.length>0&&Fr.length===b.length,onCheckedChange:ya}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Select All"})]}),s.jsxs(V,{variant:"outline",size:"sm",onClick:ru,disabled:Fr.length===0,className:"border-border/50 hover:bg-accent/10 hover:border-primary/50 gap-2 disabled:opacity-50",children:[s.jsx(bn,{className:"h-4 w-4"})," Bulk Reprint"]}),s.jsxs(V,{variant:"outline",size:"sm",onClick:gx,disabled:Fr.length===0,className:"border-border/50 hover:bg-accent/10 hover:border-primary/50 gap-2 disabled:opacity-50",children:[s.jsx(jm,{className:"h-4 w-4"})," Bulk Adjust"]}),Fr.length>0&&s.jsxs("div",{className:"ml-2 px-2.5 py-1 bg-gradient-to-r from-primary/10 to-accent/10 text-primary rounded-lg text-sm font-semibold border border-primary/20",children:[Fr.length," selected"]})]}),s.jsxs(Cs,{className:"overflow-hidden border-border/50",children:[s.jsx("div",{className:"px-4 py-2 border-b border-border/30 bg-muted/10 overflow-x-auto",children:s.jsxs("div",{className:"flex items-center gap-2 min-w-max",children:[s.jsxs("button",{className:Cu("px-2 py-1 rounded-full text-xs border",Ge.length===0?"bg-primary/10 border-primary/30 text-primary":"border-border/50 text-foreground hover:bg-muted/50"),onClick:()=>Ct([]),title:"Clear category filter",children:["All (",b.length,")"]}),ye.map(O=>s.jsxs("button",{onClick:()=>Ct(ie=>ie.includes(O.name)?ie.filter(De=>De!==O.name):[...ie,O.name]),className:Cu("px-2 py-1 rounded-full text-xs border inline-flex items-center gap-2",Ge.includes(O.name)?"border-primary/40 bg-primary/10 text-primary":"border-border/50 hover:bg-muted/50"),title:O.name,children:[s.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:O.color}}),s.jsx("span",{className:"truncate max-w-[220px]",children:O.name}),s.jsxs("span",{className:"opacity-70",children:["(",O.count,")"]})]},O.name))]})}),me==="grouped"&&s.jsxs("div",{className:"px-4 py-2 text-xs text-muted-foreground flex items-center gap-2 bg-muted/10 border-b border-border/30",children:[s.jsxs("span",{children:[Ce.length," items  ",Be.length," categories"]}),s.jsx("span",{className:"mx-2 h-3 w-px bg-border/60"}),s.jsx("button",{className:"underline hover:text-foreground",onClick:()=>gt({}),children:"expand all"}),s.jsx("button",{className:"underline hover:text-foreground",onClick:()=>{const O={};for(const ie of Be)O[ie.name]=!0;gt(O)},children:"collapse all"})]}),s.jsxs("div",{className:"grid grid-cols-[40px,180px,1fr,140px,120px,120px,120px,100px,180px] items-center px-4 py-3 bg-muted/20 border-b border-border/30",children:[s.jsx("div",{}),s.jsx(Xa,{label:"Synergy ID",keyName:"synergy_id",icon:s.jsx($s,{className:"h-3.5 w-3.5"})}),s.jsx(Xa,{label:"Product",keyName:"product_name",icon:s.jsx(jl,{className:"h-3.5 w-3.5"})}),s.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Category"}),R.msrp&&s.jsx(Xa,{label:"MSRP",keyName:"msrp",className:"justify-end",icon:s.jsx(mr,{className:"h-3.5 w-3.5"})}),R.price&&s.jsx(Xa,{label:"Price",keyName:"price",className:"justify-end",icon:s.jsx(mr,{className:"h-3.5 w-3.5"})}),R.onhand&&s.jsx(Xa,{label:"On Hand",keyName:"qty_on_hand",className:"justify-center",icon:s.jsx(jm,{className:"h-3.5 w-3.5"})}),R.sold&&s.jsx(Xa,{label:"Sold",keyName:"sold_count",className:"justify-center"}),R.updated&&s.jsx(Xa,{label:"Updated",keyName:"updated_at",className:"justify-end",icon:s.jsx(hi,{className:"h-3.5 w-3.5"})})]}),s.jsx("div",{className:"divide-y divide-border/20",children:v?s.jsx("div",{className:"p-12 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-3 text-muted-foreground",children:[s.jsx(Lo,{size:20}),s.jsx("span",{className:"text-sm font-medium",children:"Loading inventory..."})]})}):Ce.length===0?s.jsx("div",{className:"p-12 text-center",children:s.jsxs("div",{className:"inline-flex flex-col items-center gap-3",children:[s.jsx(jl,{className:"h-10 w-10 text-muted-foreground/40"}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No items found"})]})}):me==="grouped"?s.jsx(s.Fragment,{children:Be.map(O=>{const ie=!!Tt[O.name];return s.jsxs("div",{className:"border-b border-border/20",children:[s.jsxs("button",{className:"w-full px-4 py-2 bg-muted/20 hover:bg-muted/30 transition flex items-center gap-2",onClick:()=>gt(ve=>({...ve,[O.name]:!ie})),title:ie?"Expand":"Collapse",children:[ie?s.jsx(In,{className:"h-4 w-4"}):s.jsx(Ls,{className:"h-4 w-4"}),s.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-semibold",children:[s.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:O.color}}),O.name]}),s.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",O.rows.length,")"]})]}),!ie&&O.rows.map(Zh)]},O.name)})}):Ce.map(Zh)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",s.jsx("span",{className:"font-semibold text-foreground",children:j})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>N(O=>Math.max(1,O-1)),disabled:j<=1,className:"border-border/50 hover:bg-accent/10 hover:border-primary/50 gap-2 disabled:opacity-50",children:[s.jsx(D7,{className:"h-4 w-4"})," Previous"]}),s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>N(O=>O+1),className:"border-border/50 hover:bg-accent/10 hover:border-primary/50 gap-2",children:["Next ",s.jsx(L7,{className:"h-4 w-4"})]})]})]})]})}),z&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>Z(null),children:s.jsxs("div",{className:"bg-card rounded-xl p-6 w-full max-w-md shadow-xl border border-border/50",onClick:O=>O.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-accent rounded-lg",children:s.jsx(jm,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Adjust Quantity"}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:z.synergy_id})]})]}),s.jsx(we,{value:ce,onChange:O=>F(O.target.value),className:"mb-4 h-11 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg text-base font-semibold",placeholder:"Enter quantity",autoFocus:!0}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(V,{variant:"outline",onClick:()=>Z(null),className:"h-10 px-4 border-border/50 hover:bg-muted rounded-lg",children:"Cancel"}),s.jsx(V,{onClick:ac,className:"h-10 px-5 bg-gradient-to-r from-primary to-accent hover:shadow-md text-white font-medium rounded-lg transition-all",children:"Save Changes"})]})]})}),J&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>L(null),children:s.jsxs("div",{className:"bg-card rounded-xl p-6 w-full max-w-md shadow-xl border border-border/50",onClick:O=>O.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-accent rounded-lg",children:s.jsx(mr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Edit Price"}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:J.synergy_id})]})]}),s.jsx(we,{placeholder:"New price (e.g. 29.99)",value:U,onChange:O=>$(O.target.value),className:"mb-4 h-11 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary/20 rounded-lg text-base font-semibold",autoFocus:!0}),s.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[s.jsx(V,{variant:"outline",onClick:()=>L(null),className:"h-10 px-4 border-border/50 hover:bg-muted rounded-lg",children:"Cancel"}),s.jsx(V,{onClick:xa,className:"h-10 px-5 bg-gradient-to-r from-primary to-accent hover:shadow-md text-white font-medium rounded-lg transition-all",children:"Update Price"})]}),s.jsx("div",{className:"p-2.5 bg-muted/20 rounded-lg border border-border/20",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updates via ",s.jsx("code",{className:"font-mono text-primary",children:"POST /labels/ensure"})," (quantities unchanged)"]})})]})}),Re&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>at(null),children:s.jsxs("div",{className:"bg-card rounded-xl p-6 w-full max-w-lg shadow-xl border border-border/50",onClick:O=>O.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-accent rounded-lg"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Product Details"}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:Re.sid})]})]}),s.jsx(V,{variant:"outline",onClick:()=>at(null),className:"h-8 px-3",children:"Close"})]}),Re.busy?s.jsxs("div",{className:"py-8 text-center text-muted-foreground flex items-center justify-center gap-2",children:[s.jsx(Lo,{size:18})," Loading"]}):Re.data?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm font-semibold",children:Re.data.product_name}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Our Price:"}),s.jsx("span",{className:"font-semibold",children:Re.data.ourPriceDisplay?`$${Number(Re.data.ourPriceDisplay).toFixed(2)}`:""}),Re.data.msrpDisplay&&s.jsxs("span",{className:"text-xs text-muted-foreground line-through",children:["$",Number(Re.data.msrpDisplay).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"On Hand:"}),s.jsx("span",{className:"font-semibold",children:Re.data.qty_on_hand})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Sold Count:"}),s.jsx("span",{className:"font-semibold",children:Re.data.sold_count})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Updated:"}),s.jsx("span",{className:"font-mono",children:new Date(Re.data.updated_at).toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"First Added:"}),s.jsx("span",{className:"font-mono",children:Re.data.first_added?new Date(Re.data.first_added).toLocaleDateString():""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Last Sold:"}),s.jsx("span",{className:"font-mono",children:Re.data.last_sold?new Date(Re.data.last_sold).toLocaleDateString():""})]})]})]}):s.jsx("div",{className:"py-8 text-center text-destructive",children:"No data."})]})}),nt&&s.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm p-4 flex items-center justify-center overflow-y-auto",onClick:()=>{ot(!1),Mr(null),Nt(null)},children:s.jsxs("div",{className:"bg-card rounded-xl w-full max-w-6xl shadow-xl border border-border/50 overflow-hidden my-6 max-h-[calc(100vh-3rem)] flex flex-col",onClick:O=>O.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/40 shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-accent rounded-lg",children:s.jsx(bb,{className:"h-5 w-5 text-white"})}),s.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Recent Orders / Logs"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V,{variant:"outline",size:"icon",title:"Refresh","aria-label":"Refresh",onClick:async()=>{try{Ht(!0),Nt(null);const ie=((await DE(Ie.size||50)).items||[]).map(ve=>$1(ve));Pr(ie)}catch(O){Nt((O==null?void 0:O.message)||String(O))}finally{Ht(!1)}},children:Oe?s.jsx(Lo,{size:14}):s.jsx(hi,{className:"h-4 w-4"})}),s.jsx(V,{variant:"outline",size:"icon",title:"Export CSV","aria-label":"Export CSV",onClick:()=>{const O=To(Qt,Ie),ie=[["order_id","created_at","employee","payment_type","subtotal","tax","total"].join(","),...O.map(B=>[B.order_id,B.created_at,B.employee||"",B.payment_type||"",(B.subtotal_cents/100).toFixed(2),(B.tax_cents/100).toFixed(2),(B.final_total_cents/100).toFixed(2)].map(G=>`"${String(G).replace(/"/g,'""')}"`).join(","))].join(`
`),ve=new Blob([ie],{type:"text/csv;charset=utf-8"}),De=URL.createObjectURL(ve),Pt=document.createElement("a");Pt.href=De,Pt.download=`orders_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Pt),Pt.click(),setTimeout(()=>{URL.revokeObjectURL(De),Pt.remove()},400)},children:s.jsx(tg,{className:"h-4 w-4"})}),s.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[s.jsx(V,{variant:Ie.view==="list"?"default":"outline",size:"icon",title:"List view","aria-label":"List view",onClick:()=>st(O=>({...O,view:"list"})),children:s.jsx(_i,{className:"h-4 w-4"})}),s.jsx(V,{variant:Ie.view==="calendar"?"default":"outline",size:"icon",title:"Calendar view","aria-label":"Calendar view",onClick:()=>st(O=>({...O,view:"calendar",calMonth:O.calMonth||(typeof Ya=="function"?Ya(new Date):new Date().toISOString().slice(0,7))})),children:s.jsx(Ni,{className:"h-4 w-4"})})]}),s.jsx(V,{variant:"outline",size:"icon",title:"Close","aria-label":"Close",onClick:()=>{ot(!1),Mr(null),Nt(null)},children:s.jsx(Mt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"px-4 py-3 border-b border-border/40",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Bw,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsxs("select",{className:"h-9 pl-8 pr-7 w-[160px] border rounded bg-background",value:Ie.sort,onChange:O=>st({...Ie,sort:O.target.value}),title:"Sort",children:[s.jsx("option",{value:"new",children:"Newest first"}),s.jsx("option",{value:"old",children:"Oldest first"}),s.jsx("option",{value:"high",children:"Total (high  low)"}),s.jsx("option",{value:"low",children:"Total (low  high)"})]})]}),s.jsxs("div",{className:"relative flex-1 min-w-[260px]",children:[s.jsx(Yt,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{placeholder:"Order ID / Synergy / text",value:Ie.q,onChange:O=>st({...Ie,q:O.target.value}),className:"pl-8 h-9"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(mi,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{placeholder:"Employee",value:Ie.employee,onChange:O=>st({...Ie,employee:O.target.value}),className:"pl-8 h-9 w-[160px]"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(fp,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsxs("select",{className:"h-9 pl-8 pr-7 w-[160px] border rounded bg-background",value:Ie.payment,onChange:O=>st({...Ie,payment:O.target.value}),title:"Payment",children:[s.jsx("option",{value:"any",children:"Any Payment"}),s.jsx("option",{value:"Cash",children:"Cash"}),s.jsx("option",{value:"Card",children:"Card"}),s.jsx("option",{value:"Gift Card",children:"Gift Card"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(W7,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsxs("select",{className:"h-9 pl-8 pr-7 w-[140px] border rounded bg-background",value:Ie.tax,onChange:O=>st({...Ie,tax:O.target.value}),title:"Tax",children:[s.jsx("option",{value:"any",children:"Any Tax"}),s.jsx("option",{value:"taxed",children:"Taxed"}),s.jsx("option",{value:"exempt",children:"Tax Exempt"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{placeholder:"Min total $",value:Ie.minTotal,onChange:O=>st({...Ie,minTotal:O.target.value}),className:"pl-8 h-9 w-[130px]"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{placeholder:"Max total $",value:Ie.maxTotal,onChange:O=>st({...Ie,maxTotal:O.target.value}),className:"pl-8 h-9 w-[130px]"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Size"}),s.jsx("select",{className:"h-9 w-[84px] border rounded bg-background",value:Ie.size,onChange:O=>{const ie=Number(O.target.value);st({...Ie,size:ie}),localStorage.setItem("orders.size",String(ie))},title:"Page size",children:[25,50,100,200,500].map(O=>s.jsx("option",{value:O,children:O},O))})]}),s.jsx("div",{className:"h-6 w-px bg-border/60 mx-1 hidden md:block"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(V,{variant:"outline",size:"icon",title:"Apply filters","aria-label":"Apply filters",onClick:()=>Yr(),children:s.jsx(tr,{className:"h-4 w-4"})}),s.jsx(V,{variant:"outline",size:"icon",title:"Clear filters","aria-label":"Clear filters",onClick:()=>{st(O=>({...O,q:"",employee:"",payment:"any",tax:"any",minTotal:"",maxTotal:"",sort:"new",date:void 0}))},children:s.jsx(Sf,{className:"h-4 w-4"})})]})]}),Ie.date&&s.jsx("div",{className:"mt-2 text-xs",children:s.jsxs("button",{className:"inline-flex items-center gap-2 px-2 py-1 rounded-full bg-muted hover:bg-muted/70 transition",onClick:()=>st(O=>({...O,date:void 0})),title:"Clear day filter",children:[s.jsx(rk,{className:"h-3.5 w-3.5"}),Ie.date,s.jsx("span",{className:"ml-1 text-muted-foreground",children:""})]})})]}),s.jsxs("div",{className:"p-4 flex-1 min-h-0 grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,1fr)] gap-4 overflow-hidden",children:[s.jsxs(Cs,{className:"border-border/50 min-h-0 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-border/40 flex items-center justify-between shrink-0",children:[s.jsx("span",{className:"text-sm font-semibold text-foreground",children:Ie.view==="calendar"?"Calendar":"Results"}),Ie.view!=="calendar"&&s.jsx("span",{className:"text-xs text-muted-foreground",children:(()=>{const O=To(Qt,Ie);return`${(Ie.date?O.filter(ve=>String(ve.created_at).slice(0,10)===Ie.date):O).length} shown`})()})]}),Ie.view==="calendar"?s.jsx(Jh,{orders:Qt,ov:Ie,setOv:st,fetchOrderDetailSmart:RE,ordersBusy:Oe,setOrdersBusy:Ht,setSelectedOrder:Mr}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto divide-y divide-border/20",children:(()=>{const O=To(Qt,Ie),ie=Ie.date?O.filter(ve=>String(ve.created_at).slice(0,10)===Ie.date):O;return ie.length===0?s.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:Ir||"No orders yet, or the /labels/orders endpoint isnt available."}):ie.map(ve=>{const De=ve.order_id||"",Pt=!De;return s.jsxs("button",{className:"w-full text-left px-4 py-3 transition flex items-center justify-between gap-3 "+(Pt?"opacity-60 cursor-not-allowed":"hover:bg-muted/10"),onClick:async()=>{if(!De){Nt("Selected row has no order_id in payload.");return}try{Ht(!0),Nt(null);const B=await RE(De);Mr(B)}catch(B){Nt((B==null?void 0:B.message)||String(B))}finally{Ht(!1)}},title:Pt?"No order_id present":"View details",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-sm font-semibold break-all",children:De||""}),s.jsx("button",{type:"button",className:"p-1 rounded hover:bg-muted",title:"Copy",onClick:B=>{B.stopPropagation(),De&&navigator.clipboard.writeText(De)},children:s.jsx(xb,{className:"h-3.5 w-3.5 text-muted-foreground"})})]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 mr-3",children:[s.jsx(rk,{className:"h-3.5 w-3.5"}),new Date(ve.created_at).toLocaleString()]}),s.jsxs("span",{className:"inline-flex items-center gap-1 mr-3",children:[s.jsx(mi,{className:"h-3.5 w-3.5"}),ve.employee||""]}),s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(fp,{className:"h-3.5 w-3.5"}),ve.payment_type||""]})]})]}),s.jsx("div",{className:"text-sm font-semibold tabular-nums shrink-0",children:bc(ve.final_total_cents)})]},De||Math.random().toString(36).slice(2))})})()}),s.jsx("div",{className:"px-4 py-3 text-center text-sm text-muted-foreground border-t border-border/40 shrink-0",children:s.jsx(V,{variant:"outline",size:"sm",onClick:()=>Yr(),disabled:Oe,children:Oe?s.jsx(Lo,{size:14}):"Load more (same filters)"})})]})]}),s.jsxs(Cs,{className:"border-border/50 min-h-0 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-border/40 flex items-center justify-between shrink-0",children:[s.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Order Detail"}),Oe&&s.jsx(Lo,{size:14})]}),ht?s.jsxs("div",{className:"flex-1 min-h-0 overflow-auto p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-sm font-semibold break-all",children:ht.order_id}),s.jsx("button",{type:"button",className:"p-1 rounded hover:bg-muted",title:"Copy",onClick:()=>navigator.clipboard.writeText(ht.order_id),children:s.jsx(xb,{className:"h-3.5 w-3.5 text-muted-foreground"})})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(ht.created_at).toLocaleString()})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Final Total"}),s.jsx("div",{className:"text-base font-semibold",children:bc(ht.final_total_cents??0)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(mi,{className:"h-4 w-4 text-muted-foreground shrink-0"}),s.jsx("span",{className:"text-muted-foreground shrink-0",children:"Employee:"}),s.jsx("span",{className:"font-medium truncate",children:ht.employee||""})]}),s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(fp,{className:"h-4 w-4 text-muted-foreground shrink-0"}),s.jsx("span",{className:"text-muted-foreground shrink-0",children:"Payment:"}),s.jsx("span",{className:"font-medium truncate",children:ht.payment_type||""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax Exempt:"}),s.jsx("span",{className:"font-medium",children:ht.tax_exempt?"Yes":"No"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax Rate:"}),s.jsx("span",{className:"font-medium",children:Number.isFinite(ht.tax_rate)?`${(ht.tax_rate*100).toFixed(2)}%`:""})]})]}),s.jsxs("div",{className:"border rounded-lg border-border/40 overflow-hidden",children:[s.jsx("div",{className:"px-3 py-2 bg-muted/20 text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Lines"}),s.jsx("div",{className:"divide-y divide-border/20",children:ht.lines.length===0?s.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"No lines"}):ht.lines.map((O,ie)=>s.jsxs("div",{className:"px-3 py-2 text-sm grid grid-cols-[1fr,70px,90px] gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:O.product_name||(O.synergy_id?`[${O.synergy_id}]`:"(misc)")}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[O.kind.toUpperCase(),O.synergy_id?`  ${O.synergy_id}`:""]})]}),s.jsxs("div",{className:"text-right tabular-nums",children:[" ",O.qty]}),s.jsx("div",{className:"text-right tabular-nums",children:bc(O.line_total_cents??0)})]},ie))}),s.jsxs("div",{className:"px-3 py-2 border-t border-border/30 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsx("span",{className:"tabular-nums",children:bc(ht.subtotal_cents??0)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax"}),s.jsx("span",{className:"tabular-nums",children:bc(ht.tax_cents??0)})]}),s.jsxs("div",{className:"flex items-center justify-between font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{className:"tabular-nums",children:bc(ht.final_total_cents??0)})]})]})]})]}):s.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"Select an order on the left to see lines, totals, and metadata."})]})]}),!Oe&&Qt.length===0&&!Ir&&s.jsxs("div",{className:"px-4 pb-4 text-xs text-muted-foreground",children:["Tip: this panel expects ",s.jsx("code",{className:"font-mono",children:"GET /labels/orders"})," and"," ",s.jsx("code",{className:"font-mono",children:"GET /labels/orders/:id"}),". It will also fall back to"," ",s.jsx("code",{className:"font-mono",children:"GET /labels/order?order_id="})," if needed."]})]})}),ln.open&&ln.sid&&s.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center",style:{background:"rgba(0,0,0,.45)"},onClick:O=>{O.target===O.currentTarget&&oe({open:!1,sid:null})},children:s.jsxs("div",{className:"w-[560px] max-w-[92vw] rounded-xl border border-border bg-card text-foreground shadow-xl",children:[s.jsxs("div",{className:"p-4 border-b border-border/70 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Category settings"}),s.jsxs("div",{className:"text-base font-semibold",children:[ln.sid," ",s.jsxs("span",{className:"text-muted-foreground font-normal",children:[" ",ln.product||""]})]})]}),s.jsx("button",{className:"h-8 px-3 rounded-md border border-border hover:bg-muted/20",onClick:()=>oe({open:!1,sid:null}),children:"Close"})]}),s.jsx(yx,{sid:ln.sid,rules:fe,overrides:pe,onApply:async O=>{try{await age(ln.sid,O);const ie=await OE();_e(ie||{}),oe({open:!1,sid:null})}catch(ie){alert((ie==null?void 0:ie.message)||String(ie))}},onNewRule:async(O,ie)=>{const ve=`cat:${O.toLowerCase().replace(/[^a-z0-9:_\.\-]+/g,"-")}`.replace(/-+/g,"-");await sge({id:ve,label:O,color:ie||null,criteria:[{kind:"prefix",value:O}]});const Pt=await AE();return Se(Pt||[]),ve},fetchSuggest:async O=>{try{return(await oge([O]))[O]||""}catch{return""}}})]})})]});function $N(O,ie){const ve=["synergy_id","product_name","msrpDisplay","ourPriceDisplay","qty_on_hand","sold_count","updated_at"],De=ne=>ne?/^[=+\-@]/.test(ne)?"'"+ne:ne:"",Pt=ne=>{const Fe=ne==null?"":String(ne),ze=De(Fe);return ze.includes(",")||ze.includes('"')||ze.includes(`
`)?`"${ze.replace(/"/g,'""')}"`:ze},B=[ve.join(",")].concat(ie.map(ne=>ve.map(Fe=>Pt(ne[Fe])).join(","))).join(`
`),G=new Blob([B],{type:"text/csv;charset=utf-8"}),Y=URL.createObjectURL(G),he=Object.assign(document.createElement("a"),{href:Y,download:O});document.body.appendChild(he),he.click(),setTimeout(()=>{URL.revokeObjectURL(Y),he.remove()},600)}function yx(O){const{sid:ie,rules:ve,overrides:De,onApply:Pt,onNewRule:B,fetchSuggest:G}=O,Y=De[ie]||null,[he,ne]=u.useState(Y||""),[Fe,ze]=u.useState(!1),[_t,Sr]=u.useState(""),[er,kr]=u.useState(""),[xr,cn]=u.useState("");u.useEffect(()=>{ne(Y||"")},[Y,ie]),u.useEffect(()=>{(async()=>{const It=await G(ie);Sr(It||"")})()},[ie]);const Rt=u.useMemo(()=>(ve||[]).map(It=>({id:It.id,text:It.name??It.label??It.id})).sort((It,dn)=>(It.text||"").localeCompare(dn.text||"")),[ve]);return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-muted-foreground mb-1",children:"Suggested"}),s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-md border border-border bg-muted/10 px-2 py-1",children:[s.jsx("span",{className:"text-sm font-medium",children:_t||"(none)"}),!!_t&&s.jsx("button",{className:"text-xs underline hover:no-underline",onClick:()=>ne(vx(Rt,_t)||""),children:"Use suggestion"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Override"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{className:"h-9 min-w-[240px] rounded-md border border-border bg-card px-2 text-sm text-foreground",value:he,onChange:It=>ne(It.currentTarget.value),children:[s.jsx("option",{value:"",children:"(no override)"}),Rt.map(It=>s.jsx("option",{value:It.id,children:It.text},It.id))]}),s.jsx("button",{disabled:Fe,className:"h-9 px-3 rounded-md border border-border bg-primary/10 hover:bg-primary/20",onClick:async()=>{ze(!0);try{await Pt(he||null)}finally{ze(!1)}},children:"Save"}),!!Y&&s.jsx("button",{disabled:Fe,className:"h-9 px-3 rounded-md border border-border hover:bg-muted/20",onClick:async()=>{ze(!0);try{await Pt(null)}finally{ze(!1)}},children:"Clear"})]}),!!Y&&s.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["Current override: ",s.jsx("span",{className:"font-mono",children:Y})]})]})]}),s.jsxs("div",{className:"pt-3 border-t border-border/70",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Quick add category"}),s.jsxs("div",{className:"grid grid-cols-[1fr,140px,auto] gap-2 items-center",children:[s.jsx("input",{value:er,onChange:It=>kr(It.currentTarget.value),placeholder:"Label (also used as prefix criteria)",className:"h-9 rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted-foreground/70"}),s.jsx("input",{value:xr,onChange:It=>cn(It.currentTarget.value),placeholder:"Color (optional, e.g. #00c4ff)",className:"h-9 rounded-md border border-border bg-card px-2 text-sm text-foreground placeholder:text-muted-foreground/70"}),s.jsx("button",{disabled:Fe||!er.trim(),className:"h-9 px-3 rounded-md border border-border hover:bg-muted/20",onClick:async()=>{const It=er.trim();if(It){ze(!0);try{const dn=await B(It,xr.trim()||void 0);ne(dn),kr(""),cn("")}catch(dn){alert((dn==null?void 0:dn.message)||String(dn))}finally{ze(!1)}}},children:"Add"})]}),s.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["Adds a user rule with a single ",s.jsx("code",{children:"prefix"})," criterion matching the label."]})]})]})}function vx(O,ie){const ve=O.find(De=>De.text.toLowerCase()===ie.toLowerCase());return ve?ve.id:null}function To(O,ie){const ve=(ie.q||"").toLowerCase().trim(),De=ie.minTotal?Number(ie.minTotal):null,Pt=ie.maxTotal?Number(ie.maxTotal):null,B=ie.from?new Date(ie.from+"T00:00:00").getTime():null,G=ie.to?new Date(ie.to+"T23:59:59").getTime():null;let Y=O.slice(0,ie.size||50);if(ve&&(Y=Y.filter(he=>(he.order_id||"").toLowerCase().includes(ve)||(he.employee||"").toLowerCase().includes(ve)||(he.payment_type||"").toLowerCase().includes(ve))),ie.employee.trim()){const he=ie.employee.toLowerCase().trim();Y=Y.filter(ne=>(ne.employee||"").toLowerCase().includes(he))}return ie.payment!=="any"&&(Y=Y.filter(he=>(he.payment_type||"")===ie.payment)),ie.tax!=="any"&&(Y=Y.filter(he=>ie.tax==="exempt"?he.tax_exempt:!he.tax_exempt)),De!=null&&(Y=Y.filter(he=>he.final_total_cents>=Math.round(De*100))),Pt!=null&&(Y=Y.filter(he=>he.final_total_cents<=Math.round(Pt*100))),B!=null&&(Y=Y.filter(he=>new Date(he.created_at).getTime()>=B)),G!=null&&(Y=Y.filter(he=>new Date(he.created_at).getTime()<=G)),Y.sort((he,ne)=>{switch(ie.sort){case"new":return new Date(ne.created_at).getTime()-new Date(he.created_at).getTime();case"old":return new Date(he.created_at).getTime()-new Date(ne.created_at).getTime();case"high":return ne.final_total_cents-he.final_total_cents;case"low":return he.final_total_cents-ne.final_total_cents;default:return 0}}),Y}}const fge="/backend",LN=typeof window<"u"&&window.__API_BASE__||fge,Pp=["Unassigned","Front Counter","Manager"];function Za(e){return`$${(e??0).toFixed(2)}`}function $E(e){if(!e)return;const t=Number(String(e).replace(/[^0-9.]/g,""));return Number.isFinite(t)?t:void 0}async function hge(){try{const e=await fetch(`${LN}/employees`,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error(String(e.status));const t=await e.json();if(Array.isArray(t)){const r=t.filter(Boolean);return localStorage.setItem("pos_employees_cache",JSON.stringify(r)),r.length?r:Pp}throw new Error("bad employees payload")}catch{const e=localStorage.getItem("pos_employees_cache");if(e){const t=JSON.parse(e);return t.length?t:Pp}return Pp}}async function mge(e){const t=await fetch(`${LN}/labels/detail?synergy_id=${encodeURIComponent(e)}`,{headers:{Accept:"application/json"}});if(!t.ok)throw new Error(t.status===404?"Not found":`HTTP ${t.status}`);return t.json()}async function pge(e){const t=await fetch(`${LN}/labels/order`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Order failed (${t.status})`);return t.json()}function gge(){const[e,t]=u.useState(!1),[r,n]=u.useState([]),[a,o]=u.useState(""),[i,l]=u.useState("Cash"),[c,d]=u.useState(!1),[f,h]=u.useState(""),[m,p]=u.useState(!1),g=u.useRef(null),[x,b]=u.useState(""),[y,v]=u.useState(""),[w,j]=u.useState(""),[N,S]=u.useState(""),[k,_]=u.useState([]),[C,E]=u.useState(!1),[T,A]=u.useState(null);u.useEffect(()=>{var L;(L=g.current)==null||L.focus()},[]),u.useEffect(()=>{hge().then(n).catch(()=>n(Pp))},[]);const W=u.useRef(null),P=u.useRef("");function te(){if(m)return;const L=f.trim();L&&P.current!==L&&(P.current=L,le(L).finally(()=>{setTimeout(()=>{P.current=""},200)}))}async function le(L){const U=z(L);p(!0);try{const $=await mge(U);A($);const M=$E($.ourPriceDisplay)??0,re=$E($.msrpDisplay)??null,de={kind:"inv",synergy_id:$.synergy_id,product_name:$.product_name,qty:e?-1:1,price:M,msrp:re};_(Ee=>K(Ee,de)),Z(),h(""),P.current=""}catch($){alert(($==null?void 0:$.message)||String($))}finally{p(!1),requestAnimationFrame(()=>{var $;return($=g.current)==null?void 0:$.focus()})}}function K(L,U){if(U.kind==="inv"){const M=L.findIndex(re=>re.kind==="inv"&&re.synergy_id===U.synergy_id&&re.price===U.price);if(M>=0){const re=[...L],de=re[M];return re[M]={...de,qty:de.qty+U.qty},re}return[...L,U]}const $=L.findIndex(M=>M.kind==="manual"&&M.description.trim()===U.description.trim()&&M.price===U.price);if($>=0){const M=[...L],re=M[$];return M[$]={...re,qty:re.qty+U.qty},M}return[...L,U]}function D(){const L=Number(x||0),U=y.trim(),$=Number(N||0),M=w===""?null:Number(w);if(L<=0||!U||$<=0){alert("Please fill in Quantity, Description, and Sales Price correctly.");return}const de={kind:"manual",qty:e?-Math.abs(L):L,description:U,price:$,msrp:M};_(Ee=>K(Ee,de)),b(""),v(""),j(""),S(""),Z()}function I(L){_(U=>U.filter(($,M)=>M!==L))}const R=u.useMemo(()=>{let L=0,U=0;for(const de of k)if(L+=de.qty*de.price,de.msrp&&de.msrp>0){const Ee=Math.max(0,de.msrp-de.price);U+=Ee*de.qty}const $=c?0:L*.05,M=L+$,re=k.reduce((de,Ee)=>de+Ee.qty,0);return{subtotal:L,tax:$,total:M,saved:U,countItems:re}},[k,c]);async function q(){if(k.length===0){alert("Please add items to the order before submitting.");return}const L=k.filter($=>$.kind==="inv"),U=k.filter($=>$.kind==="manual");E(!0);try{let $=null;L.length&&($=await pge({items:L.map(re=>({synergyId:re.synergy_id,qty:re.qty})),paymentType:i,employee:a||void 0,taxExempt:c,taxRate:.05})),U.length&&console.warn("Manual lines present; printing only. Add /pos/manual-order to persist.");const M={salesId:($==null?void 0:$.salesId)??`LOCAL-${Date.now()}`,subtotal:($==null?void 0:$.subtotal)??R.subtotal,salesTax:($==null?void 0:$.salesTax)??R.tax,finalTotal:($==null?void 0:$.finalTotal)??R.total,paymentType:i,employee:a,created_at:($==null?void 0:$.created_at)??new Date().toISOString()};F(M,k),_([]),h(""),P.current="",setTimeout(()=>{var re;return(re=g.current)==null?void 0:re.focus()},0)}catch($){alert(($==null?void 0:$.message)||String($))}finally{E(!1)}}function z(L){const U=String(L||"").trim();return/^\d{2,6}-\d{3,6}$/.test(U),U}function Z(){requestAnimationFrame(()=>{const L=document.getElementById("receiptItems");if(!L)return;const U=L.lastElementChild;U&&(U.classList.add("animate-flash"),setTimeout(()=>U.classList.remove("animate-flash"),650))})}function ce(L){if(L.key==="Enter"){W.current&&(window.clearTimeout(W.current),W.current=null),L.preventDefault(),te();return}W.current&&window.clearTimeout(W.current),W.current=window.setTimeout(te,150)}function F(L,U){let $=0;for(const de of U)if(de.msrp!=null&&!isNaN(de.msrp)){const Ee=Math.max(0,(de.msrp||0)-(de.price||0));$+=Ee*de.qty}const M=window.open("","","width=300,height=200");if(!M)return;const re=U.map(de=>{const Ee=de.kind==="inv"?de.product_name:de.description;return`<div><strong>${de.qty}</strong> ${J(Ee)}  ${Za(de.price)} each</div>`}).join("");M.document.write(`
      <html>
        <head>
          <title>Receipt</title>
          <meta charset="utf-8" />
          <style>
            body { font-family: monospace; font-size: 12px; margin: 0; padding: 0; width: 58mm; }
            h2 { text-align: center; font-size: 14px; margin: 5px 0; }
            .line { border-top: 1px dashed #000; margin: 6px 0; }
            div { margin: 0; padding: 0; }
            .r { float: right; }
          </style>
        </head>
        <body>
          <h2>Synergy Industrial Corporation</h2>
          <div>Receipt for Order ID: ${J(String(L.salesId))}</div>
          <div>Employee: ${J(L.employee||a||"-")}</div>
          <div>Time: ${new Date(L.created_at||Date.now()).toLocaleString()}</div>
          <div class="line"></div>
          ${re}
          <div class="line"></div>
          <div>Subtotal: <span class="r">${Za(L.subtotal)}</span></div>
          <div>Sales Tax: <span class="r">${Za(L.salesTax)}</span></div>
          <strong>Total: <span class="r">${Za(L.finalTotal)}</span></strong>
          <div style="margin-top:4px; font-weight:bold; text-align:center;">
            YOU SAVED: ${Za($)}
          </div>
          <div class="line"></div>
          <div>Payment Method: ${J(L.paymentType||i)}</div>
          <div style="text-align:center;">Thank you for your business!</div>
          <br><br><br><br>
          <div style="text-align:center;">--</div>
          <br><br>
        </body>
      </html>
    `),M.document.close(),M.onload=function(){setTimeout(function(){const de=M.document.body.scrollHeight;M.resizeTo(350,de+20),M.print(),setTimeout(function(){M.close(),window.focus()},500)},100)}}function J(L){return String(L).replace(/[&<>"']/g,U=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[U])}return s.jsxs("div",{className:"min-h-screen p-4 md:p-6",children:[s.jsx("div",{className:"max-w-[1800px] mx-auto mb-6",children:s.jsx(Cs,{className:"shadow-pos-md border-border/40",children:s.jsxs("div",{className:"p-5 flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(vs,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Synergy POS"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Fast Checkout System"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kt,{variant:e?"destructive":"secondary",className:"px-4 py-2 cursor-pointer transition-all hover:opacity-80",onClick:()=>t(!e),children:e?"Return Mode (ON)":"Sale Mode"}),s.jsxs(kt,{variant:"outline",className:"px-4 py-2 font-semibold",children:[R.countItems," ",Math.abs(R.countItems)===1?"item":"items"]})]})]})})}),s.jsxs("div",{className:"max-w-[1800px] mx-auto grid lg:grid-cols-[1fr_480px] gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{className:"shadow-pos-md border-primary/20 bg-gradient-to-br from-primary/[0.03] to-accent/[0.03]",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Q7,{className:"w-5 h-5 text-primary"})}),s.jsx("h2",{className:"text-lg font-semibold",children:"Quick Scan"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(we,{ref:g,value:f,onChange:L=>h(L.target.value),onKeyDown:ce,disabled:m,placeholder:"Scan barcode here (e.g., 22542-0001)...",className:"h-14 text-lg font-medium pr-12 border-primary/30 focus:border-primary focus:ring-primary/20",onFocus:L=>L.currentTarget.select(),autoComplete:"off",autoCapitalize:"off",spellCheck:!1}),m&&s.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:s.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"})})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-3 flex items-center gap-1.5",children:[s.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-success animate-pulse"}),"Auto-adds on Enter or after brief pause"]})]})}),T&&s.jsx(Cs,{className:"shadow-pos-md border-border/40",children:s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Last Scan Details"}),s.jsx("span",{className:"font-mono text-xs opacity-80",children:T.synergy_id})]}),s.jsx("div",{className:"text-sm font-semibold mb-1",children:T.product_name}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Our Price:"}),s.jsx("span",{className:"font-semibold",children:T.ourPriceDisplay?`$${Number(T.ourPriceDisplay).toFixed(2)}`:""}),T.msrpDisplay&&s.jsxs("span",{className:"text-xs text-muted-foreground line-through",children:["$",Number(T.msrpDisplay).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"On Hand:"}),s.jsx("span",{className:"font-semibold",children:T.qty_on_hand})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Sold Count:"}),s.jsx("span",{className:"font-semibold",children:T.sold_count})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Updated:"}),s.jsx("span",{className:"font-mono",children:new Date(T.updated_at).toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"First Added:"}),s.jsx("span",{className:"font-mono",children:T.first_added?new Date(T.first_added).toLocaleDateString():""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Last Sold:"}),s.jsx("span",{className:"font-mono",children:T.last_sold?new Date(T.last_sold).toLocaleDateString():""})]})]})]})}),s.jsx(Cs,{className:"shadow-pos-md border-border/40",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 rounded-lg bg-accent/10",children:s.jsx(Vr,{className:"w-5 h-5 text-accent"})}),s.jsx("h2",{className:"text-lg font-semibold",children:"Manual Entry"})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"quantity",className:"text-sm font-medium",children:"Quantity"}),s.jsx(we,{id:"quantity",type:"number",placeholder:"0",value:x,onChange:L=>b(L.target.value===""?"":Number(L.target.value)),className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),s.jsx(we,{id:"description",type:"text",placeholder:"Item description",maxLength:64,value:y,onChange:L=>v(L.target.value),className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"msrp",className:"text-sm font-medium",children:"MSRP (Optional)"}),s.jsx(we,{id:"msrp",type:"number",placeholder:"0.00",step:"0.01",value:w,onChange:L=>j(L.target.value===""?"":Number(L.target.value)),className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"salesPrice",className:"text-sm font-medium",children:"Sales Price"}),s.jsx(we,{id:"salesPrice",type:"number",placeholder:"0.00",step:"0.01",value:N,onChange:L=>S(L.target.value===""?"":Number(L.target.value)),className:"h-11"})]})]}),s.jsxs(V,{onClick:D,className:"w-full h-11 font-semibold",variant:"secondary",children:[s.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})})]}),s.jsx("div",{className:"lg:sticky lg:top-6 h-fit",children:s.jsxs(Cs,{className:"shadow-pos-lg border-border/40 overflow-hidden",children:[s.jsx("div",{className:"p-5 border-b border-border/50 bg-gradient-to-r from-primary/[0.04] to-accent/[0.04]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(wb,{className:"w-5 h-5 text-primary"})}),s.jsx("h2",{className:"text-xl font-bold",children:"Shopping Cart"})]}),s.jsxs(kt,{variant:"secondary",className:"px-3 py-1",children:[k.length," lines"]})]})}),s.jsx("div",{id:"receiptItems",className:"p-4 space-y-3 max-h-[420px] overflow-y-auto",children:k.length===0?s.jsxs("div",{className:"py-16 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted/30 mb-4",children:s.jsx(wb,{className:"w-8 h-8 text-muted-foreground/40"})}),s.jsx("p",{className:"text-muted-foreground font-medium",children:"Cart is empty"}),s.jsx("p",{className:"text-sm text-muted-foreground/60 mt-1",children:"Scan or add items to begin"})]}):k.map((L,U)=>{const $=L.msrp!=null&&!isNaN(L.msrp)?L.msrp.toFixed(2):null,M=(L.price||0).toFixed(2),re=$!=null?Math.max(Number($)-Number(M),0):null;return s.jsx("div",{className:"group relative bg-pos-card border border-border/30 rounded-xl p-4 transition-all hover:shadow-pos-sm hover:border-border/60 animate-flash",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[s.jsxs(kt,{variant:"outline",className:"text-xs px-2 py-0.5 font-bold",children:[L.qty,""]}),s.jsx("p",{className:"font-semibold truncate text-[15px]",children:L.kind==="inv"?L.product_name:L.description})]}),L.kind==="inv"&&s.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-mono",children:L.synergy_id}),s.jsxs("div",{className:"flex items-center gap-3 text-sm flex-wrap",children:[s.jsxs("span",{className:"font-bold text-primary text-base",children:["$",M]}),$&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-muted-foreground line-through text-xs",children:["$",$]}),s.jsxs("span",{className:"text-success text-xs font-semibold px-2 py-0.5 bg-success/10 rounded-md",children:["Save $",(re||0).toFixed(2)]})]})]})]}),s.jsx(V,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-destructive/10 shrink-0",onClick:()=>I(U),children:s.jsx(Mt,{className:"w-4 h-4"})})]})},U)})}),s.jsx(Zc,{className:"bg-border/50"}),s.jsxs("div",{className:"p-6 space-y-5 bg-gradient-to-br from-pos-card-secondary/30 to-background/20",children:[s.jsxs("div",{className:"space-y-2.5",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsx("span",{className:"font-semibold",children:Za(R.subtotal)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Sales Tax (5%)"}),s.jsx("span",{className:"font-semibold",children:Za(R.tax)})]}),R.saved>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-success font-semibold",children:"You Saved"}),s.jsx("span",{className:"font-bold text-success",children:Za(R.saved)})]}),s.jsx(Zc,{className:"my-3 bg-border/50"}),s.jsxs("div",{className:"flex justify-between items-center pt-1",children:[s.jsx("span",{className:"text-lg font-bold",children:"Total"}),s.jsx("span",{className:"text-2xl font-bold text-primary",children:Za(R.total)})]})]}),s.jsx(Zc,{className:"bg-border/50"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2.5",children:[s.jsx(Aa,{id:"taxExempt",checked:c,onCheckedChange:L=>d(L===!0)}),s.jsx(Ke,{htmlFor:"taxExempt",className:"text-sm font-semibold cursor-pointer",children:"Tax Exempt Purchase"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"payment",className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Payment"}),s.jsxs(Cg,{value:i,onValueChange:L=>l(L),children:[s.jsx(qf,{id:"payment",className:"h-10",children:s.jsx(_g,{placeholder:"Select..."})}),s.jsxs(Kf,{children:[s.jsx(qo,{value:"Cash",children:"Cash"}),s.jsx(qo,{value:"Card",children:"Card"}),s.jsx(qo,{value:"Gift Card",children:"Gift Card"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"employee",className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Employee"}),s.jsxs(Cg,{value:a||"",onValueChange:L=>o(L==="__none"?"":L),children:[s.jsx(qf,{id:"employee",className:"h-10",children:s.jsx(_g,{placeholder:"Select..."})}),s.jsxs(Kf,{children:[s.jsx(qo,{value:"__none",children:"Unassigned"}),[...new Set(r)].map(L=>s.jsx(qo,{value:L,children:L},L))]})]})]})]})]}),s.jsxs(V,{onClick:q,disabled:C||k.length===0,className:"w-full h-12 text-base font-bold shadow-pos-sm",size:"lg",children:[s.jsx(fp,{className:"w-5 h-5 mr-2"}),C?"Processing...":"Complete Sale"]})]})]})})]})]})}const xge=["A","B","C","D","P"],Ul=(e,t=800)=>{if(!e||!e.includes("cloudinary.com"))return e;const r=["f_jpg","q_auto"];t&&r.push(`w_${t}`,"c_limit");const n=r.join(",");return e.includes("/upload/")&&!e.includes("/f_auto")&&!e.includes("/f_jpg")?e.replace("/upload/",`/upload/${n}/`):e},yge=e=>/\.(heic|heif)$/i.test(e),vge=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown",T8=e=>{switch(e==null?void 0:e.toUpperCase()){case"A":return"bg-emerald-600 border-emerald-400 text-white shadow-emerald-900/20";case"B":return"bg-blue-600 border-blue-400 text-white shadow-blue-900/20";case"C":return"bg-yellow-500 border-yellow-300 text-black shadow-yellow-900/20";case"D":return"bg-orange-600 border-orange-400 text-white shadow-orange-900/20";case"P":return"bg-red-600 border-red-400 text-white shadow-red-900/20";default:return"bg-zinc-600 border-zinc-400 text-white shadow-zinc-900/20"}},bge=e=>{switch(e==null?void 0:e.toUpperCase()){case"A":return"border-emerald-500/40 shadow-[0_2px_10px_-2px_rgba(16,185,129,0.2)] hover:border-emerald-500 hover:shadow-[0_4px_20px_-4px_rgba(16,185,129,0.4)]";case"B":return"border-blue-500/40 shadow-[0_2px_10px_-2px_rgba(59,130,246,0.2)] hover:border-blue-500 hover:shadow-[0_4px_20px_-4px_rgba(59,130,246,0.4)]";case"C":return"border-yellow-500/40 shadow-[0_2px_10px_-2px_rgba(234,179,8,0.2)] hover:border-yellow-500 hover:shadow-[0_4px_20px_-4px_rgba(234,179,8,0.4)]";case"D":return"border-orange-500/40 shadow-[0_2px_10px_-2px_rgba(249,115,22,0.2)] hover:border-orange-500 hover:shadow-[0_4px_20px_-4px_rgba(249,115,22,0.4)]";case"P":return"border-red-500/40 shadow-[0_2px_10px_-2px_rgba(239,68,68,0.2)] hover:border-red-500 hover:shadow-[0_4px_20px_-4px_rgba(239,68,68,0.4)]";default:return"border-border hover:border-primary/50 shadow-sm hover:shadow-md"}},F1=(e,t,r)=>{const n=Ul(t,1600),a=`${r}.jpg`;e.dataTransfer.setData("DownloadURL",`image/jpeg:${a}:${n}`),e.dataTransfer.setData("text/plain",n),e.dataTransfer.setData("text/html",`<img src="${n}" alt="${a.replace(/"/g,"&quot;")}" />`),e.dataTransfer.effectAllowed="copy"},wge=async e=>{if(navigator.clipboard&&navigator.clipboard.write)try{const r=await(await fetch(Ul(e,1600))).blob();await navigator.clipboard.write([new ClipboardItem({[r.type]:r})]),alert("Image copied!");return}catch(t){console.warn("Clipboard write failed",t)}alert("Could not copy image automatically. Right click -> Copy Image.")},jge=async e=>{if(confirm(`Download all ${e.urls.length} images?`))for(let t=0;t<e.urls.length;t++){const r=e.urls[t],n=`${e.product_name.replace(/[^a-z0-9]/gi,"_")}_${t+1}.jpg`,a=document.createElement("a");a.href=Ul(r,1600).replace("/upload/","/upload/fl_attachment,"),a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),await new Promise(o=>setTimeout(o,400))}},Nge=({item:e,index:t,onRemove:r,onMove:n})=>{const[a,o]=u.useState(!1),i=e.previewUrl?Ul(e.previewUrl,200):e.preview,l=f=>{f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("sortIndex",t.toString())},c=f=>{f.preventDefault(),f.dataTransfer.dropEffect="move"},d=f=>{f.preventDefault();const h=f.dataTransfer.getData("sortIndex");if(!h)return;const m=parseInt(h,10);m!==t&&n(m,t)};return s.jsxs("div",{draggable:!0,onDragStart:l,onDragOver:c,onDrop:d,className:"relative aspect-square bg-muted/40 rounded-xl overflow-hidden border group cursor-grab active:cursor-grabbing transition-transform hover:scale-[1.02]",children:[s.jsx("img",{src:i,className:se("w-full h-full object-cover",e.status==="done"||e.status==="existing"?"opacity-100":"opacity-70"),onError:()=>o(!0)}),e.status==="uploading"&&s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center backdrop-blur-[1px]",children:s.jsx($t,{className:"h-6 w-6 text-white animate-spin"})}),e.status==="error"&&s.jsx("div",{className:"absolute inset-0 bg-destructive/20 flex items-center justify-center",children:s.jsx("span",{className:"text-destructive font-bold text-xs",children:"Error"})}),s.jsx("div",{className:"absolute top-1 left-1 p-1 bg-black/30 rounded text-white opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(j7,{className:"h-4 w-4"})}),s.jsx("button",{onClick:f=>{f.preventDefault(),r()},className:"absolute top-1 right-1 p-1.5 bg-black/50 text-white rounded-full hover:bg-destructive transition-colors opacity-0 group-hover:opacity-100 z-20",children:s.jsx(Mt,{className:"h-3 w-3"})}),s.jsx("div",{className:"absolute bottom-1 right-1 px-1.5 py-0.5 bg-black/60 text-white text-[10px] rounded font-mono opacity-60",children:t+1})]})},FE=({tags:e,onAdd:t,onRemove:r,placeholder:n="Add tags...",autoFocus:a=!1})=>{const[o,i]=u.useState(""),[l,c]=u.useState([]),[d,f]=u.useState([]),[h,m]=u.useState(!1),[p,g]=u.useState({top:0,left:0,width:0}),x=u.useRef(null),b=u.useRef(null),y=u.useRef(null);u.useEffect(()=>{Jt("/photos/tags/suggest").then(j=>f(j||[])).catch(()=>{})},[]),u.useEffect(()=>{if(!o.trim()){c([]),m(!1);return}const j=o.toLowerCase(),N=d.filter(S=>S.toLowerCase().includes(j)&&!e.includes(S));c(N),m(N.length>0)},[o,d,e]),u.useEffect(()=>{if(h&&x.current){const j=x.current.getBoundingClientRect();g({top:j.bottom+window.scrollY+4,left:j.left+window.scrollX,width:j.width})}},[h,o]),u.useEffect(()=>{const j=N=>{const S=N.target;x.current&&!x.current.contains(S)&&b.current&&!b.current.contains(S)&&m(!1)};return window.addEventListener("mousedown",j),window.addEventListener("scroll",()=>m(!1),!0),()=>{window.removeEventListener("mousedown",j),window.removeEventListener("scroll",()=>m(!1),!0)}},[]);const v=j=>{var S;const N=j.trim().toLowerCase();N&&!e.includes(N)&&t(N),i(""),m(!1),(S=y.current)==null||S.focus()},w=j=>{j.key==="Enter"?(j.preventDefault(),o.trim()&&v(o)):j.key==="Backspace"&&!o&&e.length>0&&r(e[e.length-1])};return s.jsxs("div",{className:"relative",ref:x,children:[s.jsxs("div",{className:"flex flex-wrap gap-2 p-2 bg-background border rounded-md focus-within:ring-1 ring-primary/20 transition-all min-h-[38px]",children:[e.map(j=>s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 text-[10px] font-medium bg-secondary text-secondary-foreground rounded-md border animate-in fade-in zoom-in duration-100",children:[j," ",s.jsx(Mt,{className:"h-2.5 w-2.5 cursor-pointer hover:text-destructive",onClick:()=>r(j)})]},j)),s.jsx("input",{ref:y,type:"text",value:o,onChange:j=>i(j.target.value),onKeyDown:w,onFocus:()=>o&&m(!0),placeholder:e.length===0?n:"",autoFocus:a,className:"flex-1 bg-transparent outline-none text-xs min-w-[60px]"})]}),h&&Zt.createPortal(s.jsx("div",{ref:b,className:"fixed z-[9999] bg-popover border rounded-md shadow-xl overflow-hidden flex flex-col",style:{top:p.top,left:p.left,width:p.width,maxHeight:"200px"},children:s.jsx("div",{className:"max-h-[200px] overflow-y-auto p-1",children:l.map(j=>s.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-muted rounded-sm flex items-center gap-2 transition-colors",onClick:()=>v(j),children:[s.jsx($s,{className:"h-3 w-3 opacity-50"})," ",j]},j))})}),document.body)]})},Sge=({item:e,onClose:t,onEdit:r})=>{const[n,a]=u.useState(0),o=e.urls||[],i=o[n]||"";return u.useEffect(()=>{const l=c=>{c.key==="Escape"&&t(),c.key==="ArrowLeft"&&a(d=>d>0?d-1:d),c.key==="ArrowRight"&&a(d=>d<o.length-1?d+1:d)};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[o.length,t]),s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-200",onClick:t,children:s.jsxs("div",{className:"relative w-full max-w-7xl h-full flex flex-col md:flex-row overflow-hidden rounded-lg shadow-2xl bg-black border border-white/5",onClick:l=>l.stopPropagation(),children:[s.jsxs("div",{className:"flex-1 relative flex items-center justify-center bg-black/40 h-[60vh] md:h-full group",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 bg-black/50 text-white rounded-full md:hidden z-50",children:s.jsx(Mt,{className:"h-6 w-6"})}),n>0&&s.jsx("button",{onClick:()=>a(l=>l-1),className:"absolute left-4 p-3 bg-black/50 text-white rounded-full hover:bg-white/20 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Hw,{className:"h-8 w-8"})}),n<o.length-1&&s.jsx("button",{onClick:()=>a(l=>l+1),className:"absolute right-4 p-3 bg-black/50 text-white rounded-full hover:bg-white/20 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(In,{className:"h-8 w-8"})}),i&&s.jsx("img",{src:Ul(i,1600),alt:e.product_name,draggable:"true",onDragStart:l=>F1(l,i,`${e.product_name}_${n+1}`),className:"max-w-full max-h-[85vh] object-contain shadow-2xl cursor-grab active:cursor-grabbing hover:scale-[1.01] transition-transform"})]}),s.jsxs("div",{className:"w-full md:w-[400px] bg-zinc-900 border-l border-white/10 flex flex-col text-zinc-100 h-[40vh] md:h-full",children:[s.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-start bg-zinc-800/50",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold leading-snug text-white",children:e.product_name}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs("span",{className:se("px-2.5 py-0.5 rounded text-xs font-bold border shadow-sm",T8(e.grade)),children:["Grade ",e.grade]}),e.category_label&&s.jsx("span",{className:"px-2 py-0.5 rounded bg-blue-500/20 text-blue-400 text-xs font-medium border border-blue-500/30",children:e.category_label})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>r(e),className:"p-2 bg-primary/20 hover:bg-primary/40 text-primary border border-primary/30 rounded-full transition-colors",title:"Edit / Add Photos",children:s.jsx($i,{className:"h-4 w-4"})}),s.jsx("button",{onClick:t,className:"hidden md:flex p-2 hover:bg-white/10 rounded-full transition-colors text-white/60 hover:text-white",children:s.jsx(Mt,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-white/5 text-white/60",children:s.jsx(mi,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-white/40 uppercase tracking-wider font-semibold",children:"Uploaded By"}),s.jsx("div",{className:"text-sm font-medium",children:e.uploader_name||"System Admin"})]})]})}),e.tags.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xs text-white/40 uppercase tracking-wider font-bold mb-3 flex items-center gap-2",children:[s.jsx($s,{className:"h-3 w-3"})," Specific Cases"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(l=>s.jsx("span",{className:"px-2.5 py-1 bg-white/10 border border-white/10 rounded-md text-xs font-medium text-white/90",children:l},l))})]}),s.jsx("div",{className:"bg-indigo-500/10 border border-indigo-500/20 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(V,{onClick:()=>wge(i),className:"h-8 text-xs bg-indigo-600 hover:bg-indigo-500 text-white border-0",children:"Copy Image"}),s.jsxs(V,{onClick:()=>jge(e),className:"h-8 text-xs bg-white/10 hover:bg-white/20 text-white border-0",children:[s.jsx(tg,{className:"h-3 w-3 mr-1.5"})," All"]})]})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xs text-white/40 uppercase tracking-wider font-bold mb-3",children:["Gallery (",o.length,")"]}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:o.map((l,c)=>s.jsx("button",{draggable:"true",onDragStart:d=>F1(d,l,`${e.product_name}_${c+1}`),onClick:()=>a(c),className:se("aspect-square rounded-lg overflow-hidden border-2 transition-all relative cursor-grab active:cursor-grabbing",c===n?"border-primary ring-2 ring-primary/20 opacity-100":"border-transparent opacity-50 hover:opacity-100 hover:border-white/20"),children:s.jsx("img",{src:Ul(l,200),className:"w-full h-full object-cover"})},l))})]})]})]})]})})};function kge(){var ce;const[e,t]=u.useState([]),[r,n]=u.useState([]),[a,o]=u.useState({}),[i,l]=u.useState(!1),[c,d]=u.useState(0),[f,h]=u.useState(""),[m,p]=u.useState(null),[g,x]=u.useState(null),[b,y]=u.useState([]),[v,w]=u.useState(null),[j,N]=u.useState(!1),[S,k]=u.useState(!1),[_,C]=u.useState(()=>document.documentElement.classList.contains("dark")),[E,T]=u.useState({editingId:null,queue:[],productName:"",grade:"A",categoryId:"",tags:[],tagInput:"",uploading:!1,isSaving:!1});u.useEffect(()=>{Jt("/categories").then(n).catch(console.error),Jt("/photos/categories/counts").then(o).catch(console.error),Sl("/photos/maintenance/normalize-tags",{}).catch(()=>{})},[e.length]);const A=()=>{const F=!_;C(F),document.documentElement.classList.toggle("dark",F),localStorage.setItem("theme",F?"dark":"light")},W=u.useCallback(async()=>{l(!0);try{const F=await Sl("/photos/search",{q:f,grade:m,category_id:g,tags:b.length>0?b:void 0,limit:50,offset:0}),J=F.items.map(L=>({...L,urls:Array.isArray(L.urls)?L.urls:L.url?[L.url]:[],tags:Array.isArray(L.tags)?L.tags:[]}));t(J),d(F.total)}catch(F){console.error(F)}finally{l(!1)}},[f,m,g,b]);u.useEffect(()=>{const F=setTimeout(W,400);return()=>clearTimeout(F)},[W]);const P=()=>{T({editingId:null,queue:[],productName:"",grade:"A",categoryId:g||"",tags:[],tagInput:"",uploading:!1,isSaving:!1}),N(!0)},te=F=>{w(null),T({editingId:F.id,productName:F.product_name,grade:F.grade,categoryId:F.category_id||"",tags:F.tags,tagInput:"",uploading:!1,isSaving:!1,queue:F.urls.map((J,L)=>{var U;return{id:`existing-${L}`,preview:J,previewUrl:J,status:"existing",cloudinaryId:(U=F.cloudinary_ids)==null?void 0:U[L]}})}),N(!0)},le=async F=>{const J=F.map(L=>({id:Math.random().toString(36).substring(7),file:L,preview:yge(L.name)?"":URL.createObjectURL(L),status:"uploading"}));T(L=>({...L,queue:[...L.queue,...J]}));for(const L of J)if(L.file)try{const U=await Jt("/photos/signature");if(!U)throw new Error("Could not get upload signature");const $=new FormData;$.append("file",L.file),$.append("api_key",U.api_key),$.append("timestamp",U.timestamp.toString()),$.append("signature",U.signature),$.append("folder",U.folder);const M=await fetch(`https://api.cloudinary.com/v1_1/${U.cloud_name}/image/upload`,{method:"POST",body:$});if(!M.ok){const de=await M.text();throw new Error(`Cloudinary Error: ${de}`)}const re=await M.json();T(de=>({...de,queue:de.queue.map(Ee=>Ee.id===L.id?{...Ee,status:"done",previewUrl:re.secure_url,cloudinaryId:re.public_id}:Ee)}))}catch(U){console.error("Upload failed",U),T($=>({...$,queue:$.queue.map(M=>M.id===L.id?{...M,status:"error"}:M)}))}},K=F=>{F.target.files&&le(Array.from(F.target.files))},D=F=>{F.preventDefault(),F.stopPropagation(),F.dataTransfer.types.includes("Files")&&k(!0)},I=F=>{F.preventDefault(),F.stopPropagation(),k(!1)},R=F=>{if(F.preventDefault(),F.stopPropagation(),k(!1),F.dataTransfer.files&&F.dataTransfer.files.length>0){le(Array.from(F.dataTransfer.files));return}},q=(F,J)=>{T(L=>{const U=[...L.queue],[$]=U.splice(F,1);return U.splice(J,0,$),{...L,queue:U}})},z=async()=>{if(!E.productName)return alert("Product Name required.");const F=E.queue.filter(U=>U.status==="done"||U.status==="existing");if(F.length===0)return alert("Wait for images or add at least one.");T(U=>({...U,isSaving:!0}));let J=[...E.tags];E.tagInput.trim()&&J.push(E.tagInput.trim().toLowerCase());const L={product_name:E.productName,grade:E.grade,category_id:E.categoryId||null,tags:J,cloudinary_ids:F.map(U=>U.cloudinaryId),urls:F.map(U=>U.previewUrl)};try{E.editingId?await oH(`/photos/${E.editingId}`,L):await Sl("/photos",L),N(!1),T({editingId:null,queue:[],productName:"",grade:"A",categoryId:"",tags:[],tagInput:"",uploading:!1,isSaving:!1}),W()}catch(U){alert(U.message||"Save failed"),T($=>({...$,isSaving:!1}))}},Z=async F=>{confirm("Delete this entry and all its photos?")&&(await Db(`/photos/${F}`),W())};return s.jsxs("div",{className:"flex flex-col h-screen bg-background text-foreground font-sans transition-colors duration-300",children:[s.jsxs("header",{className:"h-16 border-b bg-background/80 backdrop-blur-md px-6 flex items-center justify-between sticky top-0 z-40",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-9 w-9 bg-primary/10 rounded-lg flex items-center justify-center border border-primary/20 text-primary",children:s.jsx(yb,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"font-bold leading-none text-lg",children:["Synergy",s.jsx("span",{className:"font-light opacity-70",children:"Stock"})]}),s.jsx("span",{className:"text-[10px] uppercase tracking-widest text-muted-foreground font-semibold",children:"Master Photo Library"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:A,className:"rounded-full",children:_?s.jsx(Fi,{className:"h-5 w-5"}):s.jsx(Co,{className:"h-5 w-5"})}),s.jsxs(V,{onClick:P,className:"gap-2",children:[s.jsx(Jx,{className:"h-4 w-4"})," Upload Photos"]})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsxs("aside",{className:"w-64 border-r bg-card/30 flex flex-col overflow-y-auto hidden md:flex",children:[s.jsxs("div",{className:"p-4 pb-0",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground mb-2",children:"Library"}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{value:f,onChange:F=>h(F.target.value),className:"pl-9 h-9 text-xs",placeholder:"Search products..."})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"text-[10px] uppercase font-bold text-muted-foreground mb-1.5 block flex items-center gap-1",children:[s.jsx($s,{className:"h-3 w-3"})," Search Tags"]}),s.jsx("div",{className:"[&_input]:pl-7 [&_input]:h-8 [&_input]:text-xs",children:s.jsx(FE,{tags:b,onAdd:F=>y(J=>[...J,F]),onRemove:F=>y(J=>J.filter(L=>L!==F)),placeholder:"Filter tags..."})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-3 space-y-1 border-t pt-2",children:[s.jsx("div",{className:"px-2 pb-2 text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Categories"}),s.jsxs("button",{onClick:()=>x(null),className:se("w-full flex items-center justify-between px-3 py-2 rounded-md text-sm font-medium transition-colors",g?"text-muted-foreground hover:bg-muted hover:text-foreground":"bg-primary/10 text-primary"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hp,{className:"h-4 w-4"})," All Categories"]}),s.jsx("span",{className:"text-xs opacity-60",children:c})]}),r.map(F=>{const J=a[F.id]||0;return s.jsxs("button",{onClick:()=>x(F.id),className:se("w-full flex items-center justify-between px-3 py-2 rounded-md text-sm transition-colors",g===F.id?"bg-primary/10 text-primary font-semibold":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[J>0?s.jsx(hp,{className:se("h-4 w-4 fill-current opacity-50")}):s.jsx(v7,{className:"h-4 w-4"}),F.label]}),J>0&&s.jsx("span",{className:"bg-muted px-1.5 rounded text-[10px] min-w-[20px] text-center",children:J})]},F.id)})]}),s.jsxs("div",{className:"p-4 border-t bg-muted/10",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground mb-3",children:"Grade"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:["A","B","C","D"].map(F=>s.jsx("button",{onClick:()=>p(F===m?null:F),className:se("flex-1 py-1 text-[10px] font-bold rounded border transition-all text-center",m===F?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted text-muted-foreground"),children:F},F))})]})]}),s.jsxs("main",{className:"flex-1 p-6 overflow-y-auto bg-muted/5",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(hp,{className:"h-4 w-4"}),s.jsx("span",{children:g?(ce=r.find(F=>F.id===g))==null?void 0:ce.label:"All Categories"}),m&&s.jsxs("span",{className:"bg-muted px-2 py-0.5 rounded text-xs text-foreground font-bold",children:["Grade ",m]})]}),s.jsxs("div",{className:"text-xs font-mono opacity-50",children:[c," items"]})]}),i?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx($t,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.length===0?s.jsxs("div",{className:"h-[60vh] flex flex-col items-center justify-center text-muted-foreground border-2 border-dashed rounded-xl m-8 bg-muted/10",children:[s.jsx(yb,{className:"h-16 w-16 opacity-20 mb-4"}),s.jsx("p",{children:"No photos found in this folder."})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(F=>s.jsxs(Me.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:se("group relative bg-background rounded-xl overflow-hidden transition-all cursor-pointer flex flex-col border-2",bge(F.grade),"hover:-translate-y-1"),onClick:()=>w(F),children:[s.jsxs("div",{className:"aspect-[4/3] w-full bg-muted relative overflow-hidden",children:[s.jsx("img",{src:Ul(F.urls[0]),alt:F.product_name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",loading:"lazy",draggable:"true",onDragStart:J=>F1(J,F.urls[0],F.product_name)}),s.jsxs("div",{className:se("absolute top-2 right-2 px-2.5 py-1 rounded text-xs font-bold shadow-md border z-10",T8(F.grade)),children:["Grade ",F.grade]}),F.urls.length>1&&s.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 rounded bg-black/60 backdrop-blur text-white text-[10px] font-medium border border-white/10 flex items-center gap-1",children:[s.jsx(Gw,{className:"h-3 w-3"})," +",F.urls.length-1]}),s.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(e4,{className:"text-white h-10 w-10 drop-shadow-lg opacity-80"})})]}),s.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"font-bold text-sm leading-tight line-clamp-2",children:F.product_name}),s.jsx("button",{onClick:J=>{J.stopPropagation(),Z(F.id)},className:"text-muted-foreground hover:text-destructive p-1 -mt-1 -mr-1 rounded-md hover:bg-muted transition-colors",children:s.jsx(Tr,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-col gap-1 mb-3 pb-3 border-b border-border/50",children:s.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground/80",children:[F.category_label&&s.jsx("span",{className:"font-medium text-primary",children:F.category_label}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ni,{className:"h-3 w-3"})," ",vge(F.created_at)]})]})}),s.jsxs("div",{className:"mt-auto flex flex-wrap gap-1.5",children:[(F.tags||[]).slice(0,3).map(J=>s.jsx("span",{className:"px-1.5 py-0.5 bg-muted rounded text-[10px] text-muted-foreground border max-w-[100px] truncate",children:J},J)),(F.tags||[]).length>3&&s.jsxs("span",{className:"px-1.5 py-0.5 bg-muted rounded text-[10px] text-muted-foreground border",children:["+",F.tags.length-3]})]})]})]},F.id))})]})]}),s.jsx(Pn,{children:v&&s.jsx(Sge,{item:v,onClose:()=>w(null),onEdit:te})}),s.jsx(Pn,{children:j&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onDragEnter:D,onDragOver:D,onDragLeave:I,onDrop:R,children:[S&&s.jsx("div",{className:"absolute inset-0 z-[60] bg-primary/20 backdrop-blur-sm flex items-center justify-center border-4 border-dashed border-primary pointer-events-none",children:s.jsxs("div",{className:"bg-background p-6 rounded-xl shadow-xl flex flex-col items-center animate-bounce",children:[s.jsx(Jx,{className:"h-12 w-12 text-primary mb-2"}),s.jsx("span",{className:"text-lg font-bold",children:"Drop files to add photos"})]})}),s.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"w-full max-w-3xl bg-background border rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[s.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-muted/30",children:[s.jsxs("h2",{className:"font-bold flex items-center gap-2",children:[E.editingId?s.jsx($i,{className:"h-4 w-4"}):s.jsx(Jx,{className:"h-4 w-4"}),E.editingId?"Edit Stock Entry":"Upload Stock Photos"]}),s.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>N(!1),disabled:E.isSaving,children:s.jsx(Mt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s.jsxs("div",{className:"grid gap-4 p-4 bg-muted/20 rounded-lg border",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-muted-foreground block mb-1",children:"Category"}),s.jsxs("select",{className:"w-full h-9 rounded-md border border-input bg-background px-3 text-sm",value:E.categoryId,onChange:F=>T(J=>({...J,categoryId:F.target.value})),children:[s.jsx("option",{value:"",children:"(Auto-Detect)"}),r.map(F=>s.jsx("option",{value:F.id,children:F.label},F.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-muted-foreground block mb-1",children:"Grade"}),s.jsx("select",{className:"w-full h-9 rounded-md border border-input bg-background px-3 text-sm",value:E.grade,onChange:F=>T(J=>({...J,grade:F.target.value})),children:xge.map(F=>s.jsxs("option",{value:F,children:["Grade ",F]},F))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-muted-foreground block mb-1",children:"Product Name"}),s.jsx(we,{placeholder:"e.g. MacBook Pro M1",value:E.productName,onChange:F=>T(J=>({...J,productName:F.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-muted-foreground block mb-1",children:"Tags"}),s.jsx(FE,{tags:E.tags,onAdd:F=>T(J=>({...J,tags:[...J.tags,F]})),onRemove:F=>T(J=>({...J,tags:J.tags.filter(L=>L!==F)})),placeholder:"Specifics..."})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-wide text-muted-foreground",children:"Photos"}),s.jsx("span",{className:"text-[10px] text-muted-foreground italic",children:"Drag to reorder"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("label",{className:"relative aspect-square border-2 border-dashed border-muted-foreground/25 rounded-xl flex flex-col items-center justify-center text-center hover:bg-muted/20 transition-colors cursor-pointer bg-card",children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*,.heic,.heif",className:"hidden",onChange:K}),s.jsx("div",{className:"h-10 w-10 bg-primary/10 text-primary rounded-full flex items-center justify-center mb-2",children:s.jsx(Vr,{className:"h-5 w-5"})}),s.jsx("span",{className:"text-xs font-medium",children:"Add Images"})]}),E.queue.map((F,J)=>s.jsx(Nge,{index:J,item:F,onRemove:()=>T(L=>({...L,queue:L.queue.filter(U=>U.id!==F.id)})),onMove:q},F.id))]})]})]}),s.jsxs("div",{className:"p-4 bg-muted/30 border-t flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[E.queue.length," photos",E.queue.some(F=>F.status==="uploading")&&" (Uploading...)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{variant:"outline",onClick:()=>N(!1),disabled:E.isSaving,children:"Cancel"}),s.jsxs(V,{onClick:z,disabled:E.queue.length===0||!E.productName||E.isSaving||E.queue.some(F=>F.status==="uploading"),children:[E.isSaving?s.jsx($t,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Ei,{className:"h-4 w-4 mr-2"}),E.isSaving?"Saving...":E.editingId?"Update Entry":"Save Entry"]})]})]})]})]})}),s.jsx(El,{loading:E.isSaving,label:"Saving..."})]})}const _u="/backend",Cge=({p:e})=>{const t={URGENT:"bg-red-50 text-red-700 border-red-200 dark:bg-red-950/30 dark:text-red-400 dark:border-red-900",HIGH:"bg-orange-50 text-orange-700 border-orange-200 dark:bg-orange-950/30 dark:text-orange-400 dark:border-orange-900",MEDIUM:"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-950/30 dark:text-blue-400 dark:border-blue-900",LOW:"bg-slate-50 text-slate-600 border-slate-200 dark:bg-slate-900 dark:text-slate-400 dark:border-slate-800"},r={URGENT:s.jsx(ih,{className:"h-3 w-3"}),HIGH:s.jsx(qP,{className:"h-3 w-3"}),MEDIUM:s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-current"}),LOW:s.jsx(GP,{className:"h-3 w-3"})},n=e;return s.jsxs("div",{className:se("flex items-center gap-1.5 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wider rounded-md border",t[n]),children:[r[n],e]})};function _ge({user:e}){const[t,r]=u.useState([]),[n,a]=u.useState(""),[o,i]=u.useState("MEDIUM"),[l,c]=u.useState(!1),d=async()=>{try{const v=await fetch(`${_u}/todos`);v.ok&&r(await v.json())}catch(v){console.error(v)}};u.useEffect(()=>(d(),X0(_u,{onEvent:v=>{v.type==="todo.created"&&r(w=>[v.data,...w]),v.type==="todo.updated"&&r(w=>w.map(j=>j.id===v.data.id?{...j,...v.data}:j)),v.type==="todo.deleted"&&r(w=>w.filter(j=>j.id!==v.data.id))}})),[]);const f=()=>{const v={"Content-Type":"application/json"};return e!=null&&e.id&&(v["X-User-ID"]=String(e.id)),v},h=async v=>{if(v.preventDefault(),!!n.trim()){c(!0);try{await fetch(`${_u}/todos`,{method:"POST",headers:f(),body:JSON.stringify({title:n,priority:o})}),a(""),i("MEDIUM")}finally{c(!1)}}},m=async v=>{const w=v.status==="PENDING"?"COMPLETED":"PENDING";r(j=>j.map(N=>N.id===v.id?{...N,status:w}:N)),await fetch(`${_u}/todos/${v.id}`,{method:"PATCH",headers:f(),body:JSON.stringify({status:w})})},p=async v=>{confirm("Permanently remove this request?")&&(r(w=>w.filter(j=>j.id!==v)),await fetch(`${_u}/todos/${v}`,{method:"DELETE"}))},g=u.useMemo(()=>{const v={URGENT:3,HIGH:2,MEDIUM:1,LOW:0};return[...t].sort((w,j)=>{if(w.status!==j.status)return w.status==="PENDING"?-1:1;if(w.status==="PENDING"){const N=v[j.priority]-v[w.priority];if(N!==0)return N}return new Date(j.created_at).getTime()-new Date(w.created_at).getTime()})},[t]),x=t.filter(v=>v.status==="PENDING").length,b=t.length-x,y=t.length?b/t.length*100:0;return s.jsx("div",{className:"min-h-screen bg-gray-50/50 dark:bg-[#020617] text-slate-900 dark:text-slate-100 font-sans p-6 md:p-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-600 rounded-lg shadow-lg shadow-blue-500/20",children:s.jsx(I7,{className:"h-6 w-6 text-white"})}),"Feature Roadmap"]}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm max-w-md leading-relaxed",children:"Track requests and system improvements."})]}),s.jsxs("div",{className:"w-full md:w-64 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-500 dark:text-slate-400",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[b,"/",t.length," Done"]})]}),s.jsx(RN,{value:y,className:"h-2"})]})]}),s.jsx("form",{onSubmit:h,className:"relative z-10",children:s.jsxs("div",{className:"group relative flex items-center bg-white dark:bg-zinc-900 rounded-xl shadow-lg shadow-slate-200/50 dark:shadow-black/50 border border-slate-200 dark:border-zinc-800 transition-all focus-within:ring-2 focus-within:ring-blue-500/50 focus-within:border-blue-500",children:[s.jsx("div",{className:"pl-2",children:s.jsxs("select",{value:o,onChange:v=>i(v.target.value),className:"h-10 bg-transparent text-xs font-bold uppercase tracking-wide text-slate-500 focus:outline-none cursor-pointer hover:text-blue-600 pl-2 pr-1 rounded-md hover:bg-slate-50 dark:hover:bg-zinc-800 transition-colors",children:[s.jsx("option",{value:"LOW",children:"Low"}),s.jsx("option",{value:"MEDIUM",children:"Medium"}),s.jsx("option",{value:"HIGH",children:"High"}),s.jsx("option",{value:"URGENT",children:"Urgent"})]})}),s.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-zinc-800 mx-2"}),s.jsx(we,{value:n,onChange:v=>a(v.target.value),placeholder:"What should we build next?",className:"border-0 bg-transparent shadow-none focus-visible:ring-0 px-2 h-14 text-base placeholder:text-slate-400",autoFocus:!0}),s.jsx("div",{className:"pr-2",children:s.jsx(V,{type:"submit",size:"sm",disabled:l||!n.trim(),className:se("h-9 w-9 rounded-lg transition-all",n.trim()?"bg-blue-600 hover:bg-blue-700 text-white shadow-md":"bg-slate-100 text-slate-300 dark:bg-zinc-800 dark:text-zinc-600"),children:s.jsx(Vr,{className:"h-5 w-5"})})})]})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Pn,{mode:"popLayout",initial:!1,children:g.map(v=>s.jsxs(Me.div,{layout:!0,initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:se("group relative flex gap-4 p-4 rounded-xl border transition-all duration-200",v.status==="COMPLETED"?"bg-slate-50 border-transparent dark:bg-zinc-900/40 opacity-75":"bg-white border-slate-200 dark:bg-zinc-950 dark:border-zinc-800 hover:border-blue-300 dark:hover:border-blue-800 shadow-sm"),children:[s.jsx("button",{onClick:()=>m(v),className:se("mt-1 shrink-0 transition-colors focus:outline-none",v.status==="COMPLETED"?"text-emerald-500":"text-slate-300 hover:text-blue-500"),children:v.status==="COMPLETED"?s.jsx(fs,{className:"h-6 w-6"}):s.jsx(XP,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("span",{className:se("text-[15px] font-medium leading-normal transition-all",v.status==="COMPLETED"?"text-slate-500 line-through decoration-slate-300 decoration-2":"text-slate-900 dark:text-slate-100"),children:v.title}),s.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[v.status==="PENDING"&&s.jsx(Cge,{p:v.priority}),s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(V,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>p(v.id),children:s.jsx(Tr,{className:"h-4 w-4"})})})]})]}),s.jsxs("div",{className:"mt-1.5 flex items-center gap-3 text-xs text-slate-400 font-medium",children:[s.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-slate-50 dark:bg-zinc-900 border border-slate-100 dark:border-zinc-800",children:[s.jsxs(Rr,{className:"h-3.5 w-3.5",children:[s.jsx(Xu,{src:v.created_by_avatar}),s.jsx(Dr,{className:"text-[6px] bg-slate-200 text-slate-600",children:v.created_by_name?v.created_by_name[0]:"?"})]}),s.jsx("span",{children:v.created_by_name||"Anonymous"})]}),s.jsx("span",{className:"text-slate-300 dark:text-zinc-700",children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Si,{className:"h-3 w-3"}),new Date(v.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})]})]})]},v.id))}),t.length===0&&s.jsxs(Me.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-24 text-center",children:[s.jsx("div",{className:"h-16 w-16 bg-slate-100 dark:bg-zinc-900 rounded-full flex items-center justify-center mb-4",children:s.jsx(Gw,{className:"h-8 w-8 text-slate-300"})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"No requests yet"}),s.jsx("p",{className:"text-slate-500 max-w-xs mx-auto mt-1",children:"The roadmap is clear. Use the input above to add a new feature request."})]})]})]})})}function Ege(){const e=Bi(),t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6,ease:"easeOut"}}};return s.jsxs("div",{className:"relative min-h-screen w-full bg-slate-950 text-slate-200 selection:bg-indigo-500/30 font-['Inter',sans-serif]",children:[s.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-40",children:s.jsx(b8,{colorStops:["#4F46E5","#0EA5E9","#1E293B"],speed:.4})}),s.jsxs("nav",{className:"relative z-20 flex items-center justify-between px-6 py-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 bg-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-500/20",children:s.jsx(yo,{className:"text-white h-6 w-6"})}),s.jsx("span",{className:"text-xl font-bold tracking-tight text-white",children:"Synergy"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-medium text-slate-400",children:[s.jsx("a",{href:"#features",className:"hover:text-white transition-colors",children:"Features"}),s.jsx("a",{href:"#workflow",className:"hover:text-white transition-colors",children:"Workflow"}),s.jsx("button",{onClick:()=>e("/loginnew"),className:"px-5 py-2.5 rounded-full bg-slate-800 border border-slate-700 text-white hover:bg-slate-700 transition-all",children:"Sign In"})]})]}),s.jsx("main",{className:"relative z-10 max-w-7xl mx-auto px-6 pt-20 pb-32",children:s.jsxs(Me.div,{variants:t,initial:"hidden",animate:"visible",className:"text-center",children:[s.jsxs(Me.div,{variants:r,className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-400 text-xs font-semibold mb-6",children:[s.jsx(mh,{className:"h-3 w-3"}),s.jsx("span",{children:"v2.0 Now Live for Enterprise"})]}),s.jsxs(Me.h1,{variants:r,className:"text-5xl md:text-7xl font-extrabold text-white tracking-tight mb-6 leading-[1.1]",children:["Your Inventory, ",s.jsx("br",{}),s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 via-sky-400 to-emerald-400",children:"Synergized."})]}),s.jsx(Me.p,{variants:r,className:"text-lg md:text-xl text-slate-400 max-w-2xl mx-auto mb-10 leading-relaxed",children:"The all-in-one workspace for testers, posters, and managers. Bridge the gap between hardware testing and global marketplace listing."}),s.jsxs(Me.div,{variants:r,className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsxs("button",{onClick:()=>e("/loginnew"),className:"group relative w-full sm:w-auto px-8 py-4 bg-white text-slate-950 font-bold rounded-2xl hover:scale-105 transition-all flex items-center justify-center gap-2 overflow-hidden",children:["Get Started",s.jsx(Ld,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx("button",{className:"w-full sm:w-auto px-8 py-4 bg-slate-900/50 backdrop-blur-md border border-slate-700 text-white font-semibold rounded-2xl hover:bg-slate-800 transition-all",children:"View Demo"})]}),s.jsxs(Me.div,{variants:r,className:"mt-24 grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(xv,{icon:s.jsx(Gl,{className:"text-indigo-400"}),title:"Tester Verified",desc:"Comprehensive grade logging and diagnostic reporting."}),s.jsx(xv,{icon:s.jsx(w7,{className:"text-sky-400"}),title:"Direct Listing",desc:"One-click posting to eBay and internal marketplaces."}),s.jsx(xv,{icon:s.jsx(Nf,{className:"text-emerald-400"}),title:"Manager Suite",desc:"Real-time analytics and team performance tracking."})]})]})}),s.jsx("footer",{className:"relative z-10 border-t border-slate-900 bg-slate-950/50 py-12 text-center text-slate-500 text-sm",children:s.jsx("p",{children:" 2025 Synergy Operations. All rights reserved."})})]})}function xv({icon:e,title:t,desc:r}){return s.jsxs("div",{className:"p-8 rounded-3xl bg-slate-900/40 border border-slate-800/50 backdrop-blur-sm text-left hover:border-slate-700 transition-colors group",children:[s.jsx("div",{className:"h-12 w-12 rounded-2xl bg-slate-800 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:e}),s.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:t}),s.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:r})]})}function Tge(){try{return localStorage.getItem("synergy_auth_token")||sessionStorage.getItem("synergy_auth_token")||null}catch{return null}}function Pge(){try{const e=localStorage.getItem("synergy_user");return e?JSON.parse(e):null}catch{return null}}function Mge(){try{return localStorage.getItem("synergy_role")}catch{return null}}function yv({requireRole:e}){const t=Tge(),r=Pge(),n=(Mge()||(r==null?void 0:r.role)||"").toLowerCase(),a=Fs();if(!t&&!r){const o=e==="tester"?"/login/testers":e==="poster"?"/login/posters":e==="manager"?"/login/manager":"/login/posters";return s.jsx(sy,{to:o,replace:!0,state:{from:a.pathname+a.search}})}if(e){if(e==="manager"){if(n!=="manager"||!t)return s.jsx(sy,{to:"/login/manager",replace:!0,state:{from:a.pathname+a.search}})}else if(n!==e){const o=e==="tester"?"/login/testers":"/login/posters";return s.jsx(sy,{to:o,replace:!0,state:{from:a.pathname+a.search}})}}return s.jsx(fM,{})}const Ige=new YU;function Age(){return s.jsx(fM,{})}function Oge(){var n;const e=Bi(),t=Fs(),r=((n=t==null?void 0:t.state)==null?void 0:n.from)||"/tester";return s.jsx(Nfe,{onAuth:a=>{try{localStorage.setItem("synergy_user",JSON.stringify({...a,role:"tester"})),localStorage.setItem("synergy_role","tester"),a.token&&localStorage.setItem("synergy_auth_token",a.token)}catch{}e(r,{replace:!0})}})}function Rge(){var a;const e=Bi(),t=Fs();new URLSearchParams(t.search).get("action")==="logout"&&(console.log(" [App] Processing Logout Action..."),localStorage.removeItem("synergy_user"),localStorage.removeItem("synergy_token"),localStorage.removeItem("synergy_tester"),localStorage.removeItem("synergy_admin"),localStorage.removeItem("synergy_role"));const n=((a=t==null?void 0:t.state)==null?void 0:a.from)||"/poster";return s.jsx(Sfe,{onAuth:o=>{try{localStorage.setItem("synergy_user",JSON.stringify({...o,role:"poster"})),localStorage.setItem("synergy_role","poster"),o.token&&localStorage.setItem("synergy_auth_token",o.token)}catch{}e(n,{replace:!0})}})}function Dge(){var n;const e=Bi(),t=Fs(),r=((n=t==null?void 0:t.state)==null?void 0:n.from)||"/manager";return s.jsx(Cfe,{onAuth:a=>{try{localStorage.setItem("synergy_user",JSON.stringify({...a,role:"manager"})),localStorage.setItem("synergy_role","manager"),localStorage.setItem("synergy_auth_token",a.token||`manager-session-${a.id}`)}catch{}e(r,{replace:!0})}})}const Lge=()=>s.jsx(QU,{client:Ige,children:s.jsxs(ti,{children:[s.jsx(Mz,{}),s.jsxs(QV,{children:[s.jsx(rH,{}),s.jsx(sH,{}),s.jsx(HV,{children:s.jsxs(yr,{path:"/",element:s.jsx(Age,{}),children:[s.jsx(yr,{index:!0,element:s.jsx(K5,{})}),s.jsx(yr,{path:"login",element:s.jsx(K5,{})}),s.jsx(yr,{path:"login/testers",element:s.jsx(Oge,{})}),s.jsx(yr,{path:"login/posters",element:s.jsx(Rge,{})}),s.jsx(yr,{path:"login/manager",element:s.jsx(Dge,{})}),s.jsx(yr,{element:s.jsx(yv,{requireRole:"poster"}),children:s.jsx(yr,{path:"poster",element:s.jsx(Spe,{})})}),s.jsx(yr,{element:s.jsx(yv,{requireRole:"tester"}),children:s.jsx(yr,{path:"tester",element:s.jsx(wie,{})})}),s.jsx(yr,{element:s.jsx(yv,{requireRole:"manager"}),children:s.jsx(yr,{path:"manager",element:s.jsx(jfe,{})})}),s.jsx(yr,{path:"utilities",element:s.jsx(Tpe,{})}),s.jsx(yr,{path:"utilities/macbook-pricer",element:s.jsx(Fpe,{})}),s.jsx(yr,{path:"utilities/in-store-pricer",element:s.jsx(Kpe,{})}),s.jsx(yr,{path:"labelinventory",element:s.jsx(uge,{})}),s.jsx(yr,{path:"frontcounter",element:s.jsx(gge,{})}),s.jsx(yr,{path:"photogallery",element:s.jsx(kge,{})}),s.jsx(yr,{path:"timecard",element:s.jsx(_pe,{})}),s.jsx(yr,{path:"todopage",element:s.jsx(_ge,{user:void 0})}),s.jsx(yr,{path:"landing",element:s.jsx(Ege,{})}),s.jsx(yr,{path:"*",element:s.jsx(nme,{})})]})})]}),s.jsx(ZF,{}),s.jsx(dH,{})]})});mP(document.getElementById("root")).render(s.jsx(Lge,{}));
